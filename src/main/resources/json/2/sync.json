{"name":"sync","description":"sync, syncfs -\ncommit filesystem caches to disk","body":"\n\n<h1 align=\"center\">SYNC</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">sync, syncfs -\ncommit filesystem caches to disk</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;unistd.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>void\nsync(void);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nsyncfs(int</b> <i>fd</i><b>);</b></p>\n\n<p style=\"margin-left:5%; margin-top: 1em\">Feature Test\nMacro Requirements for glibc (see\n<a href=\"https://man.page/7/feature_test_macros\">feature_test_macros(7)</a>):</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sync</b>():</p>\n\n\n<p style=\"margin-left:17%;\">_XOPEN_SOURCE&nbsp;&gt;=&nbsp;500\n<br>\n|| /* Since glibc 2.19: */ _DEFAULT_SOURCE <br>\n|| /* Glibc versions &lt;= 2.19: */ _BSD_SOURCE</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>syncfs</b>():</p>\n\n<p style=\"margin-left:17%;\">_GNU_SOURCE</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sync</b>()\ncauses all pending modifications to filesystem metadata and\ncached file data to be written to the underlying\nfilesystems.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>syncfs</b>()\nis like <b>sync</b>(), but synchronizes just the filesystem\ncontaining file referred to by the open file descriptor\n<i>fd</i>.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>syncfs</b>()\nreturns 0 on success; on error, it returns -1 and sets\n<i>errno</i> to indicate the error.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sync</b>()\nis always successful.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>syncfs</b>()\ncan fail for at least the following reasons:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EBADF</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>fd</i> is not a valid file descriptor.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EIO</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>An error occurred during synchronization. This error may\nrelate to data written to any file on the filesystem, or on\nmetadata related to the filesystem itself.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ENOSPC</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Disk space was exhausted while synchronizing.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>ENOSPC</b>,\n<b>EDQUOT</b></p>\n\n<p style=\"margin-left:22%;\">Data was written to a files on\nNFS or another filesystem which does not allocate space at\nthe time of a <a href=\"https://man.page/2/write\">write(2)</a> system call, and some previous\nwrite failed due to insufficient storage space.</p>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>syncfs</b>()\nfirst appeared in Linux 2.6.39; library support was added to\nglibc in version 2.14.</p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sync</b>():\nPOSIX.1-2001, POSIX.1-2008, SVr4, 4.3BSD.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>syncfs</b>()\nis Linux-specific.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Since glibc\n2.2.2, the Linux prototype for <b>sync</b>() is as listed\nabove, following the various standards. In glibc 2.2.1 and\nearlier, it was &quot;int sync(void)&quot;, and\n<b>sync</b>() always returned 0.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">According to\nthe standard specification (e.g., POSIX.1-2001),\n<b>sync</b>() schedules the writes, but may return before\nthe actual writing is done. However Linux waits for I/O\ncompletions, and thus <b>sync</b>() or <b>syncfs</b>()\nprovide the same guarantees as <b>fsync</b>() called on\nevery file in the system or filesystem respectively.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In mainline\nkernel versions prior to 5.8, <b>syncfs</b>() will fail only\nwhen passed a bad file descriptor (<b>EBADF</b>). Since\nLinux 5.8, <b>syncfs</b>() will also report an error if one\nor more inodes failed to be written back since the last\n<b>syncfs</b>() call.</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Before version\n1.3.20 Linux did not wait for I/O to complete before\nreturning.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/sync\">sync(1)</a>,\n<a href=\"https://man.page/2/fdatasync\">fdatasync(2)</a>, <a href=\"https://man.page/2/fsync\">fsync(2)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}