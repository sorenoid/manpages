{"name":"reboot","body":"\n\n<h1 align=\"center\">REBOOT</h1>\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">reboot - reboot\nor enable/disable Ctrl-Alt-Del</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/* Since kernel\nversion 2.1.30 there are symbolic names LINUX_REBOOT_* <br>\nfor the constants and a fourth argument to the call: */</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;unistd.h&gt; <br>\n#include &lt;linux/reboot.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nreboot(int</b> <i>magic</i><b>, int</b> <i>magic2</i><b>,\nint</b> <i>cmd</i><b>, void *</b><i>arg</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">/* Under glibc\nand most alternative libc&rsquo;s (including uclibc,\ndietlibc, <br>\nmusl and a few others), some of the constants involved have\ngotten <br>\nsymbolic names RB_*, and the library call is a 1-argument\n<br>\nwrapper around the system call: */</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;unistd.h&gt; <br>\n#include &lt;sys/reboot.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nreboot(int</b> <i>cmd</i><b>);</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>reboot</b>() call reboots the system, or enables/disables\nthe reboot keystroke (abbreviated CAD, since the default is\nCtrl-Alt-Delete; it can be changed using\n<a href=\"https://man.page/1/loadkeys\">loadkeys(1)</a>).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This system\ncall fails (with the error <b>EINVAL</b>) unless\n<i>magic</i> equals <b>LINUX_REBOOT_MAGIC1</b> (that is,\n0xfee1dead) and <i>magic2</i> equals\n<b>LINUX_REBOOT_MAGIC2</b> (that is, 672274793). However,\nsince 2.1.17 also <b>LINUX_REBOOT_MAGIC2A</b> (that is,\n85072278) and since 2.1.97 also <b>LINUX_REBOOT_MAGIC2B</b>\n(that is, 369367448) and since 2.5.71 also\n<b>LINUX_REBOOT_MAGIC2C</b> (that is, 537993216) are\npermitted as values for <i>magic2</i>. (The hexadecimal\nvalues of these constants are meaningful.)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The <i>cmd</i>\nargument can have the following values: <b><br>\nLINUX_REBOOT_CMD_CAD_OFF</b></p>\n\n<p style=\"margin-left:22%;\">(<b>RB_DISABLE_CAD</b>, 0). CAD\nis disabled. This means that the CAD keystroke will cause a\n<b>SIGINT</b> signal to be sent to init (process 1),\nwhereupon this process may decide upon a proper action\n(maybe: kill all processes, sync, reboot).</p>\n\n\n<p style=\"margin-left:11%;\"><b>LINUX_REBOOT_CMD_CAD_ON</b></p>\n\n<p style=\"margin-left:22%;\">(<b>RB_ENABLE_CAD</b>,\n0x89abcdef). CAD is enabled. This means that the CAD\nkeystroke will immediately cause the action associated with\n<b>LINUX_REBOOT_CMD_RESTART</b>.</p>\n\n\n<p style=\"margin-left:11%;\"><b>LINUX_REBOOT_CMD_HALT</b></p>\n\n<p style=\"margin-left:22%;\">(<b>RB_HALT_SYSTEM</b>,\n0xcdef0123; since Linux 1.1.76). The message &quot;System\nhalted.&quot; is printed, and the system is halted. Control\nis given to the ROM monitor, if there is one. If not\npreceded by a <a href=\"https://man.page/2/sync\">sync(2)</a>, data will be lost.</p>\n\n\n<p style=\"margin-left:11%;\"><b>LINUX_REBOOT_CMD_KEXEC</b></p>\n\n<p style=\"margin-left:22%;\">(<b>RB_KEXEC</b>, 0x45584543,\nsince Linux 2.6.13). Execute a kernel that has been loaded\nearlier with <a href=\"https://man.page/2/kexec_load\">kexec_load(2)</a>. This option is available\nonly if the kernel was configured with\n<b>CONFIG_KEXEC</b>.</p>\n\n\n<p style=\"margin-left:11%;\"><b>LINUX_REBOOT_CMD_POWER_OFF</b></p>\n\n<p style=\"margin-left:22%;\">(<b>RB_POWER_OFF</b>,\n0x4321fedc; since Linux 2.1.30). The message &quot;Power\ndown.&quot; is printed, the system is stopped, and all power\nis removed from the system, if possible. If not preceded by\na <a href=\"https://man.page/2/sync\">sync(2)</a>, data will be lost.</p>\n\n\n<p style=\"margin-left:11%;\"><b>LINUX_REBOOT_CMD_RESTART</b></p>\n\n<p style=\"margin-left:22%;\">(<b>RB_AUTOBOOT</b>,\n0x1234567). The message &quot;Restarting system.&quot; is\nprinted, and a default restart is performed immediately. If\nnot preceded by a <a href=\"https://man.page/2/sync\">sync(2)</a>, data will be lost.</p>\n\n\n<p style=\"margin-left:11%;\"><b>LINUX_REBOOT_CMD_RESTART2</b></p>\n\n<p style=\"margin-left:22%;\">(0xa1b2c3d4; since Linux\n2.1.30). The message &quot;Restarting system with command\n'%s'&quot; is printed, and a restart (using the command\nstring given in <i>arg</i>) is performed immediately. If not\npreceded by a <a href=\"https://man.page/2/sync\">sync(2)</a>, data will be lost.</p>\n\n\n<p style=\"margin-left:11%;\"><b>LINUX_REBOOT_CMD_SW_SUSPEND</b></p>\n\n<p style=\"margin-left:22%;\">(<b>RB_SW_SUSPEND</b>,\n0xd000fce1; since Linux 2.5.18). The system is suspended\n(hibernated) to disk. This option is available only if the\nkernel was configured with <b>CONFIG_HIBERNATION</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Only the\nsuperuser may call <b>reboot</b>().</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The precise\neffect of the above actions depends on the architecture. For\nthe i386 architecture, the additional argument does not do\nanything at present (2.1.122), but the type of reboot can be\ndetermined by kernel command-line arguments\n(&quot;reboot=...&quot;) to be either warm or cold, and\neither hard or through the BIOS.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Behavior\ninside PID namespaces</b> <br>\nSince Linux 3.4, if <b>reboot</b>() is called from a PID\nnamespace other than the initial PID namespace with one of\nthe <i>cmd</i> values listed below, it performs a\n&quot;reboot&quot; of that namespace: the &quot;init&quot;\nprocess of the PID namespace is immediately terminated, with\nthe effects described in <a href=\"https://man.page/7/pid_namespaces\">pid_namespaces(7)</a>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The values that\ncan be supplied in <i>cmd</i> when calling <b>reboot</b>()\nin this case are as follows: <b><br>\nLINUX_REBOOT_CMD_RESTART</b>,\n<b>LINUX_REBOOT_CMD_RESTART2</b></p>\n\n<p style=\"margin-left:22%;\">The &quot;init&quot; process is\nterminated, and <a href=\"https://man.page/2/wait\">wait(2)</a> in the parent process reports\nthat the child was killed with a <b>SIGHUP</b> signal.</p>\n\n\n<p style=\"margin-left:11%;\"><b>LINUX_REBOOT_CMD_POWER_OFF</b>,\n<b>LINUX_REBOOT_CMD_HALT</b></p>\n\n<p style=\"margin-left:22%;\">The &quot;init&quot; process is\nterminated, and <a href=\"https://man.page/2/wait\">wait(2)</a> in the parent process reports\nthat the child was killed with a <b>SIGINT</b> signal.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For the other\n<i>cmd</i> values, <b>reboot</b>() returns -1 and\n<i>errno</i> is set to <b>EINVAL</b>.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For the values\nof <i>cmd</i> that stop or restart the system, a successful\ncall to <b>reboot</b>() does not return. For the other\n<i>cmd</i> values, zero is returned on success. In all\ncases, -1 is returned on failure, and <i>errno</i> is set\nappropriately.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EFAULT</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">Problem with getting user-space\ndata under <b>LINUX_REBOOT_CMD_RESTART2</b>.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Bad magic numbers or <i>cmd</i>.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EPERM</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>The calling process has insufficient privilege to call\n<b>reboot</b>(); the caller must have the\n<b>CAP_SYS_BOOT</b> inside its user namespace.</p></td></tr>\n</table>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>reboot</b>()\nis Linux-specific, and should not be used in programs\nintended to be portable.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/systemctl\">systemctl(1)</a>,\n<a href=\"https://man.page/1/systemd\">systemd(1)</a>, <a href=\"https://man.page/2/kexec_load\">kexec_load(2)</a>, <a href=\"https://man.page/2/sync\">sync(2)</a>,\n<a href=\"https://man.page/7/bootparam\">bootparam(7)</a>, <a href=\"https://man.page/7/capabilities\">capabilities(7)</a>,\n<b>ctrlaltdel</b>(8), <b>halt</b>(8), <b>shutdown</b>(8)</p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}