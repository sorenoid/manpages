{"name":"rt_sigqueueinfo","description":"rt_sigqueueinfo, rt_tgsigqueueinfo - queue a signal and data","body":"\n\n<h1 align=\"center\">RT_SIGQUEUEINFO</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">rt_sigqueueinfo,\nrt_tgsigqueueinfo - queue a signal and data</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nrt_sigqueueinfo(pid_t</b> <i>tgid</i><b>, int</b>\n<i>sig</i><b>, siginfo_t *</b><i>info</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nrt_tgsigqueueinfo(pid_t</b> <i>tgid</i><b>, pid_t</b>\n<i>tid</i><b>, int</b> <i>sig</i><b>, <br>\nsiginfo_t *</b><i>info</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>Note</i>:\nThere are no glibc wrappers for these system calls; see\nNOTES.</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>rt_sigqueueinfo</b>() and <b>rt_tgsigqueueinfo</b>()\nsystem calls are the low-level interfaces used to send a\nsignal plus data to a process or thread. The receiver of the\nsignal can obtain the accompanying data by establishing a\nsignal handler with the <a href=\"https://man.page/2/sigaction\">sigaction(2)</a>\n<b>SA_SIGINFO</b> flag.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">These system\ncalls are not intended for direct application use; they are\nprovided to allow the implementation of <a href=\"https://man.page/3/sigqueue\">sigqueue(3)</a>\nand <a href=\"https://man.page/3/pthread_sigqueue\">pthread_sigqueue(3)</a>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>rt_sigqueueinfo</b>() system call sends the signal\n<i>sig</i> to the thread group with the ID <i>tgid</i>. (The\nterm &quot;thread group&quot; is synonymous with\n&quot;process&quot;, and <i>tid</i> corresponds to the\ntraditional UNIX process ID.) The signal will be delivered\nto an arbitrary member of the thread group (i.e., one of the\nthreads that is not currently blocking the signal).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The <i>info</i>\nargument specifies the data to accompany the signal. This\nargument is a pointer to a structure of type\n<i>siginfo_t</i>, described in <a href=\"https://man.page/2/sigaction\">sigaction(2)</a> (and\ndefined by including <i>&lt;sigaction.h&gt;</i>). The caller\nshould set the following fields in this structure: <i><br>\nsi_code</i></p>\n\n<p style=\"margin-left:22%;\">This should be one of the\n<b>SI_*</b> codes in the Linux kernel source file\n<i>include/asm-generic/siginfo.h</i>. If the signal is being\nsent to any process other than the caller itself, the\nfollowing restrictions apply:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"12%\">\n\n\n<p>*</p></td>\n<td width=\"3%\"></td>\n<td width=\"74%\">\n\n\n<p>The code can&rsquo;t be a value greater than or equal to\nzero. In particular, it can&rsquo;t be <b>SI_USER</b>, which\nis used by the kernel to indicate a signal sent by\n<a href=\"https://man.page/2/kill\">kill(2)</a>, and nor can it be <b>SI_KERNEL</b>, which is\nused to indicate a signal generated by the kernel.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"12%\">\n\n\n<p>*</p></td>\n<td width=\"3%\"></td>\n<td width=\"74%\">\n\n\n<p>The code can&rsquo;t (since Linux 2.6.39) be\n<b>SI_TKILL</b>, which is used by the kernel to indicate a\nsignal sent using <a href=\"https://man.page/2/tgkill\">tgkill(2)</a>.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"12%\">\n\n\n<p><i>si_pid</i></p></td>\n<td width=\"3%\"></td>\n<td width=\"74%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This should be\nset to a process ID, typically the process ID of the\nsender.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><i>si_uid</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">This should be set to a user ID,\ntypically the real user ID of the sender.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><i>si_value</i></p>\n\n<p style=\"margin-left:22%;\">This field contains the user\ndata to accompany the signal. For more information, see the\ndescription of the last (<i>union sigval</i>) argument of\n<a href=\"https://man.page/3/sigqueue\">sigqueue(3)</a>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Internally, the\nkernel sets the <i>si_signo</i> field to the value specified\nin <i>sig</i>, so that the receiver of the signal can also\nobtain the signal number via that field.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>rt_tgsigqueueinfo</b>() system call is like\n<b>rt_sigqueueinfo</b>(), but sends the signal and data to\nthe single thread specified by the combination of\n<i>tgid</i>, a thread group ID, and <i>tid</i>, a thread in\nthat thread group.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success,\nthese system calls return 0. On error, they return -1 and\n<i>errno</i> is set to indicate the error.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EAGAIN</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">The limit of signals which may\nbe queued has been reached. (See <a href=\"https://man.page/7/signal\">signal(7)</a> for\nfurther information.)</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>sig</i>, <i>tgid</i>, or <i>tid</i> was invalid.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EPERM</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>The caller does not have permission to send the signal\nto the target. For the required permissions, see\n<a href=\"https://man.page/2/kill\">kill(2)</a>.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EPERM</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>tgid</i> specifies a process other than the caller\nand <i>info-&gt;si_code</i> is invalid.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ESRCH</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><b>rt_sigqueueinfo</b>(): No thread group matching\n<i>tgid</i> was found.</p></td></tr>\n</table>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>rt_tgsigqueinfo</b>():\nNo thread matching <i>tgid</i> and <i>tid</i> was found.</p>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>rt_sigqueueinfo</b>() system call was added to Linux in\nversion 2.2. The <b>rt_tgsigqueueinfo</b>() system call was\nadded to Linux in version 2.6.31.</p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">These system\ncalls are Linux-specific.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Since these\nsystem calls are not intended for application use, there are\nno glibc wrapper functions; use <a href=\"https://man.page/2/syscall\">syscall(2)</a> in the\nunlikely case that you want to call them directly.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">As with\n<a href=\"https://man.page/2/kill\">kill(2)</a>, the null signal (0) can be used to check if\nthe specified process or thread exists.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/2/kill\">kill(2)</a>,\n<a href=\"https://man.page/2/pidfd_send_signal\">pidfd_send_signal(2)</a>, <a href=\"https://man.page/2/sigaction\">sigaction(2)</a>,\n<a href=\"https://man.page/2/sigprocmask\">sigprocmask(2)</a>, <a href=\"https://man.page/2/tgkill\">tgkill(2)</a>,\n<a href=\"https://man.page/3/pthread_sigqueue\">pthread_sigqueue(3)</a>, <a href=\"https://man.page/3/sigqueue\">sigqueue(3)</a>,\n<a href=\"https://man.page/7/signal\">signal(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}