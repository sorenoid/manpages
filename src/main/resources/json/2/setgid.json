{"name":"setgid","description":"setgid - set\ngroup identity","body":"\n\n<h1 align=\"center\">SETGID</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">setgid - set\ngroup identity</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;sys/types.h&gt; <br>\n#include &lt;unistd.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nsetgid(gid_t</b> <i>gid</i><b>);</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>setgid</b>()\nsets the effective group ID of the calling process. If the\ncalling process is privileged (more precisely: has the\n<b>CAP_SETGID</b> capability in its user namespace), the\nreal GID and saved set-group-ID are also set.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Under Linux,\n<b>setgid</b>() is implemented like the POSIX version with\nthe <b>_POSIX_SAVED_IDS</b> feature. This allows a\nset-group-ID program that is not set-user-ID-root to drop\nall of its group privileges, do some un-privileged work, and\nthen reengage the original effective group ID in a secure\nmanner.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success,\nzero is returned. On error, -1 is returned, and <i>errno</i>\nis set appropriately.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">The group ID specified in\n<i>gid</i> is not valid in this user namespace.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EPERM</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>The calling process is not privileged (does not have the\n<b>CAP_SETGID</b> capability in its user namespace), and\n<i>gid</i> does not match the real group ID or saved\nset-group-ID of the calling process.</p></td></tr>\n</table>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2001,\nPOSIX.1-2008, SVr4.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The original\nLinux <b>setgid</b>() system call supported only 16-bit\ngroup IDs. Subsequently, Linux 2.4 added <b>setgid32</b>()\nsupporting 32-bit IDs. The glibc <b>setgid</b>() wrapper\nfunction transparently deals with the variation across\nkernel versions.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>C\nlibrary/kernel differences</b> <br>\nAt the kernel level, user IDs and group IDs are a per-thread\nattribute. However, POSIX requires that all threads in a\nprocess share the same credentials. The NPTL threading\nimplementation handles the POSIX requirements by providing\nwrapper functions for the various system calls that change\nprocess UIDs and GIDs. These wrapper functions (including\nthe one for <b>setgid</b>()) employ a signal-based technique\nto ensure that when one thread changes credentials, all of\nthe other threads in the process also change their\ncredentials. For details, see <a href=\"https://man.page/7/nptl\">nptl(7)</a>.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/2/getgid\">getgid(2)</a>,\n<a href=\"https://man.page/2/setegid\">setegid(2)</a>, <a href=\"https://man.page/2/setregid\">setregid(2)</a>,\n<a href=\"https://man.page/7/capabilities\">capabilities(7)</a>, <a href=\"https://man.page/7/credentials\">credentials(7)</a>,\n<a href=\"https://man.page/7/user_namespaces\">user_namespaces(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}