{"name":"timer_settime","description":"timer_settime,\ntimer_gettime - arm/disarm and fetch state of POSIX\nper-process timer","body":"\n\n<h1 align=\"center\">TIMER_SETTIME</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">timer_settime,\ntimer_gettime - arm/disarm and fetch state of POSIX\nper-process timer</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;time.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\ntimer_settime(timer_t</b> <i>timerid</i><b>, int</b>\n<i>flags</i><b>, <br>\nconst struct itimerspec *</b><i>new_value</i><b>, <br>\nstruct itimerspec *</b><i>old_value</i><b>); <br>\nint timer_gettime(timer_t</b> <i>timerid</i><b>, struct\nitimerspec *</b><i>curr_value</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Link with\n<i>-lrt</i>.</p>\n\n<p style=\"margin-left:5%; margin-top: 1em\">Feature Test\nMacro Requirements for glibc (see\n<a href=\"https://man.page/7/feature_test_macros\">feature_test_macros(7)</a>):</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>timer_settime</b>(),\n<b>timer_gettime</b>():\n_POSIX_C_SOURCE&nbsp;&gt;=&nbsp;199309L</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>timer_settime</b>()\narms or disarms the timer identified by <i>timerid</i>. The\n<i>new_value</i> argument is pointer to an <i>itimerspec</i>\nstructure that specifies the new initial value and the new\ninterval for the timer. The <i>itimerspec</i> structure is\ndefined as follows:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">struct timespec\n{ <br>\ntime_t tv_sec; /* Seconds */ <br>\nlong tv_nsec; /* Nanoseconds */ <br>\n};</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">struct\nitimerspec { <br>\nstruct timespec it_interval; /* Timer interval */ <br>\nstruct timespec it_value; /* Initial expiration */ <br>\n};</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Each of the\nsubstructures of the <i>itimerspec</i> structure is a\n<i>timespec</i> structure that allows a time value to be\nspecified in seconds and nanoseconds. These time values are\nmeasured according to the clock that was specified when the\ntimer was created by <a href=\"https://man.page/2/timer_create\">timer_create(2)</a>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If\n<i>new_value-&gt;it_value</i> specifies a nonzero value\n(i.e., either subfield is nonzero), then\n<b>timer_settime</b>() arms (starts) the timer, setting it\nto initially expire at the given time. (If the timer was\nalready armed, then the previous settings are overwritten.)\nIf <i>new_value-&gt;it_value</i> specifies a zero value\n(i.e., both subfields are zero), then the timer is\ndisarmed.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>new_value-&gt;it_interval</i> field specifies the period\nof the timer, in seconds and nanoseconds. If this field is\nnonzero, then each time that an armed timer expires, the\ntimer is reloaded from the value specified in\n<i>new_value-&gt;it_interval</i>. If\n<i>new_value-&gt;it_interval</i> specifies a zero value,\nthen the timer expires just once, at the time specified by\n<i>it_value</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">By default, the\ninitial expiration time specified in\n<i>new_value-&gt;it_value</i> is interpreted relative to the\ncurrent time on the timer&rsquo;s clock at the time of the\ncall. This can be modified by specifying\n<b>TIMER_ABSTIME</b> in <i>flags</i>, in which case\n<i>new_value-&gt;it_value</i> is interpreted as an absolute\nvalue as measured on the timer&rsquo;s clock; that is, the\ntimer will expire when the clock value reaches the value\nspecified by <i>new_value-&gt;it_value</i>. If the specified\nabsolute time has already passed, then the timer expires\nimmediately, and the overrun count (see\n<a href=\"https://man.page/2/timer_getoverrun\">timer_getoverrun(2)</a>) will be set correctly.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the value of\nthe <b>CLOCK_REALTIME</b> clock is adjusted while an\nabsolute timer based on that clock is armed, then the\nexpiration of the timer will be appropriately adjusted.\nAdjustments to the <b>CLOCK_REALTIME</b> clock have no\neffect on relative timers based on that clock.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If\n<i>old_value</i> is not NULL, then it points to a buffer\nthat is used to return the previous interval of the timer\n(in <i>old_value-&gt;it_interval</i>) and the amount of time\nuntil the timer would previously have next expired (in\n<i>old_value-&gt;it_value</i>).</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>timer_gettime</b>()\nreturns the time until next expiration, and the interval,\nfor the timer specified by <i>timerid</i>, in the buffer\npointed to by <i>curr_value</i>. The time remaining until\nthe next timer expiration is returned in\n<i>curr_value-&gt;it_value</i>; this is always a relative\nvalue, regardless of whether the <b>TIMER_ABSTIME</b> flag\nwas used when arming the timer. If the value returned in\n<i>curr_value-&gt;it_value</i> is zero, then the timer is\ncurrently disarmed. The timer interval is returned in\n<i>curr_value-&gt;it_interval</i>. If the value returned in\n<i>curr_value-&gt;it_interval</i> is zero, then this is a\n&quot;one-shot&quot; timer.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success,\n<b>timer_settime</b>() and <b>timer_gettime</b>() return 0.\nOn error, -1 is returned, and <i>errno</i> is set to\nindicate the error.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">These functions\nmay fail with the following errors:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EFAULT</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>new_value</i>, <i>old_value</i>, or <i>curr_value</i>\nis not a valid pointer.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>timerid</i> is invalid.</p></td></tr>\n</table>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>timer_settime</b>()\nmay fail with the following errors:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\"><i>new_value.it_value</i> is\nnegative; or <i>new_value.it_value.tv_nsec</i> is negative\nor greater than 999,999,999.</p></td></tr>\n</table>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">These system\ncalls are available since Linux 2.6.</p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2001,\nPOSIX.1-2008.</p>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">See\n<a href=\"https://man.page/2/timer_create\">timer_create(2)</a>.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/2/timer_create\">timer_create(2)</a>,\n<a href=\"https://man.page/2/timer_getoverrun\">timer_getoverrun(2)</a>, <a href=\"https://man.page/7/time\">time(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}