{"name":"setfsgid","description":"setfsgid - set\ngroup identity used for filesystem checks","body":"\n\n<h1 align=\"center\">SETFSGID</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">setfsgid - set\ngroup identity used for filesystem checks</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;sys/fsuid.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nsetfsgid(uid_t</b> <i>fsgid</i><b>);</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On Linux, a\nprocess has both a filesystem group ID and an effective\ngroup ID. The (Linux-specific) filesystem group ID is used\nfor permissions checking when accessing filesystem objects,\nwhile the effective group ID is used for some other kinds of\npermissions checks (see <a href=\"https://man.page/7/credentials\">credentials(7)</a>).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Normally, the\nvalue of the process&rsquo;s filesystem group ID is the same\nas the value of its effective group ID. This is so, because\nwhenever a process&rsquo;s effective group ID is changed,\nthe kernel also changes the filesystem group ID to be the\nsame as the new value of the effective group ID. A process\ncan cause the value of its filesystem group ID to diverge\nfrom its effective group ID by using <b>setfsgid</b>() to\nchange its filesystem group ID to the value given in\n<i>fsgid</i>.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>setfsgid</b>()\nwill succeed only if the caller is the superuser or if\n<i>fsgid</i> matches either the caller&rsquo;s real group\nID, effective group ID, saved set-group-ID, or current the\nfilesystem user ID.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On both success\nand failure, this call returns the previous filesystem group\nID of the caller.</p>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This system\ncall is present in Linux since version 1.2.</p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>setfsgid</b>()\nis Linux-specific and should not be used in programs\nintended to be portable.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The filesystem\ngroup ID concept and the <b>setfsgid</b>() system call were\ninvented for historical reasons that are no longer\napplicable on modern Linux kernels. See <a href=\"https://man.page/2/setfsuid\">setfsuid(2)</a>\nfor a discussion of why the use of both <a href=\"https://man.page/2/setfsuid\">setfsuid(2)</a>\nand <b>setfsgid</b>() is nowadays unneeded.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The original\nLinux <b>setfsgid</b>() system call supported only 16-bit\ngroup IDs. Subsequently, Linux 2.4 added <b>setfsgid32</b>()\nsupporting 32-bit IDs. The glibc <b>setfsgid</b>() wrapper\nfunction transparently deals with the variation across\nkernel versions.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>C\nlibrary/kernel differences</b> <br>\nIn glibc 2.15 and earlier, when the wrapper for this system\ncall determines that the argument can&rsquo;t be passed to\nthe kernel without integer truncation (because the kernel is\nold and does not support 32-bit group IDs), it will return\n-1 and set <i>errno</i> to <b>EINVAL</b> without attempting\nthe system call.</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">No error\nindications of any kind are returned to the caller, and the\nfact that both successful and unsuccessful calls return the\nsame value makes it impossible to directly determine whether\nthe call succeeded or failed. Instead, the caller must\nresort to looking at the return value from a further call\nsuch as <i>setfsgid(-1)</i> (which will always fail), in\norder to determine if a preceding call to <b>setfsgid</b>()\nchanged the filesystem group ID. At the very least,\n<b>EPERM</b> should be returned when the call fails (because\nthe caller lacks the <b>CAP_SETGID</b> capability).</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/2/kill\">kill(2)</a>,\n<a href=\"https://man.page/2/setfsuid\">setfsuid(2)</a>, <a href=\"https://man.page/7/capabilities\">capabilities(7)</a>,\n<a href=\"https://man.page/7/credentials\">credentials(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}