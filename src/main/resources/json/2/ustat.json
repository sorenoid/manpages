{"name":"ustat","description":"ustat - get\nfilesystem statistics","body":"\n\n<h1 align=\"center\">USTAT</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">ustat - get\nfilesystem statistics</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;sys/types.h&gt; <br>\n#include &lt;unistd.h&gt;</b> /* libc[45] */ <b><br>\n#include &lt;ustat.h&gt;</b> /* glibc2 */</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nustat(dev_t</b> <i>dev</i><b>, struct ustat\n*</b><i>ubuf</i><b>);</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>ustat</b>()\nreturns information about a mounted filesystem. <i>dev</i>\nis a device number identifying a device containing a mounted\nfilesystem. <i>ubuf</i> is a pointer to a <i>ustat</i>\nstructure that contains the following members:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">daddr_t\nf_tfree; /* Total free blocks */ <br>\nino_t f_tinode; /* Number of free inodes */ <br>\nchar f_fname[6]; /* Filsys name */ <br>\nchar f_fpack[6]; /* Filsys pack name */</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The last two\nfields, <i>f_fname</i> and <i>f_fpack</i>, are not\nimplemented and will always be filled with null bytes\n('\\0').</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success,\nzero is returned and the <i>ustat</i> structure pointed to\nby <i>ubuf</i> will be filled in. On error, -1 is returned,\nand <i>errno</i> is set appropriately.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EFAULT</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\"><i>ubuf</i> points outside of\nyour accessible address space.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>dev</i> does not refer to a device containing a\nmounted filesystem.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ENOSYS</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>The mounted filesystem referenced by <i>dev</i> does not\nsupport this operation, or any version of Linux before\n1.3.16.</p> </td></tr>\n</table>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Since version\n2.28, glibc no longer provides a wrapper for this system\ncall.</p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">SVr4.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>ustat</b>()\nis deprecated and has been provided only for compatibility.\nAll new programs should use <a href=\"https://man.page/2/statfs\">statfs(2)</a> instead.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>HP-UX\nnotes</b> <br>\nThe HP-UX version of the <i>ustat</i> structure has an\nadditional field, <i>f_blksize</i>, that is unknown\nelsewhere. HP-UX warns: For some filesystems, the number of\nfree inodes does not change. Such filesystems will return -1\nin the field <i>f_tinode</i>. For some filesystems, inodes\nare dynamically allocated. Such filesystems will return the\ncurrent number of free inodes.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/2/stat\">stat(2)</a>,\n<a href=\"https://man.page/2/statfs\">statfs(2)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}