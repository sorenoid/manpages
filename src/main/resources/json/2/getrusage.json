{"name":"getrusage","body":"\n\n<h1 align=\"center\">GETRUSAGE</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">getrusage - get\nresource usage</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;sys/time.h&gt; <br>\n#include &lt;sys/resource.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\ngetrusage(int</b> <i>who</i><b>, struct rusage\n*</b><i>usage</i><b>);</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>getrusage</b>()\nreturns resource usage measures for <i>who</i>, which can be\none of the following: <b><br>\nRUSAGE_SELF</b></p>\n\n<p style=\"margin-left:22%;\">Return resource usage\nstatistics for the calling process, which is the sum of\nresources used by all threads in the process.</p>\n\n<p style=\"margin-left:11%;\"><b>RUSAGE_CHILDREN</b></p>\n\n<p style=\"margin-left:22%;\">Return resource usage\nstatistics for all children of the calling process that have\nterminated and been waited for. These statistics will\ninclude the resources used by grandchildren, and further\nremoved descendants, if all of the intervening descendants\nwaited on their terminated children.</p>\n\n<p style=\"margin-left:11%;\"><b>RUSAGE_THREAD</b> (since\nLinux 2.6.26)</p>\n\n<p style=\"margin-left:22%;\">Return resource usage\nstatistics for the calling thread. The <b>_GNU_SOURCE</b>\nfeature test macro must be defined (before including\n<i>any</i> header file) in order to obtain the definition of\nthis constant from <i>&lt;sys/resource.h&gt;</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The resource\nusages are returned in the structure pointed to by\n<i>usage</i>, which has the following form:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">struct rusage {\n<br>\nstruct timeval ru_utime; /* user CPU time used */ <br>\nstruct timeval ru_stime; /* system CPU time used */ <br>\nlong ru_maxrss; /* maximum resident set size */ <br>\nlong ru_ixrss; /* integral shared memory size */ <br>\nlong ru_idrss; /* integral unshared data size */ <br>\nlong ru_isrss; /* integral unshared stack size */ <br>\nlong ru_minflt; /* page reclaims (soft page faults) */ <br>\nlong ru_majflt; /* page faults (hard page faults) */ <br>\nlong ru_nswap; /* swaps */ <br>\nlong ru_inblock; /* block input operations */ <br>\nlong ru_oublock; /* block output operations */ <br>\nlong ru_msgsnd; /* IPC messages sent */ <br>\nlong ru_msgrcv; /* IPC messages received */ <br>\nlong ru_nsignals; /* signals received */ <br>\nlong ru_nvcsw; /* voluntary context switches */ <br>\nlong ru_nivcsw; /* involuntary context switches */ <br>\n};</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Not all fields\nare completed; unmaintained fields are set to zero by the\nkernel. (The unmaintained fields are provided for\ncompatibility with other systems, and because they may one\nday be supported on Linux.) The fields are interpreted as\nfollows: <i><br>\nru_utime</i></p>\n\n<p style=\"margin-left:22%;\">This is the total amount of\ntime spent executing in user mode, expressed in a\n<i>timeval</i> structure (seconds plus microseconds).</p>\n\n<p style=\"margin-left:11%;\"><i>ru_stime</i></p>\n\n<p style=\"margin-left:22%;\">This is the total amount of\ntime spent executing in kernel mode, expressed in a\n<i>timeval</i> structure (seconds plus microseconds).</p>\n\n<p style=\"margin-left:11%;\"><i>ru_maxrss</i> (since Linux\n2.6.32)</p>\n\n<p style=\"margin-left:22%;\">This is the maximum resident\nset size used (in kilobytes). For <b>RUSAGE_CHILDREN</b>,\nthis is the resident set size of the largest child, not the\nmaximum resident set size of the process tree.</p>\n\n<p style=\"margin-left:11%;\"><i>ru_ixrss</i>\n(unmaintained)</p>\n\n<p style=\"margin-left:22%;\">This field is currently unused\non Linux.</p>\n\n<p style=\"margin-left:11%;\"><i>ru_idrss</i>\n(unmaintained)</p>\n\n<p style=\"margin-left:22%;\">This field is currently unused\non Linux.</p>\n\n<p style=\"margin-left:11%;\"><i>ru_isrss</i>\n(unmaintained)</p>\n\n<p style=\"margin-left:22%;\">This field is currently unused\non Linux.</p>\n\n<p style=\"margin-left:11%;\"><i>ru_minflt</i></p>\n\n<p style=\"margin-left:22%;\">The number of page faults\nserviced without any I/O activity; here I/O activity is\navoided by &ldquo;reclaiming&rdquo; a page frame from the\nlist of pages awaiting reallocation.</p>\n\n<p style=\"margin-left:11%;\"><i>ru_majflt</i></p>\n\n<p style=\"margin-left:22%;\">The number of page faults\nserviced that required I/O activity.</p>\n\n<p style=\"margin-left:11%;\"><i>ru_nswap</i>\n(unmaintained)</p>\n\n<p style=\"margin-left:22%;\">This field is currently unused\non Linux.</p>\n\n<p style=\"margin-left:11%;\"><i>ru_inblock</i> (since Linux\n2.6.22)</p>\n\n<p style=\"margin-left:22%;\">The number of times the\nfilesystem had to perform input.</p>\n\n<p style=\"margin-left:11%;\"><i>ru_oublock</i> (since Linux\n2.6.22)</p>\n\n<p style=\"margin-left:22%;\">The number of times the\nfilesystem had to perform output.</p>\n\n<p style=\"margin-left:11%;\"><i>ru_msgsnd</i>\n(unmaintained)</p>\n\n<p style=\"margin-left:22%;\">This field is currently unused\non Linux.</p>\n\n<p style=\"margin-left:11%;\"><i>ru_msgrcv</i>\n(unmaintained)</p>\n\n<p style=\"margin-left:22%;\">This field is currently unused\non Linux.</p>\n\n<p style=\"margin-left:11%;\"><i>ru_nsignals</i>\n(unmaintained)</p>\n\n<p style=\"margin-left:22%;\">This field is currently unused\non Linux.</p>\n\n<p style=\"margin-left:11%;\"><i>ru_nvcsw</i> (since Linux\n2.6)</p>\n\n<p style=\"margin-left:22%;\">The number of times a context\nswitch resulted due to a process voluntarily giving up the\nprocessor before its time slice was completed (usually to\nawait availability of a resource).</p>\n\n<p style=\"margin-left:11%;\"><i>ru_nivcsw</i> (since Linux\n2.6)</p>\n\n<p style=\"margin-left:22%;\">The number of times a context\nswitch resulted due to a higher priority process becoming\nrunnable or because the current process exceeded its time\nslice.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success,\nzero is returned. On error, -1 is returned, and <i>errno</i>\nis set appropriately.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EFAULT</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"76%\">\n\n\n<p style=\"margin-top: 1em\"><i>usage</i> points outside the\naccessible address space.</p></td>\n<td width=\"2%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"76%\">\n\n\n<p><i>who</i> is invalid.</p></td>\n<td width=\"2%\">\n</td></tr>\n</table>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n\n<p align=\"center\" style=\"margin-top: 1em\"><img src=\"grohtml-3245051.png\" alt=\"Image grohtml-3245051.png\"></p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2001,\nPOSIX.1-2008, SVr4, 4.3BSD. POSIX.1 specifies\n<b>getrusage</b>(), but specifies only the fields\n<i>ru_utime</i> and <i>ru_stime</i>.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>RUSAGE_THREAD</b>\nis Linux-specific.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Resource usage\nmetrics are preserved across an <a href=\"https://man.page/2/execve\">execve(2)</a>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Including\n<i>&lt;sys/time.h&gt;</i> is not required these days, but\nincreases portability. (Indeed, <i>struct timeval</i> is\ndefined in <i>&lt;sys/time.h&gt;</i>.)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In Linux kernel\nversions before 2.6.9, if the disposition of <b>SIGCHLD</b>\nis set to <b>SIG_IGN</b> then the resource usages of child\nprocesses are automatically included in the value returned\nby <b>RUSAGE_CHILDREN</b>, although POSIX.1-2001 explicitly\nprohibits this. This nonconformance is rectified in Linux\n2.6.9 and later.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The structure\ndefinition shown at the start of this page was taken from\n4.3BSD Reno.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Ancient systems\nprovided a <b>vtimes</b>() function with a similar purpose\nto <b>getrusage</b>(). For backward compatibility, glibc (up\nuntil version 2.32) also provides <b>vtimes</b>(). All new\napplications should be written using <b>getrusage</b>().</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">See also the\ndescription of <i>/proc/[pid]/stat</i> in\n<a href=\"https://man.page/5/proc\">proc(5)</a>.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/2/clock_gettime\">clock_gettime(2)</a>,\n<a href=\"https://man.page/2/getrlimit\">getrlimit(2)</a>, <a href=\"https://man.page/2/times\">times(2)</a>, <a href=\"https://man.page/2/wait\">wait(2)</a>,\n<a href=\"https://man.page/2/wait4\">wait4(2)</a>, <a href=\"https://man.page/3/clock\">clock(3)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}