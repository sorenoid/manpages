{"name":"bdflush","body":"\n\n<h1 align=\"center\">BDFLUSH</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">bdflush -\nstart, flush, or tune buffer-dirty-flush daemon</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;sys/kdaemon.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nbdflush(int</b> <i>func</i><b>, long\n*</b><i>address</i><b>); <br>\nint bdflush(int</b> <i>func</i><b>, long</b>\n<i>data</i><b>);</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b><i>Note</i></b>:\nSince Linux 2.6, this system call is deprecated and does\nnothing. It is likely to disappear altogether in a future\nkernel release. Nowadays, the task performed by\n<b>bdflush</b>() is handled by the kernel <i>pdflush</i>\nthread.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>bdflush</b>()\nstarts, flushes, or tunes the buffer-dirty-flush daemon.\nOnly a privileged process (one with the <b>CAP_SYS_ADMIN</b>\ncapability) may call <b>bdflush</b>().</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If <i>func</i>\nis negative or 0, and no daemon has been started, then\n<b>bdflush</b>() enters the daemon code and never\nreturns.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If <i>func</i>\nis 1, some dirty buffers are written to disk.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If <i>func</i>\nis 2 or more and is even (low bit is 0), then <i>address</i>\nis the address of a long word, and the tuning parameter\nnumbered (<i>func</i>-2)/2 is returned to the caller in that\naddress.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If <i>func</i>\nis 3 or more and is odd (low bit is 1), then <i>data</i> is\na long word, and the kernel sets tuning parameter numbered\n(<i>func</i>-3)/2 to that value.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The set of\nparameters, their values, and their valid ranges are defined\nin the Linux kernel source file <i>fs/buffer.c</i>.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">If <i>func</i>\nis negative or 0 and the daemon successfully starts,\n<b>bdflush</b>() never returns. Otherwise, the return value\nis 0 on success and -1 on failure, with <i>errno</i> set to\nindicate the error.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EBUSY</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">An attempt was made to enter the\ndaemon code after another process has already entered.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EFAULT</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>address</i> points outside your accessible address\nspace.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>An attempt was made to read or write an invalid\nparameter number, or to write an invalid value to a\nparameter.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EPERM</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Caller does not have the <b>CAP_SYS_ADMIN</b>\ncapability.</p> </td></tr>\n</table>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Since version\n2.23, glibc no longer supports this obsolete system\ncall.</p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>bdflush</b>()\nis Linux-specific and should not be used in programs\nintended to be portable.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/sync\">sync(1)</a>,\n<a href=\"https://man.page/2/fsync\">fsync(2)</a>, <a href=\"https://man.page/2/sync\">sync(2)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}