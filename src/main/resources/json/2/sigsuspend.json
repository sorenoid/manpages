{"name":"sigsuspend","description":"sigsuspend, rt_sigsuspend - wait for a signal","body":"\n\n<h1 align=\"center\">SIGSUSPEND</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">sigsuspend,\nrt_sigsuspend - wait for a signal</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;signal.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nsigsuspend(const sigset_t *</b><i>mask</i><b>);</b></p>\n\n<p style=\"margin-left:5%; margin-top: 1em\">Feature Test\nMacro Requirements for glibc (see\n<a href=\"https://man.page/7/feature_test_macros\">feature_test_macros(7)</a>):</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sigsuspend</b>():\n_POSIX_C_SOURCE</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sigsuspend</b>()\ntemporarily replaces the signal mask of the calling thread\nwith the mask given by <i>mask</i> and then suspends the\nthread until delivery of a signal whose action is to invoke\na signal handler or to terminate a process.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the signal\nterminates the process, then <b>sigsuspend</b>() does not\nreturn. If the signal is caught, then <b>sigsuspend</b>()\nreturns after the signal handler returns, and the signal\nmask is restored to the state before the call to\n<b>sigsuspend</b>().</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">It is not\npossible to block <b>SIGKILL</b> or <b>SIGSTOP</b>;\nspecifying these signals in <i>mask</i>, has no effect on\nthe thread&rsquo;s signal mask.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sigsuspend</b>()\nalways returns -1, with <i>errno</i> set to indicate the\nerror (normally, <b>EINTR</b>).</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EFAULT</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\"><i>mask</i> points to memory\nwhich is not a valid part of the process address space.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EINTR</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>The call was interrupted by a signal;\n<a href=\"https://man.page/7/signal\">signal(7)</a>.</p> </td></tr>\n</table>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2001,\nPOSIX.1-2008.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Normally,\n<b>sigsuspend</b>() is used in conjunction with\n<a href=\"https://man.page/2/sigprocmask\">sigprocmask(2)</a> in order to prevent delivery of a\nsignal during the execution of a critical code section. The\ncaller first blocks the signals with <a href=\"https://man.page/2/sigprocmask\">sigprocmask(2)</a>.\nWhen the critical code has completed, the caller then waits\nfor the signals by calling <b>sigsuspend</b>() with the\nsignal mask that was returned by <a href=\"https://man.page/2/sigprocmask\">sigprocmask(2)</a> (in\nthe <i>oldset</i> argument).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">See\n<a href=\"https://man.page/3/sigsetops\">sigsetops(3)</a> for details on manipulating signal\nsets.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>C\nlibrary/kernel differences</b> <br>\nThe original Linux system call was named\n<b>sigsuspend</b>(). However, with the addition of real-time\nsignals in Linux 2.2, the fixed-size, 32-bit <i>sigset_t</i>\ntype supported by that system call was no longer fit for\npurpose. Consequently, a new system call,\n<b>rt_sigsuspend</b>(), was added to support an enlarged\n<i>sigset_t</i> type. The new system call takes a second\nargument, <i>size_t sigsetsize</i>, which specifies the size\nin bytes of the signal set in <i>mask</i>. This argument is\ncurrently required to have the value <i>sizeof(sigset_t)</i>\n(or the error <b>EINVAL</b> results). The glibc\n<b>sigsuspend</b>() wrapper function hides these details\nfrom us, transparently calling <b>rt_sigsuspend</b>() when\nthe kernel provides it.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/2/kill\">kill(2)</a>,\n<a href=\"https://man.page/2/pause\">pause(2)</a>, <a href=\"https://man.page/2/sigaction\">sigaction(2)</a>, <a href=\"https://man.page/2/signal\">signal(2)</a>,\n<a href=\"https://man.page/2/sigprocmask\">sigprocmask(2)</a>, <a href=\"https://man.page/2/sigwaitinfo\">sigwaitinfo(2)</a>,\n<a href=\"https://man.page/3/sigsetops\">sigsetops(3)</a>, <a href=\"https://man.page/3/sigwait\">sigwait(3)</a>, <a href=\"https://man.page/7/signal\">signal(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}