{"name":"get_kernel_syms","description":"get_kernel_syms - retrieve exported kernel and module symbols","body":"\n\n<h1 align=\"center\">GET_KERNEL_SYMS</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">get_kernel_syms\n- retrieve exported kernel and module symbols</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;linux/module.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nget_kernel_syms(struct kernel_sym\n*</b><i>table</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>Note</i>: No\ndeclaration of this system call is provided in glibc\nheaders; see NOTES.</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Note</b>:\nThis system call is present only in kernels before Linux\n2.6.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If <i>table</i>\nis NULL, <b>get_kernel_syms</b>() returns the number of\nsymbols available for query. Otherwise, it fills in a table\nof structures:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">struct\nkernel_sym { <br>\nunsigned long value; <br>\nchar name[60]; <br>\n};</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The symbols are\ninterspersed with magic symbols of the form\n<b>#</b><i>module-name</i> with the kernel having an empty\nname. The value associated with a symbol of this form is the\naddress at which the module is loaded.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The symbols\nexported from each module follow their magic module tag and\nthe modules are returned in the reverse of the order in\nwhich they were loaded.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success,\nreturns the number of symbols copied to <i>table</i>. On\nerror, -1 is returned and <i>errno</i> is set\nappropriately.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">There is only\none possible error return:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ENOSYS</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><b>get_kernel_syms</b>() is not supported in this\nversion of the kernel.</p></td></tr>\n</table>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This system\ncall is present on Linux only up until kernel 2.4; it was\nremoved in Linux 2.6.</p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>get_kernel_syms</b>()\nis Linux-specific.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This obsolete\nsystem call is not supported by glibc. No declaration is\nprovided in glibc headers, but, through a quirk of history,\nglibc versions before 2.23 did export an ABI for this system\ncall. Therefore, in order to employ this system call, it was\nsufficient to manually declare the interface in your code;\nalternatively, you could invoke the system call using\n<a href=\"https://man.page/2/syscall\">syscall(2)</a>.</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">There is no way\nto indicate the size of the buffer allocated for\n<i>table</i>. If symbols have been added to the kernel since\nthe program queried for the symbol table size, memory will\nbe corrupted.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The length of\nexported symbol names is limited to 59 characters.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Because of\nthese limitations, this system call is deprecated in favor\nof <a href=\"https://man.page/2/query_module\">query_module(2)</a> (which is itself nowadays\ndeprecated in favor of other interfaces described on its\nmanual page).</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/2/create_module\">create_module(2)</a>,\n<a href=\"https://man.page/2/delete_module\">delete_module(2)</a>, <a href=\"https://man.page/2/init_module\">init_module(2)</a>,\n<a href=\"https://man.page/2/query_module\">query_module(2)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}