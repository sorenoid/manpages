{"name":"pciconfig_read","description":"pciconfig_read, pciconfig_write, pciconfig_iobase - pci device information handling","body":"\n\n<h1 align=\"center\">PCICONFIG_READ</h1>\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">pciconfig_read,\npciconfig_write, pciconfig_iobase - pci device information\nhandling</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;pci.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\npciconfig_read(unsigned long</b> <i>bus</i><b>, unsigned\nlong</b> <i>dfn</i><b>, <br>\nunsigned long</b> <i>off</i><b>, unsigned long</b>\n<i>len</i><b>, void *</b><i>buf</i><b>); <br>\nint pciconfig_write(unsigned long</b> <i>bus</i><b>,\nunsigned long</b> <i>dfn</i><b>, <br>\nunsigned long</b> <i>off</i><b>, unsigned long</b>\n<i>len</i><b>, void *</b><i>buf</i><b>); <br>\nint pciconfig_iobase(long</b> <i>which</i><b>, unsigned\nlong</b> <i>bus</i><b>, <br>\nunsigned long</b> <i>devfn</i><b>);</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Most of the\ninteraction with PCI devices is already handled by the\nkernel PCI layer, and thus these calls should not normally\nneed to be accessed from user space. <b><br>\npciconfig_read</b>()</p>\n\n<p style=\"margin-left:22%;\">Reads to <i>buf</i> from device\n<i>dev</i> at offset <i>off</i> value.</p>\n\n<p style=\"margin-left:11%;\"><b>pciconfig_write</b>()</p>\n\n<p style=\"margin-left:22%;\">Writes from <i>buf</i> to\ndevice <i>dev</i> at offset <i>off</i> value.</p>\n\n<p style=\"margin-left:11%;\"><b>pciconfig_iobase</b>()</p>\n\n<p style=\"margin-left:22%;\">You pass it a bus/devfn pair\nand get a physical address for either the memory offset (for\nthings like prep, this is 0xc0000000), the IO base for PIO\ncycles, or the ISA holes if any.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>pciconfig_read</b>()</p>\n\n<p style=\"margin-left:22%;\">On success, zero is returned.\nOn error, -1 is returned and <i>errno</i> is set\nappropriately.</p>\n\n<p style=\"margin-left:11%;\"><b>pciconfig_write</b>()</p>\n\n<p style=\"margin-left:22%;\">On success, zero is returned.\nOn error, -1 is returned and <i>errno</i> is set\nappropriately.</p>\n\n<p style=\"margin-left:11%;\"><b>pciconfig_iobase</b>()</p>\n\n<p style=\"margin-left:22%;\">Returns information on\nlocations of various I/O regions in physical memory\naccording to the <i>which</i> value. Values for <i>which</i>\nare: <b>IOBASE_BRIDGE_NUMBER</b>, <b>IOBASE_MEMORY</b>,\n<b>IOBASE_IO</b>, <b>IOBASE_ISA_IO</b>,\n<b>IOBASE_ISA_MEM</b>.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\"><i>len</i> value is invalid.\nThis does not apply to <b>pciconfig_iobase</b>().</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EIO</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>I/O error.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ENODEV</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>For <b>pciconfig_iobase</b>(), &quot;hose&quot; value is\nNULL. For the other calls, could not find a slot.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ENOSYS</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>The system has not implemented these calls\n(<b>CONFIG_PCI</b> not defined).</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>EOPNOTSUPP</b></p>\n\n<p style=\"margin-left:22%;\">This return value is valid only\nfor <b>pciconfig_iobase</b>(). It is returned if the value\nfor <i>which</i> is invalid.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p><b>EPERM</b></p></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p>User does not have the <b>CAP_SYS_ADMIN</b> capability.\nThis does not apply to <b>pciconfig_iobase</b>().</p></td></tr>\n</table>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">These calls are\nLinux-specific, available since Linux 2.0.26/2.1.11.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/7/capabilities\">capabilities(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}