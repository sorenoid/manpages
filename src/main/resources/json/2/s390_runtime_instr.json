{"name":"s390_runtime_instr","description":"s390_runtime_instr\n- enable/disable s390 CPU run-time instrumentation","body":"\n\n<h1 align=\"center\">S390_RUNTIME_INSTR</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">s390_runtime_instr\n- enable/disable s390 CPU run-time instrumentation</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;asm/runtime_instr.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\ns390_runtime_instr(int</b> <i>command</i><b>, int</b>\n<i>signum</i><b>);</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>s390_runtime_instr</b>() system call starts or stops CPU\nrun-time instrumentation for the calling thread.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>command</i> argument controls whether run-time\ninstrumentation is started (<b>S390_RUNTIME_INSTR_START</b>,\n1) or stopped (<b>S390_RUNTIME_INSTR_STOP</b>, 2) for the\ncalling thread.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>signum</i> argument specifies the number of a real-time\nsignal. This argument was used to specify a signal number\nthat should be delivered to the thread if the run-time\ninstrumentation buffer was full or if the\nrun-time-instrumentation-halted interrupt had occurred. This\nfeature was never used, and in Linux 4.4 support for this\nfeature was removed; thus, in current kernels, this argument\nis ignored.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success,\n<b>s390_runtime_instr</b>() returns 0 and enables the thread\nfor run-time instrumentation by assigning the thread a\ndefault run-time instrumentation control block. The caller\ncan then read and modify the control block and start the\nrun-time instrumentation. On error, -1 is returned and\n<i>errno</i> is set to one of the error codes listed\nbelow.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">The value specified in\n<i>command</i> is not a valid command.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>The value specified in <i>signum</i> is not a real-time\nsignal number. From Linux 4.4 onwards, the <i>signum</i>\nargument has no effect, so that an invalid signal number\nwill not result in an error.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ENOMEM</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Allocating memory for the run-time instrumentation\ncontrol block failed.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>EOPNOTSUPP</b></p>\n\n<p style=\"margin-left:22%;\">The run-time instrumentation\nfacility is not available.</p>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This system\ncall is available since Linux 3.7.</p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This\nLinux-specific system call is available only on the s390\narchitecture. The run-time instrumentation facility is\navailable beginning with System z EC12.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Glibc does not\nprovide a wrapper for this system call, use\n<a href=\"https://man.page/2/syscall\">syscall(2)</a> to call it.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>asm/runtime_instr.h</i> header file is available since\nLinux 4.16.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Starting with\nLinux 4.4, support for signalling was removed, as was the\ncheck whether <i>signum</i> is a valid real-time signal. For\nbackwards compatibility with older kernels, it is\nrecommended to pass a valid real-time signal number in\n<i>signum</i> and install a handler for that signal.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/2/syscall\">syscall(2)</a>,\n<a href=\"https://man.page/7/signal\">signal(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}