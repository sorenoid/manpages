{"name":"epoll_create","description":"epoll_create, epoll_create1 - open an epoll file descriptor","body":"\n\n<h1 align=\"center\">EPOLL_CREATE</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">epoll_create,\nepoll_create1 - open an epoll file descriptor</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;sys/epoll.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nepoll_create(int</b> <i>size</i><b>); <br>\nint epoll_create1(int</b> <i>flags</i><b>);</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>epoll_create</b>()\ncreates a new <a href=\"https://man.page/7/epoll\">epoll(7)</a> instance. Since Linux 2.6.8,\nthe <i>size</i> argument is ignored, but must be greater\nthan zero; see NOTES.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>epoll_create</b>()\nreturns a file descriptor referring to the new epoll\ninstance. This file descriptor is used for all the\nsubsequent calls to the <b>epoll</b> interface. When no\nlonger required, the file descriptor returned by\n<b>epoll_create</b>() should be closed by using\n<a href=\"https://man.page/2/close\">close(2)</a>. When all file descriptors referring to an\nepoll instance have been closed, the kernel destroys the\ninstance and releases the associated resources for\nreuse.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>epoll_create1()</b>\n<br>\nIf <i>flags</i> is 0, then, other than the fact that the\nobsolete <i>size</i> argument is dropped,\n<b>epoll_create1</b>() is the same as <b>epoll_create</b>().\nThe following value can be included in <i>flags</i> to\nobtain different behavior: <b><br>\nEPOLL_CLOEXEC</b></p>\n\n<p style=\"margin-left:22%;\">Set the close-on-exec\n(<b>FD_CLOEXEC</b>) flag on the new file descriptor. See the\ndescription of the <b>O_CLOEXEC</b> flag in <a href=\"https://man.page/2/open\">open(2)</a>\nfor reasons why this may be useful.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success,\nthese system calls return a file descriptor (a nonnegative\ninteger). On error, -1 is returned, and <i>errno</i> is set\nto indicate the error.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\"><i>size</i> is not positive.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>(<b>epoll_create1</b>()) Invalid value specified in\n<i>flags</i>.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EMFILE</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>The per-user limit on the number of epoll instances\nimposed by <i>/proc/sys/fs/epoll/max_user_instances</i> was\nencountered. See <a href=\"https://man.page/7/epoll\">epoll(7)</a> for further details.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EMFILE</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>The per-process limit on the number of open file\ndescriptors has been reached.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ENFILE</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>The system-wide limit on the total number of open files\nhas been reached.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ENOMEM</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>There was insufficient memory to create the kernel\nobject.</p> </td></tr>\n</table>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>epoll_create</b>()\nwas added to the kernel in version 2.6. Library support is\nprovided in glibc starting with version 2.3.2.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>epoll_create1</b>()\nwas added to the kernel in version 2.6.27. Library support\nis provided in glibc starting with version 2.9.</p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>epoll_create</b>()\nis Linux-specific.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">In the initial\n<b>epoll_create</b>() implementation, the <i>size</i>\nargument informed the kernel of the number of file\ndescriptors that the caller expected to add to the\n<b>epoll</b> instance. The kernel used this information as a\nhint for the amount of space to initially allocate in\ninternal data structures describing events. (If necessary,\nthe kernel would allocate more space if the caller&rsquo;s\nusage exceeded the hint given in <i>size</i>.) Nowadays,\nthis hint is no longer required (the kernel dynamically\nsizes the required data structures without needing the\nhint), but <i>size</i> must still be greater than zero, in\norder to ensure backward compatibility when new <b>epoll</b>\napplications are run on older kernels.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/2/close\">close(2)</a>,\n<a href=\"https://man.page/2/epoll_ctl\">epoll_ctl(2)</a>, <a href=\"https://man.page/2/epoll_wait\">epoll_wait(2)</a>,\n<a href=\"https://man.page/7/epoll\">epoll(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}