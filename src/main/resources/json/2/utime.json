{"name":"utime","body":"\n\n<h1 align=\"center\">UTIME</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">utime, utimes -\nchange file last access and modification times</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;sys/types.h&gt; <br>\n#include &lt;utime.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nutime(const char *</b><i>filename</i><b>, const struct\nutimbuf *</b><i>times</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;sys/time.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nutimes(const char *</b><i>filename</i><b>, const struct\ntimeval</b> <i>times</i><b>[2]);</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Note:</b>\nmodern applications may prefer to use the interfaces\ndescribed in <a href=\"https://man.page/2/utimensat\">utimensat(2)</a>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>utime</b>() system call changes the access and\nmodification times of the inode specified by <i>filename</i>\nto the <i>actime</i> and <i>modtime</i> fields of\n<i>times</i> respectively.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If <i>times</i>\nis NULL, then the access and modification times of the file\nare set to the current time.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Changing\ntimestamps is permitted when: either the process has\nappropriate privileges, or the effective user ID equals the\nuser ID of the file, or <i>times</i> is NULL and the process\nhas write permission for the file.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>utimbuf</i> structure is:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">struct utimbuf\n{ <br>\ntime_t actime; /* access time */ <br>\ntime_t modtime; /* modification time */ <br>\n};</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>utime</b>() system call allows specification of\ntimestamps with a resolution of 1 second.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>utimes</b>() system call is similar, but the <i>times</i>\nargument refers to an array rather than a structure. The\nelements of this array are <i>timeval</i> structures, which\nallow a precision of 1 microsecond for specifying\ntimestamps. The <i>timeval</i> structure is:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">struct timeval\n{ <br>\nlong tv_sec; /* seconds */ <br>\nlong tv_usec; /* microseconds */ <br>\n};</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>times[0]</i>\nspecifies the new access time, and <i>times[1]</i> specifies\nthe new modification time. If <i>times</i> is NULL, then\nanalogously to <b>utime</b>(), the access and modification\ntimes of the file are set to the current time.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success,\nzero is returned. On error, -1 is returned, and <i>errno</i>\nis set appropriately.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EACCES</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">Search permission is denied for\none of the directories in the path prefix of <i>path</i>\n(see also <a href=\"https://man.page/7/path_resolution\">path_resolution(7)</a>).</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EACCES</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>times</i> is NULL, the caller&rsquo;s effective user\nID does not match the owner of the file, the caller does not\nhave write access to the file, and the caller is not\nprivileged (Linux: does not have either the\n<b>CAP_DAC_OVERRIDE</b> or the <b>CAP_FOWNER</b>\ncapability).</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ENOENT</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>filename</i> does not exist.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EPERM</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>times</i> is not NULL, the caller&rsquo;s effective\nUID does not match the owner of the file, and the caller is\nnot privileged (Linux: does not have the <b>CAP_FOWNER</b>\ncapability).</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EROFS</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>path</i> resides on a read-only filesystem.</p></td></tr>\n</table>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>utime</b>():\nSVr4, POSIX.1-2001. POSIX.1-2008 marks <b>utime</b>() as\nobsolete.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>utimes</b>():\n4.3BSD, POSIX.1-2001.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Linux does not\nallow changing the timestamps on an immutable file, or\nsetting the timestamps to something other than the current\ntime on an append-only file.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/chattr\">chattr(1)</a>,\n<a href=\"https://man.page/1/touch\">touch(1)</a>, <a href=\"https://man.page/2/futimesat\">futimesat(2)</a>, <a href=\"https://man.page/2/stat\">stat(2)</a>,\n<a href=\"https://man.page/2/utimensat\">utimensat(2)</a>, <a href=\"https://man.page/3/futimens\">futimens(3)</a>, <a href=\"https://man.page/3/futimes\">futimes(3)</a>,\n<a href=\"https://man.page/7/inode\">inode(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}