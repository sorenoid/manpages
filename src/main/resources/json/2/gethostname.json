{"name":"gethostname","description":"gethostname, sethostname - get/set hostname","body":"\n\n<h1 align=\"center\">GETHOSTNAME</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">gethostname,\nsethostname - get/set hostname</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;unistd.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\ngethostname(char *</b><i>name</i><b>, size_t</b>\n<i>len</i><b>); <br>\nint sethostname(const char *</b><i>name</i><b>, size_t</b>\n<i>len</i><b>);</b></p>\n\n<p style=\"margin-left:5%; margin-top: 1em\">Feature Test\nMacro Requirements for glibc (see\n<a href=\"https://man.page/7/feature_test_macros\">feature_test_macros(7)</a>):</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>gethostname</b>():</p>\n\n<p style=\"margin-left:17%;\">Since glibc 2.12: _BSD_SOURCE\n|| _XOPEN_SOURCE&nbsp;&gt;=&nbsp;500 <br>\n|| /* Since glibc 2.12: */\n_POSIX_C_SOURCE&nbsp;&gt;=&nbsp;200112L</p>\n\n<p style=\"margin-left:11%;\"><b>sethostname</b>(): <br>\nSince glibc 2.21: <br>\n_DEFAULT_SOURCE <br>\nIn glibc 2.19 and 2.20: <br>\n_DEFAULT_SOURCE || (_XOPEN_SOURCE &amp;&amp;\n_XOPEN_SOURCE&nbsp;&lt;&nbsp;500) <br>\nUp to and including glibc 2.19: <br>\n_BSD_SOURCE || (_XOPEN_SOURCE &amp;&amp;\n_XOPEN_SOURCE&nbsp;&lt;&nbsp;500)</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">These system\ncalls are used to access or to change the system hostname.\nMore precisely, they operate on the hostname associated with\nthe calling process&rsquo;s UTS namespace.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sethostname</b>()\nsets the hostname to the value given in the character array\n<i>name</i>. The <i>len</i> argument specifies the number of\nbytes in <i>name</i>. (Thus, <i>name</i> does not require a\nterminating null byte.)</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>gethostname</b>()\nreturns the null-terminated hostname in the character array\n<i>name</i>, which has a length of <i>len</i> bytes. If the\nnull-terminated hostname is too large to fit, then the name\nis truncated, and no error is returned (but see NOTES\nbelow). POSIX.1 says that if such truncation occurs, then it\nis unspecified whether the returned buffer includes a\nterminating null byte.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success,\nzero is returned. On error, -1 is returned, and <i>errno</i>\nis set appropriately.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EFAULT</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\"><i>name</i> is an invalid\naddress.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>len</i> is negative or, for <b>sethostname</b>(),\n<i>len</i> is larger than the maximum allowed size.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>ENAMETOOLONG</b></p>\n\n<p style=\"margin-left:22%;\">(glibc <b>gethostname</b>())\n<i>len</i> is smaller than the actual size. (Before version\n2.1, glibc uses <b>EINVAL</b> for this case.)</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p><b>EPERM</b></p></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p>For <b>sethostname</b>(), the caller did not have the\n<b>CAP_SYS_ADMIN</b> capability in the user namespace\nassociated with its UTS namespace (see\n<a href=\"https://man.page/7/namespaces\">namespaces(7)</a>).</p> </td></tr>\n</table>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">SVr4, 4.4BSD\n(these interfaces first appeared in 4.2BSD). POSIX.1-2001\nand POSIX.1-2008 specify <b>gethostname</b>() but not\n<b>sethostname</b>().</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">SUSv2\nguarantees that &quot;Host names are limited to 255\nbytes&quot;. POSIX.1 guarantees that &quot;Host names (not\nincluding the terminating null byte) are limited to\n<b>HOST_NAME_MAX</b> bytes&quot;. On Linux,\n<b>HOST_NAME_MAX</b> is defined with the value 64, which has\nbeen the limit since Linux 1.0 (earlier kernels imposed a\nlimit of 8 bytes).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>C\nlibrary/kernel differences</b> <br>\nThe GNU C library does not employ the <b>gethostname</b>()\nsystem call; instead, it implements <b>gethostname</b>() as\na library function that calls <a href=\"https://man.page/2/uname\">uname(2)</a> and copies up\nto <i>len</i> bytes from the returned <i>nodename</i> field\ninto <i>name</i>. Having performed the copy, the function\nthen checks if the length of the <i>nodename</i> was greater\nthan or equal to <i>len</i>, and if it is, then the function\nreturns -1 with <i>errno</i> set to <b>ENAMETOOLONG</b>; in\nthis case, a terminating null byte is not included in the\nreturned <i>name</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Versions of\nglibc before 2.2 handle the case where the length of the\n<i>nodename</i> was greater than or equal to <i>len</i>\ndifferently: nothing is copied into <i>name</i> and the\nfunction returns -1 with <i>errno</i> set to\n<b>ENAMETOOLONG</b>.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/hostname\">hostname(1)</a>,\n<a href=\"https://man.page/2/getdomainname\">getdomainname(2)</a>, <a href=\"https://man.page/2/setdomainname\">setdomainname(2)</a>,\n<a href=\"https://man.page/2/uname\">uname(2)</a>, <a href=\"https://man.page/7/uts_namespaces\">uts_namespaces(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":2}