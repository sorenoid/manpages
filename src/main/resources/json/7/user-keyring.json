{"name":"user-keyring","description":"user-keyring -\nper-user keyring\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\nThe user\nkeyring is a keyring used to anchor keys on behalf of a\nuser. Each UID the kernel deals with has its own user\nkeyring that is shared by all processes with that UID. The\nuser keyring has a name (description) of the form\n<i>_uid.&lt;UID&gt;</i> where <i>&lt;UID&gt;</i> is the user\nID of the corresponding user.\n\nThe user\nkeyring is associated with the record that the kernel\nmaintains for the UID. It comes into existence upon the\nfirst attempt to access either the user keyring, the\n<a href=\"https://man.page/7/user-session-keyring\">user-session-keyring(7)</a>, or the\n<a href=\"https://man.page/7/session-keyring\">session-keyring(7)</a>. The keyring remains pinned in\nexistence so long as there are processes running with that\nreal UID or files opened by those processes remain open.\n(The keyring can also be pinned indefinitely by linking it\ninto another keyring.)\n\nTypically, the\nuser keyring is created by <b>pam_keyinit</b>(8) when a user\nlogs in.\n\nThe user\nkeyring is not searched by default by <a href=\"https://man.page/2/request_key\">request_key(2)</a>.\nWhen <b>pam_keyinit</b>(8) creates a session keyring, it\nadds to it a link to the user keyring so that the user\nkeyring will be searched when the session keyring is.\n\nA special\nserial number value, <b>KEY_SPEC_USER_KEYRING</b>, is\ndefined that can be used in lieu of the actual serial number\nof the calling process&rsquo;s user keyring.\n\nFrom the\n<a href=\"https://man.page/1/keyctl\">keyctl(1)</a> utility, &rsquo;<b>@u</b>&rsquo; can be\nused instead of a numeric key ID in much the same way.\n\nUser keyrings\nare independent of <a href=\"https://man.page/2/clone\">clone(2)</a>, <a href=\"https://man.page/2/fork\">fork(2)</a>,\n<a href=\"https://man.page/2/vfork\">vfork(2)</a>, <a href=\"https://man.page/2/execve\">execve(2)</a>, and <a href=\"https://man.page/2/_exit\">_exit(2)</a>\nexcepting that the keyring is destroyed when the UID record\nis destroyed when the last process pinning it exits.\n\nIf it is\nnecessary for a key associated with a user to exist beyond\nthe UID record being garbage collected&mdash;for example,\nfor use by a <b>cron</b>(8) script&mdash;then the\n<a href=\"https://man.page/7/persistent-keyring\">persistent-keyring(7)</a> should be used instead.\n\nIf a user\nkeyring does not exist when it is accessed, it will be\ncreated.\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<a href=\"https://man.page/1/keyctl\">keyctl(1)</a>,\n<a href=\"https://man.page/3/keyctl\">keyctl(3)</a>, <a href=\"https://man.page/7/keyrings\">keyrings(7)</a>,\n<a href=\"https://man.page/7/persistent-keyring\">persistent-keyring(7)</a>, <a href=\"https://man.page/7/process-keyring\">process-keyring(7)</a>,\n<a href=\"https://man.page/7/session-keyring\">session-keyring(7)</a>, <a href=\"https://man.page/7/thread-keyring\">thread-keyring(7)</a>,\n<a href=\"https://man.page/7/user-session-keyring\">user-session-keyring(7)</a>, <b>pam_keyinit</b>(8)\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\nThis page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.","body":"\n\n<h1 align=\"center\">USER-KEYRING</h1>\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">user-keyring -\nper-user keyring</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The user\nkeyring is a keyring used to anchor keys on behalf of a\nuser. Each UID the kernel deals with has its own user\nkeyring that is shared by all processes with that UID. The\nuser keyring has a name (description) of the form\n<i>_uid.&lt;UID&gt;</i> where <i>&lt;UID&gt;</i> is the user\nID of the corresponding user.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The user\nkeyring is associated with the record that the kernel\nmaintains for the UID. It comes into existence upon the\nfirst attempt to access either the user keyring, the\n<a href=\"https://man.page/7/user-session-keyring\">user-session-keyring(7)</a>, or the\n<a href=\"https://man.page/7/session-keyring\">session-keyring(7)</a>. The keyring remains pinned in\nexistence so long as there are processes running with that\nreal UID or files opened by those processes remain open.\n(The keyring can also be pinned indefinitely by linking it\ninto another keyring.)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Typically, the\nuser keyring is created by <b>pam_keyinit</b>(8) when a user\nlogs in.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The user\nkeyring is not searched by default by <a href=\"https://man.page/2/request_key\">request_key(2)</a>.\nWhen <b>pam_keyinit</b>(8) creates a session keyring, it\nadds to it a link to the user keyring so that the user\nkeyring will be searched when the session keyring is.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">A special\nserial number value, <b>KEY_SPEC_USER_KEYRING</b>, is\ndefined that can be used in lieu of the actual serial number\nof the calling process&rsquo;s user keyring.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">From the\n<a href=\"https://man.page/1/keyctl\">keyctl(1)</a> utility, &rsquo;<b>@u</b>&rsquo; can be\nused instead of a numeric key ID in much the same way.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">User keyrings\nare independent of <a href=\"https://man.page/2/clone\">clone(2)</a>, <a href=\"https://man.page/2/fork\">fork(2)</a>,\n<a href=\"https://man.page/2/vfork\">vfork(2)</a>, <a href=\"https://man.page/2/execve\">execve(2)</a>, and <a href=\"https://man.page/2/_exit\">_exit(2)</a>\nexcepting that the keyring is destroyed when the UID record\nis destroyed when the last process pinning it exits.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If it is\nnecessary for a key associated with a user to exist beyond\nthe UID record being garbage collected&mdash;for example,\nfor use by a <b>cron</b>(8) script&mdash;then the\n<a href=\"https://man.page/7/persistent-keyring\">persistent-keyring(7)</a> should be used instead.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If a user\nkeyring does not exist when it is accessed, it will be\ncreated.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/keyctl\">keyctl(1)</a>,\n<a href=\"https://man.page/3/keyctl\">keyctl(3)</a>, <a href=\"https://man.page/7/keyrings\">keyrings(7)</a>,\n<a href=\"https://man.page/7/persistent-keyring\">persistent-keyring(7)</a>, <a href=\"https://man.page/7/process-keyring\">process-keyring(7)</a>,\n<a href=\"https://man.page/7/session-keyring\">session-keyring(7)</a>, <a href=\"https://man.page/7/thread-keyring\">thread-keyring(7)</a>,\n<a href=\"https://man.page/7/user-session-keyring\">user-session-keyring(7)</a>, <b>pam_keyinit</b>(8)</p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":7}