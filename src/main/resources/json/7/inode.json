{"name":"inode","description":"inode - file inode information","body":"\n\n<h1 align=\"center\">INODE</h1>\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">inode - file\ninode information</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Each file has\nan inode containing metadata about the file. An application\ncan retrieve this metadata using <a href=\"https://man.page/2/stat\">stat(2)</a> (or related\ncalls), which returns a <i>stat</i> structure, or\n<a href=\"https://man.page/2/statx\">statx(2)</a>, which returns a <i>statx</i> structure.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\nis a list of the information typically found in, or\nassociated with, the file inode, with the names of the\ncorresponding structure fields returned by <a href=\"https://man.page/2/stat\">stat(2)</a>\nand <a href=\"https://man.page/2/statx\">statx(2)</a>: <br>\nDevice where inode resides</p>\n\n<p style=\"margin-left:22%;\"><i>stat.st_dev</i>;\n<i>statx.stx_dev_minor</i> and\n<i>statx.stx_dev_major</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Each inode (as\nwell as the associated file) resides in a filesystem that is\nhosted on a device. That device is identified by the\ncombination of its major ID (which identifies the general\nclass of device) and minor ID (which identifies a specific\ninstance in the general class).</p>\n\n<p style=\"margin-left:11%;\">Inode number</p>\n\n<p style=\"margin-left:22%;\"><i>stat.st_ino</i>;\n<i>statx.stx_ino</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Each file in a\nfilesystem has a unique inode number. Inode numbers are\nguaranteed to be unique only within a filesystem (i.e., the\nsame inode numbers may be used by different filesystems,\nwhich is the reason that hard links may not cross filesystem\nboundaries). This field contains the file&rsquo;s inode\nnumber.</p>\n\n<p style=\"margin-left:11%;\">File type and mode</p>\n\n<p style=\"margin-left:22%;\"><i>stat.st_mode</i>;\n<i>statx.stx_mode</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See the\ndiscussion of file type and mode, below.</p>\n\n<p style=\"margin-left:11%;\">Link count</p>\n\n<p style=\"margin-left:22%;\"><i>stat.st_nlink</i>;\n<i>statx.stx_nlink</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This field\ncontains the number of hard links to the file. Additional\nlinks to an existing file are created using\n<a href=\"https://man.page/2/link\">link(2)</a>.</p>\n\n<p style=\"margin-left:11%;\">User ID</p>\n\n<p style=\"margin-left:22%;\"><i>st_uid stat.st_uid</i>;\n<i>statx.stx_uid</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This field\nrecords the user ID of the owner of the file. For newly\ncreated files, the file user ID is the effective user ID of\nthe creating process. The user ID of a file can be changed\nusing <a href=\"https://man.page/2/chown\">chown(2)</a>.</p>\n\n<p style=\"margin-left:11%;\">Group ID</p>\n\n<p style=\"margin-left:22%;\"><i>stat.st_gid</i>;\n<i>statx.stx_gid</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">The inode\nrecords the ID of the group owner of the file. For newly\ncreated files, the file group ID is either the group ID of\nthe parent directory or the effective group ID of the\ncreating process, depending on whether or not the\nset-group-ID bit is set on the parent directory (see below).\nThe group ID of a file can be changed using\n<a href=\"https://man.page/2/chown\">chown(2)</a>.</p>\n\n<p style=\"margin-left:11%;\">Device represented by this\ninode</p>\n\n<p style=\"margin-left:22%;\"><i>stat.st_rdev</i>;\n<i>statx.stx_rdev_minor</i> and\n<i>statx.stx_rdev_major</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">If this file\n(inode) represents a device, then the inode records the\nmajor and minor ID of that device.</p>\n\n<p style=\"margin-left:11%;\">File size</p>\n\n<p style=\"margin-left:22%;\"><i>stat.st_size</i>;\n<i>statx.stx_size</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This field\ngives the size of the file (if it is a regular file or a\nsymbolic link) in bytes. The size of a symbolic link is the\nlength of the pathname it contains, without a terminating\nnull byte.</p>\n\n<p style=\"margin-left:11%;\">Preferred block size for\nI/O</p>\n\n<p style=\"margin-left:22%;\"><i>stat.st_blksize</i>;\n<i>statx.stx_blksize</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This field\ngives the &quot;preferred&quot; blocksize for efficient\nfilesystem I/O. (Writing to a file in smaller chunks may\ncause an inefficient read-modify-rewrite.)</p>\n\n<p style=\"margin-left:11%;\">Number of blocks allocated to\nthe file</p>\n\n<p style=\"margin-left:22%;\"><i>stat.st_blocks</i>;\n<i>statx.stx_size</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This field\nindicates the number of blocks allocated to the file,\n512-byte units, (This may be smaller than <i>st_size</i>/512\nwhen the file has holes.)</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">The POSIX.1\nstandard notes that the unit for the <i>st_blocks</i> member\nof the <i>stat</i> structure is not defined by the standard.\nOn many implementations it is 512 bytes; on a few systems, a\ndifferent unit is used, such as 1024. Furthermore, the unit\nmay differ on a per-filesystem basis.</p>\n\n<p style=\"margin-left:11%;\">Last access timestamp\n(atime)</p>\n\n<p style=\"margin-left:22%;\"><i>stat.st_atime</i>;\n<i>statx.stx_atime</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This is the\nfile&rsquo;s last access timestamp. It is changed by file\naccesses, for example, by <a href=\"https://man.page/2/execve\">execve(2)</a>, <a href=\"https://man.page/2/mknod\">mknod(2)</a>,\n<a href=\"https://man.page/2/pipe\">pipe(2)</a>, <a href=\"https://man.page/2/utime\">utime(2)</a>, and <a href=\"https://man.page/2/read\">read(2)</a> (of more\nthan zero bytes). Other interfaces, such as <a href=\"https://man.page/2/mmap\">mmap(2)</a>,\nmay or may not update the atime timestamp</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Some filesystem\ntypes allow mounting in such a way that file and/or\ndirectory accesses do not cause an update of the atime\ntimestamp. (See <i>noatime</i>, <i>nodiratime</i>, and\n<i>relatime</i> in <b>mount</b>(8), and related information\nin <a href=\"https://man.page/2/mount\">mount(2)</a>.) In addition, the atime timestamp is not\nupdated if a file is opened with the <b>O_NOATIME</b> flag;\nsee <a href=\"https://man.page/2/open\">open(2)</a>.</p>\n\n<p style=\"margin-left:11%;\">File creation (birth) timestamp\n(btime)</p>\n\n<p style=\"margin-left:22%;\">(not returned in the\n<i>stat</i> structure); <i>statx.stx_btime</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">The\nfile&rsquo;s creation timestamp. This is set on file\ncreation and not changed subsequently.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">The btime\ntimestamp was not historically present on UNIX systems and\nis not currently supported by most Linux filesystems.</p>\n\n<p style=\"margin-left:11%;\">Last modification timestamp\n(mtime)</p>\n\n<p style=\"margin-left:22%;\"><i>stat.st_mtime</i>;\n<i>statx.stx_mtime</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This is the\nfile&rsquo;s last modification timestamp. It is changed by\nfile modifications, for example, by <a href=\"https://man.page/2/mknod\">mknod(2)</a>,\n<a href=\"https://man.page/2/truncate\">truncate(2)</a>, <a href=\"https://man.page/2/utime\">utime(2)</a>, and <a href=\"https://man.page/2/write\">write(2)</a> (of\nmore than zero bytes). Moreover, the mtime timestamp of a\ndirectory is changed by the creation or deletion of files in\nthat directory. The mtime timestamp is <i>not</i> changed\nfor changes in owner, group, hard link count, or mode.</p>\n\n<p style=\"margin-left:11%;\">Last status change timestamp\n(ctime)</p>\n\n<p style=\"margin-left:22%;\"><i>stat.st_ctime</i>;\n<i>statx.stx_ctime</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This is the\nfile&rsquo;s last status change timestamp. It is changed by\nwriting or by setting inode information (i.e., owner, group,\nlink count, mode, etc.).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The timestamp\nfields report time measured with a zero point at the\n<i>Epoch</i>, 1970-01-02 00:00:00 +0000, UTC (see\n<a href=\"https://man.page/7/time\">time(7)</a>).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Nanosecond\ntimestamps are supported on XFS, JFS, Btrfs, and ext4 (since\nLinux 2.6.23). Nanosecond timestamps are not supported in\next2, ext3, and Reiserfs. In order to return timestamps with\nnanosecond precision, the timestamp fields in the\n<i>stat</i> and <i>statx</i> structures are defined as\nstructures that include a nanosecond component. See\n<a href=\"https://man.page/2/stat\">stat(2)</a> and <a href=\"https://man.page/2/statx\">statx(2)</a> for details. On\nfilesystems that do not support subsecond timestamps, the\nnanosecond fields in the <i>stat</i> and <i>statx</i>\nstructures are returned with the value 0.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>The file\ntype and mode</b> <br>\nThe <i>stat.st_mode</i> field (for <a href=\"https://man.page/2/statx\">statx(2)</a>, the\n<i>statx.stx_mode</i> field) contains the file type and\nmode.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX refers to\nthe <i>stat.st_mode</i> bits corresponding to the mask\n<b>S_IFMT</b> (see below) as the <i>file type</i>, the 12\nbits corresponding to the mask 07777 as the <i>file mode\nbits</i> and the least significant 9 bits (0777) as the\n<i>file permission bits</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\nmask values are defined for the file type:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"15%\"></td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"15%\"></td>\n<td width=\"8%\"></td>\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"15%\"></td>\n<td width=\"8%\"></td>\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"15%\"></td>\n<td width=\"8%\"></td>\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"15%\"></td>\n<td width=\"8%\"></td>\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"15%\"></td>\n<td width=\"8%\"></td>\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"15%\"></td>\n<td width=\"8%\"></td>\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"15%\"></td>\n<td width=\"8%\"></td>\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"62%\">\n</td></tr>\n</table>\n\n\n<p align=\"center\"><img src=\"grohtml-3539921.png\" alt=\"Image grohtml-3539921.png\"></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Thus, to test\nfor a regular file (for example), one could write:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">stat(pathname,\n&amp;sb); <br>\nif ((sb.st_mode &amp; S_IFMT) == S_IFREG) { <br>\n/* Handle regular file */ <br>\n}</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Because tests\nof the above form are common, additional macros are defined\nby POSIX to allow the test of the file type in\n<i>st_mode</i> to be written more concisely:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"17%\">\n\n\n<p><b>S_ISREG</b>(m)</p></td>\n<td width=\"1%\"></td>\n<td width=\"59%\">\n\n\n<p>is it a regular file?</p></td>\n<td width=\"6%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"17%\">\n\n\n<p><b>S_ISDIR</b>(m)</p></td>\n<td width=\"1%\"></td>\n<td width=\"59%\">\n\n\n<p>directory?</p></td>\n<td width=\"6%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"17%\">\n\n\n<p><b>S_ISCHR</b>(m)</p></td>\n<td width=\"1%\"></td>\n<td width=\"59%\">\n\n\n<p>character device?</p></td>\n<td width=\"6%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"17%\">\n\n\n<p><b>S_ISBLK</b>(m)</p></td>\n<td width=\"1%\"></td>\n<td width=\"59%\">\n\n\n<p>block device?</p></td>\n<td width=\"6%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"17%\">\n\n\n<p><b>S_ISFIFO</b>(m)</p></td>\n<td width=\"1%\"></td>\n<td width=\"59%\">\n\n\n<p>FIFO (named pipe)?</p></td>\n<td width=\"6%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"17%\">\n\n\n<p><b>S_ISLNK</b>(m)</p></td>\n<td width=\"1%\"></td>\n<td width=\"59%\">\n\n\n<p>symbolic link? (Not in POSIX.1-1996.)</p></td>\n<td width=\"6%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"17%\">\n\n\n<p><b>S_ISSOCK</b>(m)</p></td>\n<td width=\"1%\"></td>\n<td width=\"59%\">\n\n\n<p>socket? (Not in POSIX.1-1996.)</p></td>\n<td width=\"6%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The preceding\ncode snippet could thus be rewritten as:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">stat(pathname,\n&amp;sb); <br>\nif (S_ISREG(sb.st_mode)) { <br>\n/* Handle regular file */ <br>\n}</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The definitions\nof most of the above file type test macros are provided if\nany of the following feature test macros is defined:\n<b>_BSD_SOURCE</b> (in glibc 2.19 and earlier),\n<b>_SVID_SOURCE</b> (in glibc 2.19 and earlier), or\n<b>_DEFAULT_SOURCE</b> (in glibc 2.20 and later). In\naddition, definitions of all of the above macros except\n<b>S_IFSOCK</b> and <b>S_ISSOCK</b>() are provided if\n<b>_XOPEN_SOURCE</b> is defined.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The definition\nof <b>S_IFSOCK</b> can also be exposed either by defining\n<b>_XOPEN_SOURCE</b> with a value of 500 or greater or\n(since glibc 2.24) by defining both <b>_XOPEN_SOURCE</b> and\n<b>_XOPEN_SOURCE_EXTENDED</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The definition\nof <b>S_ISSOCK</b>() is exposed if any of the following\nfeature test macros is defined: <b>_BSD_SOURCE</b> (in glibc\n2.19 and earlier), <b>_DEFAULT_SOURCE</b> (in glibc 2.20 and\nlater), <b>_XOPEN_SOURCE</b> with a value of 500 or greater,\n<b>_POSIX_C_SOURCE</b> with a value of 200112L or greater,\nor (since glibc 2.24) by defining both <b>_XOPEN_SOURCE</b>\nand <b>_XOPEN_SOURCE_EXTENDED</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\nmask values are defined for the file mode component of the\n<i>st_mode</i> field:</p>\n\n\n<p align=\"center\" style=\"margin-top: 1em\"><img src=\"grohtml-3539922.png\" alt=\"Image grohtml-3539922.png\"></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\nset-group-ID bit (<b>S_ISGID</b>) has several special uses.\nFor a directory, it indicates that BSD semantics are to be\nused for that directory: files created there inherit their\ngroup ID from the directory, not from the effective group ID\nof the creating process, and directories created there will\nalso get the <b>S_ISGID</b> bit set. For an executable file,\nthe set-group-ID bit causes the effective group ID of a\nprocess that executes the file to change as described in\n<a href=\"https://man.page/2/execve\">execve(2)</a>. For a file that does not have the group\nexecution bit (<b>S_IXGRP</b>) set, the set-group-ID bit\nindicates mandatory file/record locking.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The sticky bit\n(<b>S_ISVTX</b>) on a directory means that a file in that\ndirectory can be renamed or deleted only by the owner of the\nfile, by the owner of the directory, and by a privileged\nprocess.</p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">If you need to\nobtain the definition of the <i>blkcnt_t</i> or\n<i>blksize_t</i> types from <i>&lt;sys/stat.h&gt;</i>, then\ndefine <b>_XOPEN_SOURCE</b> with the value 500 or greater\n(before including <i>any</i> header files).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-1990\ndid not describe the <b>S_IFMT</b>, <b>S_IFSOCK</b>,\n<b>S_IFLNK</b>, <b>S_IFREG</b>, <b>S_IFBLK</b>,\n<b>S_IFDIR</b>, <b>S_IFCHR</b>, <b>S_IFIFO</b>,\n<b>S_ISVTX</b> constants, but instead specified the use of\nthe macros <b>S_ISDIR</b>(), and so on. The <b>S_IF*</b>\nconstants are present in POSIX.1-2001 and later.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>S_ISLNK</b>() and <b>S_ISSOCK</b>() macros were not in\nPOSIX.1-1996, but both are present in POSIX.1-2001; the\nformer is from SVID 4, the latter from SUSv2.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">UNIX&nbsp;V7\n(and later systems) had <b>S_IREAD</b>, <b>S_IWRITE</b>,\n<b>S_IEXEC</b>, where POSIX prescribes the synonyms\n<b>S_IRUSR</b>, <b>S_IWUSR</b>, <b>S_IXUSR</b>.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For pseudofiles\nthat are autogenerated by the kernel, the file size\n(<i>stat.st_size</i>; <i>statx.stx_size</i>) reported by the\nkernel is not accurate. For example, the value 0 is returned\nfor many files under the <i>/proc</i> directory, while\nvarious files under <i>/sys</i> report a size of 4096 bytes,\neven though the file content is smaller. For such files, one\nshould simply try to read as many bytes as possible (and\nappend '\\0' to the returned buffer if it is to be\ninterpreted as a string).</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/stat\">stat(1)</a>,\n<a href=\"https://man.page/2/stat\">stat(2)</a>, <a href=\"https://man.page/2/statx\">statx(2)</a>, <a href=\"https://man.page/7/symlink\">symlink(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":7}