{"name":"evp_kdf-tls13_kdf","body":"\n\n<h1 align=\"center\">EVP_KDF-TLS13_KDF</h1>\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">EVP_KDF-TLS13_KDF\n- The TLS 1.3 EVP_KDF implementation</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Support for\ncomputing the <small>TLS 1.3</small> version of the\n<b><small>HKDF</small></b> <small>KDF</small> through the\n<b><small>EVP_KDF</small></b> <small>API.</small></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<small>EVP_KDF-TLS13_KDF</small> algorithm implements the\n<small>HKDF</small> key derivation function as used by\n<small>TLS 1.3.</small></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Identity</b>\n<br>\n&quot; <small>TLS13-KDF&quot;</small> is the name for this\nimplementation; it can be used with the\n<b>EVP_KDF_fetch()</b> function.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Supported\nparameters</b> <br>\nThe supported parameters are: <br>\n&quot;properties&quot; (\n<b><small>OSSL_KDF_PARAM_PROPERTIES</small></b> ) &lt;\n<small>UTF8</small> string&gt; <br>\n&quot;digest&quot; (\n<b><small>OSSL_KDF_PARAM_DIGEST</small></b> ) &lt;\n<small>UTF8</small> string&gt; <br>\n&quot;key&quot; ( <b><small>OSSL_KDF_PARAM_KEY</small></b> )\n&lt;octet string&gt; <br>\n&quot;salt&quot; ( <b><small>OSSL_KDF_PARAM_SALT</small></b>\n) &lt;octet string&gt;</p>\n\n<p style=\"margin-left:17%;\">These parameters work as\ndescribed in &quot; <small>PARAMETERS&quot;</small> in\n<b><small>EVP_KDF</small></b> (3).</p>\n\n<p style=\"margin-left:11%;\">&quot;prefix&quot; (\n<b><small>OSSL_KDF_PARAM_PREFIX</small></b> ) &lt;octet\nstring&gt;</p>\n\n<p style=\"margin-left:17%;\">This parameter sets the label\nprefix on the specified <small>TLS 1.3 KDF</small> context.\nFor <small>TLS 1.3</small> this should be set to the\n<small>ASCII</small> string &quot;tls13 &quot; without a\ntrailing zero byte. Refer to <small>RFC 8446</small> section\n7.1 &quot;Key Schedule&quot; for details.</p>\n\n<p style=\"margin-left:11%;\">&quot;label&quot; (\n<b><small>OSSL_KDF_PARAM_LABEL</small></b> ) &lt;octet\nstring&gt;</p>\n\n<p style=\"margin-left:17%;\">This parameter sets the label\non the specified <small>TLS 1.3 KDF</small> context. Refer\nto <small>RFC 8446</small> section 7.1 &quot;Key\nSchedule&quot; for details.</p>\n\n<p style=\"margin-left:11%;\">&quot;data&quot; (\n<b><small>OSSL_KDF_PARAM_DATA</small></b> ) &lt;octet\nstring&gt;</p>\n\n<p style=\"margin-left:17%;\">This parameter sets the context\ndata on the specified <small>TLS 1.3 KDF</small> context.\nRefer to <small>RFC 8446</small> section 7.1 &quot;Key\nSchedule&quot; for details.</p>\n\n<p style=\"margin-left:11%;\">&quot;mode&quot; (\n<b><small>OSSL_KDF_PARAM_MODE</small></b> ) &lt;\n<small>UTF8</small> string&gt; or &lt;integer&gt;</p>\n\n<p style=\"margin-left:17%;\">This parameter sets the mode\nfor the <small>TLS 1.3 KDF</small> operation. There are two\nmodes that are currently defined: <br>\n&quot; <small>EXTRACT_ONLY&quot;</small> or\n<b><small>EVP_KDF_HKDF_MODE_EXTRACT_ONLY</small></b></p>\n\n<p style=\"margin-left:23%;\">In this mode calling\n<a href=\"https://man.page/3/EVP_KDF_derive\">EVP_KDF_derive(3)</a> will just perform the extract\noperation. The value returned will be the intermediate\nfixed-length pseudorandom key K. The <i>keylen</i> parameter\nmust match the size of K, which can be looked up by calling\n<b>EVP_KDF_CTX_get_kdf_size()</b> after setting the mode and\ndigest.</p>\n\n<p style=\"margin-left:23%; margin-top: 1em\">The digest, key\nand salt values must be set before a key is derived\notherwise an error will occur.</p>\n\n<p style=\"margin-left:17%;\">&quot;\n<small>EXPAND_ONLY&quot;</small> or\n<b><small>EVP_KDF_HKDF_MODE_EXPAND_ONLY</small></b></p>\n\n<p style=\"margin-left:23%;\">In this mode calling\n<a href=\"https://man.page/3/EVP_KDF_derive\">EVP_KDF_derive(3)</a> will just perform the expand\noperation. The input key should be set to the intermediate\nfixed-length pseudorandom key K returned from a previous\nextract operation.</p>\n\n<p style=\"margin-left:23%; margin-top: 1em\">The digest, key\nand info values must be set before a key is derived\notherwise an error will occur.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This\n<small>KDF</small> is intended for use by the <small>TLS\n1.3</small> implementation in libssl. It does not support\nall the options and capabilities that <small>HKDF</small>\ndoes.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i><small>OSSL_PARAM</small></i> array passed to\n<a href=\"https://man.page/3/EVP_KDF_derive\">EVP_KDF_derive(3)</a> or <a href=\"https://man.page/3/EVP_KDF_CTX_set_params\">EVP_KDF_CTX_set_params(3)</a>\nmust specify all of the parameters required. This\n<small>KDF</small> does not support a piecemeal approach to\nproviding these.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">A context for a\n<small>TLS 1.3 KDF</small> can be obtained by calling:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">EVP_KDF *kdf =\nEVP_KDF_fetch(NULL, &quot;TLS13-KDF&quot;, NULL); <br>\nEVP_KDF_CTX *kctx = EVP_KDF_CTX_new(kdf);</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The output\nlength of a <small>TLS 1.3 KDF</small> expand operation is\nspecified via the <i>keylen</i> parameter to the\n<a href=\"https://man.page/3/EVP_KDF_derive\">EVP_KDF_derive(3)</a> function. When using\n<small>EVP_KDF_HKDF_MODE_EXTRACT_ONLY</small> the\n<i>keylen</i> parameter must equal the size of the\nintermediate fixed-length pseudorandom key otherwise an\nerror will occur. For that mode, the fixed output size can\nbe looked up by calling <b>EVP_KDF_CTX_get_kdf_size()</b>\nafter setting the mode and digest on the\n<b><small>EVP_KDF_CTX</small></b> .</p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><small>RFC\n8446</small></p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><small><b>EVP_KDF</b></small>\n(3), <a href=\"https://man.page/3/EVP_KDF_CTX_new\">EVP_KDF_CTX_new(3)</a>, <a href=\"https://man.page/3/EVP_KDF_CTX_free\">EVP_KDF_CTX_free(3)</a>,\n<a href=\"https://man.page/3/EVP_KDF_CTX_get_kdf_size\">EVP_KDF_CTX_get_kdf_size(3)</a>,\n<a href=\"https://man.page/3/EVP_KDF_CTX_set_params\">EVP_KDF_CTX_set_params(3)</a>, <a href=\"https://man.page/3/EVP_KDF_derive\">EVP_KDF_derive(3)</a>,\n&quot; <small>PARAMETERS&quot;</small> in\n<b><small>EVP_KDF</small></b> (3),\n<b><small>EVP_KDF-HKDF</small></b> (7)</p>\n\n<h2>COPYRIGHT\n<a name=\"COPYRIGHT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Copyright 2021\nThe OpenSSL Project Authors. All Rights Reserved.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Licensed under\nthe Apache License 2.0 (the &quot;License&quot;). You may\nnot use this file except in compliance with the License. You\ncan obtain a copy in the file <small>LICENSE</small> in the\nsource distribution or at\n&lt;https://www.openssl.org/source/license.html&gt;.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COPYRIGHT\">COPYRIGHT</a>"],"level":7}