{"name":"icmp","description":"icmp - Linux IPv4 ICMP kernel module.","body":"\n\n<h1 align=\"center\">ICMP</h1>\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">icmp - Linux\nIPv4 ICMP kernel module.</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This kernel\nprotocol module implements the Internet Control Message\nProtocol defined in RFC&nbsp;792. It is used to signal error\nconditions and for diagnosis. The user doesn&rsquo;t\ninteract directly with this module; instead it communicates\nwith the other protocols in the kernel and these pass the\nICMP errors to the application layers. The kernel ICMP\nmodule also answers ICMP requests.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">A user protocol\nmay receive ICMP packets for all local sockets by opening a\nraw socket with the protocol <b>IPPROTO_ICMP</b>. See\n<a href=\"https://man.page/7/raw\">raw(7)</a> for more information. The types of ICMP\npackets passed to the socket can be filtered using the\n<b>ICMP_FILTER</b> socket option. ICMP packets are always\nprocessed by the kernel too, even when passed to a user\nsocket.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Linux limits\nthe rate of ICMP error packets to each destination.\n<b>ICMP_REDIRECT</b> and <b>ICMP_DEST_UNREACH</b> are also\nlimited by the destination route of the incoming\npackets.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>/proc\ninterfaces</b> <br>\nICMP supports a set of <i>/proc</i> interfaces to configure\nsome global IP parameters. The parameters can be accessed by\nreading or writing files in the directory\n<i>/proc/sys/net/ipv4/</i>. Most of these parameters are\nrate limitations for specific ICMP types. Linux 2.2 uses a\ntoken bucket filter to limit ICMPs. The value is the timeout\nin jiffies until the token bucket filter is cleared after a\nburst. A jiffy is a system dependent unit, usually 10ms on\ni386 and about 1ms on alpha and ia64. <i><br>\nicmp_destunreach_rate</i> (Linux 2.2 to 2.4.9)</p>\n\n<p style=\"margin-left:22%;\">Maximum rate to send ICMP\nDestination Unreachable packets. This limits the rate at\nwhich packets are sent to any individual route or\ndestination. The limit does not affect sending of\n<b>ICMP_FRAG_NEEDED</b> packets needed for path MTU\ndiscovery.</p>\n\n<p style=\"margin-left:11%;\"><i>icmp_echo_ignore_all</i>\n(since Linux 2.2)</p>\n\n<p style=\"margin-left:22%;\">If this value is nonzero, Linux\nwill ignore all <b>ICMP_ECHO</b> requests.</p>\n\n\n<p style=\"margin-left:11%;\"><i>icmp_echo_ignore_broadcasts</i>\n(since Linux 2.2)</p>\n\n<p style=\"margin-left:22%;\">If this value is nonzero, Linux\nwill ignore all <b>ICMP_ECHO</b> packets sent to broadcast\naddresses.</p>\n\n<p style=\"margin-left:11%;\"><i>icmp_echoreply_rate</i>\n(Linux 2.2 to 2.4.9)</p>\n\n<p style=\"margin-left:22%;\">Maximum rate for sending\n<b>ICMP_ECHOREPLY</b> packets in response to\n<b>ICMP_ECHOREQUEST</b> packets.</p>\n\n\n<p style=\"margin-left:11%;\"><i>icmp_errors_use_inbound_ifaddr</i>\n(Boolean; default: disabled; since Linux <br>\n2.6.12)</p>\n\n<p style=\"margin-left:22%;\">If disabled, ICMP error\nmessages are sent with the primary address of the exiting\ninterface.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">If enabled, the\nmessage will be sent with the primary address of the\ninterface that received the packet that caused the ICMP\nerror. This is the behavior that many network administrators\nwill expect from a router. And it can make debugging\ncomplicated network layouts much easier.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Note that if no\nprimary address exists for the interface selected, then the\nprimary address of the first non-loopback interface that has\none will be used regardless of this setting.</p>\n\n\n<p style=\"margin-left:11%;\"><i>icmp_ignore_bogus_error_responses</i>\n(Boolean; default: disabled; since <br>\nLinux 2.2)</p>\n\n<p style=\"margin-left:22%;\">Some routers violate RFC1122 by\nsending bogus responses to broadcast frames. Such violations\nare normally logged via a kernel warning. If this parameter\nis enabled, the kernel will not give such warnings, which\nwill avoid log file clutter.</p>\n\n<p style=\"margin-left:11%;\"><i>icmp_paramprob_rate</i>\n(Linux 2.2 to 2.4.9)</p>\n\n<p style=\"margin-left:22%;\">Maximum rate for sending\n<b>ICMP_PARAMETERPROB</b> packets. These packets are sent\nwhen a packet arrives with an invalid IP header.</p>\n\n<p style=\"margin-left:11%;\"><i>icmp_ratelimit</i> (integer;\ndefault: 1000; since Linux 2.4.10)</p>\n\n<p style=\"margin-left:22%;\">Limit the maximum rates for\nsending ICMP packets whose type matches <i>icmp_ratemask</i>\n(see below) to specific targets. 0 to disable any limiting,\notherwise the minimum space between responses in\nmilliseconds.</p>\n\n<p style=\"margin-left:11%;\"><i>icmp_ratemask</i> (integer;\ndefault: see below; since Linux 2.4.10)</p>\n\n<p style=\"margin-left:22%;\">Mask made of ICMP types for\nwhich rates are being limited.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Significant\nbits: IHGFEDCBA9876543210 <br>\nDefault mask: 0000001100000011000 (0x1818)</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Bit definitions\n(see the Linux kernel source file\n<i>include/linux/icmp.h</i>):</p>\n\n\n<p align=\"center\" style=\"margin-top: 1em\"><img src=\"grohtml-3535511.png\" alt=\"Image grohtml-3535511.png\"></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The bits marked\nwith an asterisk are rate limited by default (see the\ndefault mask above). <i><br>\nicmp_timeexceed_rate</i> (Linux 2.2 to 2.4.9)</p>\n\n<p style=\"margin-left:22%;\">Maximum rate for sending\n<b>ICMP_TIME_EXCEEDED</b> packets. These packets are sent to\nprevent loops when a packet has crossed too many hops.</p>\n\n<p style=\"margin-left:11%;\"><i>ping_group_range</i> (two\nintegers; default: see below; since Linux 2.6.39)</p>\n\n<p style=\"margin-left:22%;\">Range of the group IDs (minimum\nand maximum group IDs, inclusive) that are allowed to create\nICMP Echo sockets. The default is &quot;1 0&quot;, which\nmeans no group is allowed to create ICMP Echo sockets.</p>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Support for the\n<b>ICMP_ADDRESS</b> request was removed in 2.2.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Support for\n<b>ICMP_SOURCE_QUENCH</b> was removed in Linux 2.2.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">As many other\nimplementations don&rsquo;t support <b>IPPROTO_ICMP</b> raw\nsockets, this feature should not be relied on in portable\nprograms.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>ICMP_REDIRECT</b>\npackets are not sent when Linux is not acting as a router.\nThey are also accepted only from the old gateway defined in\nthe routing table and the redirect routes are expired after\nsome time.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The 64-bit\ntimestamp returned by <b>ICMP_TIMESTAMP</b> is in\nmilliseconds since the Epoch, 1970-01-01 00:00:00 +0000\n(UTC).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Linux ICMP\ninternally uses a raw socket to send ICMPs. This raw socket\nmay appear in <b>netstat</b>(8) output with a zero\ninode.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/7/ip\">ip(7)</a>,\n<b>rdisc</b>(8)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">RFC&nbsp;792\nfor a description of the ICMP protocol.</p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":7}