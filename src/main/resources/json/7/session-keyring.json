{"name":"session-keyring","description":"session-keyring\n- session shared process keyring\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\nThe session\nkeyring is a keyring used to anchor keys on behalf of a\nprocess. It is typically created by <b>pam_keyinit</b>(8)\nwhen a user logs in and a link will be added that refers to\nthe <a href=\"https://man.page/7/user-keyring\">user-keyring(7)</a>. Optionally, PAM may revoke the\nsession keyring on logout. (In typical configurations, PAM\ndoes do this revocation.) The session keyring has the name\n(description) <i>_ses</i>.\n\nA special\nserial number value, <b>KEY_SPEC_SESSION_KEYRING</b>, is\ndefined that can be used in lieu of the actual serial number\nof the calling process&rsquo;s session keyring.\n\nFrom the\n<a href=\"https://man.page/1/keyctl\">keyctl(1)</a> utility, &rsquo;<b>@s</b>&rsquo; can be\nused instead of a numeric key ID in much the same way.\n\nA\nprocess&rsquo;s session keyring is inherited across\n<a href=\"https://man.page/2/clone\">clone(2)</a>, <a href=\"https://man.page/2/fork\">fork(2)</a>, and <a href=\"https://man.page/2/vfork\">vfork(2)</a>. The\nsession keyring is preserved across <a href=\"https://man.page/2/execve\">execve(2)</a>, even\nwhen the executable is set-user-ID or set-group-ID or has\ncapabilities. The session keyring is destroyed when the last\nprocess that refers to it exits.\n\nIf a process\ndoesn&rsquo;t have a session keyring when it is accessed,\nthen, under certain circumstances, the\n<a href=\"https://man.page/7/user-session-keyring\">user-session-keyring(7)</a> will be attached as the\nsession keyring and under others a new session keyring will\nbe created. (See <a href=\"https://man.page/7/user-session-keyring\">user-session-keyring(7)</a> for further\ndetails.)\n\n<b>Special\noperations</b> <br>\nThe <i>keyutils</i> library provides the following special\noperations for manipulating session keyrings: <b><br>\nkeyctl_join_session_keyring</b>(3)\n\n<p style=\"margin-left:22%;\">This operation allows the\ncaller to change the session keyring that it subscribes to.\nThe caller can join an existing keyring with a specified\nname (description), create a new keyring with a given name,\nor ask the kernel to create a new &quot;anonymous&quot;\nsession keyring with the name &quot;_ses&quot;. (This\nfunction is an interface to the <a href=\"https://man.page/2/keyctl\">keyctl(2)</a>\n<b>KEYCTL_JOIN_SESSION_KEYRING</b> operation.)\n\n\n<p style=\"margin-left:11%;\"><a href=\"https://man.page/3/keyctl_session_to_parent\">keyctl_session_to_parent(3)</a>\n\n<p style=\"margin-left:22%;\">This operation allows the\ncaller to make the parent process&rsquo;s session keyring to\nthe same as its own. For this to succeed, the parent process\nmust have identical security attributes and must be single\nthreaded. (This function is an interface to the\n<a href=\"https://man.page/2/keyctl\">keyctl(2)</a> <b>KEYCTL_SESSION_TO_PARENT</b>\noperation.)\n\nThese\noperations are also exposed through the <a href=\"https://man.page/1/keyctl\">keyctl(1)</a>\nutility as:\n\n<p style=\"margin-left:17%; margin-top: 1em\">keyctl session\n<br>\nkeyctl session - [&lt;prog&gt; &lt;arg1&gt; &lt;arg2&gt;\n...] <br>\nkeyctl session &lt;name&gt; [&lt;prog&gt; &lt;arg1&gt;\n&lt;arg2&gt; ...]\n\nand:\n\n<p style=\"margin-left:17%; margin-top: 1em\">keyctl\nnew_session\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<a href=\"https://man.page/1/keyctl\">keyctl(1)</a>,\n<a href=\"https://man.page/3/keyctl\">keyctl(3)</a>, <a href=\"https://man.page/3/keyctl_join_session_keyring\">keyctl_join_session_keyring(3)</a>,\n<a href=\"https://man.page/3/keyctl_session_to_parent\">keyctl_session_to_parent(3)</a>, <a href=\"https://man.page/7/keyrings\">keyrings(7)</a>,\n<a href=\"https://man.page/7/persistent-keyring\">persistent-keyring(7)</a>, <a href=\"https://man.page/7/process-keyring\">process-keyring(7)</a>,\n<a href=\"https://man.page/7/thread-keyring\">thread-keyring(7)</a>, <a href=\"https://man.page/7/user-keyring\">user-keyring(7)</a>,\n<a href=\"https://man.page/7/user-session-keyring\">user-session-keyring(7)</a>, <b>pam_keyinit</b>(8)\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\nThis page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.","body":"\n\n<h1 align=\"center\">SESSION-KEYRING</h1>\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">session-keyring\n- session shared process keyring</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The session\nkeyring is a keyring used to anchor keys on behalf of a\nprocess. It is typically created by <b>pam_keyinit</b>(8)\nwhen a user logs in and a link will be added that refers to\nthe <a href=\"https://man.page/7/user-keyring\">user-keyring(7)</a>. Optionally, PAM may revoke the\nsession keyring on logout. (In typical configurations, PAM\ndoes do this revocation.) The session keyring has the name\n(description) <i>_ses</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">A special\nserial number value, <b>KEY_SPEC_SESSION_KEYRING</b>, is\ndefined that can be used in lieu of the actual serial number\nof the calling process&rsquo;s session keyring.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">From the\n<a href=\"https://man.page/1/keyctl\">keyctl(1)</a> utility, &rsquo;<b>@s</b>&rsquo; can be\nused instead of a numeric key ID in much the same way.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">A\nprocess&rsquo;s session keyring is inherited across\n<a href=\"https://man.page/2/clone\">clone(2)</a>, <a href=\"https://man.page/2/fork\">fork(2)</a>, and <a href=\"https://man.page/2/vfork\">vfork(2)</a>. The\nsession keyring is preserved across <a href=\"https://man.page/2/execve\">execve(2)</a>, even\nwhen the executable is set-user-ID or set-group-ID or has\ncapabilities. The session keyring is destroyed when the last\nprocess that refers to it exits.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If a process\ndoesn&rsquo;t have a session keyring when it is accessed,\nthen, under certain circumstances, the\n<a href=\"https://man.page/7/user-session-keyring\">user-session-keyring(7)</a> will be attached as the\nsession keyring and under others a new session keyring will\nbe created. (See <a href=\"https://man.page/7/user-session-keyring\">user-session-keyring(7)</a> for further\ndetails.)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Special\noperations</b> <br>\nThe <i>keyutils</i> library provides the following special\noperations for manipulating session keyrings: <b><br>\nkeyctl_join_session_keyring</b>(3)</p>\n\n<p style=\"margin-left:22%;\">This operation allows the\ncaller to change the session keyring that it subscribes to.\nThe caller can join an existing keyring with a specified\nname (description), create a new keyring with a given name,\nor ask the kernel to create a new &quot;anonymous&quot;\nsession keyring with the name &quot;_ses&quot;. (This\nfunction is an interface to the <a href=\"https://man.page/2/keyctl\">keyctl(2)</a>\n<b>KEYCTL_JOIN_SESSION_KEYRING</b> operation.)</p>\n\n\n<p style=\"margin-left:11%;\"><a href=\"https://man.page/3/keyctl_session_to_parent\">keyctl_session_to_parent(3)</a></p>\n\n<p style=\"margin-left:22%;\">This operation allows the\ncaller to make the parent process&rsquo;s session keyring to\nthe same as its own. For this to succeed, the parent process\nmust have identical security attributes and must be single\nthreaded. (This function is an interface to the\n<a href=\"https://man.page/2/keyctl\">keyctl(2)</a> <b>KEYCTL_SESSION_TO_PARENT</b>\noperation.)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">These\noperations are also exposed through the <a href=\"https://man.page/1/keyctl\">keyctl(1)</a>\nutility as:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">keyctl session\n<br>\nkeyctl session - [&lt;prog&gt; &lt;arg1&gt; &lt;arg2&gt;\n...] <br>\nkeyctl session &lt;name&gt; [&lt;prog&gt; &lt;arg1&gt;\n&lt;arg2&gt; ...]</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">and:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">keyctl\nnew_session</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/keyctl\">keyctl(1)</a>,\n<a href=\"https://man.page/3/keyctl\">keyctl(3)</a>, <a href=\"https://man.page/3/keyctl_join_session_keyring\">keyctl_join_session_keyring(3)</a>,\n<a href=\"https://man.page/3/keyctl_session_to_parent\">keyctl_session_to_parent(3)</a>, <a href=\"https://man.page/7/keyrings\">keyrings(7)</a>,\n<a href=\"https://man.page/7/persistent-keyring\">persistent-keyring(7)</a>, <a href=\"https://man.page/7/process-keyring\">process-keyring(7)</a>,\n<a href=\"https://man.page/7/thread-keyring\">thread-keyring(7)</a>, <a href=\"https://man.page/7/user-keyring\">user-keyring(7)</a>,\n<a href=\"https://man.page/7/user-session-keyring\">user-session-keyring(7)</a>, <b>pam_keyinit</b>(8)</p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":7}