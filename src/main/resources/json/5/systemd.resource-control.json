{"name":"systemd.resource-control","body":"\n\n<h1 align=\"center\">SYSTEMD.RESOURCE-CONTROL</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">systemd.resource-control\n- Resource control unit settings</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>slice</i>.slice,\n<i>scope</i>.scope, <i>service</i>.service,\n<i>socket</i>.socket, <i>mount</i>.mount,\n<i>swap</i>.swap</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Unit\nconfiguration files for services, slices, scopes, sockets,\nmount points, and swap devices share a subset of\nconfiguration options for resource control of spawned\nprocesses. Internally, this relies on the Linux Control\nGroups (cgroups) kernel concept for organizing processes in\na hierarchical tree of named groups for the purpose of\nresource management.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This man page\nlists the configuration options shared by those six unit\ntypes. See <b>systemd.unit</b>(5) for the common options of\nall unit configuration files, and <b>systemd.slice</b>(5),\n<b>systemd.scope</b>(5), <b>systemd.service</b>(5),\n<b>systemd.socket</b>(5), <b>systemd.mount</b>(5), and\n<b>systemd.swap</b>(5) for more information on the specific\nunit configuration files. The resource control configuration\noptions are configured in the [Slice], [Scope], [Service],\n[Socket], [Mount], or [Swap] sections, depending on the unit\ntype.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In addition,\noptions which control resources available to programs\n<i>executed</i> by systemd are listed in\n<b>systemd.exec</b>(5). Those options complement options\nlisted here.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">See the\n<b><font color=\"#0000FF\">New Control Group\nInterfaces</font></b>\n<small><font color=\"#000000\">[1]</font></small>\n<font color=\"#000000\">for an introduction on how to make use\nof resource control APIs from programs.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Setting\nresource controls for a group of related units</b> <br>\nAs described in <b>systemd.unit</b>(5), the settings listed\nhere may be set through the main file of a unit and drop-in\nsnippets in *.d/ directories. The list of directories\nsearched for drop-ins includes names formed by repeatedly\ntruncating the unit name after all dashes. This is\nparticularly convenient to set resource limits for a group\nof units with similar names.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">For\nexample, every user gets their own slice\nuser-<i>nnn</i>.slice. Drop-ins with local configuration\nthat affect user 1000 may be placed in\n/etc/systemd/system/user-1000.slice,\n/etc/systemd/system/user-1000.slice.d/*.conf, but also\n/etc/systemd/system/user-.slice.d/*.conf. This last\ndirectory applies to all user slices.</font></p>\n\n<h2>IMPLICIT DEPENDENCIES\n<a name=\"IMPLICIT DEPENDENCIES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">The\nfollowing dependencies are implicitly added:</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">&bull;\nUnits with the <i>Slice=</i> setting set automatically\nacquire <i>Requires=</i> and <i>After=</i> dependencies on\nthe specified slice unit.</font></p>\n\n<h2>UNIFIED AND LEGACY CONTROL GROUP HIERARCHIES\n<a name=\"UNIFIED AND LEGACY CONTROL GROUP HIERARCHIES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">The\nunified control group hierarchy is the new version of kernel\ncontrol group interface, see</font>\n<b><font color=\"#0000FF\">Control Groups v2</font></b>\n<small><font color=\"#000000\">[2]</font></small>\n<font color=\"#000000\">. Depending on the resource type,\nthere are differences in resource control capabilities.\nAlso, because of interface changes, some resource types have\nseparate set of options on the unified hierarchy.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">CPU</font></p>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\"><i>CPUWeight=</i>\nand <i>StartupCPUWeight=</i> replace <i>CPUShares=</i> and\n<i>StartupCPUShares=</i>, respectively.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">The\n&quot;cpuacct&quot; controller does not exist separately on\nthe unified hierarchy.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Memory</font></p>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\"><i>MemoryMax=</i>\nreplaces <i>MemoryLimit=</i>. <i>MemoryLow=</i> and\n<i>MemoryHigh=</i> are effective only on unified\nhierarchy.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">IO</font></p>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">&quot;IO&quot;-prefixed\nsettings are a superset of and replace\n&quot;BlockIO&quot;-prefixed ones. On unified hierarchy, IO\nresource control also applies to buffered writes.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">To\nease the transition, there is best-effort translation\nbetween the two versions of settings. For each controller,\nif any of the settings for the unified hierarchy are\npresent, all settings for the legacy hierarchy are ignored.\nIf the resulting settings are for the other type of\nhierarchy, the configurations are translated before\napplication.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Legacy\ncontrol group hierarchy (see</font>\n<b><font color=\"#0000FF\">Control Groups version 1</font></b>\n<small><font color=\"#000000\">[3]</font></small>\n<font color=\"#000000\">), also called cgroup-v1, doesn't\nallow safe delegation of controllers to unprivileged\nprocesses. If the system uses the legacy control group\nhierarchy, resource control is disabled for the systemd user\ninstance, see <a href=\"https://man.page/1/systemd\">systemd(1)</a>.</font></p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Units\nof the types listed above can have settings for resource\ncontrol configuration:</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>CPUAccounting=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Turn on\nCPU usage accounting for this unit. Takes a boolean\nargument. Note that turning on CPU accounting for one unit\nwill also implicitly turn it on for all units contained in\nthe same slice and for all its parent slices and the units\ncontained therein. The system default for this setting may\nbe controlled with <i>DefaultCPUAccounting=</i> in\n<b>systemd-system.conf</b>(5).</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>CPUWeight=weight</i>,\n<i>StartupCPUWeight=weight</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Assign\nthe specified CPU time weight to the processes executed, if\nthe unified control group hierarchy is used on the system.\nThese options take an integer value and control the\n&quot;cpu.weight&quot; control group attribute. The allowed\nrange is 1 to 10000. Defaults to 100. For details about this\ncontrol group attribute, see</font>\n<b><font color=\"#0000FF\">Control Groups v2</font></b>\n<small><font color=\"#000000\">[2]</font></small>\n<font color=\"#000000\">and</font>\n<b><font color=\"#0000FF\">CFS Scheduler</font></b>\n<small><font color=\"#000000\">[4]</font></small>\n<font color=\"#000000\">. The available CPU time is split up\namong all units within one slice relative to their CPU time\nweight. A higher weight means more CPU time, a lower weight\nmeans less.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">While\n<i>StartupCPUWeight=</i> only applies to the startup phase\nof the system, <i>CPUWeight=</i> applies to normal runtime\nof the system, and if the former is not set also to the\nstartup phase. Using <i>StartupCPUWeight=</i> allows\nprioritizing specific services at boot-up differently than\nduring normal runtime.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">These\nsettings replace <i>CPUShares=</i> and\n<i>StartupCPUShares=</i>.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>CPUQuota=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Assign\nthe specified CPU time quota to the processes executed.\nTakes a percentage value, suffixed with &quot;%&quot;. The\npercentage specifies how much CPU time the unit shall get at\nmaximum, relative to the total CPU time available on one\nCPU. Use values &gt; 100% for allotting CPU time on more\nthan one CPU. This controls the &quot;cpu.max&quot;\nattribute on the unified control group hierarchy and\n&quot;cpu.cfs_quota_us&quot; on legacy. For details about\nthese control group attributes, see</font>\n<b><font color=\"#0000FF\">Control Groups v2</font></b>\n<small><font color=\"#000000\">[2]</font></small>\n<font color=\"#000000\">and</font>\n<b><font color=\"#0000FF\">sched-bwc.txt</font></b>\n<small><font color=\"#000000\">[5]</font></small>\n<font color=\"#000000\">. Setting <i>CPUQuota=</i> to an empty\nvalue unsets the quota.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Example:\n<i>CPUQuota=20%</i> ensures that the executed processes will\nnever get more than 20% CPU time on one CPU.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>CPUQuotaPeriodSec=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Assign\nthe duration over which the CPU time quota specified by\n<i>CPUQuota=</i> is measured. Takes a time duration value in\nseconds, with an optional suffix such as &quot;ms&quot; for\nmilliseconds (or &quot;s&quot; for seconds.) The default\nsetting is 100ms. The period is clamped to the range\nsupported by the kernel, which is [1ms, 1000ms].\nAdditionally, the period is adjusted up so that the quota\ninterval is also at least 1ms. Setting\n<i>CPUQuotaPeriodSec=</i> to an empty value resets it to the\ndefault.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\ncontrols the second field of &quot;cpu.max&quot; attribute\non the unified control group hierarchy and\n&quot;cpu.cfs_period_us&quot; on legacy. For details about\nthese control group attributes, see</font>\n<b><font color=\"#0000FF\">Control Groups v2</font></b>\n<small><font color=\"#000000\">[2]</font></small>\n<font color=\"#000000\">and</font>\n<b><font color=\"#0000FF\">CFS Scheduler</font></b>\n<small><font color=\"#000000\">[4]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Example:\n<i>CPUQuotaPeriodSec=10ms</i> to request that the CPU quota\nis measured in periods of 10ms.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>AllowedCPUs=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Restrict\nprocesses to be executed on specific CPUs. Takes a list of\nCPU indices or ranges separated by either whitespace or\ncommas. CPU ranges are specified by the lower and upper CPU\nindices separated by a dash.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Setting\n<i>AllowedCPUs=</i> doesn't guarantee that all of the CPUs\nwill be used by the processes as it may be limited by parent\nunits. The effective configuration is reported as\n<i>EffectiveCPUs=</i>.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\nsetting is supported only with the unified control group\nhierarchy.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>AllowedMemoryNodes=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Restrict\nprocesses to be executed on specific memory NUMA nodes.\nTakes a list of memory NUMA nodes indices or ranges\nseparated by either whitespace or commas. Memory NUMA nodes\nranges are specified by the lower and upper NUMA nodes\nindices separated by a dash.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Setting\n<i>AllowedMemoryNodes=</i> doesn't guarantee that all of the\nmemory NUMA nodes will be used by the processes as it may be\nlimited by parent units. The effective configuration is\nreported as <i>EffectiveMemoryNodes=</i>.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\nsetting is supported only with the unified control group\nhierarchy.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>MemoryAccounting=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Turn on\nprocess and kernel memory accounting for this unit. Takes a\nboolean argument. Note that turning on memory accounting for\none unit will also implicitly turn it on for all units\ncontained in the same slice and for all its parent slices\nand the units contained therein. The system default for this\nsetting may be controlled with\n<i>DefaultMemoryAccounting=</i> in\n<b>systemd-system.conf</b>(5).</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>MemoryMin=bytes</i>,\n<i>MemoryLow=bytes</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Specify\nthe memory usage protection of the executed processes in\nthis unit. When reclaiming memory, the unit is treated as if\nit was using less memory resulting in memory to be\npreferentially reclaimed from unprotected units. Using\n<i>MemoryLow=</i> results in a weaker protection where\nmemory may still be reclaimed to avoid invoking the OOM\nkiller in case there is no other reclaimable\nmemory.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">For\na protection to be effective, it is generally required to\nset a corresponding allocation on all ancestors, which is\nthen distributed between children (with the exception of the\nroot slice). Any <i>MemoryMin=</i> or <i>MemoryLow=</i>\nallocation that is not explicitly distributed to specific\nchildren is used to create a shared protection for all\nchildren. As this is a shared protection, the children will\nfreely compete for the memory.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Takes\na memory size in bytes. If the value is suffixed with K, M,\nG or T, the specified memory size is parsed as Kilobytes,\nMegabytes, Gigabytes, or Terabytes (with the base 1024),\nrespectively. Alternatively, a percentage value may be\nspecified, which is taken relative to the installed physical\nmemory on the system. If assigned the special value\n&quot;infinity&quot;, all available memory is protected,\nwhich may be useful in order to always inherit all of the\nprotection afforded by ancestors. This controls the\n&quot;memory.min&quot; or &quot;memory.low&quot; control\ngroup attribute. For details about this control group\nattribute, see</font> <b><font color=\"#0000FF\">Memory\nInterface Files</font></b>\n<small><font color=\"#000000\">[6]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\nsetting is supported only if the unified control group\nhierarchy is used and disables\n<i>MemoryLimit=</i>.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Units\nmay have their children use a default &quot;memory.min&quot;\nor &quot;memory.low&quot; value by specifying\n<i>DefaultMemoryMin=</i> or <i>DefaultMemoryLow=</i>, which\nhas the same semantics as <i>MemoryMin=</i> and\n<i>MemoryLow=</i>. This setting does not affect\n&quot;memory.min&quot; or &quot;memory.low&quot; in the unit\nitself. Using it to set a default child allocation is only\nuseful on kernels older than 5.7, which do not support the\n&quot;memory_recursiveprot&quot; cgroup2 mount\noption.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>MemoryHigh=bytes</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Specify\nthe throttling limit on memory usage of the executed\nprocesses in this unit. Memory usage may go above the limit\nif unavoidable, but the processes are heavily slowed down\nand memory is taken away aggressively in such cases. This is\nthe main mechanism to control memory usage of a\nunit.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Takes\na memory size in bytes. If the value is suffixed with K, M,\nG or T, the specified memory size is parsed as Kilobytes,\nMegabytes, Gigabytes, or Terabytes (with the base 1024),\nrespectively. Alternatively, a percentage value may be\nspecified, which is taken relative to the installed physical\nmemory on the system. If assigned the special value\n&quot;infinity&quot;, no memory throttling is applied. This\ncontrols the &quot;memory.high&quot; control group\nattribute. For details about this control group attribute,\nsee</font> <b><font color=\"#0000FF\">Memory Interface\nFiles</font></b>\n<small><font color=\"#000000\">[6]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\nsetting is supported only if the unified control group\nhierarchy is used and disables\n<i>MemoryLimit=</i>.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>MemoryMax=bytes</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Specify\nthe absolute limit on memory usage of the executed processes\nin this unit. If memory usage cannot be contained under the\nlimit, out-of-memory killer is invoked inside the unit. It\nis recommended to use <i>MemoryHigh=</i> as the main control\nmechanism and use <i>MemoryMax=</i> as the last line of\ndefense.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Takes\na memory size in bytes. If the value is suffixed with K, M,\nG or T, the specified memory size is parsed as Kilobytes,\nMegabytes, Gigabytes, or Terabytes (with the base 1024),\nrespectively. Alternatively, a percentage value may be\nspecified, which is taken relative to the installed physical\nmemory on the system. If assigned the special value\n&quot;infinity&quot;, no memory limit is applied. This\ncontrols the &quot;memory.max&quot; control group attribute.\nFor details about this control group attribute, see</font>\n<b><font color=\"#0000FF\">Memory Interface Files</font></b>\n<small><font color=\"#000000\">[6]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\nsetting replaces <i>MemoryLimit=</i>.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>MemorySwapMax=bytes</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Specify\nthe absolute limit on swap usage of the executed processes\nin this unit.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Takes\na swap size in bytes. If the value is suffixed with K, M, G\nor T, the specified swap size is parsed as Kilobytes,\nMegabytes, Gigabytes, or Terabytes (with the base 1024),\nrespectively. If assigned the special value\n&quot;infinity&quot;, no swap limit is applied. This\ncontrols the &quot;memory.swap.max&quot; control group\nattribute. For details about this control group attribute,\nsee</font> <b><font color=\"#0000FF\">Memory Interface\nFiles</font></b>\n<small><font color=\"#000000\">[6]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\nsetting is supported only if the unified control group\nhierarchy is used and disables\n<i>MemoryLimit=</i>.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>TasksAccounting=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Turn on\ntask accounting for this unit. Takes a boolean argument. If\nenabled, the system manager will keep track of the number of\ntasks in the unit. The number of tasks accounted this way\nincludes both kernel threads and userspace processes, with\neach thread counting individually. Note that turning on\ntasks accounting for one unit will also implicitly turn it\non for all units contained in the same slice and for all its\nparent slices and the units contained therein. The system\ndefault for this setting may be controlled with\n<i>DefaultTasksAccounting=</i> in\n<b>systemd-system.conf</b>(5).</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>TasksMax=N</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Specify\nthe maximum number of tasks that may be created in the unit.\nThis ensures that the number of tasks accounted for the unit\n(see above) stays below a specific limit. This either takes\nan absolute number of tasks or a percentage value that is\ntaken relative to the configured maximum number of tasks on\nthe system. If assigned the special value\n&quot;infinity&quot;, no tasks limit is applied. This\ncontrols the &quot;pids.max&quot; control group attribute.\nFor details about this control group attribute, see</font>\n<b><font color=\"#0000FF\">Process Number\nController</font></b>\n<small><font color=\"#000000\">[7]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">The\nsystem default for this setting may be controlled with\n<i>DefaultTasksMax=</i> in\n<b>systemd-system.conf</b>(5).</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>IOAccounting=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Turn on\nBlock I/O accounting for this unit, if the unified control\ngroup hierarchy is used on the system. Takes a boolean\nargument. Note that turning on block I/O accounting for one\nunit will also implicitly turn it on for all units contained\nin the same slice and all for its parent slices and the\nunits contained therein. The system default for this setting\nmay be controlled with <i>DefaultIOAccounting=</i> in\n<b>systemd-system.conf</b>(5).</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\nsetting replaces <i>BlockIOAccounting=</i> and disables\nsettings prefixed with <i>BlockIO</i> or\n<i>StartupBlockIO</i>.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>IOWeight=weight</i>,\n<i>StartupIOWeight=weight</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Set the\ndefault overall block I/O weight for the executed processes,\nif the unified control group hierarchy is used on the\nsystem. Takes a single weight value (between 1 and 10000) to\nset the default block I/O weight. This controls the\n&quot;io.weight&quot; control group attribute, which\ndefaults to 100. For details about this control group\nattribute, see</font> <b><font color=\"#0000FF\">IO Interface\nFiles</font></b>\n<small><font color=\"#000000\">[8]</font></small>\n<font color=\"#000000\">. The available I/O bandwidth is split\nup among all units within one slice relative to their block\nI/O weight. A higher weight means more I/O bandwidth, a\nlower weight means less.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">While\n<i>StartupIOWeight=</i> only applies to the startup phase of\nthe system, <i>IOWeight=</i> applies to the later runtime of\nthe system, and if the former is not set also to the startup\nphase. This allows prioritizing specific services at boot-up\ndifferently than during runtime.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">These\nsettings replace <i>BlockIOWeight=</i> and\n<i>StartupBlockIOWeight=</i> and disable settings prefixed\nwith <i>BlockIO</i> or <i>StartupBlockIO</i>.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>IODeviceWeight=device\nweight</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Set the\nper-device overall block I/O weight for the executed\nprocesses, if the unified control group hierarchy is used on\nthe system. Takes a space-separated pair of a file path and\na weight value to specify the device specific weight value,\nbetween 1 and 10000. (Example: &quot;/dev/sda 1000&quot;).\nThe file path may be specified as path to a block device\nnode or as any other file, in which case the backing block\ndevice of the file system of the file is determined. This\ncontrols the &quot;io.weight&quot; control group attribute,\nwhich defaults to 100. Use this option multiple times to set\nweights for multiple devices. For details about this control\ngroup attribute, see</font> <b><font color=\"#0000FF\">IO\nInterface Files</font></b>\n<small><font color=\"#000000\">[8]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\nsetting replaces <i>BlockIODeviceWeight=</i> and disables\nsettings prefixed with <i>BlockIO</i> or\n<i>StartupBlockIO</i>.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">The\nspecified device node should reference a block device that\nhas an I/O scheduler associated, i.e. should not refer to\npartition or loopback block devices, but to the originating,\nphysical device. When a path to a regular file or directory\nis specified it is attempted to discover the correct\noriginating device backing the file system of the specified\npath. This works correctly only for simpler cases, where the\nfile system is directly placed on a partition or physical\nblock device, or where simple 1:1 encryption using\ndm-crypt/LUKS is used. This discovery does not cover complex\nstorage and in particular RAID and volume management storage\ndevices.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>IOReadBandwidthMax=device\nbytes</i>, <i>IOWriteBandwidthMax=device\nbytes</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Set the\nper-device overall block I/O bandwidth maximum limit for the\nexecuted processes, if the unified control group hierarchy\nis used on the system. This limit is not work-conserving and\nthe executed processes are not allowed to use more even if\nthe device has idle capacity. Takes a space-separated pair\nof a file path and a bandwidth value (in bytes per second)\nto specify the device specific bandwidth. The file path may\nbe a path to a block device node, or as any other file in\nwhich case the backing block device of the file system of\nthe file is used. If the bandwidth is suffixed with K, M, G,\nor T, the specified bandwidth is parsed as Kilobytes,\nMegabytes, Gigabytes, or Terabytes, respectively, to the\nbase of 1000. (Example:\n&quot;/dev/disk/by-path/pci-0000:00:1f.2-scsi-0:0:0:0\n5M&quot;). This controls the &quot;io.max&quot; control\ngroup attributes. Use this option multiple times to set\nbandwidth limits for multiple devices. For details about\nthis control group attribute, see</font>\n<b><font color=\"#0000FF\">IO Interface Files</font></b>\n<small><font color=\"#000000\">[8]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">These\nsettings replace <i>BlockIOReadBandwidth=</i> and\n<i>BlockIOWriteBandwidth=</i> and disable settings prefixed\nwith <i>BlockIO</i> or <i>StartupBlockIO</i>.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Similar\nrestrictions on block device discovery as for\n<i>IODeviceWeight=</i> apply, see above.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>IOReadIOPSMax=device\nIOPS</i>, <i>IOWriteIOPSMax=device IOPS</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Set the\nper-device overall block I/O IOs-Per-Second maximum limit\nfor the executed processes, if the unified control group\nhierarchy is used on the system. This limit is not\nwork-conserving and the executed processes are not allowed\nto use more even if the device has idle capacity. Takes a\nspace-separated pair of a file path and an IOPS value to\nspecify the device specific IOPS. The file path may be a\npath to a block device node, or as any other file in which\ncase the backing block device of the file system of the file\nis used. If the IOPS is suffixed with K, M, G, or T, the\nspecified IOPS is parsed as KiloIOPS, MegaIOPS, GigaIOPS, or\nTeraIOPS, respectively, to the base of 1000. (Example:\n&quot;/dev/disk/by-path/pci-0000:00:1f.2-scsi-0:0:0:0\n1K&quot;). This controls the &quot;io.max&quot; control\ngroup attributes. Use this option multiple times to set IOPS\nlimits for multiple devices. For details about this control\ngroup attribute, see</font> <b><font color=\"#0000FF\">IO\nInterface Files</font></b>\n<small><font color=\"#000000\">[8]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">These\nsettings are supported only if the unified control group\nhierarchy is used and disable settings prefixed with\n<i>BlockIO</i> or <i>StartupBlockIO</i>.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Similar\nrestrictions on block device discovery as for\n<i>IODeviceWeight=</i> apply, see above.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>IODeviceLatencyTargetSec=device\ntarget</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Set the\nper-device average target I/O latency for the executed\nprocesses, if the unified control group hierarchy is used on\nthe system. Takes a file path and a timespan separated by a\nspace to specify the device specific latency target.\n(Example: &quot;/dev/sda 25ms&quot;). The file path may be\nspecified as path to a block device node or as any other\nfile, in which case the backing block device of the file\nsystem of the file is determined. This controls the\n&quot;io.latency&quot; control group attribute. Use this\noption multiple times to set latency target for multiple\ndevices. For details about this control group attribute,\nsee</font> <b><font color=\"#0000FF\">IO Interface\nFiles</font></b>\n<small><font color=\"#000000\">[8]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Implies\n&quot;IOAccounting=yes&quot;.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">These\nsettings are supported only if the unified control group\nhierarchy is used.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Similar\nrestrictions on block device discovery as for\n<i>IODeviceWeight=</i> apply, see above.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>IPAccounting=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nboolean argument. If true, turns on IPv4 and IPv6 network\ntraffic accounting for packets sent or received by the unit.\nWhen this option is turned on, all IPv4 and IPv6 sockets\ncreated by any process of the unit are accounted\nfor.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">When\nthis option is used in socket units, it applies to all IPv4\nand IPv6 sockets associated with it (including both\nlistening and connection sockets where this applies). Note\nthat for socket-activated services, this configuration\nsetting and the accounting data of the service unit and the\nsocket unit are kept separate, and displayed separately. No\npropagation of the setting and the collected statistics is\ndone, in either direction. Moreover, any traffic sent or\nreceived on any of the socket unit's sockets is accounted to\nthe socket unit &mdash; and never to the service unit it\nmight have activated, even if the socket is used by\nit.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">The\nsystem default for this setting may be controlled with\n<i>DefaultIPAccounting=</i> in\n<b>systemd-system.conf</b>(5).</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>IPAddressAllow=ADDRESS[/PREFIXLENGTH]...</i>,\n<i>IPAddressDeny=ADDRESS[/PREFIXLENGTH]...</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Turn on\nnetwork traffic filtering for IP packets sent and received\nover <b>AF_INET</b> and <b>AF_INET6</b> sockets. Both\ndirectives take a space separated list of IPv4 or IPv6\naddresses, each optionally suffixed with an address prefix\nlength in bits after a &quot;/&quot; character. If the\nsuffix is omitted, the address is considered a host address,\ni.e. the filter covers the whole address (32 bits for IPv4,\n128 bits for IPv6).</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">The\naccess lists configured with this option are applied to all\nsockets created by processes of this unit (or in the case of\nsocket units, associated with it). The lists are implicitly\ncombined with any lists configured for any of the parent\nslice units this unit might be a member of. By default both\naccess lists are empty. Both ingress and egress traffic is\nfiltered by these settings. In case of ingress traffic the\nsource IP address is checked against these access lists, in\ncase of egress traffic the destination IP address is\nchecked. The following rules are applied in turn:</font></p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\"><font color=\"#000000\">&bull;\nAccess is granted when the checked IP address matches an\nentry in the <i>IPAddressAllow=</i> list.</font></p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\"><font color=\"#000000\">&bull;\nOtherwise, access is denied when the checked IP address\nmatches an entry in the <i>IPAddressDeny=</i>\nlist.</font></p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\"><font color=\"#000000\">&bull;\nOtherwise, access is granted.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">In\norder to implement an allow-listing IP firewall, it is\nrecommended to use a <i>IPAddressDeny=</i><b>any</b> setting\non an upper-level slice unit (such as the root slice -.slice\nor the slice containing all system services system.slice\n&ndash; see <b>systemd.special</b>(7) for details on these\nslice units), plus individual per-service\n<i>IPAddressAllow=</i> lines permitting network access to\nrelevant services, and only them.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Note\nthat for socket-activated services, the IP access list\nconfigured on the socket unit applies to all sockets\nassociated with it directly, but not to any sockets created\nby the ultimately activated services for it. Conversely, the\nIP access list configured for the service is not applied to\nany sockets passed into the service via socket activation.\nThus, it is usually a good idea to replicate the IP access\nlists on both the socket and the service unit. Nevertheless,\nit may make sense to maintain one list more open and the\nother one more restricted, depending on the\nusecase.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">If\nthese settings are used multiple times in the same unit the\nspecified lists are combined. If an empty string is assigned\nto these settings the specific access list is reset and all\nprevious settings undone.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">In\nplace of explicit IPv4 or IPv6 address and prefix length\nspecifications a small set of symbolic names may be used.\nThe following names are defined:</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\"><b>Table&nbsp;1.&nbsp;Special\naddress/network names</b></font></p>\n\n\n<p align=\"center\"><font color=\"#000000\"><b><img src=\"grohtml-3450351.png\" alt=\"Image grohtml-3450351.png\"></b></font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Note\nthat these settings might not be supported on some systems\n(for example if eBPF control group support is not enabled in\nthe underlying kernel or container manager). These settings\nwill have no effect in that case. If compatibility with such\nsystems is desired it is hence recommended to not\nexclusively rely on them for IP security.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>IPIngressFilterPath=BPF_FS_PROGRAM_PATH</i>,\n<i>IPEgressFilterPath=BPF_FS_PROGRAM_PATH</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Add\ncustom network traffic filters implemented as BPF programs,\napplying to all IP packets sent and received over\n<b>AF_INET</b> and <b>AF_INET6</b> sockets. Takes an\nabsolute path to a pinned BPF program in the BPF virtual\nfilesystem (/sys/fs/bpf/).</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">The\nfilters configured with this option are applied to all\nsockets created by processes of this unit (or in the case of\nsocket units, associated with it). The filters are loaded in\naddition to filters any of the parent slice units this unit\nmight be a member of as well as any <i>IPAddressAllow=</i>\nand <i>IPAddressDeny=</i> filters in any of these units. By\ndefault there are no filters specified.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">If\nthese settings are used multiple times in the same unit all\nthe specified programs are attached. If an empty string is\nassigned to these settings the program list is reset and all\nprevious specified programs ignored.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">If\nthe path <i>BPF_FS_PROGRAM_PATH</i> in\n<i>IPIngressFilterPath=</i> assignment is already being\nhandled by <i>BPFProgram=</i> ingress hook, e.g.\n<i>BPFProgram=</i><b>ingress</b>:<i>BPF_FS_PROGRAM_PATH</i>,\nthe assignment will be still considered valid and the\nprogram will be attached to a cgroup. Same for\n<i>IPEgressFilterPath=</i> path and <b>egress</b>\nhook.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Note\nthat for socket-activated services, the IP filter programs\nconfigured on the socket unit apply to all sockets\nassociated with it directly, but not to any sockets created\nby the ultimately activated services for it. Conversely, the\nIP filter programs configured for the service are not\napplied to any sockets passed into the service via socket\nactivation. Thus, it is usually a good idea, to replicate\nthe IP filter programs on both the socket and the service\nunit, however it often makes sense to maintain one\nconfiguration more open and the other one more restricted,\ndepending on the usecase.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Note\nthat these settings might not be supported on some systems\n(for example if eBPF control group support is not enabled in\nthe underlying kernel or container manager). These settings\nwill fail the service in that case. If compatibility with\nsuch systems is desired it is hence recommended to attach\nyour filter manually (requires <i>Delegate=</i><b>yes</b>)\ninstead of using this setting.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>BPFProgram=type</i><b>:</b><i>program-path</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Add a\ncustom cgroup BPF program.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\"><i>BPFProgram=</i>\nallows attaching BPF hooks to the cgroup of a systemd unit.\n(This generalizes the functionality exposed via\n<i>IPEgressFilterPath=</i> for egress and\n<i>IPIngressFilterPath=</i> for ingress.) Cgroup-bpf hooks\nin the form of BPF programs loaded to the BPF filesystem are\nattached with cgroup-bpf attach flags determined by the\nunit. For details about attachment types and flags\nsee</font>\n<b><font color=\"#0000FF\">https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/plain/include/uapi/linux/bpf.h</font></b><font color=\"#000000\">.\nFor general BPF documentation please refer to</font>\n<b><font color=\"#0000FF\">https://www.kernel.org/doc/html/latest/bpf/index.html</font></b><font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">The\nspecification of BPF program consists of a <i>type</i>\nfollowed by a <i>program-path</i> with &quot;:&quot; as the\nseparator:\n<i>type</i><b>:</b><i>program-path</i>.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\"><i>type</i>\nis the string name of BPF attach type also used in\n<b>bpftool</b>. <i>type</i> can be one of <b>egress</b>,\n<b>ingress</b>, <b>sock_create</b>, <b>sock_ops</b>,\n<b>device</b>, <b>bind4</b>, <b>bind6</b>, <b>connect4</b>,\n<b>connect6</b>, <b>post_bind4</b>, <b>post_bind6</b>,\n<b>sendmsg4</b>, <b>sendmsg6</b>, <b>sysctl</b>,\n<b>recvmsg4</b>, <b>recvmsg6</b>, <b>getsockopt</b>,\n<b>setsockopt</b>.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Setting\n<i>BPFProgram=</i> to an empty value makes previous\nassignments ineffective.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Multiple\nassignments of the same <i>type</i>:<i>program-path</i>\nvalue have the same effect as a single assignment: the\nprogram with the path <i>program-path</i> will be attached\nto cgroup hook <i>type</i> just once.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">If\nBPF <b>egress</b> pinned to <i>program-path</i> path is\nalready being handled by <i>IPEgressFilterPath=</i>,\n<i>BPFProgram=</i> assignment will be considered valid and\n<i>BPFProgram=</i> will be attached to a cgroup. Similarly\nfor <b>ingress</b> hook and <i>IPIngressFilterPath=</i>\nassignment.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">BPF\nprograms passed with <i>BPFProgram=</i> are attached to the\ncgroup of a unit with BPF attach flag <b>multi</b>, that\nallows further attachments of the same <i>type</i> within\ncgroup hierarchy topped by the unit cgroup.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Examples:</font></p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\"><font color=\"#000000\">BPFProgram=egress:/sys/fs/bpf/egress-hook\n<br>\nBPFProgram=bind6:/sys/fs/bpf/sock-addr-hook</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>SocketBindAllow=bind-rule</i>,\n<i>SocketBindDeny=bind-rule</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Allow or\ndeny binding a socket address to a socket by matching it\nwith the <i>bind-rule</i> and applying a corresponding\naction if there is a match.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\"><i>bind-rule</i>\ndescribes socket properties such as <i>address-family</i>,\n<i>transport-protocol</i> and <i>ip-ports</i>.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\"><i>bind-rule</i>\n:= {\n[<i>address-family</i><b>:</b>][<i>transport-protocol</i><b>:</b>][<i>ip-ports</i>]\n| <b>any</b> }</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\"><i>address-family</i>\n:= { <b>ipv4</b> | <b>ipv6</b> }</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\"><i>transport-protocol</i>\n:= { <b>tcp</b> | <b>udp</b> }</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\"><i>ip-ports</i>\n:= { <i>ip-port</i> | <i>ip-port-range</i> }</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">An\noptional <i>address-family</i> expects <b>ipv4</b> or\n<b>ipv6</b> values. If not specified, a rule will be matched\nfor both IPv4 and IPv6 addresses and applied depending on\nother socket fields, e.g. <i>transport-protocol</i>,\n<i>ip-port</i>.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">An\noptional <i>transport-protocol</i> expects <b>tcp</b> or\n<b>udp</b> transport protocol names. If not specified, a\nrule will be matched for any transport protocol.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">An\noptional <i>ip-port</i> value must lie within 1...65535\ninterval inclusively, i.e. dynamic port <b>0</b> is not\nallowed. A range of sequential ports is described by\n<i>ip-port-range</i> :=\n<i>ip-port-low</i><b>-</b><i>ip-port-high</i>, where\n<i>ip-port-low</i> is smaller than or equal to\n<i>ip-port-high</i> and both are within 1...65535\ninclusively.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">A\nspecial value <b>any</b> can be used to apply a rule to any\naddress family, transport protocol and any port with a\npositive value.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">To\nallow multiple rules assign <i>SocketBindAllow=</i> or\n<i>SocketBindDeny=</i> multiple times. To clear the existing\nassignments pass an empty <i>SocketBindAllow=</i> or\n<i>SocketBindDeny=</i> assignment.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">For\neach of <i>SocketBindAllow=</i> and <i>SocketBindDeny=</i>,\nmaximum allowed number of assignments is\n<b>128</b>.</font></p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\"><font color=\"#000000\">&bull;\nBinding to a socket is allowed when a socket address matches\nan entry in the <i>SocketBindAllow=</i> list.</font></p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\"><font color=\"#000000\">&bull;\nOtherwise, binding is denied when the socket address matches\nan entry in the <i>SocketBindDeny=</i> list.</font></p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\"><font color=\"#000000\">&bull;\nOtherwise, binding is allowed.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">The\nfeature is implemented with <b>cgroup/bind4</b> and\n<b>cgroup/bind6</b> cgroup-bpf hooks.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Examples:</font></p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\"><font color=\"#000000\">...\n<br>\n# Allow binding IPv6 socket addresses with a port greater\nthan or equal to 10000. <br>\n[Service] <br>\nSocketBindAllow=ipv6:10000-65535 <br>\nSocketBindDeny=any <br>\n... <br>\n# Allow binding IPv4 and IPv6 socket addresses with 1234 and\n4321 ports. <br>\n[Service] <br>\nSocketBindAllow=1234 <br>\nSocketBindAllow=4321 <br>\nSocketBindDeny=any <br>\n... <br>\n# Deny binding IPv6 socket addresses. <br>\n[Service] <br>\nSocketBindDeny=ipv6 <br>\n... <br>\n# Deny binding IPv4 and IPv6 socket addresses. <br>\n[Service] <br>\nSocketBindDeny=any <br>\n... <br>\n# Allow binding only over TCP <br>\n[Service] <br>\nSocketBindAllow=tcp <br>\nSocketBindDeny=any <br>\n... <br>\n# Allow binding only over IPv6/TCP <br>\n[Service] <br>\nSocketBindAllow=ipv6:tcp <br>\nSocketBindDeny=any <br>\n... <br>\n# Allow binding ports within 10000-65535 range over\nIPv4/UDP. <br>\n[Service] <br>\nSocketBindAllow=ipv4:udp:10000-65535 <br>\nSocketBindDeny=any <br>\n...</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>DeviceAllow=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Control\naccess to specific device nodes by the executed processes.\nTakes two space-separated strings: a device node specifier\nfollowed by a combination of <b>r</b>, <b>w</b>, <b>m</b> to\ncontrol <i>r</i>eading, <i>w</i>riting, or creation of the\nspecific device node(s) by the unit (<i>m</i>knod),\nrespectively. On cgroup-v1 this controls the\n&quot;devices.allow&quot; control group attribute. For\ndetails about this control group attribute, see</font>\n<b><font color=\"#0000FF\">Device Whitelist\nController</font></b>\n<small><font color=\"#000000\">[9]</font></small>\n<font color=\"#000000\">. In the unified cgroup hierarchy this\nfunctionality is implemented using eBPF\nfiltering.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">The\ndevice node specifier is either a path to a device node in\nthe file system, starting with /dev/, or a string starting\nwith either &quot;char-&quot; or &quot;block-&quot; followed\nby a device group name, as listed in /proc/devices. The\nlatter is useful to allow-list all current and future\ndevices belonging to a specific device group at once. The\ndevice group is matched according to filename globbing\nrules, you may hence use the &quot;*&quot; and &quot;?&quot;\nwildcards. (Note that such globbing wildcards are not\navailable for device node path specifications!) In order to\nmatch device nodes by numeric major/minor, use device node\npaths in the /dev/char/ and /dev/block/ directories.\nHowever, matching devices by major/minor is generally not\nrecommended as assignments are neither stable nor portable\nbetween systems or different kernel versions.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Examples:\n/dev/sda5 is a path to a device node, referring to an ATA or\nSCSI block device. &quot;char-pts&quot; and\n&quot;char-alsa&quot; are specifiers for all pseudo TTYs and\nall ALSA sound devices, respectively. &quot;char-cpu/*&quot;\nis a specifier matching all CPU related device\ngroups.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Note\nthat allow lists defined this way should only reference\ndevice groups which are resolvable at the time the unit is\nstarted. Any device groups not resolvable then are not added\nto the device allow list. In order to work around this\nlimitation, consider extending service units with a pair of\n<b>After=modprobe@xyz.service</b> and\n<b>Wants=modprobe@xyz.service</b> lines that load the\nnecessary kernel module implementing the device group if\nmissing. Example:</font></p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\"><font color=\"#000000\">...\n<br>\n[Unit] <br>\nWants=modprobe@loop.service <br>\nAfter=modprobe@loop.service</font></p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\"><font color=\"#000000\">[Service]\n<br>\nDeviceAllow=block-loop <br>\nDeviceAllow=/dev/loop-control <br>\n...</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>DevicePolicy=auto|closed|strict</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Control\nthe policy for allowing device access:</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\"><b>strict</b></font></p>\n\n<p style=\"margin-left:23%;\"><font color=\"#000000\">means to\nonly allow types of access that are explicitly\nspecified.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\"><b>closed</b></font></p>\n\n<p style=\"margin-left:23%;\"><font color=\"#000000\">in\naddition, allows access to standard pseudo devices including\n/dev/null, /dev/zero, /dev/full, /dev/random, and\n/dev/urandom.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\"><b>auto</b></font></p>\n\n<p style=\"margin-left:23%;\"><font color=\"#000000\">in\naddition, allows access to all devices if no explicit\n<i>DeviceAllow=</i> is present. This is the\ndefault.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>Slice=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">The name\nof the slice unit to place the unit in. Defaults to\nsystem.slice for all non-instantiated units of all unit\ntypes (except for slice units themselves see below).\nInstance units are by default placed in a subslice of\nsystem.slice that is named after the template\nname.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\noption may be used to arrange systemd units in a hierarchy\nof slices each of which might have resource settings\napplied.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">For\nunits of type slice, the only accepted value for this\nsetting is the parent slice. Since the name of a slice unit\nimplies the parent slice, it is hence redundant to ever set\nthis parameter directly for slice units.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Special\ncare should be taken when relying on the default slice\nassignment in templated service units that have\n<i>DefaultDependencies=no</i> set, see\n<b>systemd.service</b>(5), section &quot;Default\nDependencies&quot; for details.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>Delegate=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Turns on\ndelegation of further resource control partitioning to\nprocesses of the unit. Units where this is enabled may\ncreate and manage their own private subhierarchy of control\ngroups below the control group of the unit itself. For\nunprivileged services (i.e. those using the <i>User=</i>\nsetting) the unit's control group will be made accessible to\nthe relevant user. When enabled the service manager will\nrefrain from manipulating control groups or moving processes\nbelow the unit's control group, so that a clear concept of\nownership is established: the control group tree above the\nunit's control group (i.e. towards the root control group)\nis owned and managed by the service manager of the host,\nwhile the control group tree below the unit's control group\nis owned and managed by the unit itself. Takes either a\nboolean argument or a list of control group controller\nnames. If true, delegation is turned on, and all supported\ncontrollers are enabled for the unit, making them available\nto the unit's processes for management. If false, delegation\nis turned off entirely (and no additional controllers are\nenabled). If set to a list of controllers, delegation is\nturned on, and the specified controllers are enabled for the\nunit. Note that additional controllers than the ones\nspecified might be made available as well, depending on\nconfiguration of the containing slice unit or other units\ncontained in it. Note that assigning the empty string will\nenable delegation, but reset the list of controllers, all\nassignments prior to this will have no effect. Defaults to\nfalse.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Note\nthat controller delegation to less privileged code is only\nsafe on the unified control group hierarchy. Accordingly,\naccess to the specified controllers will not be granted to\nunprivileged services on the legacy hierarchy, even when\nrequested.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">The\nfollowing controller names may be specified: <b>cpu</b>,\n<b>cpuacct</b>, <b>cpuset</b>, <b>io</b>, <b>blkio</b>,\n<b>memory</b>, <b>devices</b>, <b>pids</b>,\n<b>bpf-firewall</b>, and <b>bpf-devices</b>.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Not\nall of these controllers are available on all kernels\nhowever, and some are specific to the unified hierarchy\nwhile others are specific to the legacy hierarchy. Also note\nthat the kernel might support further controllers, which\naren't covered here yet as delegation is either not\nsupported at all for them or not defined cleanly.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">For\nfurther details on the delegation model consult</font>\n<b><font color=\"#0000FF\">Control Group APIs and\nDelegation</font></b>\n<small><font color=\"#000000\">[10]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>DisableControllers=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Disables\ncontrollers from being enabled for a unit's children. If a\ncontroller listed is already in use in its subtree, the\ncontroller will be removed from the subtree. This can be\nused to avoid child units being able to implicitly or\nexplicitly enable a controller. Defaults to not disabling\nany controllers.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">It\nmay not be possible to successfully disable a controller if\nthe unit or any child of the unit in question delegates\ncontrollers to its children, as any delegated subtree of the\ncgroup hierarchy is unmanaged by systemd.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Multiple\ncontrollers may be specified, separated by spaces. You may\nalso pass <i>DisableControllers=</i> multiple times, in\nwhich case each new instance adds another controller to\ndisable. Passing <i>DisableControllers=</i> by itself with\nno controller name present resets the disabled controller\nlist.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">The\nfollowing controller names may be specified: <b>cpu</b>,\n<b>cpuacct</b>, <b>cpuset</b>, <b>io</b>, <b>blkio</b>,\n<b>memory</b>, <b>devices</b>, <b>pids</b>,\n<b>bpf-firewall</b>, and <b>bpf-devices</b>.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>ManagedOOMSwap=auto|kill</i>,\n<i>ManagedOOMMemoryPressure=auto|kill</i></font></p>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Specifies\nhow <b>systemd-oomd.service</b>(8) will act on this unit's\ncgroups. Defaults to <b>auto</b>.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">When\nset to <b>kill</b>, <b>systemd-oomd</b> will actively\nmonitor this unit's cgroup metrics to decide whether it\nneeds to act. If the cgroup passes the limits set by\n<b>oomd.conf</b>(5) or its overrides, <b>systemd-oomd</b>\nwill send a <b>SIGKILL</b> to all of the processes under the\nchosen candidate cgroup. Note that only descendant cgroups\ncan be eligible candidates for killing; the unit that set\nits property to <b>kill</b> is not a candidate (unless one\nof its ancestors set their property to <b>kill</b>). You can\nfind more details on candidates and kill behavior at\n<b>systemd-oomd.service</b>(8) and <b>oomd.conf</b>(5).\nSetting either of these properties to <b>kill</b> will also\nautomatically acquire <i>After=</i> and <i>Wants=</i>\ndependencies on systemd-oomd.service unless\n<i>DefaultDependencies=no</i>.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">When\nset to <b>auto</b>, <b>systemd-oomd</b> will not actively\nuse this cgroup's data for monitoring and detection.\nHowever, if an ancestor cgroup has one of these properties\nset to <b>kill</b>, a unit with <b>auto</b> can still be an\neligible candidate for <b>systemd-oomd</b> to act\non.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>ManagedOOMMemoryPressureLimit=</i></font></p>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Overrides\nthe default memory pressure limit set by <b>oomd.conf</b>(5)\nfor this unit (cgroup). Takes a percentage value between 0%\nand 100%, inclusive. This property is ignored unless\n<i>ManagedOOMMemoryPressure=</i><b>kill</b>. Defaults to 0%,\nwhich means to use the default set by\n<b>oomd.conf</b>(5).</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>ManagedOOMPreference=none|avoid|omit</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Allows\ndeprioritizing or omitting this unit's cgroup as a candidate\nwhen <b>systemd-oomd</b> needs to act. Requires support for\nextended attributes (see <a href=\"https://man.page/7/xattr\">xattr(7)</a>) in order to use\n<b>avoid</b> or <b>omit</b>. Additionally,\n<b>systemd-oomd</b> will ignore these extended attributes if\nthe unit's cgroup is not owned by the root user.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">If\nthis property is set to <b>avoid</b>, the service manager\nwill convey this to <b>systemd-oomd</b>, which will only\nselect this cgroup if there are no other viable\ncandidates.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">If\nthis property is set to <b>omit</b>, the service manager\nwill convey this to <b>systemd-oomd</b>, which will ignore\nthis cgroup as a candidate and will not perform any actions\non it.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">It\nis recommended to use <b>avoid</b> and <b>omit</b>\nsparingly, as it can adversely affect <b>systemd-oomd</b>'s\nkill behavior. Also note that these extended attributes are\nnot applied recursively to cgroups under this unit's\ncgroup.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Defaults\nto <b>none</b> which means <b>systemd-oomd</b> will rank\nthis unit's cgroup as defined in\n<b>systemd-oomd.service</b>(8) and\n<b>oomd.conf</b>(5).</font></p>\n\n<h2>DEPRECATED OPTIONS\n<a name=\"DEPRECATED OPTIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">The\nfollowing options are deprecated. Use the indicated\nsuperseding options instead:</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>CPUShares=weight</i>,\n<i>StartupCPUShares=weight</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Assign\nthe specified CPU time share weight to the processes\nexecuted. These options take an integer value and control\nthe &quot;cpu.shares&quot; control group attribute. The\nallowed range is 2 to 262144. Defaults to 1024. For details\nabout this control group attribute, see</font>\n<b><font color=\"#0000FF\">CFS Scheduler</font></b>\n<small><font color=\"#000000\">[4]</font></small>\n<font color=\"#000000\">. The available CPU time is split up\namong all units within one slice relative to their CPU time\nshare weight.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">While\n<i>StartupCPUShares=</i> only applies to the startup phase\nof the system, <i>CPUShares=</i> applies to normal runtime\nof the system, and if the former is not set also to the\nstartup phase. Using <i>StartupCPUShares=</i> allows\nprioritizing specific services at boot-up differently than\nduring normal runtime.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Implies\n&quot;CPUAccounting=yes&quot;.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">These\nsettings are deprecated. Use <i>CPUWeight=</i> and\n<i>StartupCPUWeight=</i> instead.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>MemoryLimit=bytes</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Specify\nthe limit on maximum memory usage of the executed processes.\nThe limit specifies how much process and kernel memory can\nbe used by tasks in this unit. Takes a memory size in bytes.\nIf the value is suffixed with K, M, G or T, the specified\nmemory size is parsed as Kilobytes, Megabytes, Gigabytes, or\nTerabytes (with the base 1024), respectively. Alternatively,\na percentage value may be specified, which is taken relative\nto the installed physical memory on the system. If assigned\nthe special value &quot;infinity&quot;, no memory limit is\napplied. This controls the &quot;memory.limit_in_bytes&quot;\ncontrol group attribute. For details about this control\ngroup attribute, see</font> <b><font color=\"#0000FF\">Memory\nResource Controller</font></b>\n<small><font color=\"#000000\">[11]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Implies\n&quot;MemoryAccounting=yes&quot;.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\nsetting is deprecated. Use <i>MemoryMax=</i>\ninstead.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>BlockIOAccounting=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Turn on\nBlock I/O accounting for this unit, if the legacy control\ngroup hierarchy is used on the system. Takes a boolean\nargument. Note that turning on block I/O accounting for one\nunit will also implicitly turn it on for all units contained\nin the same slice and all for its parent slices and the\nunits contained therein. The system default for this setting\nmay be controlled with <i>DefaultBlockIOAccounting=</i> in\n<b>systemd-system.conf</b>(5).</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\nsetting is deprecated. Use <i>IOAccounting=</i>\ninstead.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>BlockIOWeight=weight</i>,\n<i>StartupBlockIOWeight=weight</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Set the\ndefault overall block I/O weight for the executed processes,\nif the legacy control group hierarchy is used on the system.\nTakes a single weight value (between 10 and 1000) to set the\ndefault block I/O weight. This controls the\n&quot;blkio.weight&quot; control group attribute, which\ndefaults to 500. For details about this control group\nattribute, see</font> <b><font color=\"#0000FF\">Block IO\nController</font></b>\n<small><font color=\"#000000\">[12]</font></small>\n<font color=\"#000000\">. The available I/O bandwidth is split\nup among all units within one slice relative to their block\nI/O weight.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">While\n<i>StartupBlockIOWeight=</i> only applies to the startup\nphase of the system, <i>BlockIOWeight=</i> applies to the\nlater runtime of the system, and if the former is not set\nalso to the startup phase. This allows prioritizing specific\nservices at boot-up differently than during\nruntime.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Implies\n&quot;BlockIOAccounting=yes&quot;.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">These\nsettings are deprecated. Use <i>IOWeight=</i> and\n<i>StartupIOWeight=</i> instead.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>BlockIODeviceWeight=device\nweight</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Set the\nper-device overall block I/O weight for the executed\nprocesses, if the legacy control group hierarchy is used on\nthe system. Takes a space-separated pair of a file path and\na weight value to specify the device specific weight value,\nbetween 10 and 1000. (Example: &quot;/dev/sda 500&quot;).\nThe file path may be specified as path to a block device\nnode or as any other file, in which case the backing block\ndevice of the file system of the file is determined. This\ncontrols the &quot;blkio.weight_device&quot; control group\nattribute, which defaults to 1000. Use this option multiple\ntimes to set weights for multiple devices. For details about\nthis control group attribute, see</font>\n<b><font color=\"#0000FF\">Block IO Controller</font></b>\n<small><font color=\"#000000\">[12]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Implies\n&quot;BlockIOAccounting=yes&quot;.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\nsetting is deprecated. Use <i>IODeviceWeight=</i>\ninstead.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>BlockIOReadBandwidth=device\nbytes</i>, <i>BlockIOWriteBandwidth=device\nbytes</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Set the\nper-device overall block I/O bandwidth limit for the\nexecuted processes, if the legacy control group hierarchy is\nused on the system. Takes a space-separated pair of a file\npath and a bandwidth value (in bytes per second) to specify\nthe device specific bandwidth. The file path may be a path\nto a block device node, or as any other file in which case\nthe backing block device of the file system of the file is\nused. If the bandwidth is suffixed with K, M, G, or T, the\nspecified bandwidth is parsed as Kilobytes, Megabytes,\nGigabytes, or Terabytes, respectively, to the base of 1000.\n(Example:\n&quot;/dev/disk/by-path/pci-0000:00:1f.2-scsi-0:0:0:0\n5M&quot;). This controls the\n&quot;blkio.throttle.read_bps_device&quot; and\n&quot;blkio.throttle.write_bps_device&quot; control group\nattributes. Use this option multiple times to set bandwidth\nlimits for multiple devices. For details about these control\ngroup attributes, see</font> <b><font color=\"#0000FF\">Block\nIO Controller</font></b>\n<small><font color=\"#000000\">[12]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Implies\n&quot;BlockIOAccounting=yes&quot;.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">These\nsettings are deprecated. Use <i>IOReadBandwidthMax=</i> and\n<i>IOWriteBandwidthMax=</i> instead.</font></p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><a href=\"https://man.page/1/systemd\">systemd(1)</a>,\n<b>systemd-system.conf</b>(5), <b>systemd.unit</b>(5),\n<b>systemd.service</b>(5), <b>systemd.slice</b>(5),\n<b>systemd.scope</b>(5), <b>systemd.socket</b>(5),\n<b>systemd.mount</b>(5), <b>systemd.swap</b>(5),\n<b>systemd.exec</b>(5), <b>systemd.directives</b>(7),\n<b>systemd.special</b>(7), <b>systemd-oomd.service</b>(8),\nThe documentation for control groups and specific\ncontrollers in the Linux kernel:</font>\n<b><font color=\"#0000FF\">Control Groups v2</font></b>\n<small><font color=\"#000000\">[2]</font></small>\n<font color=\"#000000\">.</font></p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">1.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"43%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">New\nControl Group Interfaces</font></p></td>\n<td width=\"40%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://www.freedesktop.org/wiki/Software/systemd/ControlGroupInterface/</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">2.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"26%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">Control\nGroups v2</font></p></td>\n<td width=\"57%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">3.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"37%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">Control\nGroups version 1</font></p></td>\n<td width=\"46%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v1/</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">4.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"20%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">CFS\nScheduler</font></p> </td>\n<td width=\"63%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://www.kernel.org/doc/html/latest/scheduler/sched-design-CFS.html</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">5.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"20%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">sched-bwc.txt</font></p> </td>\n<td width=\"63%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://www.kernel.org/doc/Documentation/scheduler/sched-bwc.txt</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">6.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"34%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">Memory\nInterface Files</font></p></td>\n<td width=\"49%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html#memory-interface-files</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">7.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"38%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">Process\nNumber Controller</font></p></td>\n<td width=\"45%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v1/pids.html</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">8.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"28%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">IO\nInterface Files</font></p></td>\n<td width=\"55%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html#io-interface-files</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">9.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"41%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">Device\nWhitelist Controller</font></p></td>\n<td width=\"42%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v1/devices.html</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">10.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"51%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">Control\nGroup APIs and Delegation</font></p></td>\n<td width=\"32%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://systemd.io/CGROUP_DELEGATION</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">11.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"40%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">Memory\nResource Controller</font></p></td>\n<td width=\"43%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v1/memory.html</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">12.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"29%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">Block IO\nController</font></p> </td>\n<td width=\"54%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v1/blkio-controller.html</font></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#IMPLICIT DEPENDENCIES\">IMPLICIT DEPENDENCIES</a>","<a href=\"#UNIFIED AND LEGACY CONTROL GROUP HIERARCHIES\">UNIFIED AND LEGACY CONTROL GROUP HIERARCHIES</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#DEPRECATED OPTIONS\">DEPRECATED OPTIONS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#NOTES\">NOTES</a>"],"level":5}