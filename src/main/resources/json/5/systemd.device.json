{"name":"systemd.device","description":"systemd.device\n- Device unit configuration","body":"\n\n<h1 align=\"center\">SYSTEMD.DEVICE</h1>\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">systemd.device\n- Device unit configuration</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>device</i>.device</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">A unit\nconfiguration file whose name ends in &quot;.device&quot;\nencodes information about a device unit as exposed in the\nsysfs/<a href=\"https://man.page/7/udev\">udev(7)</a> device tree. This may be used to define\ndependencies between devices and other units.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This unit type\nhas no specific options. See <b>systemd.unit</b>(5) for the\ncommon options of all unit configuration files. The common\nconfiguration items are configured in the generic [Unit] and\n[Install] sections. A separate [Device] section does not\nexist, since no device-specific options may be\nconfigured.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">systemd will\ndynamically create device units for all kernel devices that\nare marked with the &quot;systemd&quot; udev tag (by default\nall block and network devices, and a few others). Note that\n<i>if systemd-udev.service is not running, no device units\nwill be available (for example in a typical\ncontainer)</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Device units\nare named after the /sys/ and /dev/ paths they control.\nExample: the device /dev/sda5 is exposed in systemd as\ndev-sda5.device. For details about the escaping logic used\nto convert a file system path to a unit name see\n<b>systemd.unit</b>(5).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">To tag a udev\ndevice, use &quot;TAG+=&quot;systemd&quot;&quot; in the udev\nrules file, see <a href=\"https://man.page/7/udev\">udev(7)</a> for details.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Device units\nwill be reloaded by systemd whenever the corresponding\ndevice generates a &quot;changed&quot; event. Other units\ncan use <i>ReloadPropagatedFrom=</i> to react to that\nevent.</p>\n\n<h2>AUTOMATIC DEPENDENCIES\n<a name=\"AUTOMATIC DEPENDENCIES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Implicit\nDependencies</b> <br>\nMany unit types automatically acquire dependencies on device\nunits of devices they require. For example, .socket unit\nacquire dependencies on the device units of the network\ninterface specified in <i>BindToDevice=</i>. Similar, swap\nand mount units acquire dependencies on the units\nencapsulating their backing block devices.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Default\nDependencies</b> <br>\nThere are no default dependencies for device units.</p>\n\n<h2>THE UDEV DATABASE\n<a name=\"THE UDEV DATABASE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Unit settings\nof device units may either be configured via unit files, or\ndirectly from the udev database. The following udev device\nproperties are understood by the service manager:</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>SYSTEMD_WANTS=</i>,\n<i>SYSTEMD_USER_WANTS=</i></p>\n\n<p style=\"margin-left:17%;\">Adds dependencies of type\n<i>Wants=</i> from the device unit to the specified units.\n<i>SYSTEMD_WANTS=</i> is read by the system service manager,\n<i>SYSTEMD_USER_WANTS=</i> by user service manager\ninstances. These properties may be used to activate\narbitrary units when a specific device becomes\navailable.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Note that this\nand the other udev device properties are not taken into\naccount unless the device is tagged with the\n&quot;systemd&quot; tag in the udev database, because\notherwise the device is not exposed as a systemd unit (see\nabove).</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Note that\nsystemd will only act on <i>Wants=</i> dependencies when a\ndevice first becomes active. It will not act on them if they\nare added to devices that are already active. Use\n<i>SYSTEMD_READY=</i> (see below) to configure when a udev\ndevice shall be considered active, and thus when to trigger\nthe dependencies.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The specified\nproperty value should be a space-separated list of valid\nunit names. If a unit template name is specified (that is, a\nunit name containing an &quot;@&quot; character indicating a\nunit name to use for multiple instantiation, but with an\nempty instance name following the &quot;@&quot;), it will be\nautomatically instantiated by the device's &quot;sysfs&quot;\npath (that is: the path is escaped and inserted as instance\nname into the template unit name). This is useful in order\nto instantiate a specific template unit once for each device\nthat appears and matches specific properties.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>SYSTEMD_ALIAS=</i></p>\n\n<p style=\"margin-left:17%;\">Adds an additional alias name\nto the device unit. This must be an absolute path that is\nautomatically transformed into a unit name. (See above.)</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>SYSTEMD_READY=</i></p>\n\n<p style=\"margin-left:17%;\">If set to 0, systemd will\nconsider this device unplugged even if it shows up in the\nudev tree. If this property is unset or set to 1, the device\nwill be considered plugged if it is visible in the udev\ntree.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">This option is\nuseful for devices that initially show up in an\nuninitialized state in the tree, and for which a\n&quot;changed&quot; event is generated the moment they are\nfully set up. Note that <i>SYSTEMD_WANTS=</i> (see above) is\nnot acted on as long as <i>SYSTEMD_READY=0</i> is set for a\ndevice.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>ID_MODEL_FROM_DATABASE=</i>,\n<i>ID_MODEL=</i></p>\n\n<p style=\"margin-left:17%;\">If set, this property is used\nas description string for the device unit.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/systemd\">systemd(1)</a>,\n<a href=\"https://man.page/1/systemctl\">systemctl(1)</a>, <b>systemd.unit</b>(5), <a href=\"https://man.page/7/udev\">udev(7)</a>,\n<b>systemd.directives</b>(7)</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#AUTOMATIC DEPENDENCIES\">AUTOMATIC DEPENDENCIES</a>","<a href=\"#THE UDEV DATABASE\">THE UDEV DATABASE</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"],"level":5}