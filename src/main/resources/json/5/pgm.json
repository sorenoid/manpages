{"name":"pgm","description":"pgm - portable graymap file format","body":"\n\n<h1 align=\"center\">pgm</h1>\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">pgm - portable\ngraymap file format</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The PGM format\nis a lowest common denominator grayscale file format. It is\ndesigned to be extremely easy to learn and write programs\nfor. (It&rsquo;s so simple that most people will simply\nreverse engineer it because it&rsquo;s easier than reading\nthis specification).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">A PGM image\nrepresents a grayscale graphic image. There are many\npsueudo-PGM formats in use where everything is as specified\nherein except for the meaning of individual pixel values.\nFor most purposes, a PGM image can just be thought of an\narray of arbitrary integers, and all the programs in the\nworld that think they&rsquo;re processing a grayscale image\ncan easily be tricked into processing something else.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">One official\nvariant of PGM is the transparency mask. A transparency mask\nin Netpbm is represented by a PGM image, except that in\nplace of pixel intensities, there are opaqueness values. See\nbelow.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The format\ndefinition is as follows.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">A PGM file\nconsists of a sequence of one or more PGM images. There are\nno data, delimiters, or padding before, after, or between\nimages.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Each PGM image\nconsists of the following:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>A &quot;magic number&quot; for identifying the file\ntype. A pgm image&rsquo;s magic number is the two characters\n&quot;P5&quot;.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>Whitespace (blanks, TABs, CRs, LFs).</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>A width, formatted as ASCII characters in decimal.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>Whitespace.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>A height, again in ASCII decimal.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>Whitespace.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>The maximum gray value (Maxval), again in ASCII decimal.\nMust be less than 65536.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>Newline or other single whitespace character.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>A raster of Width * Height gray values, proceeding\nthrough the image in normal English reading order. Each gray\nvalue is a number from 0 through Maxval, with 0 being black\nand Maxval being white. Each gray value is represented in\npure binary by either 1 or 2 bytes. If the Maxval is less\nthan 256, it is 1 byte. Otherwise, it is 2 bytes. The most\nsignificant byte is first.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>Each gray value is a number proportional to the\nintensity of the pixel, adjusted by the CIE Rec. 709 gamma\ntransfer function. (That transfer function specifies a gamma\nnumber of 2.2 and has a linear section for small\nintensities). A value of zero is therefore black. A value of\nMaxval represents CIE D65 white and the most intense value\nin the image and any other image to which the image might be\ncompared.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>Note that a common variation on the PGM format is to\nhave the gray value be &quot;linear,&quot; i.e. as specified\nabove except without the gamma adjustment. <b>pnmgamma</b>\ntakes such a PGM variant as input and produces a true PGM as\noutput.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>In the transparency mask variation on PGM, the value\nrepresents opaqueness. It is proportional to the fraction of\nintensity of a pixel that would show in place of an\nunderlying pixel, with the same gamma transfer function\nmentioned above applied. So what normally means white\nrepresents total opaqueness and what normally means black\nrepresents total transparency. In between, you would compute\nthe intensity of a composite pixel of an &quot;under&quot;\nand &quot;over&quot; pixel as under *\n(1-(alpha/alpha_maxval)) + over *\n(alpha/alpha_maxval).&lt;</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>Characters from a &quot;#&quot; to the next end-of-line,\nbefore the maxval line, are comments and are ignored.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that you\ncan use <b>pnmdepth</b> To convert between a the format with\n1 byte per gray value and the one with 2 bytes per gray\nvalue.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">There is\nactually another version of the PGM format that is fairly\nrare: &quot;plain&quot; PGM format. The format above, which\ngenerally considered the normal one, is known as the\n&quot;raw&quot; PGM format. See <a href=\"https://man.page/5/pbm\">pbm(5)</a> for some\ncommentary on how plain and raw formats relate to one\nanother.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The difference\nin the plain format is:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p style=\"margin-top: 1em\">There is exactly one image in a\nfile.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>The magic number is P2 instead of P5.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>Each pixel in the raster is represented as an ASCII\ndecimal number (of arbitrary size).</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>Each pixel in the raster has white space before and\nafter it. There must be at least one character of white\nspace between any two pixels, but there is no maximum.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>-</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>No line should be longer than 70 characters.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Here is an\nexample of a small graymap in this format: <br>\nP2 <br>\n# feep.pgm <br>\n24 7 <br>\n15 <br>\n0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 <br>\n0 3 3 3 3 0 0 7 7 7 7 0 0 11 11 11 11 0 0 15 15 15 15 0 <br>\n0 3 0 0 0 0 0 7 0 0 0 0 0 11 0 0 0 0 0 15 0 0 15 0 <br>\n0 3 3 3 0 0 0 7 7 7 0 0 0 11 11 11 0 0 0 15 15 15 15 0 <br>\n0 3 0 0 0 0 0 7 0 0 0 0 0 11 0 0 0 0 0 15 0 0 0 0 <br>\n0 3 0 0 0 0 0 7 7 7 7 0 0 11 11 11 11 0 0 15 0 0 0 0 <br>\n0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Programs that\nread this format should be as lenient as possible, accepting\nanything that looks remotely like a graymap.</p>\n\n<h2>COMPATIBILITY\n<a name=\"COMPATIBILITY\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Before April\n2000, a raw format PGM file could not have a maxval greater\nthan 255. Hence, it could not have more than one byte per\nsample. Old programs may depend on this.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Before July\n2000, there could be at most one image in a PGM file. As a\nresult, most tools to process PGM files ignore (and\ndon&rsquo;t read) any data after the first image.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">fitstopgm(1),\nfstopgm(1), hipstopgm(1), lispmtopgm(1), psidtopgm(1),\nrawtopgm(1), pgmbentley(1), pgmcrater(1), pgmedge(1),\npgmenhance(1), pgmhist(1), pgmnorm(1), pgmoil(1),\npgmramp(1), pgmtexture(1), pgmtofits(1), pgmtofs(1),\npgmtolispm(1), pgmtopbm(1), pnm(5), pbm(5), ppm(5)</p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Copyright (C)\n1989, 1991 by Jef Poskanzer.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#COMPATIBILITY\">COMPATIBILITY</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHOR\">AUTHOR</a>"],"level":5}