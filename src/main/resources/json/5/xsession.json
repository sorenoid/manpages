{"name":"xsession","body":"\n\n<h1 align=\"center\">Xsession</h1>\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Xsession -\ninitialize X session</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Xsession [\n<i>session-type</i> ]</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>/etc/X11/Xsession</i>\nis a Bourne shell (<a href=\"https://man.page/1/sh\">sh(1)</a>) script which is run when an\nX Window System session is begun by <a href=\"https://man.page/1/startx\">startx(1)</a> or a\ndisplay manager such as <a href=\"https://man.page/1/xdm\">xdm(1)</a>. (Some display\nmanagers only invoke <i>Xsession</i> when specifically\ndirected to so by the user; see the documentation for your\ndisplay manager to find out more.) Administrators unfamiliar\nwith the Bourne shell will likely find the\n<b>Xsession.options</b>(5) configuration file easier to deal\nwith than <i>Xsession</i> itself.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>Xsession</i>\nis not intended to be invoked directly by the user; to be\neffective it needs to run in a special environment\nassociated with X server initialization. <b>startx</b>,\n<b>xdm</b>, <a href=\"https://man.page/1/xinit\">xinit(1)</a>, and other similar programs\nhandle this.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">By default on a\nDebian system, <i>Xsession</i> is used by both common\nmethods of starting the X Window System, <b>xdm</b> (or\nanother X display manager) and <b>startx</b>. To change this\nfor <b>xdm,</b> edit the\n&rsquo;DisplayManager*session&rsquo; resource in the\n<i>/etc/X11/xdm/xdm-config</i> file &mdash; for other\ndisplay managers, consult their documentation. To stop\n<b>startx</b> from using <i>Xsession</i> by default, replace\nthe contents of the <i>/etc/X11/xinit/xinitrc</i> file.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>Xsession</i> script is quite flexible, and extensive\ncustomization of the X startup procedure is possible without\nmodifying the script itself. See &ldquo;CUSTOMIZING THE\nSTARTUP PROCEDURE&rdquo; below.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>SESSION\nTYPES</b> <i><br>\nXsession</i> may optionally be passed a single argument\nindicating the type of X session to be started. It is up to\nthe display manager to set the argument. To pass\n<i>Xsession</i> an argument from <b>startx</b> or\n<b>xinit</b>, <i>/etc/X11/Xsession</i> (or\n<i>/etc/X11/xinit/xinitrc</i>) must be called explicitly\nwith a path, as in <b>startx /etc/X11/Xsession failsafe</b>.\nBy default, three different arguments are supported: <b><br>\nfailsafe</b></p>\n\n<p style=\"margin-left:22%;\">invokes a session consisting\nsolely of an <a href=\"https://man.page/1/x-terminal-emulator\">x-terminal-emulator(1)</a> (no window\nmanager is launched). If the <b>x-terminal-emulator program\ncannot</b> be found, the session exits. The\n&rsquo;failsafe&rsquo; argument is ignored if there is no\n&rsquo;allow-failsafe&rsquo; line in\n<i>Xsession.options</i>.</p>\n\n<p style=\"margin-left:11%;\"><b>default</b></p>\n\n<p style=\"margin-left:22%;\">produces the same behavior as\nif no session type argument had been given at all.</p>\n\n<p style=\"margin-left:11%;\"><i>program</i></p>\n\n<p style=\"margin-left:22%;\">starts <i>program</i> if it can\nbe found in the $PATH. This is usually a session manager or\na very featureful window manager. If <i>program</i> is not\nfound, the <i>Xsession</i> script proceeds with its default\nbehavior. This argument is ignored if there is no\n&rsquo;allow-user-xsession&rsquo; line in\n<i>Xsession.options</i>. (If the administrator does not want\nusers writing their own <i>.xsession</i> files, it makes\nlittle sense to permit them to specify the names of\narbitrary programs to run.) Note that the restriction may be\neasy to bypass, e.g. by using a <i>.gnomerc</i> file\ninstead.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>DEFAULT\nSTARTUP PROCEDURE</b> <br>\nInitially, <i>Xsession</i> performs some housekeeping. It\ndeclares a set of built-in functions (see &ldquo;BUILT-IN\nSHELL FUNCTIONS&rdquo; below) and variables, then attempts\nto create a log file for the X session, or append to an\nexisting one. Historically this is called an\n&rsquo;error&rsquo; file, but it catches all sorts of\ndiagnostic output from various X clients run in the\nuser&rsquo;s session, not just error messages. If it is\nimpossible to write to an error file, the script (and thus\nthe X session) aborts. For convenience, once the error file\nis successfully opened, <i>Xsession</i> reports the fact\nthat the session has started, the invoking username, and the\ndate to the error file. This makes it easier to discern\nwhich X session produced a particular line of output in the\nfile.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>Xsession</i>\nnext confirms that its script directory, <i>Xsession.d</i>,\nexists. If it does not, the script aborts. After the script\ndirectory is confirmed to be present, <i>Xsession</i> uses\n<a href=\"https://man.page/1/run-parts\">run-parts(1)</a> to identify files in that directory that\nshould be sourced (executed) in the shell&rsquo;s\nenvironment. Only files named in a certain way are sourced;\nsee the <b>run-parts</b> manual page for a description of\nvalid characters in the filename. (This restriction enables\nthe administrator to move experimental or problematic files\nout of the way of the script but keep them in an obvious\nplace, for instance by renaming them with &rsquo;.old&rsquo;\nor &rsquo;.broken&rsquo; appended to the filename.)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>SUPPLIED\nSCRIPTS</b> <br>\nFive shell script portions are supplied by default to handle\nthe details of the session startup procedure. <i><br>\n/etc/X11/Xsession.d/20x11-common_process-args</i></p>\n\n<p style=\"margin-left:22%;\">Arguments are processed as\ndescribed in &ldquo;SESSION TYPES&rdquo; above. The startup\nprogram, if one is identified at this point, is merely\nstored for later reference, and not immediately\nexecuted.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/etc/X11/Xsession.d/30x11-common_xresources</i></p>\n\n<p style=\"margin-left:22%;\">X resources are merged.\n<b>run-parts</b> is again used, this time to identify files\nin the <i>/etc/X11/Xresources</i> directory that should be\nprocessed with &rsquo;xrdb -merge&rsquo;. Next, if the line\n&rsquo;allow-user-resources&rsquo; is present in\n<i>Xsession.options</i>, the user&rsquo;s\n<i>$HOME/.Xresources</i> file is merged in the same way.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/etc/X11/Xsession.d/35x11-common_xhost-local</i></p>\n\n<p style=\"margin-left:22%;\">Give access to the X server to\nthe same user on the local host. If the <i>xhost</i> command\nis available, it will use it to allow any process of the\nsame user running on the local host to access the X\nserver.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/etc/X11/Xsession.d/40x11-common_xsessionrc</i></p>\n\n<p style=\"margin-left:22%;\">Source global environment\nvariables. This script will source anything in\n<i>$HOME/.xsessionrc</i> if the file is present. This allows\nthe user to set global environment variables for their X\nsession, such as locale information.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/etc/X11/Xsession.d/50x11-common_determine-startup</i></p>\n\n<p style=\"margin-left:22%;\">Determine startup program. The\nX client to launch as the controlling process (the one that,\nupon exiting, causes the X server to exit as well) is\ndetermined next. If a program or failsafe argument was given\nand is allowed (see above), it is used as the controlling\nprocess. Otherwise, if the line\n&rsquo;allow-user-xsession&rsquo; is present in\n<i>Xsession.options</i>, a user-specified session program or\nscript is used. In the latter case, two historically popular\nnames for user X session scripts are searched for:\n<i>$HOME/.xsession</i> and <i>$HOME/.Xsession</i> (note the\ndifference in case). The first one found is used. If the\nscript is not executable, it is marked to be executed with\nthe Bourne shell interpreter, <b>sh</b>. Finally, if none of\nthe above succeeds, the following programs are searched for:\n<i>/usr/bin/x-session-manager</i>,\n<i>/usr/bin/x-window-manager</i>, and\n<i>/usr/bin/x-terminal-emulator</i>. The first one found is\nused. If none are found, <i>Xsession</i> aborts with an\nerror.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/etc/X11/Xsession.d/90x11-common_ssh-agent</i></p>\n\n<p style=\"margin-left:22%;\">Start <a href=\"https://man.page/1/ssh-agent\">ssh-agent(1)</a>, if\nneeded. If the line &rsquo;use-ssh-agent&rsquo; is present\nin <i>Xsession.options</i>, and no SSH agent process appears\nto be running already, <b>ssh-agent</b> is marked to be used\nto execute the startup program determined previously.\n<b>Note:</b> this functionality may move to the ssh package\nin the future.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/etc/X11/Xsession.d/99x11-common_start</i></p>\n\n<p style=\"margin-left:22%;\">Start the X session. The\nstartup program is executed, inside a Bourne shell if it is\nnot executable, and inside an ssh-agent if necessary. The\nshell&rsquo;s <b>exec</b> command is used to spare a slot in\nthe process table.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>CUSTOMIZING\nTHE STARTUP PROCEDURE</b> <br>\nOf course, any of the existing files can be edited in\nplace.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Because the\norder in which the various scripts in\n<i>/etc/X11/Xsession.d</i> are executed is important, files\nto be added to this directory should have a well-formed\nname. The following format is recommended:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">* a two-digit\nnumber denoting sequence;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">* the name of\nthe package providing the script (or &rsquo;custom&rsquo;\nfor locally-created scripts);</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">* an\nunderscore;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">* a description\nof the script&rsquo;s basic function, using only characters\nallowed by <b>run-parts</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Here is an\nexample of how one might write a script, named\n<i>40custom_load-xmodmap</i>, to invoke\n<a href=\"https://man.page/1/xmodmap\">xmodmap(1)</a>:</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">SYSMODMAP=&quot;/etc/X11/Xmodmap&quot;\n<br>\nUSRMODMAP=&quot;$HOME/.Xmodmap&quot;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">if [ -x\n/usr/bin/X11/xmodmap ]; then <br>\nif [ -f &quot;$SYSMODMAP&quot; ]; then <br>\nxmodmap &quot;$SYSMODMAP&quot; <br>\nfi <br>\nfi</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">if [ -x\n/usr/bin/X11/xmodmap ]; then <br>\nif [ -f &quot;$USRMODMAP&quot; ]; then <br>\nxmodmap &quot;$USRMODMAP&quot; <br>\nfi <br>\nfi</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Those writing\nscripts for <i>Xsession</i> to execute should avail\nthemselves of its built-in shell functions, described\nbelow.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>BUILT-IN\nSHELL FUNCTIONS <br>\nmessage</b> is used for communicating with the user. It is a\nwrapper for the <a href=\"https://man.page/1/echo\">echo(1)</a> command and relies upon\n<b>echo</b> for its argument processing. This function may\nbe given an arbitrarily long message string, which is\nformatted to the user&rsquo;s terminal width (breaking lines\nat whitespace) and sent to standard error. If the\n<i>DISPLAY</i> environment variable is set and the\n<a href=\"https://man.page/1/xmessage\">xmessage(1)</a> program is available, <b>xmessage</b> is\nalso used to display the message.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>message_nonl</b>\nis used for communicating with the user when a trailing\nnewline is undesirable; it omits a trailing newline from the\nmessage text. It otherwise works as <b>message</b>.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>errormsg</b>\nis used for indicating an error condition and aborting the\nscript. It works as <b>message</b>, above, except that after\ndisplaying the message, it will exit <i>Xsession</i> with\nstatus 1.</p>\n\n<h2>ENVIRONMENT\n<a name=\"ENVIRONMENT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\nenvironment variables affect the execution of\n<i>Xsession</i>:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>HOME</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>specifies the user&rsquo;s home directory; various files\nare searched for here.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>TMPDIR</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>names a default directory for temporary files; if the\nstandard X session error file cannot be opened, this\nvariable is used to locate a place for one.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>COLUMNS</b></p>\n\n<p style=\"margin-left:22%;\">indicates the width of terminal\ndevice in character cells. This value is used for formatting\ndiagnostic messages.</p>\n\n<h2>INPUT FILES\n<a name=\"INPUT FILES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>/etc/X11/Xsession.d/</i></p>\n\n<p style=\"margin-left:22%;\">is a directory containing\nBourne shell scripts to be executed by <i>Xsession</i>.\nFiles in this directory are matched using <b>run-parts</b>\nand are <b>source</b>d, not executed in a subshell.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/etc/X11/Xresources/</i></p>\n\n<p style=\"margin-left:22%;\">is a directory containing files\ncorresponding to Debian package names, each of which\ncontains system-wide X resource settings for X clients from\nthe corresponding package. The settings are loaded with\n<b>xrdb -merge</b>. Files in this directory are matched\nusing <b>run-parts</b>.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/etc/X11/Xsession.options</i></p>\n\n<p style=\"margin-left:22%;\">contains configuration options\nfor the <i>/etc/X11/Xsession</i> script. See\n<b>Xsession.options</b>(5) for more information.</p>\n\n<p style=\"margin-left:11%;\"><i>$HOME/.Xresources</i></p>\n\n<p style=\"margin-left:22%;\">contains X resources specific\nto the invoking user&rsquo;s environment. The settings are\nloaded with <b>xrdb -merge</b>. Note that\n<i>$HOME/.Xdefaults</i> is a relic from X Version 10 (and\nX11R1) days, before app-defaults files were implemented. It\nhas been deprecated for over ten years at the time of this\nwriting. <i>.Xresources</i> should be used instead.</p>\n\n<p style=\"margin-left:11%;\"><i>$HOME/.xsession</i></p>\n\n<p style=\"margin-left:22%;\">is a sequence of commands\ninvoking X clients (or a session manager such as\n<a href=\"https://man.page/1/xsm\">xsm(1)</a>). See the manual page for <b>xinit</b> for\ntips on writing an <i>.xsession</i> file.</p>\n\n<h2>OUTPUT FILES\n<a name=\"OUTPUT FILES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>$HOME/.xsession-errors</i></p>\n\n<p style=\"margin-left:22%;\">is where standard output and\nstandard error for <i>Xsession</i> script and all X client\nprocesses are directed by default.</p>\n\n<p style=\"margin-left:11%;\"><i>$TMPDIR/filename</i></p>\n\n<p style=\"margin-left:22%;\">is where the X session error\nfile is placed if <i>$HOME/.xsession-errors</i> cannot be\nopened. For security reasons, the exact filename is randomly\ngenerated by <a href=\"https://man.page/1/tempfile\">tempfile(1)</a>.</p>\n\n<h2>AUTHORS\n<a name=\"AUTHORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Stephen Early,\nMark Eichin, and Branden Robinson developed Debian&rsquo;s X\nsession handling scripts. Branden Robinson wrote this manual\npage.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Xsession.options</b>(5),\n<a href=\"https://man.page/7/X\">X(7)</a>, <a href=\"https://man.page/1/run-parts\">run-parts(1)</a>, <a href=\"https://man.page/1/ssh-agent\">ssh-agent(1)</a>,\n<a href=\"https://man.page/1/startx\">startx(1)</a>, <a href=\"https://man.page/1/tempfile\">tempfile(1)</a>, <a href=\"https://man.page/1/xdm\">xdm(1)</a>,\n<a href=\"https://man.page/1/xmessage\">xmessage(1)</a>, <a href=\"https://man.page/1/xmodmap\">xmodmap(1)</a>, <a href=\"https://man.page/1/xrdb\">xrdb(1)</a>,\n<a href=\"https://man.page/1/sh\">sh(1)</a></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#ENVIRONMENT\">ENVIRONMENT</a>","<a href=\"#INPUT FILES\">INPUT FILES</a>","<a href=\"#OUTPUT FILES\">OUTPUT FILES</a>","<a href=\"#AUTHORS\">AUTHORS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"],"level":5}