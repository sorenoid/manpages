{"name":"sane-canon_dr","description":"sane-canon_dr -\nSANE backend for Canon DR-series scanners\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\nThe\n<b>sane-canon_dr</b> library implements a SANE (Scanner\nAccess Now Easy) backend which provides access to some Canon\nDR-series scanners.\n\nThis document\ndescribes backend version 60, which shipped with SANE\n1.0.32.\n\n<h2>SUPPORTED HARDWARE\n<a name=\"SUPPORTED HARDWARE\"></a>\n</h2>\n\n\nThis version\nhas only been tested with a few scanner models. Please see\n<i>http://www.sane-project.org/sane-supported-devices.html</i>\nfor the most recent list.\n\nThis backend\nmay support other Canon scanners. The best way to determine\nlevel of support is to test the scanner directly, or to\ncollect a trace of the windows driver in action. Please\ncontact the author for help or with test results.\n\nIn general, the\nlarger machines (DR-4000 and up) which have been tested use\na fairly complete protocol, with hardware support for many\nmodes, resolutions and features. The smaller machines have\nmany limitations, like missing horizontal resolutions,\nmissing binary mode, always scanning full-width, etc. There\nis code in the backend to address these problems, but there\nseems to be no way to detect if they are required, so they\nmust be hard-coded.\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\nEffort has been\nmade to expose most hardware options, including: <b><br>\n--source Flatbed|ADF Front|ADF Back|ADF Duplex</b>\n\n<p style=\"margin-left:22%;\">Selects the source for the\nscan.\n\n<p style=\"margin-left:11%;\"><b>--mode\nLineart|Halftone|Gray|Color</b>\n\n<p style=\"margin-left:22%;\">Selects the mode for the\nscan.\n\n<p style=\"margin-left:11%;\"><b>--resolution</b>\n\n<p style=\"margin-left:22%;\">Controls scan resolution.\n\n<p style=\"margin-left:11%;\"><b>--tl-x, --tl-y, --br-x,\n--br-y</b>\n\n<p style=\"margin-left:22%;\">Sets scan area upper left and\nlower right coordinates. These are renamed <b>-t</b>,\n<b>-l</b>, <b>-x</b>, <b>-y</b> by some frontends.\n\n<p style=\"margin-left:11%;\"><b>--page-width,\n--page-height</b>\n\n<p style=\"margin-left:22%;\">Sets paper size. Used by\nscanner to determine centering of scan coordinates when\nusing the ADF (Automatic Document Feeder) and to detect\ndouble feed errors.\n\nOther options\nwill be available based on the capabilities of the scanner:\nenhancement, compression, buttons and sensors, etc.\n\nAdditionally,\nseveral &rsquo;software&rsquo; options are exposed by the\nbackend. These are reimplementations of features provided\nnatively by larger scanners, but running on the host\ncomputer. This enables smaller machines to have similar\ncapabilities. Please note that these features are somewhat\nsimplistic, and may not perform as well as the native\nimplementations. Note also that these features all require\nthat the driver cache the entire image in memory. This will\nalmost certainly result in a reduction of scanning speed.\n<b><br>\n--swcrop</b>\n\n<p style=\"margin-left:22%;\">Requests the driver to detect\nthe extremities of the paper within the larger image, and\ncrop the empty edges.\n\n<p style=\"margin-left:11%;\"><b>--swdeskew</b>\n\n<p style=\"margin-left:22%;\">Requests the driver to detect\nthe rotation of the paper within the larger image, and\ncounter the rotation.\n\n<p style=\"margin-left:11%;\"><b>--swdespeck X</b>\n\n<p style=\"margin-left:22%;\">Requests the driver to find and\nremove dots of X diameter or smaller from the image, and\nfill the space with the average surrounding color.\n\n<p style=\"margin-left:22%; margin-top: 1em\">Use\n&rsquo;scanimage --help&rsquo; to get a list, but be aware\nthat some options may be settable only when another option\nhas been set, and that advanced options may be hidden by\nsome frontend programs.\n\n<h2>CONFIGURATION FILE\n<a name=\"CONFIGURATION FILE\"></a>\n</h2>\n\n\nThe\nconfiguration file <i>canon_dr.conf</i> is used to tell the\nbackend how to look for scanners, and provide options\ncontrolling the operation of the backend. This file is read\neach time the frontend asks the backend for a list of\nscanners, generally only when the frontend starts. If the\nconfiguration file is missing, the backend will fail to\nrun.\n\nScanners can be\nspecified in the configuration file in 4 ways:\n\n&quot;scsi\nCANON DR&quot;\n\n<p style=\"margin-left:22%;\">Requests backend to search all\nscsi buses in the system for a device which reports itself\nto be a scanner made by &rsquo;CANON&rsquo;, with a model\nname starting with &rsquo;DR&rsquo;.\n\n&quot;scsi\n/dev/sg0&quot; (or other scsi device file)\n\n<p style=\"margin-left:22%;\">Requests backend to open the\nnamed scsi device. Only useful if you have multiple\ncompatible scanners connected to your system, and need to\nspecify one. Probably should not be used with the other\n&quot;scsi&quot; line above.\n\n&quot;usb\n0x04a9 0x1603&quot; (or other vendor/product ids)\n\n<p style=\"margin-left:22%;\">Requests backend to search all\nusb buses in the system for a device which uses that vendor\nand product id. The device will then be queried to determine\nif it is a Canon scanner.\n\n&quot;usb\n/dev/usb/scanner0&quot; (or other device file)\n\n<p style=\"margin-left:22%;\">Some systems use a kernel\ndriver to access usb scanners. This method is untested.\n\nBesides the\n&rsquo;scsi&rsquo; and &rsquo;usb&rsquo; lines, the\nconfiguration file supports the following\n&rsquo;option&rsquo; lines:\n\n&quot;option\nbuffer-size [number of bytes]&quot;\n\n<p style=\"margin-left:22%;\">Set the number of bytes in the\ndata buffer to something other than the compiled-in default\nof 4MB. Large values may cause timeouts or hangs, small\nvalues may cause slow scans.\n\n<p style=\"margin-left:22%; margin-top: 1em\">Note: The\nbackend does not place an upper bound on this value, as some\nusers required it to be quite large. Values above the\ndefault are not recommended, and may crash your OS or lockup\nyour scsi card driver. You have been warned.\n\n&quot;option\nvendor-name [string of text]&quot; <br>\n&quot;option model-name [string of text]&quot; <br>\n&quot;option version-name [string of text]&quot;\n\n<p style=\"margin-left:22%;\">These options can be used\ncollectively to override the values provided by the scanner,\nor to provide the values when the scanner cannot.\n\n&quot;option\npadded-read [0|1]&quot;\n\n<p style=\"margin-left:22%;\">Some scanners prepend all data\ntransmitted to host with 12 bytes. Enable this option if the\nscanner fails to respond to commands.\n\n&quot;option\nduplex-offset [integer]&quot;\n\n<p style=\"margin-left:22%;\">Some scanners pad the upper\nedge of one side of a duplex scan. There is some variation\nin the amount of padding. Modify this option if your unit\nshows an unwanted band of image data on only one side.\n\n<b>NOTE</b>:\n&quot;option&quot; lines may appear multiple times in the\nconfiguration file. They only apply to scanners discovered\nby the next &rsquo;scsi/usb&rsquo; line.\n\n<h2>ENVIRONMENT\n<a name=\"ENVIRONMENT\"></a>\n</h2>\n\n\nThe backend\nuses a single environment variable,\n<b>SANE_DEBUG_CANON_DR</b>, which enables debugging output\nto stderr. Valid values are:\n\n<p style=\"margin-left:22%; margin-top: 1em\">5 Errors <br>\n10 Function trace <br>\n15 Function detail <br>\n20 Option commands <br>\n25 SCSI/USB trace <br>\n30 SCSI/USB detail <br>\n35 Useless noise\n\n<h2>KNOWN ISSUES\n<a name=\"KNOWN ISSUES\"></a>\n</h2>\n\n\nThis backend\nwas entirely reverse engineered from usb traces of the\nproprietary driver. Various advanced features of the\nmachines may not be enabled. Many machines have not been\ntested. Their protocol is unknown.\n\n<h2>CREDITS\n<a name=\"CREDITS\"></a>\n</h2>\n\n\nThe various\nauthors of the <a href=\"https://man.page/5/sane-fujitsu\">sane-fujitsu(5)</a> backend provided\nuseful code. <br>\nYabarana Corp. <i>www.yabarana.com</i> provided significant\nfunding. <br>\nEvriChart, Inc. <i>www.evrichart.com</i> provided funding\nand loaned equipment. <br>\nCanon, USA. <i>www.usa.canon.com</i> loaned equipment. <br>\nHPrint <i>hprint.com.br</i> provided funding and testing for\nDR-2510 support. <br>\nStone-IT <i>www.stone-it.com</i> provided funding for\nDR-2010 and DR-2050 support. <br>\nGerhard Pfeffer provided access and testing for P-208 and\nP-215. <br>\nSpecial thanks to: Alejandro Imass, Andre Shimakawa, Martijn\nvan Brummelen, Thanos Diacakis and Junren Shi for testing\nand feedback.\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<a href=\"https://man.page/7/sane\">sane(7)</a>,\n<a href=\"https://man.page/5/sane-scsi\">sane-scsi(5)</a>, <b>sane-usb(5)</b>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\nm. allan noah:\n<i>&lt;kitno455 a t gmail d o t com&gt;</i>.","body":"\n\n<h1 align=\"center\">sane-canon_dr</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">sane-canon_dr -\nSANE backend for Canon DR-series scanners</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>sane-canon_dr</b> library implements a SANE (Scanner\nAccess Now Easy) backend which provides access to some Canon\nDR-series scanners.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This document\ndescribes backend version 60, which shipped with SANE\n1.0.32.</p>\n\n<h2>SUPPORTED HARDWARE\n<a name=\"SUPPORTED HARDWARE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This version\nhas only been tested with a few scanner models. Please see\n<i>http://www.sane-project.org/sane-supported-devices.html</i>\nfor the most recent list.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This backend\nmay support other Canon scanners. The best way to determine\nlevel of support is to test the scanner directly, or to\ncollect a trace of the windows driver in action. Please\ncontact the author for help or with test results.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In general, the\nlarger machines (DR-4000 and up) which have been tested use\na fairly complete protocol, with hardware support for many\nmodes, resolutions and features. The smaller machines have\nmany limitations, like missing horizontal resolutions,\nmissing binary mode, always scanning full-width, etc. There\nis code in the backend to address these problems, but there\nseems to be no way to detect if they are required, so they\nmust be hard-coded.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Effort has been\nmade to expose most hardware options, including: <b><br>\n--source Flatbed|ADF Front|ADF Back|ADF Duplex</b></p>\n\n<p style=\"margin-left:22%;\">Selects the source for the\nscan.</p>\n\n<p style=\"margin-left:11%;\"><b>--mode\nLineart|Halftone|Gray|Color</b></p>\n\n<p style=\"margin-left:22%;\">Selects the mode for the\nscan.</p>\n\n<p style=\"margin-left:11%;\"><b>--resolution</b></p>\n\n<p style=\"margin-left:22%;\">Controls scan resolution.</p>\n\n<p style=\"margin-left:11%;\"><b>--tl-x, --tl-y, --br-x,\n--br-y</b></p>\n\n<p style=\"margin-left:22%;\">Sets scan area upper left and\nlower right coordinates. These are renamed <b>-t</b>,\n<b>-l</b>, <b>-x</b>, <b>-y</b> by some frontends.</p>\n\n<p style=\"margin-left:11%;\"><b>--page-width,\n--page-height</b></p>\n\n<p style=\"margin-left:22%;\">Sets paper size. Used by\nscanner to determine centering of scan coordinates when\nusing the ADF (Automatic Document Feeder) and to detect\ndouble feed errors.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Other options\nwill be available based on the capabilities of the scanner:\nenhancement, compression, buttons and sensors, etc.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Additionally,\nseveral &rsquo;software&rsquo; options are exposed by the\nbackend. These are reimplementations of features provided\nnatively by larger scanners, but running on the host\ncomputer. This enables smaller machines to have similar\ncapabilities. Please note that these features are somewhat\nsimplistic, and may not perform as well as the native\nimplementations. Note also that these features all require\nthat the driver cache the entire image in memory. This will\nalmost certainly result in a reduction of scanning speed.\n<b><br>\n--swcrop</b></p>\n\n<p style=\"margin-left:22%;\">Requests the driver to detect\nthe extremities of the paper within the larger image, and\ncrop the empty edges.</p>\n\n<p style=\"margin-left:11%;\"><b>--swdeskew</b></p>\n\n<p style=\"margin-left:22%;\">Requests the driver to detect\nthe rotation of the paper within the larger image, and\ncounter the rotation.</p>\n\n<p style=\"margin-left:11%;\"><b>--swdespeck X</b></p>\n\n<p style=\"margin-left:22%;\">Requests the driver to find and\nremove dots of X diameter or smaller from the image, and\nfill the space with the average surrounding color.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Use\n&rsquo;scanimage --help&rsquo; to get a list, but be aware\nthat some options may be settable only when another option\nhas been set, and that advanced options may be hidden by\nsome frontend programs.</p>\n\n<h2>CONFIGURATION FILE\n<a name=\"CONFIGURATION FILE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\nconfiguration file <i>canon_dr.conf</i> is used to tell the\nbackend how to look for scanners, and provide options\ncontrolling the operation of the backend. This file is read\neach time the frontend asks the backend for a list of\nscanners, generally only when the frontend starts. If the\nconfiguration file is missing, the backend will fail to\nrun.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Scanners can be\nspecified in the configuration file in 4 ways:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">&quot;scsi\nCANON DR&quot;</p>\n\n<p style=\"margin-left:22%;\">Requests backend to search all\nscsi buses in the system for a device which reports itself\nto be a scanner made by &rsquo;CANON&rsquo;, with a model\nname starting with &rsquo;DR&rsquo;.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">&quot;scsi\n/dev/sg0&quot; (or other scsi device file)</p>\n\n<p style=\"margin-left:22%;\">Requests backend to open the\nnamed scsi device. Only useful if you have multiple\ncompatible scanners connected to your system, and need to\nspecify one. Probably should not be used with the other\n&quot;scsi&quot; line above.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">&quot;usb\n0x04a9 0x1603&quot; (or other vendor/product ids)</p>\n\n<p style=\"margin-left:22%;\">Requests backend to search all\nusb buses in the system for a device which uses that vendor\nand product id. The device will then be queried to determine\nif it is a Canon scanner.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">&quot;usb\n/dev/usb/scanner0&quot; (or other device file)</p>\n\n<p style=\"margin-left:22%;\">Some systems use a kernel\ndriver to access usb scanners. This method is untested.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Besides the\n&rsquo;scsi&rsquo; and &rsquo;usb&rsquo; lines, the\nconfiguration file supports the following\n&rsquo;option&rsquo; lines:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">&quot;option\nbuffer-size [number of bytes]&quot;</p>\n\n<p style=\"margin-left:22%;\">Set the number of bytes in the\ndata buffer to something other than the compiled-in default\nof 4MB. Large values may cause timeouts or hangs, small\nvalues may cause slow scans.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Note: The\nbackend does not place an upper bound on this value, as some\nusers required it to be quite large. Values above the\ndefault are not recommended, and may crash your OS or lockup\nyour scsi card driver. You have been warned.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">&quot;option\nvendor-name [string of text]&quot; <br>\n&quot;option model-name [string of text]&quot; <br>\n&quot;option version-name [string of text]&quot;</p>\n\n<p style=\"margin-left:22%;\">These options can be used\ncollectively to override the values provided by the scanner,\nor to provide the values when the scanner cannot.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">&quot;option\npadded-read [0|1]&quot;</p>\n\n<p style=\"margin-left:22%;\">Some scanners prepend all data\ntransmitted to host with 12 bytes. Enable this option if the\nscanner fails to respond to commands.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">&quot;option\nduplex-offset [integer]&quot;</p>\n\n<p style=\"margin-left:22%;\">Some scanners pad the upper\nedge of one side of a duplex scan. There is some variation\nin the amount of padding. Modify this option if your unit\nshows an unwanted band of image data on only one side.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>NOTE</b>:\n&quot;option&quot; lines may appear multiple times in the\nconfiguration file. They only apply to scanners discovered\nby the next &rsquo;scsi/usb&rsquo; line.</p>\n\n<h2>ENVIRONMENT\n<a name=\"ENVIRONMENT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The backend\nuses a single environment variable,\n<b>SANE_DEBUG_CANON_DR</b>, which enables debugging output\nto stderr. Valid values are:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">5 Errors <br>\n10 Function trace <br>\n15 Function detail <br>\n20 Option commands <br>\n25 SCSI/USB trace <br>\n30 SCSI/USB detail <br>\n35 Useless noise</p>\n\n<h2>KNOWN ISSUES\n<a name=\"KNOWN ISSUES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This backend\nwas entirely reverse engineered from usb traces of the\nproprietary driver. Various advanced features of the\nmachines may not be enabled. Many machines have not been\ntested. Their protocol is unknown.</p>\n\n<h2>CREDITS\n<a name=\"CREDITS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The various\nauthors of the <a href=\"https://man.page/5/sane-fujitsu\">sane-fujitsu(5)</a> backend provided\nuseful code. <br>\nYabarana Corp. <i>www.yabarana.com</i> provided significant\nfunding. <br>\nEvriChart, Inc. <i>www.evrichart.com</i> provided funding\nand loaned equipment. <br>\nCanon, USA. <i>www.usa.canon.com</i> loaned equipment. <br>\nHPrint <i>hprint.com.br</i> provided funding and testing for\nDR-2510 support. <br>\nStone-IT <i>www.stone-it.com</i> provided funding for\nDR-2010 and DR-2050 support. <br>\nGerhard Pfeffer provided access and testing for P-208 and\nP-215. <br>\nSpecial thanks to: Alejandro Imass, Andre Shimakawa, Martijn\nvan Brummelen, Thanos Diacakis and Junren Shi for testing\nand feedback.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/7/sane\">sane(7)</a>,\n<a href=\"https://man.page/5/sane-scsi\">sane-scsi(5)</a>, <b>sane-usb(5)</b></p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">m. allan noah:\n<i>&lt;kitno455 a t gmail d o t com&gt;</i>.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#SUPPORTED HARDWARE\">SUPPORTED HARDWARE</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#CONFIGURATION FILE\">CONFIGURATION FILE</a>","<a href=\"#ENVIRONMENT\">ENVIRONMENT</a>","<a href=\"#KNOWN ISSUES\">KNOWN ISSUES</a>","<a href=\"#CREDITS\">CREDITS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHOR\">AUTHOR</a>"],"level":5}