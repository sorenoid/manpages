{"name":"mke2fs.conf","description":"mke2fs.conf -\nConfiguration file for mke2fs\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<i>mke2fs.conf</i>\nis the configuration file for <b>mke2fs</b>(8). It controls\nthe default parameters used by <b>mke2fs</b>(8) when it is\ncreating ext2, ext3, or ext4 file systems.\n\nThe\n<i>mke2fs.conf</i> file uses an INI-style format. Stanzas,\nor top-level sections, are delimited by square braces: [ ].\nWithin each section, each line defines a relation, which\nassigns tags to values, or to a subsection, which contains\nfurther relations or subsections. An example of the\nINI-style format used by this configuration file follows\nbelow:\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>[section1]</td>\n<td width=\"8%\"></td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n\n\n<p>tag1 = value_a</td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n\n\n<p>tag1 = value_b</td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n\n\n<p>tag2 = value_c</td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>[section 2]</td>\n<td width=\"8%\"></td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n\n\n<p>tag3 = {</td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"69%\">\n\n\n<p>subtag1 = subtag_value_a</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"69%\">\n\n\n<p>subtag1 = subtag_value_b</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"69%\">\n\n\n<p>subtag2 = subtag_value_c</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n\n\n<p>}</td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n\n\n<p>tag1 = value_d</td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n\n\n<p>tag2 = value_e</td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>}</td>\n<td width=\"8%\"></td>\n<td width=\"69%\">\n</td></tr>\n</table>\n\nComments are\ndelimited by a semicolon (&rsquo;;&rsquo;) or a hash\n(&rsquo;#&rsquo;) character at the beginning of the comment,\nand are terminated by the end of line character.\n\nTags and values\nmust be quoted using double quotes if they contain spaces.\nWithin a quoted string, the standard backslash\ninterpretations apply: &quot;\\n&quot; (for the newline\ncharacter), &quot;\\t&quot; (for the tab character),\n&quot;\\b&quot; (for the backspace character), and\n&quot;\\\\&quot; (for the backslash character).\n\nSome relations\nexpect a boolean value. The parser is quite liberal on\nrecognizing &rsquo;&rsquo;yes&rsquo;&rsquo;,\n&rsquo;&rsquo;y&rsquo;&rsquo;,\n&rsquo;&rsquo;true&rsquo;&rsquo;,\n&rsquo;&rsquo;t&rsquo;&rsquo;,\n&rsquo;&rsquo;1&rsquo;&rsquo;,\n&rsquo;&rsquo;on&rsquo;&rsquo;, etc. as a boolean true\nvalue, and &rsquo;&rsquo;no&rsquo;&rsquo;,\n&rsquo;&rsquo;n&rsquo;&rsquo;,\n&rsquo;&rsquo;false&rsquo;&rsquo;,\n&rsquo;&rsquo;nil&rsquo;&rsquo;,\n&rsquo;&rsquo;0&rsquo;&rsquo;,\n&rsquo;&rsquo;off&rsquo;&rsquo; as a boolean false\nvalue.\n\nThe following\nstanzas are used in the <i>mke2fs.conf</i> file. They will\nbe described in more detail in future sections of this\ndocument. <i><br>\n[options]</i>\n\n<p style=\"margin-left:22%;\">Contains relations which\ninfluence how mke2fs behaves.\n\n<p style=\"margin-left:11%;\"><i>[defaults]</i>\n\n<p style=\"margin-left:22%;\">Contains relations which define\nthe default parameters used by <b>mke2fs</b>(8). In general,\nthese defaults may be overridden by a definition in the\n<b>fs_types</b> stanza, or by a command-line option provided\nby the user.\n\n<p style=\"margin-left:11%;\"><i>[fs_types]</i>\n\n<p style=\"margin-left:22%;\">Contains relations which define\ndefaults that should be used for specific file system and\nusage types. The file system type and usage type can be\nspecified explicitly using the <b>-t</b>and<b>-T</b> options\nto <b>mke2fs</b>(8), respectively.\n\n<p style=\"margin-left:11%;\"><i>[devices]</i>\n\n<p style=\"margin-left:22%;\">Contains relations which define\ndefaults for specific devices.\n\n<h2>THE [options] STANZA\n<a name=\"THE [options] STANZA\"></a>\n</h2>\n\n\nThe following\nrelations are defined in the <i>[options]</i> stanza.\n<i><br>\nproceed_delay</i>\n\n<p style=\"margin-left:22%;\">If this relation is set to a\npositive integer, then mke2fs will wait <i>proceed_delay</i>\nseconds after asking the user for permission to proceed and\nthen continue, even if the user has not answered the\nquestion. Defaults to 0, which means to wait until the user\nanswers the question one way or another.\n\n<p style=\"margin-left:11%;\"><i>sync_kludge</i>\n\n<p style=\"margin-left:22%;\">If this relation is set to a\npositive integer, then while writing the inode table, mke2fs\nwill request the operating system flush out pending writes\nto initialize the inode table every <i>sync_kludge</i> block\ngroups. This is needed to work around buggy kernels that\ndon&rsquo;t handle writeback throttling correctly.\n\n<h2>THE [defaults] STANZA\n<a name=\"THE [defaults] STANZA\"></a>\n</h2>\n\n\nThe following\nrelations are defined in the <i>[defaults]</i> stanza.\n<i><br>\ncreator_os</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\n&quot;creator operating system&quot; for the file system\nunless it is overridden on the command line. The default\nvalue is the OS for which the <b>mke2fs</b> executable was\ncompiled.\n\n<p style=\"margin-left:11%;\"><i>fs_type</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault file system type if the user does not specify it via\nthe <b>-t</b> option, or if <b>mke2fs</b> is not started\nusing a program name of the form <b>mkfs.</b><i>fs-type</i>.\nIf both the user and the <b>mke2fs.conf</b> file do not\nspecify a default file system type, mke2fs will use a\ndefault file system type of <i>ext3</i> if a journal was\nrequested via a command-line option, or <i>ext2</i> if\nnot.\n\n<p style=\"margin-left:11%;\"><i>undo_dir</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndirectory where the undo file should be stored. It can be\noverridden via the <b>E2FSPROGS_UNDO_DIR</b> environment\nvariable. If the directory location is set to the value\n<i>none</i>, <b>mke2fs</b> will not create an undo file.\n\nIn addition,\nany tags that can be specified in a per-file system tags\nsubsection as defined below (e.g., <i>blocksize</i>,\n<i>hash_alg</i>, <i>inode_ratio</i>, <i>inode_size</i>,\n<i>reserved_ratio</i>, etc.) can also be specified in the\n<i>defaults</i> stanza to specify the default value to be\nused if the user does not specify one on the command line,\nand the file system-type specific section of the\nconfiguration file does not specify a default value.\n\n<h2>THE [fs_types] STANZA\n<a name=\"THE [fs_types] STANZA\"></a>\n</h2>\n\n\nEach tag in the\n<i>[fs_types]</i> stanza names a file system type or usage\ntype which can be specified via the <b>-t</b> or <b>-T</b>\noptions to <b>mke2fs</b>(8), respectively.\n\nThe\n<b>mke2fs</b> program constructs a list of fs_types by\nconcatenating the file system type (i.e., ext2, ext3, etc.)\nwith the usage type list. For most configuration options,\n<b>mke2fs</b> will look for a subsection in the\n<i>[fs_types]</i> stanza corresponding with each entry in\nthe constructed list, with later entries overriding earlier\nfile system or usage types. For example, consider the\nfollowing <b>mke2fs.conf</b> fragment:\n\n[defaults]\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"85%\">\n\n\n<p>base_features =\nsparse_super,filetype,resize_inode,dir_index </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"85%\">\n\n\n<p>blocksize = 4096</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"85%\">\n\n\n<p>inode_size = 256</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"85%\">\n\n\n<p>inode_ratio = 16384</td></tr>\n</table>\n\n[fs_types]\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>ext3 = {</td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>features = has_journal</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>}</td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>ext4 = {</td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>features = extents,flex_bg</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>inode_size = 256</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>}</td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>small = {</td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>blocksize = 1024</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>inode_ratio = 4096</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>}</td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>floppy = {</td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>features = ^resize_inode</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>blocksize = 1024</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>inode_size = 128</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>}</td>\n<td width=\"77%\">\n</td></tr>\n</table>\n\nIf mke2fs\nstarted with a program name of <b>mke2fs.ext4</b>, then the\nfile system type of ext4 will be used. If the file system is\nsmaller than 3 megabytes, and no usage type is specified,\nthen <b>mke2fs</b> will use a default usage type of\n<i>floppy</i>. This results in an fs_types list of\n&quot;ext4, floppy&quot;. Both the ext4 subsection and the\nfloppy subsection define an <i>inode_size</i> relation, but\nsince the later entries in the fs_types list supersede\nearlier ones, the configuration parameter for\nfs_types.floppy.inode_size will be used, so the file system\nwill have an inode size of 128.\n\nThe exception\nto this resolution is the <i>features</i> tag, which\nspecifies a set of changes to the features used by the file\nsystem, and which is cumulative. So in the above example,\nfirst the configuration relation defaults.base_features\nwould enable an initial feature set with the sparse_super,\nfiletype, resize_inode, and dir_index features enabled. Then\nconfiguration relation fs_types.ext4.features would enable\nthe extents and flex_bg features, and finally the\nconfiguration relation fs_types.floppy.features would remove\nthe resize_inode feature, resulting in a file system feature\nset consisting of the sparse_super, filetype, dir_index,\nextents_and flex_bg features.\n\nFor each file\nsystem type, the following tags may be used in that\nfs_type&rsquo;s subsection. These tags may also be used in\nthe <i>default</i> section: <i><br>\nbase_features</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\nfeatures which are initially enabled for this file system\ntype. Only one <i>base_features</i> will be used, so if\nthere are multiple entries in the fs_types list whose\nsubsections define the <i>base_features</i> relation, only\nthe last will be used by <b>mke2fs</b>(8).\n\n\n<p style=\"margin-left:11%;\"><i>enable_periodic_fsck</i>\n\n<p style=\"margin-left:22%;\">This boolean relation specifies\nwhether periodic file system checks should be enforced at\nboot time. If set to true, checks will be forced every 180\ndays, or after a random number of mounts. These values may\nbe changed later via the <b>-i</b> and <b>-c</b>\ncommand-line options to <b>tune2fs</b>(8).\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>errors</i></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Change the behavior of the kernel code when errors are\ndetected. In all cases, a file system error will cause\n<b>e2fsck</b>(8) to check the file system on the next boot.\n<i>errors</i> can be one of the following:</td></tr>\n</table>\n\n\n<p style=\"margin-left:29%; margin-top: 1em\"><b>continue</b>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"29%\"></td>\n<td width=\"16%\"></td>\n<td width=\"3%\"></td>\n<td width=\"46%\">\n\n\n<p style=\"margin-top: 1em\">Continue normal execution.</td>\n<td width=\"6%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"29%\"></td>\n<td width=\"16%\">\n\n\n<p><b>remount-ro</b></td>\n<td width=\"3%\"></td>\n<td width=\"46%\">\n\n\n<p>Remount file system read-only.</td>\n<td width=\"6%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"29%\"></td>\n<td width=\"16%\">\n\n\n<p><b>panic</b></td>\n<td width=\"3%\"></td>\n<td width=\"46%\">\n\n\n<p>Cause a kernel panic.</td>\n<td width=\"6%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><i>features</i>\n\n<p style=\"margin-left:22%;\">This relation specifies a\ncomma-separated list of features edit requests which modify\nthe feature set used by the newly constructed file system.\nThe syntax is the same as the <b>-O</b> command-line option\nto <b>mke2fs</b>(8); that is, a feature can be prefixed by a\ncaret (&rsquo;^&rsquo;) symbol to disable a named feature.\nEach <i>feature</i> relation specified in the fs_types list\nwill be applied in the order found in the fs_types list.\n\n<p style=\"margin-left:11%;\"><i>force_undo</i>\n\n<p style=\"margin-left:22%;\">This boolean relation, if set\nto a value of true, forces <b>mke2fs</b> to always try to\ncreate an undo file, even if the undo file might be huge and\nit might extend the time to create the file system image\nbecause the inode table isn&rsquo;t being initialized\nlazily.\n\n<p style=\"margin-left:11%;\"><i>default_features</i>\n\n<p style=\"margin-left:22%;\">This relation specifies set of\nfeatures which should be enabled or disabled after applying\nthe features listed in the <i>base_features</i> and\n<i>features</i> relations. It may be overridden by the\n<b>-O</b> command-line option to <b>mke2fs</b>(8).\n\n<p style=\"margin-left:11%;\"><i>auto_64-bit_support</i>\n\n<p style=\"margin-left:22%;\">This relation is a boolean\nwhich specifies whether <b>mke2fs</b>(8) should\nautomatically add the 64bit feature if the number of blocks\nfor the file system requires this feature to be enabled. The\nresize_inode feature is also automatically disabled since it\ndoesn&rsquo;t support 64-bit block numbers.\n\n<p style=\"margin-left:11%;\"><i>default_mntopts</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the set\nof mount options which should be enabled by default. These\nmay be changed at a later time with the <b>-o</b>\ncommand-line option to <b>tune2fs</b>(8).\n\n<p style=\"margin-left:11%;\"><i>blocksize</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault blocksize if the user does not specify a blocksize\non the command line.\n\n<p style=\"margin-left:11%;\"><i>lazy_itable_init</i>\n\n<p style=\"margin-left:22%;\">This boolean relation specifies\nwhether the inode table should be lazily initialized. It\nonly has meaning if the uninit_bg feature is enabled. If\nlazy_itable_init is true and the uninit_bg feature is\nenabled, the inode table will not be fully initialized by\n<b>mke2fs</b>(8). This speeds up file system initialization\nnoticeably, but it requires the kernel to finish\ninitializing the file system in the background when the file\nsystem is first mounted.\n\n<p style=\"margin-left:11%;\"><i>lazy_journal_init</i>\n\n<p style=\"margin-left:22%;\">This boolean relation specifies\nwhether the journal inode should be lazily initialized. It\nonly has meaning if the has_journal feature is enabled. If\nlazy_journal_init is true, the journal inode will not be\nfully zeroed out by <b>mke2fs</b>. This speeds up file\nsystem initialization noticeably, but carries some small\nrisk if the system crashes before the journal has been\noverwritten entirely one time.\n\n<p style=\"margin-left:11%;\"><i>journal_location</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\nlocation of the journal.\n\n<p style=\"margin-left:11%;\"><i>num_backup_sb</i>\n\n<p style=\"margin-left:22%;\">This relation indicates whether\nfile systems with the <b>sparse_super2</b> feature enabled\nshould be created with 0, 1, or 2 backup superblocks.\n\n<p style=\"margin-left:11%;\"><i>packed_meta_blocks</i>\n\n<p style=\"margin-left:22%;\">This boolean relation specifies\nwhether the allocation bitmaps, inode table, and journal\nshould be located at the beginning of the file system.\n\n<p style=\"margin-left:11%;\"><i>inode_ratio</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault inode ratio if the user does not specify one on the\ncommand line.\n\n<p style=\"margin-left:11%;\"><i>inode_size</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault inode size if the user does not specify one on the\ncommand line.\n\n<p style=\"margin-left:11%;\"><i>reserved_ratio</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault percentage of file system blocks reserved for the\nsuper-user, if the user does not specify one on the command\nline.\n\n<p style=\"margin-left:11%;\"><i>hash_alg</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault hash algorithm used for the new file systems with\nhashed b-tree directories. Valid algorithms accepted are:\n<i>legacy</i>, <i>half_md4</i>, and <i>tea</i>.\n\n<p style=\"margin-left:11%;\"><i>flex_bg_size</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\nnumber of block groups that will be packed together to\ncreate one large virtual block group on an ext4 file system.\nThis improves meta-data locality and performance on\nmeta-data heavy workloads. The number of groups must be a\npower of 2 and may only be specified if the flex_bg file\nsystem feature is enabled.\n\n<p style=\"margin-left:11%;\"><i>options</i>\n\n<p style=\"margin-left:22%;\">This relation specifies\nadditional extended options which should be treated by\n<b>mke2fs</b>(8) as if they were prepended to the argument\nof the <b>-E</b> option. This can be used to configure the\ndefault extended options used by <b>mke2fs</b>(8) on a\nper-file system type basis.\n\n<p style=\"margin-left:11%;\"><i>discard</i>\n\n<p style=\"margin-left:22%;\">This boolean relation specifies\nwhether the <b>mke2fs</b>(8) should attempt to discard\ndevice prior to file system creation.\n\n<p style=\"margin-left:11%;\"><i>cluster_size</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault cluster size if the bigalloc file system feature is\nenabled. It can be overridden via the <b>-C</b> command line\noption to <b>mke2fs</b>(8)\n\n<p style=\"margin-left:11%;\"><i>make_hugefiles</i>\n\n<p style=\"margin-left:22%;\">This boolean relation enables\nthe creation of pre-allocated files as part of formatting\nthe file system. The extent tree blocks for these\npre-allocated files will be placed near the beginning of the\nfile system, so that if all of the other metadata blocks are\nalso configured to be placed near the beginning of the file\nsystem (by disabling the backup superblocks, using the\npacked_meta_blocks option, etc.), the data blocks of the\npre-allocated files will be contiguous.\n\n<p style=\"margin-left:11%;\"><i>hugefiles_dir</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndirectory where huge files are created, relative to the file\nsystem root.\n\n<p style=\"margin-left:11%;\"><i>hugefiles_uid</i>\n\n<p style=\"margin-left:22%;\">This relation controls the user\nownership for all of the files and directories created by\nthe <i>make_hugefiles</i> feature.\n\n<p style=\"margin-left:11%;\"><i>hugefiles_gid</i>\n\n<p style=\"margin-left:22%;\">This relation controls the\ngroup ownership for all of the files and directories created\nby the <i>make_hugefiles</i> feature.\n\n<p style=\"margin-left:11%;\"><i>hugefiles_umask</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\numask used when creating the files and directories by the\n<i>make_hugefiles</i> feature.\n\n<p style=\"margin-left:11%;\"><i>num_hugefiles</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\nnumber of huge files to be created. If this relation is not\nspecified, or is set to zero, and the <i>hugefiles_size</i>\nrelation is non-zero, then <i>make_hugefiles</i> will create\nas many huge files as can fit to fill the entire file\nsystem.\n\n<p style=\"margin-left:11%;\"><i>hugefiles_slack</i>\n\n<p style=\"margin-left:22%;\">This relation specifies how\nmuch space should be reserved for other files.\n\n<p style=\"margin-left:11%;\"><i>hugefiles_size</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\nsize of the huge files. If this relation is not specified,\nthe default is to fill the entire file system.\n\n<p style=\"margin-left:11%;\"><i>hugefiles_align</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\nalignment for the start block of the huge files. It also\nforces the size of huge files to be a multiple of the\nrequested alignment. If this relation is not specified, no\nalignment requirement will be imposed on the huge files.\n\n\n<p style=\"margin-left:11%;\"><i>hugefiles_align_disk</i>\n\n<p style=\"margin-left:22%;\">This relations specifies\nwhether the alignment should be relative to the beginning of\nthe hard drive (assuming that the starting offset of the\npartition is available to mke2fs). The default value is\nfalse, which will cause hugefile alignment to be relative to\nthe beginning of the file system.\n\n<p style=\"margin-left:11%;\"><i>hugefiles_name</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\nbase file name for the huge files.\n\n<p style=\"margin-left:11%;\"><i>hugefiles_digits</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\n(zero-padded) width of the field for the huge file\nnumber.\n\n<p style=\"margin-left:11%;\"><i>warn_y2038_dates</i>\n\n<p style=\"margin-left:22%;\">This boolean relation specifies\nwhether mke2fs will issue a warning when creating a file\nsystem with 128 byte inodes (and so therefore will not\nsupport dates after January 19th, 2038). The default value\nis true, except for file systems created for the GNU Hurd\nsince it only supports 128-byte inodes.\n\n<p style=\"margin-left:11%;\"><i>zero_hugefiles</i>\n\n<p style=\"margin-left:22%;\">This boolean relation specifies\nwhether or not zero blocks will be written to the hugefiles\nwhile <b>mke2fs</b>(8) is creating them. By default, zero\nblocks will be written to the huge files to avoid stale data\nfrom being made available to potentially untrusted user\nprograms, unless the device supports a discard/trim\noperation which will take care of zeroing the device blocks.\nBy setting <i>zero_hugefiles</i> to false, this step will\nalways be skipped, which can be useful if it is known that\nthe disk has been previously erased, or if the user programs\nthat will have access to the huge files are trusted to not\nreveal stale data.\n\n<p style=\"margin-left:11%;\"><i>encoding</i>\n\n<p style=\"margin-left:22%;\">This relation defines the file\nname encoding to be used if the casefold feature is enabled.\nCurrently the only valid encoding is utf8-12.1 or utf8,\nwhich requests the most recent Unicode version; since 12.1\nis the only available Unicode version, utf8 and utf8-12.1\nhave the same result. <i>encoding_flags</i> This relation\ndefines encoding-specific flags. For utf8 encodings, the\nonly available flag is strict, which will cause attempts to\ncreate file names containing invalid Unicode characters to\nbe rejected by the kernel. Strict mode is not enabled by\ndefault.\n\n<h2>THE [devices] STANZA\n<a name=\"THE [devices] STANZA\"></a>\n</h2>\n\n\nEach tag in the\n<i>[devices]</i> stanza names device name so that per-device\ndefaults can be specified. <i><br>\nfs_type</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault parameter for the <b>-t</b> option, if this option\nisn&rsquo;t specified on the command line.\n\n<p style=\"margin-left:11%;\"><i>usage_types</i>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault parameter for the <b>-T</b> option, if this option\nisn&rsquo;t specified on the command line.\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n\n<i>/etc/mke2fs.conf</i>\n\n<p style=\"margin-left:22%;\">The configuration file for\n<b>mke2fs</b>(8).\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<b>mke2fs</b>(8)","body":"\n\n<h1 align=\"center\">mke2fs.conf</h1>\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">mke2fs.conf -\nConfiguration file for mke2fs</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>mke2fs.conf</i>\nis the configuration file for <b>mke2fs</b>(8). It controls\nthe default parameters used by <b>mke2fs</b>(8) when it is\ncreating ext2, ext3, or ext4 file systems.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>mke2fs.conf</i> file uses an INI-style format. Stanzas,\nor top-level sections, are delimited by square braces: [ ].\nWithin each section, each line defines a relation, which\nassigns tags to values, or to a subsection, which contains\nfurther relations or subsections. An example of the\nINI-style format used by this configuration file follows\nbelow:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>[section1]</p></td>\n<td width=\"8%\"></td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n\n\n<p>tag1 = value_a</p></td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n\n\n<p>tag1 = value_b</p></td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n\n\n<p>tag2 = value_c</p></td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>[section 2]</p></td>\n<td width=\"8%\"></td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n\n\n<p>tag3 = {</p></td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"69%\">\n\n\n<p>subtag1 = subtag_value_a</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"69%\">\n\n\n<p>subtag1 = subtag_value_b</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"69%\">\n\n\n<p>subtag2 = subtag_value_c</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n\n\n<p>}</p></td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n\n\n<p>tag1 = value_d</p></td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\">\n\n\n<p>tag2 = value_e</p></td>\n<td width=\"69%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>}</p></td>\n<td width=\"8%\"></td>\n<td width=\"69%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Comments are\ndelimited by a semicolon (&rsquo;;&rsquo;) or a hash\n(&rsquo;#&rsquo;) character at the beginning of the comment,\nand are terminated by the end of line character.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Tags and values\nmust be quoted using double quotes if they contain spaces.\nWithin a quoted string, the standard backslash\ninterpretations apply: &quot;\\n&quot; (for the newline\ncharacter), &quot;\\t&quot; (for the tab character),\n&quot;\\b&quot; (for the backspace character), and\n&quot;\\\\&quot; (for the backslash character).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Some relations\nexpect a boolean value. The parser is quite liberal on\nrecognizing &rsquo;&rsquo;yes&rsquo;&rsquo;,\n&rsquo;&rsquo;y&rsquo;&rsquo;,\n&rsquo;&rsquo;true&rsquo;&rsquo;,\n&rsquo;&rsquo;t&rsquo;&rsquo;,\n&rsquo;&rsquo;1&rsquo;&rsquo;,\n&rsquo;&rsquo;on&rsquo;&rsquo;, etc. as a boolean true\nvalue, and &rsquo;&rsquo;no&rsquo;&rsquo;,\n&rsquo;&rsquo;n&rsquo;&rsquo;,\n&rsquo;&rsquo;false&rsquo;&rsquo;,\n&rsquo;&rsquo;nil&rsquo;&rsquo;,\n&rsquo;&rsquo;0&rsquo;&rsquo;,\n&rsquo;&rsquo;off&rsquo;&rsquo; as a boolean false\nvalue.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\nstanzas are used in the <i>mke2fs.conf</i> file. They will\nbe described in more detail in future sections of this\ndocument. <i><br>\n[options]</i></p>\n\n<p style=\"margin-left:22%;\">Contains relations which\ninfluence how mke2fs behaves.</p>\n\n<p style=\"margin-left:11%;\"><i>[defaults]</i></p>\n\n<p style=\"margin-left:22%;\">Contains relations which define\nthe default parameters used by <b>mke2fs</b>(8). In general,\nthese defaults may be overridden by a definition in the\n<b>fs_types</b> stanza, or by a command-line option provided\nby the user.</p>\n\n<p style=\"margin-left:11%;\"><i>[fs_types]</i></p>\n\n<p style=\"margin-left:22%;\">Contains relations which define\ndefaults that should be used for specific file system and\nusage types. The file system type and usage type can be\nspecified explicitly using the <b>-t</b>and<b>-T</b> options\nto <b>mke2fs</b>(8), respectively.</p>\n\n<p style=\"margin-left:11%;\"><i>[devices]</i></p>\n\n<p style=\"margin-left:22%;\">Contains relations which define\ndefaults for specific devices.</p>\n\n<h2>THE [options] STANZA\n<a name=\"THE [options] STANZA\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\nrelations are defined in the <i>[options]</i> stanza.\n<i><br>\nproceed_delay</i></p>\n\n<p style=\"margin-left:22%;\">If this relation is set to a\npositive integer, then mke2fs will wait <i>proceed_delay</i>\nseconds after asking the user for permission to proceed and\nthen continue, even if the user has not answered the\nquestion. Defaults to 0, which means to wait until the user\nanswers the question one way or another.</p>\n\n<p style=\"margin-left:11%;\"><i>sync_kludge</i></p>\n\n<p style=\"margin-left:22%;\">If this relation is set to a\npositive integer, then while writing the inode table, mke2fs\nwill request the operating system flush out pending writes\nto initialize the inode table every <i>sync_kludge</i> block\ngroups. This is needed to work around buggy kernels that\ndon&rsquo;t handle writeback throttling correctly.</p>\n\n<h2>THE [defaults] STANZA\n<a name=\"THE [defaults] STANZA\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\nrelations are defined in the <i>[defaults]</i> stanza.\n<i><br>\ncreator_os</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\n&quot;creator operating system&quot; for the file system\nunless it is overridden on the command line. The default\nvalue is the OS for which the <b>mke2fs</b> executable was\ncompiled.</p>\n\n<p style=\"margin-left:11%;\"><i>fs_type</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault file system type if the user does not specify it via\nthe <b>-t</b> option, or if <b>mke2fs</b> is not started\nusing a program name of the form <b>mkfs.</b><i>fs-type</i>.\nIf both the user and the <b>mke2fs.conf</b> file do not\nspecify a default file system type, mke2fs will use a\ndefault file system type of <i>ext3</i> if a journal was\nrequested via a command-line option, or <i>ext2</i> if\nnot.</p>\n\n<p style=\"margin-left:11%;\"><i>undo_dir</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndirectory where the undo file should be stored. It can be\noverridden via the <b>E2FSPROGS_UNDO_DIR</b> environment\nvariable. If the directory location is set to the value\n<i>none</i>, <b>mke2fs</b> will not create an undo file.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In addition,\nany tags that can be specified in a per-file system tags\nsubsection as defined below (e.g., <i>blocksize</i>,\n<i>hash_alg</i>, <i>inode_ratio</i>, <i>inode_size</i>,\n<i>reserved_ratio</i>, etc.) can also be specified in the\n<i>defaults</i> stanza to specify the default value to be\nused if the user does not specify one on the command line,\nand the file system-type specific section of the\nconfiguration file does not specify a default value.</p>\n\n<h2>THE [fs_types] STANZA\n<a name=\"THE [fs_types] STANZA\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Each tag in the\n<i>[fs_types]</i> stanza names a file system type or usage\ntype which can be specified via the <b>-t</b> or <b>-T</b>\noptions to <b>mke2fs</b>(8), respectively.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>mke2fs</b> program constructs a list of fs_types by\nconcatenating the file system type (i.e., ext2, ext3, etc.)\nwith the usage type list. For most configuration options,\n<b>mke2fs</b> will look for a subsection in the\n<i>[fs_types]</i> stanza corresponding with each entry in\nthe constructed list, with later entries overriding earlier\nfile system or usage types. For example, consider the\nfollowing <b>mke2fs.conf</b> fragment:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">[defaults]</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"85%\">\n\n\n<p>base_features =\nsparse_super,filetype,resize_inode,dir_index</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"85%\">\n\n\n<p>blocksize = 4096</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"85%\">\n\n\n<p>inode_size = 256</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"85%\">\n\n\n<p>inode_ratio = 16384</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\">[fs_types]</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>ext3 = {</p></td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>features = has_journal</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>}</p></td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>ext4 = {</p></td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>features = extents,flex_bg</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>inode_size = 256</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>}</p></td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>small = {</p></td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>blocksize = 1024</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>inode_ratio = 4096</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>}</p></td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>floppy = {</p></td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>features = ^resize_inode</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>blocksize = 1024</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n\n\n<p>inode_size = 128</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n\n\n<p>}</p></td>\n<td width=\"77%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If mke2fs\nstarted with a program name of <b>mke2fs.ext4</b>, then the\nfile system type of ext4 will be used. If the file system is\nsmaller than 3 megabytes, and no usage type is specified,\nthen <b>mke2fs</b> will use a default usage type of\n<i>floppy</i>. This results in an fs_types list of\n&quot;ext4, floppy&quot;. Both the ext4 subsection and the\nfloppy subsection define an <i>inode_size</i> relation, but\nsince the later entries in the fs_types list supersede\nearlier ones, the configuration parameter for\nfs_types.floppy.inode_size will be used, so the file system\nwill have an inode size of 128.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The exception\nto this resolution is the <i>features</i> tag, which\nspecifies a set of changes to the features used by the file\nsystem, and which is cumulative. So in the above example,\nfirst the configuration relation defaults.base_features\nwould enable an initial feature set with the sparse_super,\nfiletype, resize_inode, and dir_index features enabled. Then\nconfiguration relation fs_types.ext4.features would enable\nthe extents and flex_bg features, and finally the\nconfiguration relation fs_types.floppy.features would remove\nthe resize_inode feature, resulting in a file system feature\nset consisting of the sparse_super, filetype, dir_index,\nextents_and flex_bg features.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For each file\nsystem type, the following tags may be used in that\nfs_type&rsquo;s subsection. These tags may also be used in\nthe <i>default</i> section: <i><br>\nbase_features</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\nfeatures which are initially enabled for this file system\ntype. Only one <i>base_features</i> will be used, so if\nthere are multiple entries in the fs_types list whose\nsubsections define the <i>base_features</i> relation, only\nthe last will be used by <b>mke2fs</b>(8).</p>\n\n\n<p style=\"margin-left:11%;\"><i>enable_periodic_fsck</i></p>\n\n<p style=\"margin-left:22%;\">This boolean relation specifies\nwhether periodic file system checks should be enforced at\nboot time. If set to true, checks will be forced every 180\ndays, or after a random number of mounts. These values may\nbe changed later via the <b>-i</b> and <b>-c</b>\ncommand-line options to <b>tune2fs</b>(8).</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>errors</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Change the behavior of the kernel code when errors are\ndetected. In all cases, a file system error will cause\n<b>e2fsck</b>(8) to check the file system on the next boot.\n<i>errors</i> can be one of the following:</p></td></tr>\n</table>\n\n\n<p style=\"margin-left:29%; margin-top: 1em\"><b>continue</b></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"29%\"></td>\n<td width=\"16%\"></td>\n<td width=\"3%\"></td>\n<td width=\"46%\">\n\n\n<p style=\"margin-top: 1em\">Continue normal execution.</p></td>\n<td width=\"6%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"29%\"></td>\n<td width=\"16%\">\n\n\n<p><b>remount-ro</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"46%\">\n\n\n<p>Remount file system read-only.</p></td>\n<td width=\"6%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"29%\"></td>\n<td width=\"16%\">\n\n\n<p><b>panic</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"46%\">\n\n\n<p>Cause a kernel panic.</p></td>\n<td width=\"6%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><i>features</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies a\ncomma-separated list of features edit requests which modify\nthe feature set used by the newly constructed file system.\nThe syntax is the same as the <b>-O</b> command-line option\nto <b>mke2fs</b>(8); that is, a feature can be prefixed by a\ncaret (&rsquo;^&rsquo;) symbol to disable a named feature.\nEach <i>feature</i> relation specified in the fs_types list\nwill be applied in the order found in the fs_types list.</p>\n\n<p style=\"margin-left:11%;\"><i>force_undo</i></p>\n\n<p style=\"margin-left:22%;\">This boolean relation, if set\nto a value of true, forces <b>mke2fs</b> to always try to\ncreate an undo file, even if the undo file might be huge and\nit might extend the time to create the file system image\nbecause the inode table isn&rsquo;t being initialized\nlazily.</p>\n\n<p style=\"margin-left:11%;\"><i>default_features</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies set of\nfeatures which should be enabled or disabled after applying\nthe features listed in the <i>base_features</i> and\n<i>features</i> relations. It may be overridden by the\n<b>-O</b> command-line option to <b>mke2fs</b>(8).</p>\n\n<p style=\"margin-left:11%;\"><i>auto_64-bit_support</i></p>\n\n<p style=\"margin-left:22%;\">This relation is a boolean\nwhich specifies whether <b>mke2fs</b>(8) should\nautomatically add the 64bit feature if the number of blocks\nfor the file system requires this feature to be enabled. The\nresize_inode feature is also automatically disabled since it\ndoesn&rsquo;t support 64-bit block numbers.</p>\n\n<p style=\"margin-left:11%;\"><i>default_mntopts</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the set\nof mount options which should be enabled by default. These\nmay be changed at a later time with the <b>-o</b>\ncommand-line option to <b>tune2fs</b>(8).</p>\n\n<p style=\"margin-left:11%;\"><i>blocksize</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault blocksize if the user does not specify a blocksize\non the command line.</p>\n\n<p style=\"margin-left:11%;\"><i>lazy_itable_init</i></p>\n\n<p style=\"margin-left:22%;\">This boolean relation specifies\nwhether the inode table should be lazily initialized. It\nonly has meaning if the uninit_bg feature is enabled. If\nlazy_itable_init is true and the uninit_bg feature is\nenabled, the inode table will not be fully initialized by\n<b>mke2fs</b>(8). This speeds up file system initialization\nnoticeably, but it requires the kernel to finish\ninitializing the file system in the background when the file\nsystem is first mounted.</p>\n\n<p style=\"margin-left:11%;\"><i>lazy_journal_init</i></p>\n\n<p style=\"margin-left:22%;\">This boolean relation specifies\nwhether the journal inode should be lazily initialized. It\nonly has meaning if the has_journal feature is enabled. If\nlazy_journal_init is true, the journal inode will not be\nfully zeroed out by <b>mke2fs</b>. This speeds up file\nsystem initialization noticeably, but carries some small\nrisk if the system crashes before the journal has been\noverwritten entirely one time.</p>\n\n<p style=\"margin-left:11%;\"><i>journal_location</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\nlocation of the journal.</p>\n\n<p style=\"margin-left:11%;\"><i>num_backup_sb</i></p>\n\n<p style=\"margin-left:22%;\">This relation indicates whether\nfile systems with the <b>sparse_super2</b> feature enabled\nshould be created with 0, 1, or 2 backup superblocks.</p>\n\n<p style=\"margin-left:11%;\"><i>packed_meta_blocks</i></p>\n\n<p style=\"margin-left:22%;\">This boolean relation specifies\nwhether the allocation bitmaps, inode table, and journal\nshould be located at the beginning of the file system.</p>\n\n<p style=\"margin-left:11%;\"><i>inode_ratio</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault inode ratio if the user does not specify one on the\ncommand line.</p>\n\n<p style=\"margin-left:11%;\"><i>inode_size</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault inode size if the user does not specify one on the\ncommand line.</p>\n\n<p style=\"margin-left:11%;\"><i>reserved_ratio</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault percentage of file system blocks reserved for the\nsuper-user, if the user does not specify one on the command\nline.</p>\n\n<p style=\"margin-left:11%;\"><i>hash_alg</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault hash algorithm used for the new file systems with\nhashed b-tree directories. Valid algorithms accepted are:\n<i>legacy</i>, <i>half_md4</i>, and <i>tea</i>.</p>\n\n<p style=\"margin-left:11%;\"><i>flex_bg_size</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\nnumber of block groups that will be packed together to\ncreate one large virtual block group on an ext4 file system.\nThis improves meta-data locality and performance on\nmeta-data heavy workloads. The number of groups must be a\npower of 2 and may only be specified if the flex_bg file\nsystem feature is enabled.</p>\n\n<p style=\"margin-left:11%;\"><i>options</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies\nadditional extended options which should be treated by\n<b>mke2fs</b>(8) as if they were prepended to the argument\nof the <b>-E</b> option. This can be used to configure the\ndefault extended options used by <b>mke2fs</b>(8) on a\nper-file system type basis.</p>\n\n<p style=\"margin-left:11%;\"><i>discard</i></p>\n\n<p style=\"margin-left:22%;\">This boolean relation specifies\nwhether the <b>mke2fs</b>(8) should attempt to discard\ndevice prior to file system creation.</p>\n\n<p style=\"margin-left:11%;\"><i>cluster_size</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault cluster size if the bigalloc file system feature is\nenabled. It can be overridden via the <b>-C</b> command line\noption to <b>mke2fs</b>(8)</p>\n\n<p style=\"margin-left:11%;\"><i>make_hugefiles</i></p>\n\n<p style=\"margin-left:22%;\">This boolean relation enables\nthe creation of pre-allocated files as part of formatting\nthe file system. The extent tree blocks for these\npre-allocated files will be placed near the beginning of the\nfile system, so that if all of the other metadata blocks are\nalso configured to be placed near the beginning of the file\nsystem (by disabling the backup superblocks, using the\npacked_meta_blocks option, etc.), the data blocks of the\npre-allocated files will be contiguous.</p>\n\n<p style=\"margin-left:11%;\"><i>hugefiles_dir</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndirectory where huge files are created, relative to the file\nsystem root.</p>\n\n<p style=\"margin-left:11%;\"><i>hugefiles_uid</i></p>\n\n<p style=\"margin-left:22%;\">This relation controls the user\nownership for all of the files and directories created by\nthe <i>make_hugefiles</i> feature.</p>\n\n<p style=\"margin-left:11%;\"><i>hugefiles_gid</i></p>\n\n<p style=\"margin-left:22%;\">This relation controls the\ngroup ownership for all of the files and directories created\nby the <i>make_hugefiles</i> feature.</p>\n\n<p style=\"margin-left:11%;\"><i>hugefiles_umask</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\numask used when creating the files and directories by the\n<i>make_hugefiles</i> feature.</p>\n\n<p style=\"margin-left:11%;\"><i>num_hugefiles</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\nnumber of huge files to be created. If this relation is not\nspecified, or is set to zero, and the <i>hugefiles_size</i>\nrelation is non-zero, then <i>make_hugefiles</i> will create\nas many huge files as can fit to fill the entire file\nsystem.</p>\n\n<p style=\"margin-left:11%;\"><i>hugefiles_slack</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies how\nmuch space should be reserved for other files.</p>\n\n<p style=\"margin-left:11%;\"><i>hugefiles_size</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\nsize of the huge files. If this relation is not specified,\nthe default is to fill the entire file system.</p>\n\n<p style=\"margin-left:11%;\"><i>hugefiles_align</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\nalignment for the start block of the huge files. It also\nforces the size of huge files to be a multiple of the\nrequested alignment. If this relation is not specified, no\nalignment requirement will be imposed on the huge files.</p>\n\n\n<p style=\"margin-left:11%;\"><i>hugefiles_align_disk</i></p>\n\n<p style=\"margin-left:22%;\">This relations specifies\nwhether the alignment should be relative to the beginning of\nthe hard drive (assuming that the starting offset of the\npartition is available to mke2fs). The default value is\nfalse, which will cause hugefile alignment to be relative to\nthe beginning of the file system.</p>\n\n<p style=\"margin-left:11%;\"><i>hugefiles_name</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\nbase file name for the huge files.</p>\n\n<p style=\"margin-left:11%;\"><i>hugefiles_digits</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\n(zero-padded) width of the field for the huge file\nnumber.</p>\n\n<p style=\"margin-left:11%;\"><i>warn_y2038_dates</i></p>\n\n<p style=\"margin-left:22%;\">This boolean relation specifies\nwhether mke2fs will issue a warning when creating a file\nsystem with 128 byte inodes (and so therefore will not\nsupport dates after January 19th, 2038). The default value\nis true, except for file systems created for the GNU Hurd\nsince it only supports 128-byte inodes.</p>\n\n<p style=\"margin-left:11%;\"><i>zero_hugefiles</i></p>\n\n<p style=\"margin-left:22%;\">This boolean relation specifies\nwhether or not zero blocks will be written to the hugefiles\nwhile <b>mke2fs</b>(8) is creating them. By default, zero\nblocks will be written to the huge files to avoid stale data\nfrom being made available to potentially untrusted user\nprograms, unless the device supports a discard/trim\noperation which will take care of zeroing the device blocks.\nBy setting <i>zero_hugefiles</i> to false, this step will\nalways be skipped, which can be useful if it is known that\nthe disk has been previously erased, or if the user programs\nthat will have access to the huge files are trusted to not\nreveal stale data.</p>\n\n<p style=\"margin-left:11%;\"><i>encoding</i></p>\n\n<p style=\"margin-left:22%;\">This relation defines the file\nname encoding to be used if the casefold feature is enabled.\nCurrently the only valid encoding is utf8-12.1 or utf8,\nwhich requests the most recent Unicode version; since 12.1\nis the only available Unicode version, utf8 and utf8-12.1\nhave the same result. <i>encoding_flags</i> This relation\ndefines encoding-specific flags. For utf8 encodings, the\nonly available flag is strict, which will cause attempts to\ncreate file names containing invalid Unicode characters to\nbe rejected by the kernel. Strict mode is not enabled by\ndefault.</p>\n\n<h2>THE [devices] STANZA\n<a name=\"THE [devices] STANZA\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Each tag in the\n<i>[devices]</i> stanza names device name so that per-device\ndefaults can be specified. <i><br>\nfs_type</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault parameter for the <b>-t</b> option, if this option\nisn&rsquo;t specified on the command line.</p>\n\n<p style=\"margin-left:11%;\"><i>usage_types</i></p>\n\n<p style=\"margin-left:22%;\">This relation specifies the\ndefault parameter for the <b>-T</b> option, if this option\nisn&rsquo;t specified on the command line.</p>\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>/etc/mke2fs.conf</i></p>\n\n<p style=\"margin-left:22%;\">The configuration file for\n<b>mke2fs</b>(8).</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>mke2fs</b>(8)</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#THE [options] STANZA\">THE [options] STANZA</a>","<a href=\"#THE [defaults] STANZA\">THE [defaults] STANZA</a>","<a href=\"#THE [fs_types] STANZA\">THE [fs_types] STANZA</a>","<a href=\"#THE [devices] STANZA\">THE [devices] STANZA</a>","<a href=\"#FILES\">FILES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"],"level":5}