{"name":"org.freedesktop.locale1","body":"\n\n<h1 align=\"center\">ORG.FREEDESKTOP.LOCALE1</h1>\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">org.freedesktop.locale1\n- The D-Bus interface of systemd-localed</p>\n\n<h2>INTRODUCTION\n<a name=\"INTRODUCTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>systemd-localed.service</b>(8)\nis a system service that can be used to control the system\nlocale and keyboard mapping from user programs. This page\ndescribes the D-Bus interface.</p>\n\n<h2>THE D-BUS API\n<a name=\"THE D-BUS API\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The service\nexposes the following interfaces on the bus:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">node\n/org/freedesktop/locale1 { <br>\ninterface org.freedesktop.locale1 { <br>\nmethods: <br>\nSetLocale(in as locale, <br>\nin b interactive); <br>\nSetVConsoleKeyboard(in s keymap, <br>\nin s keymap_toggle, <br>\nin b convert, <br>\nin b interactive); <br>\nSetX11Keyboard(in s layout, <br>\nin s model, <br>\nin s variant, <br>\nin s options, <br>\nin b convert, <br>\nin b interactive); <br>\nproperties: <br>\nreadonly as Locale = ['...', ...]; <br>\nreadonly s X11Layout = '...'; <br>\nreadonly s X11Model = '...'; <br>\nreadonly s X11Variant = '...'; <br>\nreadonly s X11Options = '...'; <br>\nreadonly s VConsoleKeymap = '...'; <br>\nreadonly s VConsoleKeymapToggle = '...'; <br>\n}; <br>\ninterface org.freedesktop.DBus.Peer { ... }; <br>\ninterface org.freedesktop.DBus.Introspectable { ... }; <br>\ninterface org.freedesktop.DBus.Properties { ... }; <br>\n};</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Methods</b>\n<br>\nIf you set a new system locale all old system locale\nsettings will be dropped and the new settings will be saved\nto disk. The locale will also be passed to the system\nmanager, and subsequently started daemons will inherit the\nnew system locale. Note that already running daemons will\nnot learn about the new value.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>SetVConsoleKeyboard()</b> method may be used to set the\nkey mapping for the virtual console. Similarly,\n<b>SetX11Keyboard()</b> may be used to set the default key\nmapping of any X11 servers.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that\n<b>SetVConsoleKeyboard()</b> instantly applies the new key\nmapping to the console, while <b>SetX11Keyboard()</b> simply\nsets a default that may be used by later sessions.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The boolean\nargument <i>convert</i> may be set to optionally convert the\nconsole keyboard configuration to X11 keyboard mappings and\nvice versa. If true and <b>SetVConsoleKeyboard()</b> is\nused, the nearest X11 keyboard setting for the chosen\nconsole setting is set. If true and <b>SetX11Keyboard()</b>\nis used, the nearest console keyboard setting for the chosen\nX11 setting is set. Hence, it is usually sufficient to call\nonly one of the two functions.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For graphical\nUIs that need to set the system keyboard mapping simply\ninvoke <b>SetX11Keyboard()</b>, set <i>convert=true</i> and\nignore <b>SetVConsoleKeyboard()</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Use the empty\nstring for the keymap parameters you wish not to set.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>interactive</i> boolean parameters can be used to control\nwhether <b><font color=\"#0000FF\">polkit</font></b>\n<small><font color=\"#000000\">[1]</font></small>\n<font color=\"#000000\">should interactively ask the user for\nauthentication credentials if required.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Signals</b>\n<br>\nWhenever the system locale or keymap is changed via the\ndaemon, <b>PropertyChanged</b> signals are sent out to which\nclients can subscribe.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Properties</b>\n<br>\nThe system locale is shown in the <i>Locale</i> property. It\nis an array containing environment-variable-assignment-like\nstrings. The following strings are known: <i>LANG=</i>,\n<i>LC_CTYPE=</i>, <i>LC_NUMERIC=</i>, <i>LC_TIME=</i>,\n<i>LC_COLLATE=</i>, <i>LC_MONETARY=</i>,\n<i>LC_MESSAGES=</i>, <i>LC_PAPER=</i>, <i>LC_NAME=</i>,\n<i>LC_ADDRESS=</i>, <i>LC_TELEPHONE=</i>,\n<i>LC_MEASUREMENT=</i>,\n<i>LC_IDENTIFICATION=</i>.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">The\n<i>X11Layout</i>, <i>X11Model</i>, <i>X11Variant</i>, and\n<i>X11Options</i> properties show values configurable with\n<b>SetX11Keyboard()</b> described above (or\n<b>SetVConsoleKeyboard()</b> with <i>convert=true</i>). The\n<i>VConsoleKeymap</i> and <i>VConsoleKeymapToggle</i>\nproperties show values configurable with\n<b>SetVConsoleKeyboard()</b> (or <b>SetX11Keyboard()</b>\nwith <i>convert=true</i>).</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Security</b>\n<br>\nChanging the system locale or keymap using this interface is\nauthenticated via polkit. The polkit action for\n<b>SetLocale()</b> is\n<b>org.freedesktop.locale1.set-locale</b>. The polkit action\nfor <b>SetX11Keyboard()</b> and <b>SetVConsoleKeyboard()</b>\nis <b>org.freedesktop.locale1.set-keyboard</b>.</font></p>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Example&nbsp;1.&nbsp;Introspect\norg.freedesktop.locale1 on the bus</b></font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">$\ngdbus introspect --system \\ <br>\n--dest org.freedesktop.locale1 \\ <br>\n--object-path /org/freedesktop/locale1</font></p>\n\n<h2>VERSIONING\n<a name=\"VERSIONING\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">These\nD-Bus interfaces follow</font> <b><font color=\"#0000FF\">the\nusual interface versioning guidelines</font></b>\n<small><font color=\"#000000\">[2]</font></small>\n<font color=\"#000000\">.</font></p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">1.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"9%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">polkit</font></p> </td>\n<td width=\"74%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://www.freedesktop.org/software/polkit/docs/latest/</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">2.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"63%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">the usual\ninterface versioning guidelines</font></p></td>\n<td width=\"20%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">http://0pointer.de/blog/projects/versioning-dbus.html</font></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#INTRODUCTION\">INTRODUCTION</a>","<a href=\"#THE D-BUS API\">THE D-BUS API</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>","<a href=\"#VERSIONING\">VERSIONING</a>","<a href=\"#NOTES\">NOTES</a>"],"level":5}