{"name":"systemd.automount","description":"systemd.automount - Automount unit configuration","body":"\n\n<h1 align=\"center\">SYSTEMD.AUTOMOUNT</h1>\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">systemd.automount\n- Automount unit configuration</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>automount</i>.automount</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">A unit\nconfiguration file whose name ends in &quot;.automount&quot;\nencodes information about a file system automount point\ncontrolled and supervised by systemd.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This man page\nlists the configuration options specific to this unit type.\nSee <b>systemd.unit</b>(5) for the common options of all\nunit configuration files. The common configuration items are\nconfigured in the generic [Unit] and [Install] sections. The\nautomount specific configuration options are configured in\nthe [Automount] section.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Automount units\nmust be named after the automount directories they control.\nExample: the automount point /home/lennart must be\nconfigured in a unit file home-lennart.automount. For\ndetails about the escaping logic used to convert a file\nsystem path to a unit name see <b>systemd.unit</b>(5). Note\nthat automount units cannot be templated, nor is it possible\nto add multiple names to an automount unit by creating\nadditional symlinks to its unit file.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For each\nautomount unit file a matching mount unit file (see\n<b>systemd.mount</b>(5) for details) must exist which is\nactivated when the automount path is accessed. Example: if\nan automount unit home-lennart.automount is active and the\nuser accesses /home/lennart the mount unit\nhome-lennart.mount will be activated.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Automount units\nmay be used to implement on-demand mounting as well as\nparallelized mounting of file systems.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that\nautomount units are separate from the mount itself, so you\nshould not set <i>After=</i> or <i>Requires=</i> for mount\ndependencies here. For example, you should not set\n<i>After=network-online.target</i> or similar on network\nfilesystems. Doing so may result in an ordering cycle.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that\nautomount support on Linux is privileged, automount units\nare hence only available in the system service manager (and\nroot's user service manager), but not in unprivileged user's\nservice manager.</p>\n\n<h2>AUTOMATIC DEPENDENCIES\n<a name=\"AUTOMATIC DEPENDENCIES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Implicit\nDependencies</b> <br>\nThe following dependencies are implicitly added:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">&bull; If an\nautomount unit is beneath another mount unit in the file\nsystem hierarchy, both a requirement and an ordering\ndependency between both units are created automatically.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">&bull; An\nimplicit <i>Before=</i> dependency is created between an\nautomount unit and the mount unit it activates.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Default\nDependencies</b> <br>\nThe following dependencies are added unless\n<i>DefaultDependencies=no</i> is set:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">&bull;\nAutomount units acquire automatic <i>Before=</i> and\n<i>Conflicts=</i> on umount.target in order to be stopped\nduring shutdown.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">&bull;\nAutomount units automatically gain an <i>After=</i>\ndependency on local-fs-pre.target, and a <i>Before=</i>\ndependency on local-fs.target.</p>\n\n<h2>FSTAB\n<a name=\"FSTAB\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Automount units\nmay either be configured via unit files, or via /etc/fstab\n(see <a href=\"https://man.page/5/fstab\">fstab(5)</a> for details).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For details how\nsystemd parses /etc/fstab see <b>systemd.mount</b>(5).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If an automount\npoint is configured in both /etc/fstab and a unit file, the\nconfiguration in the latter takes precedence.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Automount files\nmust include an [Automount] section, which carries\ninformation about the file system automount points it\nsupervises. The options specific to the [Automount] section\nof automount units are the following:</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>Where=</i></p>\n\n<p style=\"margin-left:17%;\">Takes an absolute path of a\ndirectory of the automount point. If the automount point\ndoes not exist at time that the automount point is\ninstalled, it is created. This string must be reflected in\nthe unit filename. (See above.) This option is\nmandatory.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>DirectoryMode=</i></p>\n\n<p style=\"margin-left:17%;\">Directories of automount points\n(and any parent directories) are automatically created if\nneeded. This option specifies the file system access mode\nused when creating these directories. Takes an access mode\nin octal notation. Defaults to 0755.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>TimeoutIdleSec=</i></p>\n\n<p style=\"margin-left:17%;\">Configures an idle timeout.\nOnce the mount has been idle for the specified time, systemd\nwill attempt to unmount. Takes a unit-less value in seconds,\nor a time span value such as &quot;5min 20s&quot;. Pass 0 to\ndisable the timeout logic. The timeout is disabled by\ndefault.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/systemd\">systemd(1)</a>,\n<a href=\"https://man.page/1/systemctl\">systemctl(1)</a>, <b>systemd.unit</b>(5),\n<b>systemd.mount</b>(5), <b>mount</b>(8),\n<b>automount</b>(8), <b>systemd.directives</b>(7)</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#AUTOMATIC DEPENDENCIES\">AUTOMATIC DEPENDENCIES</a>","<a href=\"#FSTAB\">FSTAB</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"],"level":5}