{"name":"groff_tmac","description":"groff_tmac -\nmacro files in the roff typesetting system\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\nThe\n<a href=\"https://man.page/7/roff\">roff(7)</a> type-setting system provides a set of macro\npackages suitable for special kinds of documents. Each macro\npackage stores its macros and definitions in a file called\nthe package&rsquo;s <b>tmac file</b>. The name is deduced\nfrom\n&rsquo;<b>T</b><i>roff</i><b>MAC</b><i>ros</i>&rsquo;.\n\nThe tmac files\nare normal roff source documents, except that they usually\ncontain only definitions and setup commands, but no text.\nAll tmac files are kept in a single or a small number of\ndirectories, the <b>tmac</b> directories.\n\n<h2>GROFF MACRO PACKAGES\n<a name=\"GROFF MACRO PACKAGES\"></a>\n</h2>\n\n\n<i>groff</i>\nprovides all classical macro packages, some more full\npackages, and some secondary packages for special purposes.\nNote that it is not possible to use multiple primary macro\npackages at the same time; saying e.g.\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>sh#</i>\ngroff -m man -m ms foo\n\nor\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>sh#</i>\ngroff -m man foo -m ms bar\n\nfails.\nException to this is the use of man pages written with\neither the <b>mdoc</b> or the <b>man</b> macro package. See\nbelow the description of the <i>andoc.tmac</i> file.\n\n\n<b>Man&nbsp;Pages</b>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>man</i></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>This is the classical macro package for Unix manual\npages (man&nbsp;pages); it is quite handy and easy to use;\nsee <a href=\"https://man.page/7/groff_man\">groff_man(7)</a>.</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>doc</i></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>mdoc</i></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>An alternative macro package for man&nbsp;pages mainly\nused in BSD systems; it provides many new features, but it\nis not the standard for man&nbsp;pages; see\n<a href=\"https://man.page/7/groff_mdoc\">groff_mdoc(7)</a>. </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>andoc</i></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>mandoc</i></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Use this file in case you don&rsquo;t know whether the\n<b>man</b> macros or the <b>mdoc</b> package should be used.\nMultiple man pages (in either format) can be handled.</td></tr>\n</table>\n\n<b>Full\nPackages</b> <br>\nThe packages in this section provide a complete set of\nmacros for writing documents of any kind, up to whole books.\nThey are similar in functionality; it is a matter of taste\nwhich one to use.\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p style=\"margin-top: 1em\"><i>me</i></td>\n<td width=\"7%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">The classical <i>me</i> macro\npackage; see <a href=\"https://man.page/7/groff_me\">groff_me(7)</a>.</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><i>mm</i></td>\n<td width=\"7%\"></td>\n<td width=\"78%\">\n\n\n<p>The semi-classical <i>mm</i> macro package; see\n<a href=\"https://man.page/7/groff_mm\">groff_mm(7)</a>. </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><i>mom</i></td>\n<td width=\"7%\"></td>\n<td width=\"78%\">\n\n\n<p>The new <i>mom</i> macro package, only available in\ngroff. As this is not based on other packages, it can be\nfreely designed. So it is expected to become quite a nice,\nmodern macro package. See <a href=\"https://man.page/7/groff_mom\">groff_mom(7)</a>.</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><i>ms</i></td>\n<td width=\"7%\"></td>\n<td width=\"78%\">\n\n\n<p>The classical <i>ms</i> macro package; see\n<a href=\"https://man.page/7/groff_ms\">groff_ms(7)</a>. </td></tr>\n</table>\n\n\n<b>Language-specific\nPackages</b>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\"><i>cs</i></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">This file adds support for Czech\nlocalization, including the main macro packages (me, mom,\nmm, and ms).</td></tr>\n</table>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Note that\n<i>cs.tmac</i> sets the input encoding to latin-2.\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p style=\"margin-top: 1em\"><i>de</i></td>\n<td width=\"7%\"></td>\n<td width=\"78%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><i>den</i></td>\n<td width=\"7%\"></td>\n<td width=\"78%\">\n\n\n<p>German localization support, including the main macro\npackages (me, mom, mm, and ms).</td></tr>\n</table>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>de.tmac</i>\nselects hyphenation patterns for traditional orthography,\nand <i>den.tmac</i> does the same for the new orthography\n(&rsquo;Rechtschreibreform&rsquo;). It should be used as the\nlast macro package on the command line.\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\"><i>fr</i></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">This file adds support for\nFrench localization, including the main macro packages (me,\nmom, mm, and ms). Example:</td></tr>\n</table>\n\n<p style=\"margin-left:32%; margin-top: 1em\"><i>sh#</i>\ngroff -ms -mfr foo.ms &gt; foo.ps\n\n<p style=\"margin-left:22%; margin-top: 1em\">Note that\n<i>fr.tmac</i> sets the input encoding to latin-9 to get\nproper support of the &rsquo;oe&rsquo; ligature.\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\"><i>sv</i></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">Swedish localization support,\nincluding the me, mom, and ms macro packages. Note that\nSwedish for the mm macros is handled separately; see\n<a href=\"https://man.page/7/groff_mmse\">groff_mmse(7)</a> (only in Swedish locales). It should be\nused as the last macro package on the command line.</td></tr>\n</table>\n\n<b>Input\nEncodings</b>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><i>latin1</i></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>latin2</i></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>latin5</i></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>latin9</i></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Various input encodings supported directly by groff.\nNormally, this macro is loaded at the very beginning of a\ndocument or specified as the first macro argument on the\ncommand line. <b>roff</b> loads latin1 by default at\nstart-up. Note that these macro packages don&rsquo;t work on\nEBCDIC hosts.</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>cp1047</i></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Encoding support for EBCDIC. On those platforms it is\nloaded automatically at start-up. Due to different character\nranges used in <b>roff</b> it doesn&rsquo;t work on\narchitectures which are based on ASCII.</td></tr>\n</table>\n\nNote that it\ncan happen that some input encoding characters are not\navailable for a particular output device. For example,\nsaying\n\ngroff -Tlatin1\n-mlatin9 ...\n\nfails if you\nuse the Euro character in the input. Usually, this\nlimitation is present only for devices which have a limited\nset of output glyphs (<b>-Tascii</b>, <b>-Tlatin1</b>); for\nother devices it is usually sufficient to install proper\nfonts which contain the necessary glyphs.\n\n<b>Special\nPackages</b> <br>\nThe macro packages in this section are not intended for\nstand-alone usage, but can be used to add special\nfunctionality to any other macro package or to plain\ngroff.\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p style=\"margin-top: 1em\"><i>62bit</i></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">Provides macros for addition,\nmultiplication, and division of 62-bit integers (allowing\nsafe multiplication of 31-bit integers, for example).</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p><i>ec</i></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p>Switch to the EC and TC font families. To be used with\n<a href=\"https://man.page/1/grodvi\">grodvi(1)</a> &ndash; this man page also gives more\ndetails of how to use it.</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p><i>hdtbl</i></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p>The Heidelberger table macros, contributed by Joachim\nWalsdorff, allow the generation of tables through a syntax\nsimilar to the HTML table model. Note that <i>hdtbl</i> is a\nmacro package, not a preprocessor like <a href=\"https://man.page/1/tbl\">tbl(1)</a>.\n<i>hdtbl</i> works only with the <b>-Tps</b> and\n<b>-Tpdf</b> output devices. See\n<a href=\"https://man.page/7/groff_hdtbl\">groff_hdtbl(7)</a><b>.</b> </td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><i>papersize</i>\n\n<p style=\"margin-left:22%;\">This macro file is already\nloaded at start-up by <b>troff</b> so it isn&rsquo;t\nnecessary to call it explicitly. It provides an interface to\nset the paper size on the command line with the option\n<b>-dpaper=</b><i>size</i>. Possible values for <i>size</i>\nare the same as the predefined <b>papersize</b> values in\nthe DESC file (only lowercase; see <a href=\"https://man.page/5/groff_font\">groff_font(5)</a> for\nmore) except <b>a7</b>&ndash;<b>d7</b>. An appended <b>l</b>\n(ell) character denotes landscape orientation. Examples:\n<b>a4</b>, <b>c3l</b>, <b>letterl</b>.\n\n<p style=\"margin-left:22%; margin-top: 1em\">Most output\ndrivers need additional command-line switches <b>-p</b> and\n<b>-l</b> to override the default paper length and\norientation as set in the driver-specific DESC file. For\nexample, use the following for PS output on A4 paper in\nlandscape orientation:\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>sh#</i>\ngroff -Tps -dpaper=a4l -P-pa4 -P-l -ms foo.ms &gt;\nfoo.ps\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>pdfpic</i></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>A single macro is provided in this file, <b>PSPIC</b>,\nto include a PDF graphic in a document, i.e., under the\noutput device <b>-Tpdf</b>. For all other devices,\n<i>pspic</i> is used. So <i>pdfpic</i> is an extension of\n<i>pspic</i>. By that you can now even replace all\n<b>PSPIC</b> by <b>PDFPIC</b>, nothing gets lost by that.\nThe options of <b>PDFPIC</b> are identical to the\n<b>PSDIF</b> options.</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>pic</i></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>This file provides proper definitions for the macros\n<b>PS</b> and <b>PE</b>, needed for the <a href=\"https://man.page/1/pic\">pic(1)</a>\npreprocessor. They center each picture. Use it only if your\nmacro package doesn&rsquo;t provide proper definitions for\nthose two macros (actually, most of them already do).</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>pspic</i></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>A single macro is provided in this file, <b>PSPIC</b>,\nto include a PostScript graphic in a document. The following\noutput devices support inclusion of PS images: <b>-Tps</b>,\n<b>-Tdvi</b>, <b>-Thtml</b>, and <b>-Txhtml</b>; for all\nother devices the image is replaced with a hollow rectangle\nof the same size. This macro file is already loaded at\nstart-up by <b>troff</b> so it isn&rsquo;t necessary to call\nit explicitly.</td></tr>\n</table>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Syntax:\n\n<p style=\"margin-left:32%; margin-top: 1em\"><b>.PSPIC</b>\n[<b>-L</b>|<b>-R</b>|<b>-C</b>|<b>-I&nbsp;</b><i>n</i>]\n<i>file</i> [<i>width</i> [<i>height</i>]]\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>file</i> is\nthe name of the PostScript file; <i>width</i> and\n<i>height</i> give the desired width and height of the\nimage. If neither a <i>width</i> nor a <i>height</i>\nargument is specified, the image&rsquo;s natural width (as\ngiven in the file&rsquo;s bounding box) or the current line\nlength is used as the width, whatever is smaller. The\n<i>width</i> and <i>height</i> arguments may have scaling\nindicators attached; the default scaling indicator\nis&nbsp;<b>i</b>. This macro scales the graphic uniformly in\nthe x and y&nbsp;directions so that it is no more than\n<i>width</i> wide and <i>height</i> high. Option <b>-C</b>\ncenters the graphic horizontally, which is the default. The\n<b>-L</b> and <b>-R</b> options cause the graphic to be\nleft-aligned and right-aligned, respectively. The <b>-I</b>\noption causes the graphic to be indented by&nbsp;<i>n</i>\n(default scaling indicator is&nbsp;<b>m</b>).\n\n<p style=\"margin-left:22%; margin-top: 1em\">For use of\n<b>.PSPIC</b> within a diversion it is recommended to extend\nit with the following code, assuring that the\ndiversion&rsquo;s width completely covers the image&rsquo;s\nwidth.\n\n<p style=\"margin-left:32%; margin-top: 1em\">.am PSPIC <br>\n.&nbsp;&nbsp;vpt 0 <br>\n\\h&rsquo;(\\\\n[ps-offset]u + \\\\n[ps-deswid]u)&rsquo; <br>\n.&nbsp;&nbsp;sp -1 <br>\n.&nbsp;&nbsp;vpt 1 <br>\n..\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p style=\"margin-top: 1em\"><i>ptx</i></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">A single macro is provided in\nthis file, <b>xx</b>, for formatting permuted index entries\nas produced by the GNU <a href=\"https://man.page/1/ptx\">ptx(1)</a> program. In case you\nneed a different formatting, copy the macro into your\ndocument and adapt it to your needs.</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p><i>trace</i></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p>Use this for tracing macro calls. It is only useful for\ndebugging. See <a href=\"https://man.page/7/groff_trace\">groff_trace(7)</a><b>.</b></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><i>tty-char</i>\n\n<p style=\"margin-left:22%;\">Overrides the definition of\nstandard troff characters and some groff characters for TTY\ndevices. The optical appearance is intentionally inferior\ncompared to that of normal TTY formatting to allow\nprocessing with critical equipment.\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><i>www</i></td>\n<td width=\"7%\"></td>\n<td width=\"78%\">\n\n\n<p>Additions of elements known from the HTML format, as\nused in the internet (World Wide Web) pages; this includes\nURL links and mail addresses; see <a href=\"https://man.page/7/groff_www\">groff_www(7)</a>.</td></tr>\n</table>\n\n<h2>NAMING\n<a name=\"NAMING\"></a>\n</h2>\n\n\nClassical roff\nsystems were designed before the conventions of the modern C\n<a href=\"https://man.page/3/getopt\">getopt(3)</a> call evolved, and used a naming scheme for\nmacro packages that looks odd to modern eyes. Macro packages\nwere always included with the option <b>-m</b>; when this\noption was directly followed by its argument without an\nintervening space, this looked like a long option preceded\nby a single minus &mdash; a sensation in the computer stone\nage. To make this invocation form work, classical troff\nmacro packages used names that started with the letter\n&rsquo;m&rsquo;, which was omitted in the naming of the\nmacro file.\n\nFor example,\nthe macro package for the man pages was called <i>man</i>,\nwhile its macro file <i>tmac.an</i>. So it could be\nactivated by the argument <i>an</i> to option <b>-m</b>, or\n<b>-man</b> for short.\n\nFor similar\nreasons, macro packages that did not start with an\n&rsquo;m&rsquo; had a leading &rsquo;m&rsquo; added in the\ndocumentation and in speech; for example, the package\ncorresponding to <i>tmac.doc</i> was called <i>mdoc</i> in\nthe documentation, although a more suitable name would be\n<i>doc</i>. For, when omitting the space between the option\nand its argument, the command-line option for activating\nthis package reads <b>-mdoc</b>.\n\nTo cope with\nall situations, actual versions of <a href=\"https://man.page/1/groff\">groff(1)</a> are smart\nabout both naming schemes by providing two macro files for\nthe inflicted macro packages; one with a leading\n&rsquo;m&rsquo; the other one without it. So in\n<i>groff</i>, the <i>man</i> macro package may be specified\nas one of the following four methods:\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>sh#</i>\ngroff&nbsp;-m&nbsp;man <i><br>\nsh#</i> groff&nbsp;-man <i><br>\nsh#</i> groff&nbsp;-mman <i><br>\nsh#</i> groff&nbsp;-m&nbsp;an\n\nRecent packages\nthat do not start with &rsquo;m&rsquo; do not use an\nadditional &rsquo;m&rsquo; in the documentation. For\nexample, the <i>www</i> macro package may be specified only\nas one of the two methods:\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>sh#</i>\ngroff&nbsp;-m&nbsp;www <i><br>\nsh#</i> groff&nbsp;-mwww\n\nObviously,\nvariants like <i>-mmwww</i> would not make much sense.\n\nA second\nstrange feature of classical troff was to name macro files\nin the form <i>tmac.</i>name. In modern operating systems,\nthe type of a file is specified as a postfix, the file name\nextension. Again, groff copes with this situation by\nsearching both <i>anything</i><b>.tmac</b> and\n<b>tmac.</b><i>anything</i> if only <i>anything</i> is\nspecified.\n\nThe easiest way\nto find out which macro packages are available on a system\nis to check the man&nbsp;page <a href=\"https://man.page/1/groff\">groff(1)</a>, or the\ncontents of the <i>tmac</i> directories.\n\nIn\n<i>groff</i>, most macro packages are described in&nbsp;man\npages called <b>groff_</b><i>name</i>(7), with a leading\n&rsquo;m&rsquo; for the classical packages.\n\n<h2>INCLUSION\n<a name=\"INCLUSION\"></a>\n</h2>\n\n\nThere are\nseveral ways to use a macro package in a document. The\nclassical way is to specify the troff/groff option <b>-m</b>\n<i>name</i> at run-time; this makes the contents of the\nmacro package <i>name</i> available. In groff, the file\nname<i>.tmac</i> is searched within the tmac path; if not\nfound, <i>tmac.</i>name is searched for instead.\n\nAlternatively,\nit is also possible to include a macro file by adding the\nrequest <b>.so</b> <i>filename</i> into the document; the\nargument must be the full file name of an existing file,\npossibly with the directory where it is kept. In groff, this\nwas improved by the similar request <b>.mso</b>\n<i>package</i>, which added searching in the tmac path, just\nlike option <b>-m</b> does.\n\nNote that in\norder to resolve the <b>.so</b> and <b>.mso</b> requests,\nthe roff preprocessor <a href=\"https://man.page/1/soelim\">soelim(1)</a> must be called if the\nfiles to be included need preprocessing. This can be done\neither directly by a pipeline on the command line or by\nusing the troff/groff option <b>-s</b>. <i>man</i> calls\nsoelim automatically.\n\nFor example,\nsuppose a macro file is stored as\n\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>/usr/share/groff/1.22.4/tmac/macros.tmac</i>\n\nand is used in\nsome document called <i>docu.roff</i>.\n\nAt run-time,\nthe formatter call for this is\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>sh#</i>\ngroff -m macros docu.roff\n\nTo include the\nmacro file directly in the document either\n\n<p style=\"margin-left:22%; margin-top: 1em\">.mso\nmacros.tmac\n\nis used or\n\n<p style=\"margin-left:22%; margin-top: 1em\">.so\n/usr/share/groff/1.22.4/tmac/macros.tmac\n\nIn both cases,\nthe formatter should be called with option <b>-s</b> to\ninvoke <b>soelim</b>.\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>sh#</i>\ngroff -s docu.roff\n\nIf you want to\nwrite your own groff macro file, call it\nwhatever<i>.tmac</i> and put it in a directory in the tmac\npath; see section &ldquo;Files&rdquo; below. Then documents\ncan include it with the <b>.mso</b> request or the option\n<b>-m</b>.\n\n<h2>WRITING MACROS\n<a name=\"WRITING MACROS\"></a>\n</h2>\n\n\nA\n<a href=\"https://man.page/7/roff\">roff(7)</a> document is a text file that is enriched by\npredefined formatting constructs, such as requests, escape\nsequences, strings, numeric registers, and macros from a\nmacro package. These elements are described in\n<a href=\"https://man.page/7/roff\">roff(7)</a>.\n\nTo give a\ndocument a personal style, it is most useful to extend the\nexisting elements by defining some macros for repeating\ntasks; the best place for this is near the beginning of the\ndocument or in a separate file.\n\nMacros without\narguments are just like strings. But the full power of\nmacros reveals when arguments are passed with a macro call.\nWithin the macro definition, the arguments are available as\nthe escape sequences <b>\\$1</b>, ..., <b>\\$9</b>,\n<b>\\$[</b>...<b>]</b>, <b>\\$*</b>, and <b>\\$@</b>, the name\nunder which the macro was called is in <b>\\$0</b>, and the\nnumber of arguments is in register <b>\\n[.$]</b>; see\n<a href=\"https://man.page/7/groff\">groff(7)</a>.\n\n<b>Copy-in\nMode</b> <br>\nThe phase when groff reads a macro is called <i>copy-in\nmode</i> or <i>copy mode</i> in roff-talk. This is\ncomparable to the C&nbsp;preprocessing phase during the\ndevelopment of a program written in the C&nbsp;language.\n\nIn this phase,\ngroff interprets all backslashes; that means that all escape\nsequences in the macro body are interpreted and replaced by\ntheir value. For constant expressions, this is wanted, but\nstrings and registers that might change between calls of the\nmacro must be protected from being evaluated. This is most\neasily done by doubling the backslash that introduces the\nescape sequence. This doubling is most important for the\npositional parameters. For example, to print information on\nthe arguments that were passed to the macro to the terminal,\ndefine a macro named &rsquo;.print_args&rsquo;, say.\n\n<p style=\"margin-left:22%; margin-top: 1em\">.ds midpart was\ncalled with <br>\n.de print_args <br>\n\n.&nbsp;&nbsp;tm&nbsp;\\f[I]\\\\$0\\f[]&nbsp;\\*[midpart]&nbsp;\\\\n[.$]&nbsp;arguments:\n<br>\n.&nbsp;&nbsp;tm&nbsp;\\\\$* <br>\n..\n\nWhen calling\nthis macro by\n\n<p style=\"margin-left:22%; margin-top: 1em\">.print_args\narg1 arg2\n\nthe following\ntext is printed to the terminal:\n\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>print_args</i>\nwas called with the following 2 arguments: <br>\narg1 arg2\n\nLet&rsquo;s\nanalyze each backslash in the macro definition. As the\npositional parameters and the number of arguments change\nwith each call of the macro their leading backslash must be\ndoubled, which results in \\\\<i>$*</i> and \\\\<i>[.$]</i>. The\nsame applies to the macro name because it could be called\nwith an alias name, so \\\\<i>$0</i>.\n\nOn the other\nhand, <i>midpart</i> is a constant string, it does not\nchange, so no doubling for \\<i>*[midpart]</i>. The \\<i>f</i>\nescape sequences are predefined groff elements for setting\nthe font within the text. Of course, this behavior does not\nchange, so no doubling with \\<i>f[I]</i> and\n\\<i>f[]</i>.\n\n<b>Draft\nMode</b> <br>\nWriting groff macros is easy when the escaping mechanism is\ntemporarily disabled. In groff, this is done by enclosing\nthe macro definition(s) into a pair of <b>.eo</b> and\n<b>.ec</b> requests. Then the body in the macro definition\nis just like a normal part of the document &mdash; text\nenhanced by calls of requests, macros, strings, registers,\netc. For example, the code above can be written in a simpler\nway by\n\n<p style=\"margin-left:22%; margin-top: 1em\">.eo <br>\n.ds midpart was called with <br>\n.de print_args <br>\n\n.&nbsp;&nbsp;tm&nbsp;\\f[I]\\$0\\f[]&nbsp;\\*[midpart]&nbsp;\\n[.$]&nbsp;arguments:\n<br>\n.&nbsp;&nbsp;tm&nbsp;\\$* <br>\n.. <br>\n.ec\n\nUnfortunately,\ndraft mode cannot be used universally. Although it is good\nenough for defining normal macros, draft mode fails with\nadvanced applications, such as indirectly defined strings,\nregisters, etc. An optimal way is to define and test all\nmacros in draft mode and then do the backslash doubling as a\nfinal step; do not forget to remove the <i>.eo</i>\nrequest.\n\n<b>Tips for\nMacro Definitions</b>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">&bull;</td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">Start every line with a dot, for\nexample, by using the groff request <b>.nop</b> for text\nlines, or write your own macro that handles also text lines\nwith a leading dot.</td></tr>\n</table>\n\n<p style=\"margin-left:32%; margin-top: 1em\">.de Text <br>\n.&nbsp;&nbsp;if (\\\\n[.$] == 0)&nbsp;\\ <br>\n.&nbsp;&nbsp;&nbsp;&nbsp;return <br>\n.&nbsp;&nbsp;nop&nbsp;\\)\\\\$*\\) <br>\n..\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">&bull;</td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">Write a comment macro that works\nboth for copy-in and draft mode; for as escaping is off in\ndraft mode, trouble might occur when normal comments are\nused. For example, the following macro just ignores its\narguments, so it acts like a comment line:</td></tr>\n</table>\n\n<p style=\"margin-left:32%; margin-top: 1em\">.de&nbsp;c <br>\n.. <br>\n\n.c&nbsp;This&nbsp;is&nbsp;like&nbsp;a&nbsp;comment&nbsp;line.\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">&bull;</td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">In long macro definitions, make\nample use of comment lines or almost-empty lines (this is,\nlines which have a leading dot and nothing else) for a\nbetter structuring.</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p>To increase readability, use groff&rsquo;s indentation\nfacility for requests and macro calls (arbitrary whitespace\nafter the leading dot).</td></tr>\n</table>\n\n\n<b>Diversions</b>\n<br>\nDiversions can be used to implement quite advanced\nprogramming constructs. They are comparable to pointers to\nlarge data structures in the C&nbsp;programming language,\nbut their usage is quite different.\n\nIn their\nsimplest form, diversions are multi-line strings, but they\nget their power when diversions are used dynamically within\nmacros. The (formatted) information stored in a diversion\ncan be retrieved by calling the diversion just like a\nmacro.\n\nMost of the\nproblems arising with diversions can be avoided if you\nremain aware of the fact that diversions always store\ncomplete lines. If diversions are used when the line buffer\nhas not been flushed, strange results are produced; not\nknowing this, many people get desperate about diversions. To\nensure that a diversion works, line breaks should be added\nat the right places. To be on the secure side, enclose\neverything that has to do with diversions into a pair of\nline breaks; for example, by explicitly using <b>.br</b>\nrequests. This rule should be applied to diversion\ndefinition, both inside and outside, and to all calls of\ndiversions. This is a bit of overkill, but it works\nnicely.\n\n[If you really\nneed diversions which should ignore the current partial\nline, use environments to save the current partial line\nand/or use the <b>.box</b> request.]\n\nThe most\npowerful feature using diversions is to start a diversion\nwithin a macro definition and end it within another macro.\nThen everything between each call of this macro pair is\nstored within the diversion and can be manipulated from\nwithin the macros.\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\nAll macro\npackage files must be named name<i>.tmac</i> to fully use\nthe tmac mechanism. <i>tmac.</i>name as with classical\npackages is possible as well, but deprecated.\n\nThe macro files\nare kept in the <i>tmac directories</i>; a colon separated\nlist of these constitutes the <i>tmac path</i>.\n\nThe search\nsequence for macro files is (in that order):\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">&bull;</td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">the directories specified with\ntroff/groff&rsquo;s <b>-M</b> command-line option</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p>the directories given in the <i>GROFF_TMAC_PATH</i>\nenvironment variable</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p>the current directory (only if in unsafe mode, which is\nenabled by the <b>-U</b> command-line switch)</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p>the home directory</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p>a platform-specific directory, being</td></tr>\n</table>\n\n\n<p style=\"margin-left:32%; margin-top: 1em\"><i>/usr/lib/groff/site-tmac</i>\n\n<p style=\"margin-left:22%; margin-top: 1em\">in this\ninstallation\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">&bull;</td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">a site-specific\n(platform-independent) directory, being</td></tr>\n</table>\n\n\n<p style=\"margin-left:32%; margin-top: 1em\"><i>/usr/share/groff/site-tmac</i>\n\n<p style=\"margin-left:22%; margin-top: 1em\">in this\ninstallation\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">&bull;</td>\n<td width=\"10%\"></td>\n<td width=\"46%\">\n\n\n<p style=\"margin-top: 1em\">the main tmac directory,\nbeing </td>\n<td width=\"32%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:32%; margin-top: 1em\"><i>/usr/share/groff/1.22.4/tmac</i>\n\n<p style=\"margin-left:22%; margin-top: 1em\">in this\ninstallation\n\n<h2>ENVIRONMENT\n<a name=\"ENVIRONMENT\"></a>\n</h2>\n\n\n\n<i>GROFF_TMAC_PATH</i>\n\n<p style=\"margin-left:22%;\">A colon separated list of\nadditional tmac directories in which to search for macro\nfiles. See the previous section for a detailed\ndescription.\n\n<h2>AUTHORS\n<a name=\"AUTHORS\"></a>\n</h2>\n\n\nThis document\nwas written by\n<a href=\"mailto:groff-bernd.warken-72@web.de\">Bernd\nWarken</a> and <a href=\"mailto:wl@gnu.org\">Werner\nLemberg</a>.\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n<i>Groff: The\nGNU Implementation of troff</i>, by Trent A. Fisher and\nWerner Lemberg, is the primary <i>groff</i> manual. You can\nbrowse it interactively with &ldquo;info groff&rdquo;.\n<b><br>\ngroff</b>(1)\n\n<p style=\"margin-left:22%;\">an overview of the groff\nsystem.\n\n<p style=\"margin-left:11%;\"><a href=\"https://man.page/7/groff_man\">groff_man(7)</a>, <b><br>\ngroff_mdoc</b>(7), <b><br>\ngroff_me</b>(7), <b><br>\ngroff_mm</b>(7), <b><br>\ngroff_mom</b>(7), <b><br>\ngroff_ms</b>(7), <b><br>\ngroff_trace</b>(7), <b><br>\ngroff_www</b>(7).\n\n<p style=\"margin-left:22%;\">the groff tmac macro\npackages.\n\n<p style=\"margin-left:11%;\"><a href=\"https://man.page/7/groff\">groff(7)</a>\n\n<p style=\"margin-left:22%;\">the groff language.\n\nThe Filesystem\nHierarchy Standard is available at the\n<a href=\"http://www.pathname.com/fhs/\">FHS web site</a>.","body":"\n\n<h1 align=\"center\">GROFF_TMAC</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">groff_tmac -\nmacro files in the roff typesetting system</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<a href=\"https://man.page/7/roff\">roff(7)</a> type-setting system provides a set of macro\npackages suitable for special kinds of documents. Each macro\npackage stores its macros and definitions in a file called\nthe package&rsquo;s <b>tmac file</b>. The name is deduced\nfrom\n&rsquo;<b>T</b><i>roff</i><b>MAC</b><i>ros</i>&rsquo;.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The tmac files\nare normal roff source documents, except that they usually\ncontain only definitions and setup commands, but no text.\nAll tmac files are kept in a single or a small number of\ndirectories, the <b>tmac</b> directories.</p>\n\n<h2>GROFF MACRO PACKAGES\n<a name=\"GROFF MACRO PACKAGES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>groff</i>\nprovides all classical macro packages, some more full\npackages, and some secondary packages for special purposes.\nNote that it is not possible to use multiple primary macro\npackages at the same time; saying e.g.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>sh#</i>\ngroff -m man -m ms foo</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">or</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>sh#</i>\ngroff -m man foo -m ms bar</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">fails.\nException to this is the use of man pages written with\neither the <b>mdoc</b> or the <b>man</b> macro package. See\nbelow the description of the <i>andoc.tmac</i> file.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Man&nbsp;Pages</b></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>man</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>This is the classical macro package for Unix manual\npages (man&nbsp;pages); it is quite handy and easy to use;\nsee <a href=\"https://man.page/7/groff_man\">groff_man(7)</a>.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>doc</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>mdoc</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>An alternative macro package for man&nbsp;pages mainly\nused in BSD systems; it provides many new features, but it\nis not the standard for man&nbsp;pages; see\n<a href=\"https://man.page/7/groff_mdoc\">groff_mdoc(7)</a>.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>andoc</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>mandoc</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Use this file in case you don&rsquo;t know whether the\n<b>man</b> macros or the <b>mdoc</b> package should be used.\nMultiple man pages (in either format) can be handled.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Full\nPackages</b> <br>\nThe packages in this section provide a complete set of\nmacros for writing documents of any kind, up to whole books.\nThey are similar in functionality; it is a matter of taste\nwhich one to use.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p style=\"margin-top: 1em\"><i>me</i></p></td>\n<td width=\"7%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">The classical <i>me</i> macro\npackage; see <a href=\"https://man.page/7/groff_me\">groff_me(7)</a>.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><i>mm</i></p></td>\n<td width=\"7%\"></td>\n<td width=\"78%\">\n\n\n<p>The semi-classical <i>mm</i> macro package; see\n<a href=\"https://man.page/7/groff_mm\">groff_mm(7)</a>.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><i>mom</i></p></td>\n<td width=\"7%\"></td>\n<td width=\"78%\">\n\n\n<p>The new <i>mom</i> macro package, only available in\ngroff. As this is not based on other packages, it can be\nfreely designed. So it is expected to become quite a nice,\nmodern macro package. See <a href=\"https://man.page/7/groff_mom\">groff_mom(7)</a>.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><i>ms</i></p></td>\n<td width=\"7%\"></td>\n<td width=\"78%\">\n\n\n<p>The classical <i>ms</i> macro package; see\n<a href=\"https://man.page/7/groff_ms\">groff_ms(7)</a>.</p> </td></tr>\n</table>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Language-specific\nPackages</b></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\"><i>cs</i></p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">This file adds support for Czech\nlocalization, including the main macro packages (me, mom,\nmm, and ms).</p></td></tr>\n</table>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Note that\n<i>cs.tmac</i> sets the input encoding to latin-2.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p style=\"margin-top: 1em\"><i>de</i></p></td>\n<td width=\"7%\"></td>\n<td width=\"78%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><i>den</i></p></td>\n<td width=\"7%\"></td>\n<td width=\"78%\">\n\n\n<p>German localization support, including the main macro\npackages (me, mom, mm, and ms).</p></td></tr>\n</table>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>de.tmac</i>\nselects hyphenation patterns for traditional orthography,\nand <i>den.tmac</i> does the same for the new orthography\n(&rsquo;Rechtschreibreform&rsquo;). It should be used as the\nlast macro package on the command line.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\"><i>fr</i></p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">This file adds support for\nFrench localization, including the main macro packages (me,\nmom, mm, and ms). Example:</p></td></tr>\n</table>\n\n<p style=\"margin-left:32%; margin-top: 1em\"><i>sh#</i>\ngroff -ms -mfr foo.ms &gt; foo.ps</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Note that\n<i>fr.tmac</i> sets the input encoding to latin-9 to get\nproper support of the &rsquo;oe&rsquo; ligature.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\"><i>sv</i></p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">Swedish localization support,\nincluding the me, mom, and ms macro packages. Note that\nSwedish for the mm macros is handled separately; see\n<a href=\"https://man.page/7/groff_mmse\">groff_mmse(7)</a> (only in Swedish locales). It should be\nused as the last macro package on the command line.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Input\nEncodings</b></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><i>latin1</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>latin2</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>latin5</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>latin9</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Various input encodings supported directly by groff.\nNormally, this macro is loaded at the very beginning of a\ndocument or specified as the first macro argument on the\ncommand line. <b>roff</b> loads latin1 by default at\nstart-up. Note that these macro packages don&rsquo;t work on\nEBCDIC hosts.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>cp1047</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Encoding support for EBCDIC. On those platforms it is\nloaded automatically at start-up. Due to different character\nranges used in <b>roff</b> it doesn&rsquo;t work on\narchitectures which are based on ASCII.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that it\ncan happen that some input encoding characters are not\navailable for a particular output device. For example,\nsaying</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">groff -Tlatin1\n-mlatin9 ...</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">fails if you\nuse the Euro character in the input. Usually, this\nlimitation is present only for devices which have a limited\nset of output glyphs (<b>-Tascii</b>, <b>-Tlatin1</b>); for\nother devices it is usually sufficient to install proper\nfonts which contain the necessary glyphs.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Special\nPackages</b> <br>\nThe macro packages in this section are not intended for\nstand-alone usage, but can be used to add special\nfunctionality to any other macro package or to plain\ngroff.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p style=\"margin-top: 1em\"><i>62bit</i></p></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">Provides macros for addition,\nmultiplication, and division of 62-bit integers (allowing\nsafe multiplication of 31-bit integers, for example).</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p><i>ec</i></p></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p>Switch to the EC and TC font families. To be used with\n<a href=\"https://man.page/1/grodvi\">grodvi(1)</a> &ndash; this man page also gives more\ndetails of how to use it.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p><i>hdtbl</i></p></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p>The Heidelberger table macros, contributed by Joachim\nWalsdorff, allow the generation of tables through a syntax\nsimilar to the HTML table model. Note that <i>hdtbl</i> is a\nmacro package, not a preprocessor like <a href=\"https://man.page/1/tbl\">tbl(1)</a>.\n<i>hdtbl</i> works only with the <b>-Tps</b> and\n<b>-Tpdf</b> output devices. See\n<a href=\"https://man.page/7/groff_hdtbl\">groff_hdtbl(7)</a><b>.</b></p> </td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><i>papersize</i></p>\n\n<p style=\"margin-left:22%;\">This macro file is already\nloaded at start-up by <b>troff</b> so it isn&rsquo;t\nnecessary to call it explicitly. It provides an interface to\nset the paper size on the command line with the option\n<b>-dpaper=</b><i>size</i>. Possible values for <i>size</i>\nare the same as the predefined <b>papersize</b> values in\nthe DESC file (only lowercase; see <a href=\"https://man.page/5/groff_font\">groff_font(5)</a> for\nmore) except <b>a7</b>&ndash;<b>d7</b>. An appended <b>l</b>\n(ell) character denotes landscape orientation. Examples:\n<b>a4</b>, <b>c3l</b>, <b>letterl</b>.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Most output\ndrivers need additional command-line switches <b>-p</b> and\n<b>-l</b> to override the default paper length and\norientation as set in the driver-specific DESC file. For\nexample, use the following for PS output on A4 paper in\nlandscape orientation:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>sh#</i>\ngroff -Tps -dpaper=a4l -P-pa4 -P-l -ms foo.ms &gt;\nfoo.ps</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>pdfpic</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>A single macro is provided in this file, <b>PSPIC</b>,\nto include a PDF graphic in a document, i.e., under the\noutput device <b>-Tpdf</b>. For all other devices,\n<i>pspic</i> is used. So <i>pdfpic</i> is an extension of\n<i>pspic</i>. By that you can now even replace all\n<b>PSPIC</b> by <b>PDFPIC</b>, nothing gets lost by that.\nThe options of <b>PDFPIC</b> are identical to the\n<b>PSDIF</b> options.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>pic</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>This file provides proper definitions for the macros\n<b>PS</b> and <b>PE</b>, needed for the <a href=\"https://man.page/1/pic\">pic(1)</a>\npreprocessor. They center each picture. Use it only if your\nmacro package doesn&rsquo;t provide proper definitions for\nthose two macros (actually, most of them already do).</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>pspic</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>A single macro is provided in this file, <b>PSPIC</b>,\nto include a PostScript graphic in a document. The following\noutput devices support inclusion of PS images: <b>-Tps</b>,\n<b>-Tdvi</b>, <b>-Thtml</b>, and <b>-Txhtml</b>; for all\nother devices the image is replaced with a hollow rectangle\nof the same size. This macro file is already loaded at\nstart-up by <b>troff</b> so it isn&rsquo;t necessary to call\nit explicitly.</p></td></tr>\n</table>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Syntax:</p>\n\n<p style=\"margin-left:32%; margin-top: 1em\"><b>.PSPIC</b>\n[<b>-L</b>|<b>-R</b>|<b>-C</b>|<b>-I&nbsp;</b><i>n</i>]\n<i>file</i> [<i>width</i> [<i>height</i>]]</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>file</i> is\nthe name of the PostScript file; <i>width</i> and\n<i>height</i> give the desired width and height of the\nimage. If neither a <i>width</i> nor a <i>height</i>\nargument is specified, the image&rsquo;s natural width (as\ngiven in the file&rsquo;s bounding box) or the current line\nlength is used as the width, whatever is smaller. The\n<i>width</i> and <i>height</i> arguments may have scaling\nindicators attached; the default scaling indicator\nis&nbsp;<b>i</b>. This macro scales the graphic uniformly in\nthe x and y&nbsp;directions so that it is no more than\n<i>width</i> wide and <i>height</i> high. Option <b>-C</b>\ncenters the graphic horizontally, which is the default. The\n<b>-L</b> and <b>-R</b> options cause the graphic to be\nleft-aligned and right-aligned, respectively. The <b>-I</b>\noption causes the graphic to be indented by&nbsp;<i>n</i>\n(default scaling indicator is&nbsp;<b>m</b>).</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">For use of\n<b>.PSPIC</b> within a diversion it is recommended to extend\nit with the following code, assuring that the\ndiversion&rsquo;s width completely covers the image&rsquo;s\nwidth.</p>\n\n<p style=\"margin-left:32%; margin-top: 1em\">.am PSPIC <br>\n.&nbsp;&nbsp;vpt 0 <br>\n\\h&rsquo;(\\\\n[ps-offset]u + \\\\n[ps-deswid]u)&rsquo; <br>\n.&nbsp;&nbsp;sp -1 <br>\n.&nbsp;&nbsp;vpt 1 <br>\n..</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p style=\"margin-top: 1em\"><i>ptx</i></p></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">A single macro is provided in\nthis file, <b>xx</b>, for formatting permuted index entries\nas produced by the GNU <a href=\"https://man.page/1/ptx\">ptx(1)</a> program. In case you\nneed a different formatting, copy the macro into your\ndocument and adapt it to your needs.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p><i>trace</i></p></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p>Use this for tracing macro calls. It is only useful for\ndebugging. See <a href=\"https://man.page/7/groff_trace\">groff_trace(7)</a><b>.</b></p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><i>tty-char</i></p>\n\n<p style=\"margin-left:22%;\">Overrides the definition of\nstandard troff characters and some groff characters for TTY\ndevices. The optical appearance is intentionally inferior\ncompared to that of normal TTY formatting to allow\nprocessing with critical equipment.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><i>www</i></p></td>\n<td width=\"7%\"></td>\n<td width=\"78%\">\n\n\n<p>Additions of elements known from the HTML format, as\nused in the internet (World Wide Web) pages; this includes\nURL links and mail addresses; see <a href=\"https://man.page/7/groff_www\">groff_www(7)</a>.</p></td></tr>\n</table>\n\n<h2>NAMING\n<a name=\"NAMING\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Classical roff\nsystems were designed before the conventions of the modern C\n<a href=\"https://man.page/3/getopt\">getopt(3)</a> call evolved, and used a naming scheme for\nmacro packages that looks odd to modern eyes. Macro packages\nwere always included with the option <b>-m</b>; when this\noption was directly followed by its argument without an\nintervening space, this looked like a long option preceded\nby a single minus &mdash; a sensation in the computer stone\nage. To make this invocation form work, classical troff\nmacro packages used names that started with the letter\n&rsquo;m&rsquo;, which was omitted in the naming of the\nmacro file.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For example,\nthe macro package for the man pages was called <i>man</i>,\nwhile its macro file <i>tmac.an</i>. So it could be\nactivated by the argument <i>an</i> to option <b>-m</b>, or\n<b>-man</b> for short.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For similar\nreasons, macro packages that did not start with an\n&rsquo;m&rsquo; had a leading &rsquo;m&rsquo; added in the\ndocumentation and in speech; for example, the package\ncorresponding to <i>tmac.doc</i> was called <i>mdoc</i> in\nthe documentation, although a more suitable name would be\n<i>doc</i>. For, when omitting the space between the option\nand its argument, the command-line option for activating\nthis package reads <b>-mdoc</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">To cope with\nall situations, actual versions of <a href=\"https://man.page/1/groff\">groff(1)</a> are smart\nabout both naming schemes by providing two macro files for\nthe inflicted macro packages; one with a leading\n&rsquo;m&rsquo; the other one without it. So in\n<i>groff</i>, the <i>man</i> macro package may be specified\nas one of the following four methods:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>sh#</i>\ngroff&nbsp;-m&nbsp;man <i><br>\nsh#</i> groff&nbsp;-man <i><br>\nsh#</i> groff&nbsp;-mman <i><br>\nsh#</i> groff&nbsp;-m&nbsp;an</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Recent packages\nthat do not start with &rsquo;m&rsquo; do not use an\nadditional &rsquo;m&rsquo; in the documentation. For\nexample, the <i>www</i> macro package may be specified only\nas one of the two methods:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>sh#</i>\ngroff&nbsp;-m&nbsp;www <i><br>\nsh#</i> groff&nbsp;-mwww</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Obviously,\nvariants like <i>-mmwww</i> would not make much sense.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">A second\nstrange feature of classical troff was to name macro files\nin the form <i>tmac.</i>name. In modern operating systems,\nthe type of a file is specified as a postfix, the file name\nextension. Again, groff copes with this situation by\nsearching both <i>anything</i><b>.tmac</b> and\n<b>tmac.</b><i>anything</i> if only <i>anything</i> is\nspecified.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The easiest way\nto find out which macro packages are available on a system\nis to check the man&nbsp;page <a href=\"https://man.page/1/groff\">groff(1)</a>, or the\ncontents of the <i>tmac</i> directories.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In\n<i>groff</i>, most macro packages are described in&nbsp;man\npages called <b>groff_</b><i>name</i>(7), with a leading\n&rsquo;m&rsquo; for the classical packages.</p>\n\n<h2>INCLUSION\n<a name=\"INCLUSION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">There are\nseveral ways to use a macro package in a document. The\nclassical way is to specify the troff/groff option <b>-m</b>\n<i>name</i> at run-time; this makes the contents of the\nmacro package <i>name</i> available. In groff, the file\nname<i>.tmac</i> is searched within the tmac path; if not\nfound, <i>tmac.</i>name is searched for instead.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Alternatively,\nit is also possible to include a macro file by adding the\nrequest <b>.so</b> <i>filename</i> into the document; the\nargument must be the full file name of an existing file,\npossibly with the directory where it is kept. In groff, this\nwas improved by the similar request <b>.mso</b>\n<i>package</i>, which added searching in the tmac path, just\nlike option <b>-m</b> does.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that in\norder to resolve the <b>.so</b> and <b>.mso</b> requests,\nthe roff preprocessor <a href=\"https://man.page/1/soelim\">soelim(1)</a> must be called if the\nfiles to be included need preprocessing. This can be done\neither directly by a pipeline on the command line or by\nusing the troff/groff option <b>-s</b>. <i>man</i> calls\nsoelim automatically.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For example,\nsuppose a macro file is stored as</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>/usr/share/groff/1.22.4/tmac/macros.tmac</i></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">and is used in\nsome document called <i>docu.roff</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">At run-time,\nthe formatter call for this is</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>sh#</i>\ngroff -m macros docu.roff</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">To include the\nmacro file directly in the document either</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">.mso\nmacros.tmac</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">is used or</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">.so\n/usr/share/groff/1.22.4/tmac/macros.tmac</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In both cases,\nthe formatter should be called with option <b>-s</b> to\ninvoke <b>soelim</b>.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>sh#</i>\ngroff -s docu.roff</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If you want to\nwrite your own groff macro file, call it\nwhatever<i>.tmac</i> and put it in a directory in the tmac\npath; see section &ldquo;Files&rdquo; below. Then documents\ncan include it with the <b>.mso</b> request or the option\n<b>-m</b>.</p>\n\n<h2>WRITING MACROS\n<a name=\"WRITING MACROS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">A\n<a href=\"https://man.page/7/roff\">roff(7)</a> document is a text file that is enriched by\npredefined formatting constructs, such as requests, escape\nsequences, strings, numeric registers, and macros from a\nmacro package. These elements are described in\n<a href=\"https://man.page/7/roff\">roff(7)</a>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">To give a\ndocument a personal style, it is most useful to extend the\nexisting elements by defining some macros for repeating\ntasks; the best place for this is near the beginning of the\ndocument or in a separate file.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Macros without\narguments are just like strings. But the full power of\nmacros reveals when arguments are passed with a macro call.\nWithin the macro definition, the arguments are available as\nthe escape sequences <b>\\$1</b>, ..., <b>\\$9</b>,\n<b>\\$[</b>...<b>]</b>, <b>\\$*</b>, and <b>\\$@</b>, the name\nunder which the macro was called is in <b>\\$0</b>, and the\nnumber of arguments is in register <b>\\n[.$]</b>; see\n<a href=\"https://man.page/7/groff\">groff(7)</a>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Copy-in\nMode</b> <br>\nThe phase when groff reads a macro is called <i>copy-in\nmode</i> or <i>copy mode</i> in roff-talk. This is\ncomparable to the C&nbsp;preprocessing phase during the\ndevelopment of a program written in the C&nbsp;language.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In this phase,\ngroff interprets all backslashes; that means that all escape\nsequences in the macro body are interpreted and replaced by\ntheir value. For constant expressions, this is wanted, but\nstrings and registers that might change between calls of the\nmacro must be protected from being evaluated. This is most\neasily done by doubling the backslash that introduces the\nescape sequence. This doubling is most important for the\npositional parameters. For example, to print information on\nthe arguments that were passed to the macro to the terminal,\ndefine a macro named &rsquo;.print_args&rsquo;, say.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">.ds midpart was\ncalled with <br>\n.de print_args <br>\n\n.&nbsp;&nbsp;tm&nbsp;\\f[I]\\\\$0\\f[]&nbsp;\\*[midpart]&nbsp;\\\\n[.$]&nbsp;arguments:\n<br>\n.&nbsp;&nbsp;tm&nbsp;\\\\$* <br>\n..</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">When calling\nthis macro by</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">.print_args\narg1 arg2</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">the following\ntext is printed to the terminal:</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>print_args</i>\nwas called with the following 2 arguments: <br>\narg1 arg2</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Let&rsquo;s\nanalyze each backslash in the macro definition. As the\npositional parameters and the number of arguments change\nwith each call of the macro their leading backslash must be\ndoubled, which results in \\\\<i>$*</i> and \\\\<i>[.$]</i>. The\nsame applies to the macro name because it could be called\nwith an alias name, so \\\\<i>$0</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">On the other\nhand, <i>midpart</i> is a constant string, it does not\nchange, so no doubling for \\<i>*[midpart]</i>. The \\<i>f</i>\nescape sequences are predefined groff elements for setting\nthe font within the text. Of course, this behavior does not\nchange, so no doubling with \\<i>f[I]</i> and\n\\<i>f[]</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Draft\nMode</b> <br>\nWriting groff macros is easy when the escaping mechanism is\ntemporarily disabled. In groff, this is done by enclosing\nthe macro definition(s) into a pair of <b>.eo</b> and\n<b>.ec</b> requests. Then the body in the macro definition\nis just like a normal part of the document &mdash; text\nenhanced by calls of requests, macros, strings, registers,\netc. For example, the code above can be written in a simpler\nway by</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">.eo <br>\n.ds midpart was called with <br>\n.de print_args <br>\n\n.&nbsp;&nbsp;tm&nbsp;\\f[I]\\$0\\f[]&nbsp;\\*[midpart]&nbsp;\\n[.$]&nbsp;arguments:\n<br>\n.&nbsp;&nbsp;tm&nbsp;\\$* <br>\n.. <br>\n.ec</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Unfortunately,\ndraft mode cannot be used universally. Although it is good\nenough for defining normal macros, draft mode fails with\nadvanced applications, such as indirectly defined strings,\nregisters, etc. An optimal way is to define and test all\nmacros in draft mode and then do the backslash doubling as a\nfinal step; do not forget to remove the <i>.eo</i>\nrequest.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Tips for\nMacro Definitions</b></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">&bull;</p></td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">Start every line with a dot, for\nexample, by using the groff request <b>.nop</b> for text\nlines, or write your own macro that handles also text lines\nwith a leading dot.</p></td></tr>\n</table>\n\n<p style=\"margin-left:32%; margin-top: 1em\">.de Text <br>\n.&nbsp;&nbsp;if (\\\\n[.$] == 0)&nbsp;\\ <br>\n.&nbsp;&nbsp;&nbsp;&nbsp;return <br>\n.&nbsp;&nbsp;nop&nbsp;\\)\\\\$*\\) <br>\n..</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">&bull;</p></td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">Write a comment macro that works\nboth for copy-in and draft mode; for as escaping is off in\ndraft mode, trouble might occur when normal comments are\nused. For example, the following macro just ignores its\narguments, so it acts like a comment line:</p></td></tr>\n</table>\n\n<p style=\"margin-left:32%; margin-top: 1em\">.de&nbsp;c <br>\n.. <br>\n\n.c&nbsp;This&nbsp;is&nbsp;like&nbsp;a&nbsp;comment&nbsp;line.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">&bull;</p></td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">In long macro definitions, make\nample use of comment lines or almost-empty lines (this is,\nlines which have a leading dot and nothing else) for a\nbetter structuring.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p>To increase readability, use groff&rsquo;s indentation\nfacility for requests and macro calls (arbitrary whitespace\nafter the leading dot).</p></td></tr>\n</table>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Diversions</b>\n<br>\nDiversions can be used to implement quite advanced\nprogramming constructs. They are comparable to pointers to\nlarge data structures in the C&nbsp;programming language,\nbut their usage is quite different.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In their\nsimplest form, diversions are multi-line strings, but they\nget their power when diversions are used dynamically within\nmacros. The (formatted) information stored in a diversion\ncan be retrieved by calling the diversion just like a\nmacro.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Most of the\nproblems arising with diversions can be avoided if you\nremain aware of the fact that diversions always store\ncomplete lines. If diversions are used when the line buffer\nhas not been flushed, strange results are produced; not\nknowing this, many people get desperate about diversions. To\nensure that a diversion works, line breaks should be added\nat the right places. To be on the secure side, enclose\neverything that has to do with diversions into a pair of\nline breaks; for example, by explicitly using <b>.br</b>\nrequests. This rule should be applied to diversion\ndefinition, both inside and outside, and to all calls of\ndiversions. This is a bit of overkill, but it works\nnicely.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">[If you really\nneed diversions which should ignore the current partial\nline, use environments to save the current partial line\nand/or use the <b>.box</b> request.]</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The most\npowerful feature using diversions is to start a diversion\nwithin a macro definition and end it within another macro.\nThen everything between each call of this macro pair is\nstored within the diversion and can be manipulated from\nwithin the macros.</p>\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">All macro\npackage files must be named name<i>.tmac</i> to fully use\nthe tmac mechanism. <i>tmac.</i>name as with classical\npackages is possible as well, but deprecated.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The macro files\nare kept in the <i>tmac directories</i>; a colon separated\nlist of these constitutes the <i>tmac path</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The search\nsequence for macro files is (in that order):</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">&bull;</p></td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">the directories specified with\ntroff/groff&rsquo;s <b>-M</b> command-line option</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p>the directories given in the <i>GROFF_TMAC_PATH</i>\nenvironment variable</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p>the current directory (only if in unsafe mode, which is\nenabled by the <b>-U</b> command-line switch)</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p>the home directory</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p>a platform-specific directory, being</p></td></tr>\n</table>\n\n\n<p style=\"margin-left:32%; margin-top: 1em\"><i>/usr/lib/groff/site-tmac</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">in this\ninstallation</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">&bull;</p></td>\n<td width=\"10%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">a site-specific\n(platform-independent) directory, being</p></td></tr>\n</table>\n\n\n<p style=\"margin-left:32%; margin-top: 1em\"><i>/usr/share/groff/site-tmac</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">in this\ninstallation</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">&bull;</p></td>\n<td width=\"10%\"></td>\n<td width=\"46%\">\n\n\n<p style=\"margin-top: 1em\">the main tmac directory,\nbeing</p> </td>\n<td width=\"32%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:32%; margin-top: 1em\"><i>/usr/share/groff/1.22.4/tmac</i></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">in this\ninstallation</p>\n\n<h2>ENVIRONMENT\n<a name=\"ENVIRONMENT\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>GROFF_TMAC_PATH</i></p>\n\n<p style=\"margin-left:22%;\">A colon separated list of\nadditional tmac directories in which to search for macro\nfiles. See the previous section for a detailed\ndescription.</p>\n\n<h2>AUTHORS\n<a name=\"AUTHORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This document\nwas written by\n<a href=\"mailto:groff-bernd.warken-72@web.de\">Bernd\nWarken</a> and <a href=\"mailto:wl@gnu.org\">Werner\nLemberg</a>.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>Groff: The\nGNU Implementation of troff</i>, by Trent A. Fisher and\nWerner Lemberg, is the primary <i>groff</i> manual. You can\nbrowse it interactively with &ldquo;info groff&rdquo;.\n<b><br>\ngroff</b>(1)</p>\n\n<p style=\"margin-left:22%;\">an overview of the groff\nsystem.</p>\n\n<p style=\"margin-left:11%;\"><a href=\"https://man.page/7/groff_man\">groff_man(7)</a>, <b><br>\ngroff_mdoc</b>(7), <b><br>\ngroff_me</b>(7), <b><br>\ngroff_mm</b>(7), <b><br>\ngroff_mom</b>(7), <b><br>\ngroff_ms</b>(7), <b><br>\ngroff_trace</b>(7), <b><br>\ngroff_www</b>(7).</p>\n\n<p style=\"margin-left:22%;\">the groff tmac macro\npackages.</p>\n\n<p style=\"margin-left:11%;\"><a href=\"https://man.page/7/groff\">groff(7)</a></p>\n\n<p style=\"margin-left:22%;\">the groff language.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The Filesystem\nHierarchy Standard is available at the\n<a href=\"http://www.pathname.com/fhs/\">FHS web site</a>.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#GROFF MACRO PACKAGES\">GROFF MACRO PACKAGES</a>","<a href=\"#NAMING\">NAMING</a>","<a href=\"#INCLUSION\">INCLUSION</a>","<a href=\"#WRITING MACROS\">WRITING MACROS</a>","<a href=\"#FILES\">FILES</a>","<a href=\"#ENVIRONMENT\">ENVIRONMENT</a>","<a href=\"#AUTHORS\">AUTHORS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"],"level":5}