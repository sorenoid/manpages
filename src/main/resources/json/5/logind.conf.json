{"name":"logind.conf","body":"\n\n<h1 align=\"center\">LOGIND.CONF</h1>\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">logind.conf,\nlogind.conf.d - Login manager configuration files</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/etc/systemd/logind.conf</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/etc/systemd/logind.conf.d/*.conf</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/run/systemd/logind.conf.d/*.conf</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/usr/lib/systemd/logind.conf.d/*.conf</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">These files\nconfigure various parameters of the systemd login manager,\n<b>systemd-logind.service</b>(8). See\n<b>systemd.syntax</b>(7) for a general description of the\nsyntax.</p>\n\n<h2>CONFIGURATION DIRECTORIES AND PRECEDENCE\n<a name=\"CONFIGURATION DIRECTORIES AND PRECEDENCE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The default\nconfiguration is set during compilation, so configuration is\nonly needed when it is necessary to deviate from those\ndefaults. Initially, the main configuration file in\n/etc/systemd/ contains commented out entries showing the\ndefaults as a guide to the administrator. Local overrides\ncan be created by editing this file or by creating drop-ins,\nas described below. Using drop-ins for local configuration\nis recommended over modifications to the main configuration\nfile.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In addition to\nthe &quot;main&quot; configuration file, drop-in\nconfiguration snippets are read from\n/usr/lib/systemd/*.conf.d/,\n/usr/local/lib/systemd/*.conf.d/, and\n/etc/systemd/*.conf.d/. Those drop-ins have higher\nprecedence and override the main configuration file. Files\nin the *.conf.d/ configuration subdirectories are sorted by\ntheir filename in lexicographic order, regardless of in\nwhich of the subdirectories they reside. When multiple files\nspecify the same option, for options which accept just a\nsingle value, the entry in the file sorted last takes\nprecedence, and for options which accept a list of values,\nentries are collected as they occur in the sorted files.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">When packages\nneed to customize the configuration, they can install\ndrop-ins under /usr/. Files in /etc/ are reserved for the\nlocal administrator, who may use this logic to override the\nconfiguration files installed by vendor packages. Drop-ins\nhave to be used to override package drop-ins, since the main\nconfiguration file has lower precedence. It is recommended\nto prefix all filenames in those subdirectories with a\ntwo-digit number and a dash, to simplify the ordering of the\nfiles.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">To disable a\nconfiguration file supplied by the vendor, the recommended\nway is to place a symlink to /dev/null in the configuration\ndirectory in /etc/, with the same filename as the vendor\nconfiguration file.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">All options are\nconfigured in the [Login] section:</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>NAutoVTs=</i></p>\n\n<p style=\"margin-left:17%;\">Takes a positive integer.\nConfigures how many virtual terminals (VTs) to allocate by\ndefault that, when switched to and are previously unused,\n&quot;autovt&quot; services are automatically spawned on.\nThese services are instantiated from the template unit\nautovt@.service for the respective VT TTY name, for example,\nautovt@tty4.service. By default, autovt@.service is linked\nto getty@.service. In other words, login prompts are started\ndynamically as the user switches to unused virtual\nterminals. Hence, this parameter controls how many login\n&quot;gettys&quot; are available on the VTs. If a VT is\nalready used by some other subsystem (for example, a\ngraphical login), this kind of activation will not be\nattempted. Note that the VT configured in <i>ReserveVT=</i>\nis always subject to this kind of activation, even if it is\nnot one of the VTs configured with the <i>NAutoVTs=</i>\ndirective. Defaults to 6. When set to 0, automatic spawning\nof &quot;autovt&quot; services is disabled.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>ReserveVT=</i></p>\n\n<p style=\"margin-left:17%;\">Takes a positive integer.\nIdentifies one virtual terminal that shall unconditionally\nbe reserved for autovt@.service activation (see above). The\nVT selected with this option will be marked busy\nunconditionally, so that no other subsystem will allocate\nit. This functionality is useful to ensure that, regardless\nof how many VTs are allocated by other subsystems, one login\n&quot;getty&quot; is always available. Defaults to 6 (in\nother words, there will always be a &quot;getty&quot;\navailable on Alt-F6.). When set to 0, VT reservation is\ndisabled.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>KillUserProcesses=</i></p>\n\n<p style=\"margin-left:17%;\">Takes a boolean argument.\nConfigures whether the processes of a user should be killed\nwhen the user logs out. If true, the scope unit\ncorresponding to the session and all processes inside that\nscope will be terminated. If false, the scope is\n&quot;abandoned&quot;, see <b>systemd.scope</b>(5), and\nprocesses are not killed. Defaults to &quot;no&quot;, but\nsee the options <i>KillOnlyUsers=</i> and\n<i>KillExcludeUsers=</i> below.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">In addition to\nsession processes, user process may run under the user\nmanager unit user@.service. Depending on the linger\nsettings, this may allow users to run processes independent\nof their login sessions. See the description of\n<b>enable-linger</b> in <a href=\"https://man.page/1/loginctl\">loginctl(1)</a>.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Note that\nsetting <i>KillUserProcesses=yes</i> will break tools like\n<a href=\"https://man.page/1/screen\">screen(1)</a> and <a href=\"https://man.page/1/tmux\">tmux(1)</a>, unless they are moved\nout of the session scope. See example in\n<a href=\"https://man.page/1/systemd-run\">systemd-run(1)</a>.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>KillOnlyUsers=</i>,\n<i>KillExcludeUsers=</i></p>\n\n<p style=\"margin-left:17%;\">These settings take\nspace-separated lists of usernames that override the\n<i>KillUserProcesses=</i> setting. A user name may be added\nto <i>KillExcludeUsers=</i> to exclude the processes in the\nsession scopes of that user from being killed even if\n<i>KillUserProcesses=yes</i> is set. If\n<i>KillExcludeUsers=</i> is not set, the &quot;root&quot;\nuser is excluded by default. <i>KillExcludeUsers=</i> may be\nset to an empty value to override this default. If a user is\nnot excluded, <i>KillOnlyUsers=</i> is checked next. If this\nsetting is specified, only the processes in the session\nscopes of those users will be killed. Otherwise, users are\nsubject to the <i>KillUserProcesses=yes</i> setting.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>IdleAction=</i></p>\n\n<p style=\"margin-left:17%;\">Configures the action to take\nwhen the system is idle. Takes one of &quot;ignore&quot;,\n&quot;poweroff&quot;, &quot;reboot&quot;, &quot;halt&quot;,\n&quot;kexec&quot;, &quot;suspend&quot;,\n&quot;hibernate&quot;, &quot;hybrid-sleep&quot;,\n&quot;suspend-then-hibernate&quot;, and &quot;lock&quot;.\nDefaults to &quot;ignore&quot;.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Note that this\nrequires that user sessions correctly report the idle status\nto the system. The system will execute the action after all\nsessions report that they are idle, no idle inhibitor lock\nis active, and subsequently, the time configured with\n<i>IdleActionSec=</i> (see below) has expired.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>IdleActionSec=</i></p>\n\n<p style=\"margin-left:17%;\">Configures the delay after\nwhich the action configured in <i>IdleAction=</i> (see\nabove) is taken after the system is idle.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>InhibitDelayMaxSec=</i></p>\n\n<p style=\"margin-left:17%;\">Specifies the maximum time a\nsystem shutdown or sleep request is delayed due to an\ninhibitor lock of type &quot;delay&quot; being active before\nthe inhibitor is ignored and the operation executes anyway.\nDefaults to 5.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>UserStopDelaySec=</i></p>\n\n<p style=\"margin-left:17%;\">Specifies how long to keep the\nuser record and per-user service user@.service around for a\nuser after they logged out fully. If set to zero, the\nper-user service is terminated immediately when the last\nsession of the user has ended. If this option is configured\nto non-zero rapid logout/login cycles are sped up, as the\nuser's service manager is not constantly restarted. If set\nto &quot;infinity&quot; the per-user service for a user is\nnever terminated again after first login, and continues to\nrun until system shutdown. Defaults to 10s.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>HandlePowerKey=</i>,\n<i>HandleSuspendKey=</i>, <i>HandleHibernateKey=</i>,\n<i>HandleLidSwitch=</i>,\n<i>HandleLidSwitchExternalPower=</i>,\n<i>HandleLidSwitchDocked=</i>, <i>HandleRebootKey=</i></p>\n\n<p style=\"margin-left:17%;\">Controls how logind shall\nhandle the system power, reboot and sleep keys and the lid\nswitch to trigger actions such as system power-off, reboot\nor suspend. Can be one of &quot;ignore&quot;,\n&quot;poweroff&quot;, &quot;reboot&quot;, &quot;halt&quot;,\n&quot;kexec&quot;, &quot;suspend&quot;,\n&quot;hibernate&quot;, &quot;hybrid-sleep&quot;,\n&quot;suspend-then-hibernate&quot;, and &quot;lock&quot;. If\n&quot;ignore&quot;, logind will never handle these keys. If\n&quot;lock&quot;, all running sessions will be\nscreen-locked; otherwise, the specified action will be taken\nin the respective event. Only input devices with the\n&quot;power-switch&quot; udev tag will be watched for\nkey/lid switch events. <i>HandlePowerKey=</i> defaults to\n&quot;poweroff&quot;, <i>HandleRebootKey=</i> defaults to\n&quot;reboot&quot;. <i>HandleSuspendKey=</i> and\n<i>HandleLidSwitch=</i> default to &quot;suspend&quot;.\n<i>HandleLidSwitchExternalPower=</i> is completely ignored\nby default (for backwards compatibility) &mdash; an explicit\nvalue must be set before it will be used to determine\nbehaviour. <i>HandleLidSwitchDocked=</i> defaults to\n&quot;ignore&quot;. <i>HandleHibernateKey=</i> defaults to\n&quot;hibernate&quot;. If the system is inserted in a\ndocking station, or if more than one display is connected,\nthe action specified by <i>HandleLidSwitchDocked=</i>\noccurs; if the system is on external power the action (if\nany) specified by <i>HandleLidSwitchExternalPower=</i>\noccurs; otherwise the <i>HandleLidSwitch=</i> action\noccurs.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">A different\napplication may disable logind's handling of system power\nand sleep keys and the lid switch by taking a low-level\ninhibitor lock (&quot;handle-power-key&quot;,\n&quot;handle-suspend-key&quot;,\n&quot;handle-hibernate-key&quot;,\n&quot;handle-lid-switch&quot;,\n&quot;handle-reboot-switch&quot;). This is most commonly\nused by graphical desktop environments to take over suspend\nand hibernation handling, and to use their own configuration\nmechanisms. If a low-level inhibitor lock is taken, logind\nwill not take any action when that key or switch is\ntriggered and the <i>Handle*=</i> settings are\nirrelevant.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>PowerKeyIgnoreInhibited=</i>,\n<i>SuspendKeyIgnoreInhibited=</i>,\n<i>HibernateKeyIgnoreInhibited=</i>,\n<i>LidSwitchIgnoreInhibited=</i>,\n<i>RebootKeyIgnoreInhibited=</i></p>\n\n<p style=\"margin-left:17%;\">Controls whether actions that\n<b>systemd-logind</b> takes when the power, reboot and sleep\nkeys and the lid switch are triggered are subject to\nhigh-level inhibitor locks (&quot;shutdown&quot;,\n&quot;reboot&quot;, &quot;sleep&quot;, &quot;idle&quot;).\nLow level inhibitor locks (&quot;handle-power-key&quot;,\n&quot;handle-suspend-key&quot;,\n&quot;handle-hibernate-key&quot;,\n&quot;handle-lid-switch&quot;,\n&quot;handle-reboot-key&quot;), are always honored,\nirrespective of this setting.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">These settings\ntake boolean arguments. If &quot;no&quot;, the inhibitor\nlocks taken by applications are respected. If\n&quot;yes&quot;, &quot;shutdown&quot;, &quot;reboot&quot;\n&quot;sleep&quot;, and &quot;idle&quot; inhibitor locks are\nignored. <i>PowerKeyIgnoreInhibited=</i>,\n<i>SuspendKeyIgnoreInhibited=</i>,\n<i>HibernateKeyIgnoreInhibited=</i> and\n<i>RebootKeyIgnoreInhibited=</i> default to &quot;no&quot;.\n<i>LidSwitchIgnoreInhibited=</i> defaults to\n&quot;yes&quot;. This means that when <b>systemd-logind</b>\nis handling events by itself (no low level inhibitor locks\nare taken by another application), the lid switch does not\nrespect suspend blockers by default, but the power and sleep\nkeys do.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>HoldoffTimeoutSec=</i></p>\n\n<p style=\"margin-left:17%;\">Specifies a period of time\nafter system startup or system resume in which systemd will\nhold off on reacting to lid events. This is required for the\nsystem to properly detect any hotplugged devices so systemd\ncan ignore lid events if external monitors, or docks, are\nconnected. If set to 0, systemd will always react\nimmediately, possibly before the kernel fully probed all\nhotplugged devices. This is safe, as long as you do not care\nfor systemd to account for devices that have been plugged or\nunplugged while the system was off. Defaults to 30s.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>RuntimeDirectorySize=</i></p>\n\n<p style=\"margin-left:17%;\">Sets the size limit on the\n<i>$XDG_RUNTIME_DIR</i> runtime directory for each user who\nlogs in. Takes a size in bytes, optionally suffixed with the\nusual K, G, M, and T suffixes, to the base 1024 (IEC).\nAlternatively, a numerical percentage suffixed by\n&quot;%&quot; may be specified, which sets the size limit\nrelative to the amount of physical RAM. Defaults to 10%.\nNote that this size is a safety limit only. As each runtime\ndirectory is a tmpfs file system, it will only consume as\nmuch memory as is needed.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>RuntimeDirectoryInodesMax=</i></p>\n\n<p style=\"margin-left:17%;\">Sets the limit on number of\ninodes for the <i>$XDG_RUNTIME_DIR</i> runtime directory for\neach user who logs in. Takes a number, optionally suffixed\nwith the usual K, G, M, and T suffixes, to the base 1024\n(IEC). Defaults to <i>RuntimeDirectorySize=</i> divided by\n4096. Note that this size is a safety limit only. As each\nruntime directory is a tmpfs file system, it will only\nconsume as much memory as is needed.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>InhibitorsMax=</i></p>\n\n<p style=\"margin-left:17%;\">Controls the maximum number of\nconcurrent inhibitors to permit. Defaults to 8192 (8K).</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>SessionsMax=</i></p>\n\n<p style=\"margin-left:17%;\">Controls the maximum number of\nconcurrent user sessions to manage. Defaults to 8192 (8K).\nDepending on how the pam_systemd.so module is included in\nthe PAM stack configuration, further login sessions will\neither be refused, or permitted but not tracked by\nsystemd-logind.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>RemoveIPC=</i></p>\n\n<p style=\"margin-left:17%;\">Controls whether System V and\nPOSIX IPC objects belonging to the user shall be removed\nwhen the user fully logs out. Takes a boolean argument. If\nenabled, the user may not consume IPC resources after the\nlast of the user's sessions terminated. This covers System V\nsemaphores, shared memory and message queues, as well as\nPOSIX shared memory and message queues. Note that IPC\nobjects of the root user and other system users are excluded\nfrom the effect of this setting. Defaults to\n&quot;yes&quot;.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/systemd\">systemd(1)</a>,\n<b>systemd-logind.service</b>(8), <a href=\"https://man.page/1/loginctl\">loginctl(1)</a>,\n<b>systemd-system.conf</b>(5)</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#CONFIGURATION DIRECTORIES AND PRECEDENCE\">CONFIGURATION DIRECTORIES AND PRECEDENCE</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"],"level":5}