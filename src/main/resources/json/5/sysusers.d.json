{"name":"sysusers.d","body":"\n\n<h1 align=\"center\">SYSUSERS.D</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">sysusers.d -\nDeclarative allocation of system users and groups</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/etc/sysusers.d/*.conf</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/run/sysusers.d/*.conf</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/usr/lib/sysusers.d/*.conf</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">#Type Name ID\nGECOS Home directory Shell <br>\nu user_name uid &quot;User Description&quot; /home/dir\n/path/to/shell <br>\nu user_name uid:gid &quot;User Description&quot; /home/dir\n/path/to/shell <br>\nu user_name /file/owned/by/user &quot;User Description&quot;\n/home/dir /path/to/shell <br>\ng group_name gid <br>\ng group_name /file/owned/by/group <br>\nm user_name group_name <br>\nr - lowest-highest</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>systemd-sysusers</b>\nuses the files from sysusers.d directory to create system\nusers and groups and to add users to groups, at package\ninstallation or boot time. This tool may be used to allocate\nsystem users and groups only, it is not useful for creating\nnon-system (i.e. regular, &quot;human&quot;) users and\ngroups, as it accesses /etc/passwd and /etc/group directly,\nbypassing any more complex user databases, for example any\ndatabase involving NIS or LDAP.</p>\n\n<h2>CONFIGURATION DIRECTORIES AND PRECEDENCE\n<a name=\"CONFIGURATION DIRECTORIES AND PRECEDENCE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Each\nconfiguration file shall be named in the style of\n<i>package</i>.conf or <i>package</i>-<i>part</i>.conf. The\nsecond variant should be used when it is desirable to make\nit easy to override just this part of configuration.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Files in\n/etc/sysusers.d override files with the same name in\n/usr/lib/sysusers.d and /run/sysusers.d. Files in\n/run/sysusers.d override files with the same name in\n/usr/lib/sysusers.d. Packages should install their\nconfiguration files in /usr/lib/sysusers.d. Files in\n/etc/sysusers.d are reserved for the local administrator,\nwho may use this logic to override the configuration files\ninstalled by vendor packages. All configuration files are\nsorted by their filename in lexicographic order, regardless\nof which of the directories they reside in. If multiple\nfiles specify the same path, the entry in the file with the\nlexicographically earliest name will be applied. All later\nentries for the same user and group names will be logged as\nwarnings.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the\nadministrator wants to disable a configuration file supplied\nby the vendor, the recommended way is to place a symlink to\n/dev/null in /etc/sysusers.d/ bearing the same filename.</p>\n\n<h2>CONFIGURATION FILE FORMAT\n<a name=\"CONFIGURATION FILE FORMAT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The file format\nis one line per user or group containing name, ID, GECOS\nfield description, home directory, and login shell:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">#Type Name ID\nGECOS Home directory Shell <br>\nu httpd 404 &quot;HTTP User&quot; <br>\nu _authd /usr/bin/authd &quot;Authorization user&quot; <br>\nu postgres - &quot;Postgresql Database&quot; /var/lib/pgsql\n/libexec/postgresdb <br>\ng input - - <br>\nm _authd input <br>\nu root 0 &quot;Superuser&quot; /root /bin/zsh <br>\nr - 500-900</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Empty lines and\nlines beginning with the &quot;#&quot; character are\nignored, and may be used for commenting.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Type</b>\n<br>\nThe type consists of a single letter. The following line\ntypes are understood:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>u</i></p>\n\n<p style=\"margin-left:17%;\">Create a system user and group\nof the specified name should they not exist yet. The user's\nprimary group will be set to the group bearing the same name\nunless the ID field specifies it. The account will be\ncreated disabled, so that logins are not allowed.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>g</i></p>\n\n<p style=\"margin-left:17%;\">Create a system group of the\nspecified name should it not exist yet. Note that <i>u</i>\nimplicitly creates a matching group. The group will be\ncreated with no password set.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>m</i></p>\n\n<p style=\"margin-left:17%;\">Add a user to a group. If the\nuser or group do not exist yet, they will be implicitly\ncreated.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>r</i></p>\n\n<p style=\"margin-left:17%;\">Add a range of numeric\nUIDs/GIDs to the pool to allocate new UIDs and GIDs from. If\nno line of this type is specified, the range of UIDs/GIDs is\nset to some compiled-in default. Note that both UIDs and\nGIDs are allocated from the same pool, in order to ensure\nthat users and groups of the same name are likely to carry\nthe same numeric UID and GID.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Name</b>\n<br>\nThe name field specifies the user or group name. The\nspecified name must consist only of the characters a-z, A-Z,\n0-9, &quot;_&quot; and &quot;-&quot;, except for the first\ncharacter which must be one of a-z, A-Z or &quot;_&quot;\n(i.e. numbers and &quot;-&quot; are not permitted as first\ncharacter). The user/group name must have at least one\ncharacter, and at most 31.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For further\ndetails about the syntax of user/group names, see\n<b><font color=\"#0000FF\">User/Group Name Syntax</font></b>\n<small><font color=\"#000000\">[1]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">It\nis strongly recommended to pick user and group names that\nare unlikely to clash with normal users created by the\nadministrator. A good scheme to guarantee this is by\nprefixing all system and group names with the underscore,\nand avoiding too generic names.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">For\n<i>m</i> lines, this field should contain the user name to\nadd to a group.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">For\nlines of type <i>r</i>, this field should be set to\n&quot;-&quot;.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>ID</b>\n<br>\nFor <i>u</i> and <i>g</i>, the numeric 32-bit UID or GID of\nthe user/group. Do not use IDs 65535 or 4294967295, as they\nhave special placeholder meanings. Specify &quot;-&quot; for\nautomatic UID/GID allocation for the user or group (this is\nstrongly recommended unless it is strictly necessary to use\na specific UID or GID). Alternatively, specify an absolute\npath in the file system. In this case, the UID/GID is read\nfrom the path's owner/group. This is useful to create users\nwhose UID/GID match the owners of pre-existing files (such\nas SUID or SGID binaries). The syntaxes\n&quot;<i>uid</i>:<i>gid</i>&quot; and\n&quot;<i>uid</i>:<i>groupname</i>&quot; are supported to\nallow creating users with specific primary groups. The given\ngroup must be created explicitly, or it must already exist.\nSpecifying &quot;-&quot; for the UID in these syntaxes is\nalso supported.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">For\n<i>m</i> lines, this field should contain the group name to\nadd to a user to.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">For\nlines of type <i>r</i>, this field should be set to a\nUID/GID range in the format &quot;FROM-TO&quot;, where both\nvalues are formatted as decimal ASCII numbers.\nAlternatively, a single UID/GID may be specified formatted\nas decimal ASCII numbers.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>GECOS</b>\n<br>\nA short, descriptive string for users to be created,\nenclosed in quotation marks. Note that this field may not\ncontain colons.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Only\napplies to lines of type <i>u</i> and should otherwise be\nleft unset (or &quot;-&quot;).</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Home\nDirectory</b> <br>\nThe home directory for a new system user. If omitted,\ndefaults to the root directory.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Only\napplies to lines of type <i>u</i> and should otherwise be\nleft unset (or &quot;-&quot;). It is recommended to omit\nthis, unless software strictly requires a home directory to\nbe set.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>systemd-sysusers</b>\nonly sets the home directory record in the user database. To\nactually create the directory, consider adding a\ncorresponding <b>tmpfiles.d</b>(5) fragment.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Shell</b>\n<br>\nThe login shell of the user. If not specified, this will be\nset to /usr/sbin/nologin, except if the UID of the user is\n0, in which case /bin/sh will be used.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Only\napplies to lines of type <i>u</i> and should otherwise be\nleft unset (or &quot;-&quot;). It is recommended to omit\nthis, unless a shell different /usr/sbin/nologin must be\nused.</font></p>\n\n<h2>SPECIFIERS\n<a name=\"SPECIFIERS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Specifiers\ncan be used in the &quot;Name&quot;, &quot;ID&quot;,\n&quot;GECOS&quot;, &quot;Home directory&quot;, and\n&quot;Shell&quot; fields. An unknown or unresolvable\nspecifier is treated as invalid configuration. The following\nexpansions are understood:</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Table&nbsp;1.&nbsp;Specifiers\navailable</b></font></p>\n\n\n<p align=\"center\"><font color=\"#000000\"><b><img src=\"grohtml-3493141.png\" alt=\"Image grohtml-3493141.png\"></b></font></p>\n\n<h2>IDEMPOTENCE\n<a name=\"IDEMPOTENCE\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Note\nthat <b>systemd-sysusers</b> will do nothing if the\nspecified users or groups already exist or the users are\nmembers of specified groups, so normally there is no reason\nto override sysusers.d vendor configuration, except to block\ncertain users or groups from being created.</font></p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><a href=\"https://man.page/1/systemd\">systemd(1)</a>,\n<b>systemd-sysusers</b>(8)</font></p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">1.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"34%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">User/Group\nName Syntax</font></p></td>\n<td width=\"49%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://systemd.io/USER_NAMES</font></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#CONFIGURATION DIRECTORIES AND PRECEDENCE\">CONFIGURATION DIRECTORIES AND PRECEDENCE</a>","<a href=\"#CONFIGURATION FILE FORMAT\">CONFIGURATION FILE FORMAT</a>","<a href=\"#SPECIFIERS\">SPECIFIERS</a>","<a href=\"#IDEMPOTENCE\">IDEMPOTENCE</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#NOTES\">NOTES</a>"],"level":5}