{"name":"sane-airscan","body":"\n\n<h1 align=\"center\">SANE-AIRSCAN</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sane-airscan</b>\n- SANE backend for AirScan (eSCL) and WSD scanners and\nMFP</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>sane-airscan</b> is the universal backend for\n&quot;driverless&quot; document scanning. Currently it\nsupports two protocols:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"72%\">\n\n\n<p>1. eSCL, also known as AirScan or AirPrint scan</p></td>\n<td width=\"11%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:17%;\">2. WSD, also known as\nWS-Scan</p>\n\n<h2>CONFIGURATION\n<a name=\"CONFIGURATION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\nsane-airscan loads its configuration files from the\nfollowing places:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"41%\">\n\n\n<p>1. /etc/sane.d/airscan.conf</p></td>\n<td width=\"42%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:17%;\">2. /etc/sane.d/airscan.d/*</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\nconfiguration file syntax is very similar to the .INI file\nsyntax. It consist of sections, each section contains some\nvariables. Comments are started from # or ; characters and\ncontinies until end of line</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"29%\">\n\n\n<p># This is a comment</p></td>\n<td width=\"54%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:17%;\">[section 1] <br>\nvariable 1 = value 1 ; and another comment <br>\nvariable 2 = value 2</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Leading and\ntrailing spaces of variable name and value are striped. If\nyou want to preserve them, put name or value into quotes\n(&quot;like this&quot;).</p>\n\n<h2>CONFIGURATION OF DEVICES\n<a name=\"CONFIGURATION OF DEVICES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">If scanner and\ncomputer are connected to the same LAN segment, everything\nexpected to &quot;just work&quot; out of box, without any\nneed of manual configuration.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">However, in\nsome cases manual configuration can be useful. For\nexample:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"83%\">\n\n\n<p>1. If computer and scanner are connected via IP\nrouter</p> </td></tr>\n</table>\n\n<p style=\"margin-left:17%;\">2. There are a lot of devices\non a corporate network, but <br>\nonly few of them are interesting <br>\n3. Automatic discovery works unreliable</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">To manually\nconfigure a device, add the following section to the\nconfiguration file:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"14%\">\n\n\n<p>[devices]</p></td>\n<td width=\"69%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:17%;\">&quot;Kyocera eSCL&quot; =\nhttp://192.168.1.102:9095/eSCL, eSCL <br>\n&quot;Kyocera WSD&quot; =\nhttp://192.168.1.102:5358/WSDScanner, WSD <br>\n&quot;Device I do not want to see&quot; = disable</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>[devices]</b> section contains all manually configured\ndevices, one line per device, and each line contains a\ndevice name on a left side of equation and device URL on a\nrights side, followed by protocol (eSCL or WSD). If protocol\nis omitted, eSCL is assumed. You may also disable particular\ndevice by using the <b>disable</b> keyword instead of\nURL.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In addition,\nyou can manually configure a device by directly passing its\nURL in a device name without adding it to the configuration\nfile. This takes the format <b>protocol:Device Name:URL</b>.\nThe examples above could be written as <b>escl:Kyocera\neSCL:http://192.168.1.102:9095/eSCL</b> and <b>wsd:Kyocera\nWSD:http://192.168.1.102:5358/WSDScanner</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">To figure out\nURLs of available devices, the simplest way is to run a\nsupplied <b>airscan-discover</b> tool on a computer\nconnected with scanner to the same LAN segment. On success,\nthis program will dump to its standard output a list of\ndiscovered devices in a format suitable for inclusion into\nthe configuration file.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If running\n<b>airscan-discover</b> on same LAN segment as a scanner is\nnot possible, you will have to follow a hard way. Your\nadministrator must know device IP address, consult your\ndevice manual for the eSCL port, and the URL path component\nmost likely is the &quot;/eSCL&quot;, though on some devices\nit may differ. Discovering WSD URLs doing this way is much\nharder, because it is very difficult to guess TCP port and\nURL path, that in a case of eSCL.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For eSCL\ndevices, the URL can also use the unix:// scheme, such as\nunix://scanner.sock/eSCL. The &quot;host&quot; from the URL\nis a file name that will be searched for in the directory\nspecified by socket_dir (see below). When connecting to the\nscanner, all traffic will be sent to the specified UNIX\nsocket instead of a TCP connection.</p>\n\n<h2>CONFIGURATION OPTIONS\n<a name=\"CONFIGURATION OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Miscellaneous\noptions all goes to the <b>[options]</b> section. Currently\nthe following options are supported:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"14%\">\n\n\n<p>[options]</p></td>\n<td width=\"69%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:17%;\">; If there are a lot of\nscanners around and you are only <br>\n; interested in few of them, disable auto discovery and <br>\n; configure scanners manually <br>\ndiscovery = enable | disable</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">; Choose what\nSANE apps will show in a list of devices: <br>\n; scanner network name (the default) or hardware model name\n<br>\nmodel = network | hardware</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">; If device\nsupports both eSCL and WSD protocol, sane-airscan <br>\n; may either choose the &quot;best&quot; protocol\nautomatically, or <br>\n; expose all variants for user, allowing manual protocol\nselection. <br>\n; The default is &quot;auto&quot; <br>\nprotocol = auto | manual</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">; Discovery of\nWSD devices may be &quot;fast&quot; or &quot;full&quot;. The\n&quot;fast&quot; <br>\n; mode works as fast as DNS-SD discovery, but in some cases\n<br>\n; may be unreliable. The &quot;full&quot; mode is slow and\nreliable. <br>\n; This is also possible to disable automatic discovery <br>\n; of WSD devices. The default is &quot;fast&quot;. <br>\nws-discovery = fast | full | off</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">; Scanners that\nuse the unix:// schema in their URL can only specify a <br>\n; socket name (not a full path). The name will be searched\nfor in the <br>\n; directory specified here. The default is /var/run. <br>\nsocket_dir = /path/to/directory</p>\n\n<h2>BLACKLISTING DEVICES\n<a name=\"BLACKLISTING DEVICES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This feature\ncan be useful, if you are on a very big network and have a\nlot of devices around you, while interesting only in a few\nof them.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"17%\">\n\n\n<p>[blacklist]</p></td>\n<td width=\"66%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:17%;\">model = &quot;Xerox*&quot; ;\nblacklist by model name <br>\nname = &quot;HP*&quot; ; blacklist by network name <br>\nip = 192.168.0.1 ; blacklist by address <br>\nip = 192.168.0.0/24 ; blacklist the whole subnet</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Network names\ncome from DNS-SD, WS-Discovery doesn&acute;t provide this\ninformation. For filtering by network name to work, Avahi\nmust be enabled and device must be discoverable via DNS-SD\n(not necessarily as a scanner, it&acute;s enough if WSD\nscanner is discoverable as a printer via DNS-SD).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Blacklisting\nonly affects automatic discovery, and doesn&acute;t affect\nmanually configured devices</p>\n\n<h2>DEBUGGING\n<a name=\"DEBUGGING\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">sane-airscan\nprovides very good instrumentation for troubleshooting\nwithout physical access to the problemmatic device.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Debugging\nfacilities can be controlled using the <b>[debug]</b>\nsection of the configuration file:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"11%\">\n\n\n<p>[debug]</p></td>\n<td width=\"72%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:17%;\">; Enable or disable console\nlogging <br>\nenable = false | true</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">; Enable\nprotocol trace and configure output directory <br>\n; for trace files. Like in shell, to specify path relative\nto <br>\n; the home directory, start it with tilda character,\nfollowed <br>\n; by slash, i.e., &quot;~/airscan/trace&quot;. The directory\nwill <br>\n; be created automatically. <br>\ntrace = path</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">; Hex dump all\ntraffic to the trace file (very verbose!) <br>\nhexdump = false | true</p>\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>/etc/sane.d/airscan.conf</b>,\n<b>/etc/sane.d/airscan.d/*</b></p>\n\n<p style=\"margin-left:22%;\">The backend configuration\nfiles</p>\n\n\n<p style=\"margin-left:11%;\"><b>/usr/LIBDIR/sane/libsane-airscan.so</b></p>\n\n<p style=\"margin-left:22%;\">The shared library implementing\nthis backend</p>\n\n<h2>ENVIRONMENT\n<a name=\"ENVIRONMENT\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>SANE_DEBUG_AIRSCAN</b></p>\n\n<p style=\"margin-left:22%;\">This variable if set to\n<b>true</b> or non-zero numerical value, enables debug\nmessages, that are printed to stdout</p>\n\n<p style=\"margin-left:11%;\"><b>SANE_CONFIG_DIR</b></p>\n\n<p style=\"margin-left:22%;\">This variable alters the search\npath for configuration files. This is a colon-separated list\nof directories. These directories are searched for the\nairscan.conf configuration file and for the airscan.d\nsubdirectory, before the standard path (/etc/sane.d) is\nsearched.</p>\n\n<h2>BUGS AND SUPPORT\n<a name=\"BUGS AND SUPPORT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">If you have\nfound a bug, please file a GitHub issue on a GitHub project\npage: <b>https://github.com/alexpevzner/sane-airscan</b></p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">sane(7),\nscanimage(1), xsane(1), airscan-discover(1)</p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Alexander\nPevzner &lt;pzz@apevzner.com&gt;</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#CONFIGURATION\">CONFIGURATION</a>","<a href=\"#CONFIGURATION OF DEVICES\">CONFIGURATION OF DEVICES</a>","<a href=\"#CONFIGURATION OPTIONS\">CONFIGURATION OPTIONS</a>","<a href=\"#BLACKLISTING DEVICES\">BLACKLISTING DEVICES</a>","<a href=\"#DEBUGGING\">DEBUGGING</a>","<a href=\"#FILES\">FILES</a>","<a href=\"#ENVIRONMENT\">ENVIRONMENT</a>","<a href=\"#BUGS AND SUPPORT\">BUGS AND SUPPORT</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHOR\">AUTHOR</a>"],"level":5}