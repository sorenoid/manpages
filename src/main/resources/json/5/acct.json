{"name":"acct","body":"\n\n<h1 align=\"center\">ACCT</h1>\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">acct - process\naccounting file</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;sys/acct.h&gt;</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the kernel\nis built with the process accounting option enabled\n(<b>CONFIG_BSD_PROCESS_ACCT</b>), then calling\n<a href=\"https://man.page/2/acct\">acct(2)</a> starts process accounting, for example:</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\">acct(&quot;/var/log/pacct&quot;);</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">When process\naccounting is enabled, the kernel writes a record to the\naccounting file as each process on the system terminates.\nThis record contains information about the terminated\nprocess, and is defined in <i>&lt;sys/acct.h&gt;</i> as\nfollows:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">#define\nACCT_COMM 16</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">typedef\nu_int16_t comp_t;</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">struct acct {\n<br>\nchar ac_flag; /* Accounting flags */ <br>\nu_int16_t ac_uid; /* Accounting user ID */ <br>\nu_int16_t ac_gid; /* Accounting group ID */ <br>\nu_int16_t ac_tty; /* Controlling terminal */ <br>\nu_int32_t ac_btime; /* Process creation time <br>\n(seconds since the Epoch) */ <br>\ncomp_t ac_utime; /* User CPU time */ <br>\ncomp_t ac_stime; /* System CPU time */ <br>\ncomp_t ac_etime; /* Elapsed time */ <br>\ncomp_t ac_mem; /* Average memory usage (kB) */ <br>\ncomp_t ac_io; /* Characters transferred (unused) */ <br>\ncomp_t ac_rw; /* Blocks read or written (unused) */ <br>\ncomp_t ac_minflt; /* Minor page faults */ <br>\ncomp_t ac_majflt; /* Major page faults */ <br>\ncomp_t ac_swaps; /* Number of swaps (unused) */ <br>\nu_int32_t ac_exitcode; /* Process termination status <br>\n(see wait(2)) */ <br>\nchar ac_comm[ACCT_COMM+1]; <br>\n/* Command name (basename of last <br>\nexecuted command; null-terminated) */ <br>\nchar ac_pad[<i>X</i>]; /* padding bytes */ <br>\n};</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">enum { /* Bits\nthat may be set in ac_flag field */ <br>\nAFORK = 0x01, /* Has executed fork, but no exec */ <br>\nASU = 0x02, /* Used superuser privileges */ <br>\nACORE = 0x08, /* Dumped core */ <br>\nAXSIG = 0x10 /* Killed by a signal */ <br>\n};</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>comp_t</i> data type is a floating-point value consisting\nof a 3-bit, base-8 exponent, and a 13-bit mantissa. A value,\n<i>c</i>, of this type can be converted to a (long) integer\nas follows:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">v = (c &amp;\n0x1fff) &lt;&lt; (((c &gt;&gt; 13) &amp; 0x7) * 3);</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>ac_utime</i>, <i>ac_stime</i>, and <i>ac_etime</i> fields\nmeasure time in &quot;clock ticks&quot;; divide these values\nby <i>sysconf(_SC_CLK_TCK)</i> to convert them to\nseconds.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Version 3\naccounting file format</b> <br>\nSince kernel 2.6.8, an optional alternative version of the\naccounting file can be produced if the\n<b>CONFIG_BSD_PROCESS_ACCT_V3</b> option is set when\nbuilding the kernel. With this option is set, the records\nwritten to the accounting file contain additional fields,\nand the width of <i>c_uid</i> and <i>ac_gid</i> fields is\nwidened from 16 to 32 bits (in line with the increased size\nof UID and GIDs in Linux 2.4 and later). The records are\ndefined as follows:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">struct acct_v3\n{ <br>\nchar ac_flag; /* Flags */ <br>\nchar ac_version; /* Always set to ACCT_VERSION (3) */ <br>\nu_int16_t ac_tty; /* Controlling terminal */ <br>\nu_int32_t ac_exitcode; /* Process termination status */ <br>\nu_int32_t ac_uid; /* Real user ID */ <br>\nu_int32_t ac_gid; /* Real group ID */ <br>\nu_int32_t ac_pid; /* Process ID */ <br>\nu_int32_t ac_ppid; /* Parent process ID */ <br>\nu_int32_t ac_btime; /* Process creation time */ <br>\nfloat ac_etime; /* Elapsed time */ <br>\ncomp_t ac_utime; /* User CPU time */ <br>\ncomp_t ac_stime; /* System time */ <br>\ncomp_t ac_mem; /* Average memory usage (kB) */ <br>\ncomp_t ac_io; /* Characters transferred (unused) */ <br>\ncomp_t ac_rw; /* Blocks read or written <br>\n(unused) */ <br>\ncomp_t ac_minflt; /* Minor page faults */ <br>\ncomp_t ac_majflt; /* Major page faults */ <br>\ncomp_t ac_swaps; /* Number of swaps (unused) */ <br>\nchar ac_comm[ACCT_COMM]; /* Command name */ <br>\n};</p>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>acct_v3</i> structure is defined in glibc since version\n2.6.</p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Process\naccounting originated on BSD. Although it is present on most\nsystems, it is not standardized, and the details vary\nsomewhat between systems.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Records in the\naccounting file are ordered by termination time of the\nprocess.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In kernels up\nto and including 2.6.9, a separate accounting record is\nwritten for each thread created using the NPTL threading\nlibrary; since Linux 2.6.10, a single accounting record is\nwritten for the entire process on termination of the last\nthread in the process.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>/proc/sys/kernel/acct</i> file, described in\n<a href=\"https://man.page/5/proc\">proc(5)</a>, defines settings that control the behavior\nof process accounting when disk space runs low.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/lastcomm\">lastcomm(1)</a>,\n<a href=\"https://man.page/2/acct\">acct(2)</a>, <b>accton</b>(8), <b>sa</b>(8)</p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":5}