{"name":"tmpfiles.d","body":"\n\n<h1 align=\"center\">TMPFILES.D</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">tmpfiles.d -\nConfiguration for creation, deletion and cleaning of\nvolatile and temporary files</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/etc/tmpfiles.d/*.conf\n<br>\n/run/tmpfiles.d/*.conf <br>\n/usr/lib/tmpfiles.d/*.conf</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">~/.config/user-tmpfiles.d/*.conf\n<br>\n$XDG_RUNTIME_DIR/user-tmpfiles.d/*.conf <br>\n~/.local/share/user-tmpfiles.d/*.conf <br>\n... <br>\n/usr/share/user-tmpfiles.d/*.conf</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">#Type Path Mode\nUser Group Age Argument <br>\nf /file/to/create mode user group - content <br>\nf+ /file/to/create-or-truncate mode user group - content\n<br>\nw /file/to/write-to - - - - content <br>\nw+ /file/to/append-to - - - - content <br>\nd /directory/to/create-and-cleanup mode user group\ncleanup-age - <br>\nD /directory/to/create-and-remove mode user group\ncleanup-age - <br>\ne /directory/to/cleanup mode user group cleanup-age - <br>\nv /subvolume-or-directory/to/create mode user group - - <br>\nq /subvolume-or-directory/to/create mode user group - - <br>\nQ /subvolume-or-directory/to/create mode user group - - <br>\np /fifo/to/create mode user group - - <br>\np+ /fifo/to/[re]create mode user group - - <br>\nL /symlink/to/create - - - - symlink/target/path <br>\nL+ /symlink/to/[re]create - - - - symlink/target/path <br>\nc /dev/char-device-to-create mode user group - major:minor\n<br>\nc+ /dev/char-device-to-[re]create mode user group -\nmajor:minor <br>\nb /dev/block-device-to-create mode user group - major:minor\n<br>\nb+ /dev/block-device-to-[re]create mode user group -\nmajor:minor <br>\nC /target/to/create - - - - /source/to/copy <br>\nx /path-or-glob/to/ignore/recursively - - - - - <br>\nX /path-or-glob/to/ignore - - - - - <br>\nr /empty/dir/to/remove - - - - - <br>\nR /dir/to/remove/recursively - - - - - <br>\nz /path-or-glob/to/adjust/mode mode user group - - <br>\nZ /path-or-glob/to/adjust/mode/recursively mode user group -\n- <br>\nt /path-or-glob/to/set/xattrs - - - - xattrs <br>\nT /path-or-glob/to/set/xattrs/recursively - - - - xattrs\n<br>\nh /path-or-glob/to/set/attrs - - - - file attrs <br>\nH /path-or-glob/to/set/attrs/recursively - - - - file attrs\n<br>\na /path-or-glob/to/set/acls - - - - POSIX ACLs <br>\na+ /path-or-glob/to/append/acls - - - - POSIX ACLs <br>\nA /path-or-glob/to/set/acls/recursively - - - - POSIX ACLs\n<br>\nA+ /path-or-glob/to/append/acls/recursively - - - - POSIX\nACLs</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">tmpfiles.d\nconfiguration files provide a generic mechanism to define\nthe <i>creation</i> of regular files, directories, pipes,\nand device nodes, adjustments to their <i>access mode,\nownership, attributes, quota assignments, and contents</i>,\nand finally their time-based <i>removal</i>. It is mostly\ncommonly used for volatile and temporary files and\ndirectories (such as those located under /run/, /tmp/,\n/var/tmp/, the API file systems such as /sys/ or /proc/, as\nwell as some other directories below /var/).</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>systemd-tmpfiles</b>\nuses this configuration to create volatile files and\ndirectories during boot and to do periodic cleanup\nafterwards. See <a href=\"https://man.page/5/systemd-tmpfiles\">systemd-tmpfiles(5)</a> for the\ndescription of systemd-tmpfiles-setup.service,\nsystemd-tmpfiles-clean.service, and associated units.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">System daemons\nfrequently require private runtime directories below /run/\nto store communication sockets and similar. For these, it is\nbetter to use <i>RuntimeDirectory=</i> in their unit files\n(see <b>systemd.exec</b>(5) for details), if the flexibility\nprovided by tmpfiles.d is not required. The advantages are\nthat the configuration required by the unit is centralized\nin one place, and that the lifetime of the directory is tied\nto the lifetime of the service itself. Similarly,\n<i>StateDirectory=</i>, <i>CacheDirectory=</i>,\n<i>LogsDirectory=</i>, and <i>ConfigurationDirectory=</i>\nshould be used to create directories under /var/lib/,\n/var/cache/, /var/log/, and /etc/. tmpfiles.d should be used\nfor files whose lifetime is independent of any service or\nrequires more complicated configuration.</p>\n\n<h2>CONFIGURATION DIRECTORIES AND PRECEDENCE\n<a name=\"CONFIGURATION DIRECTORIES AND PRECEDENCE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Each\nconfiguration file shall be named in the style of\n<i>package</i>.conf or <i>package</i>-<i>part</i>.conf. The\nsecond variant should be used when it is desirable to make\nit easy to override just this part of configuration.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Files in\n/etc/tmpfiles.d override files with the same name in\n/usr/lib/tmpfiles.d and /run/tmpfiles.d. Files in\n/run/tmpfiles.d override files with the same name in\n/usr/lib/tmpfiles.d. Packages should install their\nconfiguration files in /usr/lib/tmpfiles.d. Files in\n/etc/tmpfiles.d are reserved for the local administrator,\nwho may use this logic to override the configuration files\ninstalled by vendor packages. All configuration files are\nsorted by their filename in lexicographic order, regardless\nof which of the directories they reside in. If multiple\nfiles specify the same path, the entry in the file with the\nlexicographically earliest name will be applied (note that\nlines suppressed due to the &quot;!&quot; are filtered\nbefore application, meaning that if an early line carries\nthe exclamation mark and is suppressed because of that, a\nlater line matching in path will be applied). All other\nconflicting entries will be logged as errors. When two lines\nare prefix path and suffix path of each other, then the\nprefix line is always created first, the suffix later (and\nif removal applies to the line, the order is reversed: the\nsuffix is removed first, the prefix later). Lines that take\nglobs are applied after those accepting no globs. If\nmultiple operations shall be applied on the same file (such\nas ACL, xattr, file attribute adjustments), these are always\ndone in the same fixed order. Except for those cases, the\nfiles/directories are processed in the order they are\nlisted.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the\nadministrator wants to disable a configuration file supplied\nby the vendor, the recommended way is to place a symlink to\n/dev/null in /etc/tmpfiles.d/ bearing the same filename.</p>\n\n<h2>CONFIGURATION FILE FORMAT\n<a name=\"CONFIGURATION FILE FORMAT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\nconfiguration format is one line per path, containing type,\npath, mode, ownership, age, and argument fields. The lines\nare separated by newlines, the fields by whitespace:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">#Type Path Mode\nUser Group Age Argument... <br>\nd /run/user 0755 root root 10d - <br>\nL /tmp/foobar - - - - /dev/null</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Fields may\ncontain C-style escapes. With the exception of the seventh\nfield (the &quot;argument&quot;) all fields may be enclosed\nin quotes. Note that any whitespace found in the line after\nthe beginning of the argument field will be considered part\nof the argument field. To begin the argument field with a\nwhitespace character, use C-style escapes (e.g.\n&quot;\\x20&quot;).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Type</b>\n<br>\nThe type consists of a single letter and optionally an\nexclamation mark (&quot;!&quot;) minus sign (&quot;-&quot;),\nand/or equals sign (&quot;=&quot;).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\nline types are understood:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>f</i>,\n<i>f+</i></p>\n\n<p style=\"margin-left:17%;\"><i>f</i> will create a file if\nit does not exist yet. If the argument parameter is given\nand the file did not exist yet, it will be written to the\nfile. <i>f+</i> will create or truncate the file. If the\nargument parameter is given, it will be written to the file.\nDoes not follow symlinks.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>w</i>,\n<i>w+</i></p>\n\n<p style=\"margin-left:17%;\">Write the argument parameter to\na file, if the file exists. If suffixed with <i>+</i>, the\nline will be appended to the file. If your configuration\nwrites multiple lines to the same file, use <i>w+</i>. Lines\nof this type accept shell-style globs in place of normal\npath names. The argument parameter will be written without a\ntrailing newline. C-style backslash escapes are interpreted.\nFollows symlinks.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>d</i></p>\n\n<p style=\"margin-left:17%;\">Create a directory. The mode\nand ownership will be adjusted if specified. Contents of\nthis directory are subject to time based cleanup if the age\nargument is specified.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>D</i></p>\n\n<p style=\"margin-left:17%;\">Similar to <i>d</i>, but in\naddition the contents of the directory will be removed when\n<b>--remove</b> is used.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>e</i></p>\n\n<p style=\"margin-left:17%;\">Adjust the mode and ownership\nof existing directories and remove their contents based on\nage. Lines of this type accept shell-style globs in place of\nnormal path names. Contents of the directories are subject\nto time based cleanup if the age argument is specified. If\nthe age argument is &quot;0&quot;, contents will be\nunconditionally deleted every time <b>systemd-tmpfiles\n--clean</b> is run.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">For this entry\nto be useful, at least one of the mode, user, group, or age\narguments must be specified, since otherwise this entry has\nno effect. As an exception, an entry with no effect may be\nuseful when combined with <i>!</i>, see the examples.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>v</i></p>\n\n<p style=\"margin-left:17%;\">Create a subvolume if the path\ndoes not exist yet, the file system supports subvolumes\n(btrfs), and the system itself is installed into a subvolume\n(specifically: the root directory / is itself a subvolume).\nOtherwise, create a normal directory, in the same way as\n<i>d</i>.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">A subvolume\ncreated with this line type is not assigned to any\nhigher-level quota group. For that, use <i>q</i> or\n<i>Q</i>, which allow creating simple quota group\nhierarchies, see below.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>q</i></p>\n\n<p style=\"margin-left:17%;\">Create a subvolume or directory\nthe same as <i>v</i>, but assign the subvolume to the same\nhigher-level quota groups as the parent. This ensures that\nhigher-level limits and accounting applied to the parent\nsubvolume also include the specified subvolume. On non-btrfs\nfile systems, this line type is identical to <i>d</i>.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If the\nsubvolume already exists, no change to the quota hierarchy\nis made, regardless of whether the subvolume is already\nattached to a quota group or not. Also see <i>Q</i> below.\nSee <b>btrfs-qgroup</b>(8) for details about the btrfs quota\ngroup concept.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>Q</i></p>\n\n<p style=\"margin-left:17%;\">Create the subvolume or\ndirectory the same as <i>v</i>, but assign the new subvolume\nto a new leaf quota group. Instead of copying the\nhigher-level quota group assignments from the parent as is\ndone with <i>q</i>, the lowest quota group of the parent\nsubvolume is determined that is not the leaf quota group.\nThen, an &quot;intermediary&quot; quota group is inserted\nthat is one level below this level, and shares the same ID\npart as the specified subvolume. If no higher-level quota\ngroup exists for the parent subvolume, a new quota group at\nlevel 255 sharing the same ID as the specified subvolume is\ninserted instead. This new intermediary quota group is then\nassigned to the parent subvolume's higher-level quota\ngroups, and the specified subvolume's leaf quota group is\nassigned to it.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Effectively,\nthis has a similar effect as <i>q</i>, however introduces a\nnew higher-level quota group for the specified subvolume\nthat may be used to enforce limits and accounting to the\nspecified subvolume and children subvolume created within\nit. Thus, by creating subvolumes only via <i>q</i> and\n<i>Q</i>, a concept of &quot;subtree quotas&quot; is\nimplemented. Each subvolume for which <i>Q</i> is set will\nget a &quot;subtree&quot; quota group created, and all child\nsubvolumes created within it will be assigned to it. Each\nsubvolume for which <i>q</i> is set will not get such a\n&quot;subtree&quot; quota group, but it is ensured that they\nare added to the same &quot;subtree&quot; quota group as\ntheir immediate parents.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">It is\nrecommended to use <i>Q</i> for subvolumes that typically\ncontain further subvolumes, and where it is desirable to\nhave accounting and quota limits on all child subvolumes\ntogether. Examples for <i>Q</i> are typically /home/ or\n/var/lib/machines/. In contrast, <i>q</i> should be used for\nsubvolumes that either usually do not include further\nsubvolumes or where no accounting and quota limits are\nneeded that apply to all child subvolumes together. Examples\nfor <i>q</i> are typically /var/ or /var/tmp/.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">As with\n<i>q</i>, <i>Q</i> has no effect on the quota group\nhierarchy if the subvolume already exists, regardless of\nwhether the subvolume already belong to a quota group or\nnot.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>p</i>,\n<i>p+</i></p>\n\n<p style=\"margin-left:17%;\">Create a named pipe (FIFO) if\nit does not exist yet. If suffixed with <i>+</i> and a file\nalready exists where the pipe is to be created, it will be\nremoved and be replaced by the pipe.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>L</i>,\n<i>L+</i></p>\n\n<p style=\"margin-left:17%;\">Create a symlink if it does not\nexist yet. If suffixed with <i>+</i> and a file or directory\nalready exists where the symlink is to be created, it will\nbe removed and be replaced by the symlink. If the argument\nis omitted, symlinks to files with the same name residing in\nthe directory /usr/share/factory/ are created. Note that\npermissions and ownership on symlinks are ignored.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>c</i>,\n<i>c+</i></p>\n\n<p style=\"margin-left:17%;\">Create a character device node\nif it does not exist yet. If suffixed with <i>+</i> and a\nfile already exists where the device node is to be created,\nit will be removed and be replaced by the device node. It is\nrecommended to suffix this entry with an exclamation mark to\nonly create static device nodes at boot, as udev will not\nmanage static device nodes that are created at runtime.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>b</i>,\n<i>b+</i></p>\n\n<p style=\"margin-left:17%;\">Create a block device node if\nit does not exist yet. If suffixed with <i>+</i> and a file\nalready exists where the device node is to be created, it\nwill be removed and be replaced by the device node. It is\nrecommended to suffix this entry with an exclamation mark to\nonly create static device nodes at boot, as udev will not\nmanage static device nodes that are created at runtime.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>C</i></p>\n\n<p style=\"margin-left:17%;\">Recursively copy a file or\ndirectory, if the destination files or directories do not\nexist yet or the destination directory is empty. Note that\nthis command will not descend into subdirectories if the\ndestination directory already exists and is not empty.\nInstead, the entire copy operation is skipped. If the\nargument is omitted, files from the source directory\n/usr/share/factory/ with the same name are copied. Does not\nfollow symlinks.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>x</i></p>\n\n<p style=\"margin-left:17%;\">Ignore a path during cleaning.\nUse this type to exclude paths from clean-up as controlled\nwith the Age parameter. Note that lines of this type do not\ninfluence the effect of <i>r</i> or <i>R</i> lines. Lines of\nthis type accept shell-style globs in place of normal path\nnames.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>X</i></p>\n\n<p style=\"margin-left:17%;\">Ignore a path during cleaning.\nUse this type to exclude paths from clean-up as controlled\nwith the Age parameter. Unlike <i>x</i>, this parameter will\nnot exclude the content if path is a directory, but only\ndirectory itself. Note that lines of this type do not\ninfluence the effect of <i>r</i> or <i>R</i> lines. Lines of\nthis type accept shell-style globs in place of normal path\nnames.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>r</i></p>\n\n<p style=\"margin-left:17%;\">Remove a file or directory if\nit exists. This may not be used to remove non-empty\ndirectories, use <i>R</i> for that. Lines of this type\naccept shell-style globs in place of normal path names. Does\nnot follow symlinks.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>R</i></p>\n\n<p style=\"margin-left:17%;\">Recursively remove a path and\nall its subdirectories (if it is a directory). Lines of this\ntype accept shell-style globs in place of normal path names.\nDoes not follow symlinks.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>z</i></p>\n\n<p style=\"margin-left:17%;\">Adjust the access mode, user\nand group ownership, and restore the SELinux security\ncontext of a file or directory, if it exists. Lines of this\ntype accept shell-style globs in place of normal path names.\nDoes not follow symlinks.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>Z</i></p>\n\n<p style=\"margin-left:17%;\">Recursively set the access\nmode, user and group ownership, and restore the SELinux\nsecurity context of a file or directory if it exists, as\nwell as of its subdirectories and the files contained\ntherein (if applicable). Lines of this type accept\nshell-style globs in place of normal path names. Does not\nfollow symlinks.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>t</i></p>\n\n<p style=\"margin-left:17%;\">Set extended attributes, see\n<a href=\"https://man.page/5/attr\">attr(5)</a> for details. The argument field should take\none or more assignment expressions in the form\n<i>namespace</i>.<i>attribute</i>=<i>value</i>, for examples\nsee below. Lines of this type accept shell-style globs in\nplace of normal path names. This can be useful for setting\nSMACK labels. Does not follow symlinks.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Please note\nthat extended attributes settable with this line type are a\ndifferent concept from the Linux file attributes settable\nwith <i>h</i>/<i>H</i>, see below.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>T</i></p>\n\n<p style=\"margin-left:17%;\">Same as <i>t</i>, but operates\nrecursively.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>h</i></p>\n\n<p style=\"margin-left:17%;\">Set Linux file/directory\nattributes. Lines of this type accept shell-style globs in\nplace of normal path names.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The format of\nthe argument field is <i>[+-=][aAcCdDeijPsStTu]</i>. The\nprefix <i>+</i> (the default one) causes the attribute(s) to\nbe added; <i>-</i> causes the attribute(s) to be removed;\n<i>=</i> causes the attributes to be set exactly as the\nfollowing letters. The letters &quot;aAcCdDeijPsStTu&quot;\nselect the new attributes for the files, see\n<a href=\"https://man.page/1/chattr\">chattr(1)</a> for further information.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Passing only\n<i>=</i> as argument resets all the file attributes listed\nabove. It has to be pointed out that the <i>=</i> prefix\nlimits itself to the attributes corresponding to the letters\nlisted here. All other attributes will be left untouched.\nDoes not follow symlinks.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Please note\nthat the Linux file attributes settable with this line type\nare a different concept from the extended attributes\nsettable with <i>t</i>/<i>T</i>, see above.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>H</i></p>\n\n<p style=\"margin-left:17%;\">Sames as <i>h</i>, but operates\nrecursively.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>a</i>,\n<i>a+</i></p>\n\n<p style=\"margin-left:17%;\">Set POSIX ACLs (access control\nlists), see <a href=\"https://man.page/5/acl\">acl(5)</a>. If suffixed with <i>+</i>, the\nspecified entries will be added to the existing set.\n<b>systemd-tmpfiles</b> will automatically add the required\nbase entries for user and group based on the access mode of\nthe file, unless base entries already exist or are\nexplicitly specified. The mask will be added if not\nspecified explicitly or already present. Lines of this type\naccept shell-style globs in place of normal path names. This\ncan be useful for allowing additional access to certain\nfiles. Does not follow symlinks.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>A</i>,\n<i>A+</i></p>\n\n<p style=\"margin-left:17%;\">Same as <i>a</i> and <i>a+</i>,\nbut recursive. Does not follow symlinks.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the\nexclamation mark (&quot;!&quot;) is used, this line is only\nsafe to execute during boot, and can break a running system.\nLines without the exclamation mark are presumed to be safe\nto execute at any time, e.g. on package upgrades.\n<b>systemd-tmpfiles</b> will take lines with an exclamation\nmark only into consideration, if the <b>--boot</b> option is\ngiven.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For\nexample:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\"># Make sure\nthese are created by default so that nobody else can <br>\nd /tmp/.X11-unix 1777 root root 10d</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\"># Unlink the\nX11 lock files <br>\nr! /tmp/.X[0-9]*-lock</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The second line\nin contrast to the first one would break a running system,\nand will only be executed with <b>--boot</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the minus\nsign (&quot;-&quot;) is used, this line failing to run\nsuccessfully during create (and only create) will not cause\nthe execution of <b>systemd-tmpfiles</b> to return an\nerror.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For\nexample:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\"># Modify sysfs\nbut don't fail if we are in a container with a read-only\n/proc <br>\nw- /proc/sys/vm/swappiness - - - - 10</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the equals\nsign (&quot;=&quot;) is used, the file types of existing\nobjects in the specified path are checked, and removed if\nthey do not match. This includes any implicitly created\nparent directories (which can be either directories or\ndirectory symlinks). For example, if there is a FIFO in\nplace of one of the parent path components it will be\nreplaced with a directory.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that for\nall line types that result in creation of any kind of file\nnode (i.e. <i>f</i>/<i>F</i>,\n<i>d</i>/<i>D</i>/<i>v</i>/<i>q</i>/<i>Q</i>, <i>p</i>,\n<i>L</i>, <i>c</i>/<i>b</i> and <i>C</i>) leading\ndirectories are implicitly created if needed, owned by root\nwith an access mode of 0755. In order to create them with\ndifferent modes or ownership make sure to add appropriate\n<i>d</i> lines.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Path</b>\n<br>\nThe file system path specification supports simple specifier\nexpansion, see below. The path (after expansion) must be\nabsolute.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Mode</b>\n<br>\nThe file access mode to use when creating this file or\ndirectory. If omitted or when set to &quot;-&quot;, the\ndefault is used: 0755 for directories, 0644 for all other\nfile objects. For <i>z</i>, <i>Z</i> lines, if omitted or\nwhen set to &quot;-&quot;, the file access mode will not be\nmodified. This parameter is ignored for <i>x</i>, <i>r</i>,\n<i>R</i>, <i>L</i>, <i>t</i>, and <i>a</i> lines.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Optionally, if\nprefixed with &quot;~&quot;, the access mode is masked based\non the already set access bits for existing file or\ndirectories: if the existing file has all executable bits\nunset, all executable bits are removed from the new access\nmode, too. Similarly, if all read bits are removed from the\nold access mode, they will be removed from the new access\nmode too, and if all write bits are removed, they will be\nremoved from the new access mode too. In addition, the\nsticky/SUID/SGID bit is removed unless applied to a\ndirectory. This functionality is particularly useful in\nconjunction with <i>Z</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>User,\nGroup</b> <br>\nThe user and group to use for this file or directory. This\nmay either be a numeric ID or a user/group name. If omitted\nor when set to &quot;-&quot;, the user and group of the user\nwho invokes <b>systemd-tmpfiles</b> is used. For <i>z</i>\nand <i>Z</i> lines, when omitted or when set to\n&quot;-&quot;, the file ownership will not be modified.\nThese parameters are ignored for <i>x</i>, <i>r</i>,\n<i>R</i>, <i>L</i>, <i>t</i>, and <i>a</i> lines.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This field\nshould generally only reference system users/groups, i.e.\nusers/groups that are guaranteed to be resolvable during\nearly boot. If this field references users/groups that only\nbecome resolveable during later boot (i.e. after NIS, LDAP\nor a similar networked directory service become available),\nexecution of the operations declared by the line will likely\nfail. Also see <b><font color=\"#0000FF\">Notes on\nResolvability of User and Group Names</font></b>\n<small><font color=\"#000000\">[1]</font></small>\n<font color=\"#000000\">for more information on requirements\non system user/group definitions.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Age</b>\n<br>\nThe date field, when set, is used to decide what files to\ndelete when cleaning. If a file or directory is older than\nthe current time minus the age field, it is deleted. The\nfield format is a series of integers each followed by one of\nthe following suffixes for the respective time units:\n<b>s</b>, <b>m</b> or <b>min</b>, <b>h</b>, <b>d</b>,\n<b>w</b>, <b>ms</b>, and <b>us</b>, meaning seconds,\nminutes, hours, days, weeks, milliseconds, and microseconds,\nrespectively. Full names of the time units can be used\ntoo.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">If\nmultiple integers and units are specified, the time values\nare summed. If an integer is given without a unit, <b>s</b>\nis assumed.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">When\nthe age is set to zero, the files are cleaned\nunconditionally.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">The\nage field only applies to lines starting with <i>d</i>,\n<i>D</i>, <i>e</i>, <i>v</i>, <i>q</i>, <i>Q</i>, <i>C</i>,\n<i>x</i> and <i>X</i>. If omitted or set to &quot;-&quot;,\nno automatic clean-up is done.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">If\nthe age field starts with a tilde character &quot;~&quot;,\nclean-up is only applied to files and directories one level\ninside the directory specified, but not the files and\ndirectories immediately inside it.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">The\nage of a file system entry is determined from its last\nmodification timestamp (mtime), its last access timestamp\n(atime), and (except for directories) its last status change\ntimestamp (ctime). By default, any of these three (or two)\nvalues will prevent cleanup if it is more recent than the\ncurrent time minus the age field. To restrict the deletion\nbased on particular type of file timestamps, the age-by\nargument can be used.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">The\nage-by argument overrides the timestamp types to be used for\nthe age check. It can be specified by prefixing the age\nargument with a sequence of characters to specify the\ntimestamp types and a colon (&quot;:&quot;):\n&quot;<i>age-by</i>...:<i>cleanup-age</i>&quot;. The\nargument can consist of <b>a</b> (<b>A</b> for directories),\n<b>b</b> (<b>B</b> for directories), <b>c</b> (<b>C</b> for\ndirectories), or <b>m</b> (<b>M</b> for directories). Those\nrespectively indicate access, creation, last status change,\nand last modification time of a file system entry. The\nlower-case letter signifies that the given timestamp type\nshould be considered for files, while the upper-case letter\nsignifies that the given timestamp type should be considered\nfor directories. See <a href=\"https://man.page/2/statx\">statx(2)</a> file timestamp fields\nfor more details about timestamp types.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">If\nnot specified, the age-by field defaults to <b>abcmABM</b>,\ni.e. by default all file timestamps are taken into\nconsideration, with the exception of the last status change\ntimestamp (ctime) for directories. This is because the aging\nlogic itself will alter the ctime whenever it deletes a file\ninside it. To ensure that running the aging logic does not\nfeed back into the next iteration of itself, ctime for\ndirectories is ignored by default.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">For\nexample:</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">#\nFiles created and modified, and directories accessed more\nthan <br>\n# an hour ago in &quot;/tmp/foo/bar&quot;, are subject to\ntime-based cleanup. <br>\nd /tmp/foo/bar - - - - bmA:1h -</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Note\nthat while the aging algorithm is run a 'shared' BSD file\nlock (see <a href=\"https://man.page/2/flock\">flock(2)</a>) is taken on each directory the\nalgorithm descends into (and each directory below that, and\nso on). If the aging algorithm finds a lock is already taken\non some directory, it (and everything below it) is skipped.\nApplications may use this to temporarily exclude certain\ndirectory subtrees from the aging algorithm: the\napplications can take a BSD file lock themselves, and as\nlong as they keep it aging of the directory and everything\nbelow it is disabled.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Argument</b>\n<br>\nFor <i>L</i> lines determines the destination path of the\nsymlink. For <i>c</i> and <i>b</i>, determines the\nmajor/minor of the device node, with major and minor\nformatted as integers, separated by &quot;:&quot;, e.g.\n&quot;1:3&quot;. For <i>f</i>, <i>F</i>, and <i>w</i>, the\nargument may be used to specify a short string that is\nwritten to the file, suffixed by a newline. For <i>C</i>,\nspecifies the source file or directory. For <i>t</i> and\n<i>T</i>, determines extended attributes to be set. For\n<i>a</i> and <i>A</i>, determines ACL attributes to be set.\nFor <i>h</i> and <i>H</i>, determines the file attributes to\nset. Ignored for all other lines.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">This\nfield can contain specifiers, see below.</font></p>\n\n<h2>SPECIFIERS\n<a name=\"SPECIFIERS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Specifiers\ncan be used in the &quot;path&quot; and &quot;argument&quot;\nfields. An unknown or unresolvable specifier is treated as\ninvalid configuration. The following expansions are\nunderstood:</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Table&nbsp;1.&nbsp;Specifiers\navailable</b></font></p>\n\n\n<p align=\"center\"><font color=\"#000000\"><b><img src=\"grohtml-3455781.png\" alt=\"Image grohtml-3455781.png\"></b></font></p>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Example&nbsp;1.&nbsp;Create\ndirectories with specific mode and ownership</b></font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><a href=\"https://man.page/1/screen\">screen(1)</a>,\nneeds two directories created at boot with specific modes\nand ownership:</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">#\n/usr/lib/tmpfiles.d/screen.conf <br>\nd /run/screens 1777 root screen 10d <br>\nd /run/uscreens 0755 root screen 10d12h</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Contents\nof /run/screens and /run/uscreens will be cleaned up after\n10 and 10&frac12; days, respectively.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Example&nbsp;2.&nbsp;Create\na directory with a SMACK attribute</b></font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">D\n/run/cups - - - - <br>\nt /run/cups - - - - security.SMACK64=printing\nuser.attr-with-spaces=&quot;foo bar&quot;</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">The\ndirectory will be owned by root and have default mode. Its\ncontents are not subject to time based cleanup, but will be\nobliterated when <b>systemd-tmpfiles --remove</b>\nruns.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Example&nbsp;3.&nbsp;Create\na directory and prevent its contents from\ncleanup</b></font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><a href=\"https://man.page/1/abrt\">abrt(1)</a>,\nneeds a directory created at boot with specific mode and\nownership and its content should be preserved from the\nautomatic cleanup applied to the contents of\n/var/tmp:</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">#\n/usr/lib/tmpfiles.d/tmp.conf <br>\nd /var/tmp 1777 root root 30d</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">#\n/usr/lib/tmpfiles.d/abrt.conf <br>\nd /var/tmp/abrt 0755 abrt abrt -</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Example&nbsp;4.&nbsp;Apply\nclean up during boot and based on time</b></font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">#\n/usr/lib/tmpfiles.d/dnf.conf <br>\nr! /var/cache/dnf/*/*/download_lock.pid <br>\nr! /var/cache/dnf/*/*/metadata_lock.pid <br>\nr! /var/lib/dnf/rpmdb_lock.pid <br>\ne /var/cache/dnf/ - - - 30d</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">The\nlock files will be removed during boot. Any files and\ndirectories in /var/cache/dnf/ will be removed after they\nhave not been accessed in 30 days.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Example&nbsp;5.&nbsp;Empty\nthe contents of a cache directory on boot</b></font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">#\n/usr/lib/tmpfiles.d/krb5rcache.conf <br>\ne! /var/cache/krb5rcache - - - 0</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Any\nfiles and subdirectories in /var/cache/krb5rcache/ will be\nremoved on boot. The directory will not be\ncreated.</font></p>\n\n<h2>/RUN/ AND /VAR/RUN/\n<a name=\"/RUN/ AND /VAR/RUN/\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">/var/run/\nis a deprecated symlink to /run/, and applications should\nuse the latter. <b>systemd-tmpfiles</b> will warn if\n/var/run/ is used.</font></p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><a href=\"https://man.page/1/systemd\">systemd(1)</a>,\n<b>systemd-tmpfiles</b>(8), <a href=\"https://man.page/1/systemd-delta\">systemd-delta(1)</a>,\n<b>systemd.exec</b>(5), <a href=\"https://man.page/5/attr\">attr(5)</a>, <a href=\"https://man.page/1/getfattr\">getfattr(1)</a>,\n<a href=\"https://man.page/1/setfattr\">setfattr(1)</a>, <a href=\"https://man.page/1/setfacl\">setfacl(1)</a>, <a href=\"https://man.page/1/getfacl\">getfacl(1)</a>,\n<a href=\"https://man.page/1/chattr\">chattr(1)</a>, <b>btrfs-subvolume</b>(8),\n<b>btrfs-qgroup</b>(8)</font></p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">1.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"71%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">Notes on\nResolvability of User and Group Names</font></p></td>\n<td width=\"12%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://systemd.io/UIDS-GIDS/#notes-on-resolvability-of-user-and-group-names</font></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#CONFIGURATION DIRECTORIES AND PRECEDENCE\">CONFIGURATION DIRECTORIES AND PRECEDENCE</a>","<a href=\"#CONFIGURATION FILE FORMAT\">CONFIGURATION FILE FORMAT</a>","<a href=\"#SPECIFIERS\">SPECIFIERS</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>","<a href=\"#/RUN/ AND /VAR/RUN/\">/RUN/ AND /VAR/RUN/</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#NOTES\">NOTES</a>"],"level":5}