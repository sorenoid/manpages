{"name":"sane-usb","description":"sane-usb - USB configuration tips for SANE","body":"\n\n<h1 align=\"center\">sane-usb</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">sane-usb - USB\nconfiguration tips for SANE</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This manual\npage contains information on how to access scanners with a\nUSB interface. It focuses on two main topics: getting the\nscanner detected by the operating system kernel and using it\nwith SANE.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page\napplies to USB most backends and scanners, as they use the\ngeneric sanei_usb interface. However, there is one\nexception: USB Scanners supported by the\n<a href=\"https://man.page/5/sane-microtek2\">sane-microtek2(5)</a> backend need a special USB kernel\ndriver.</p>\n\n<h2>QUICK START\n<a name=\"QUICK START\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This is a short\nHOWTO-like section. For the full details, read the following\nsections. The goal of this section is to get the scanner\ndetected by <a href=\"https://man.page/1/sane-find-scanner\">sane-find-scanner(1)</a>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Run\n<a href=\"https://man.page/1/sane-find-scanner\">sane-find-scanner(1)</a>. If it lists your scanner with\nthe correct vendor and product ids, you are done. See\nsection <b>SANE ISSUES</b> for details on how to go on.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/sane-find-scanner\">sane-find-scanner(1)</a>\ndoesn&rsquo;t list your scanner? Does it work as root? If\nyes, there is a permission issue. See the <b>LIBUSB</b>\nsection for details.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Nothing is\nfound even as root? Check that your kernel supports USB and\nthat libusb is installed (see section <b>LIBUSB</b>).</p>\n\n<h2>USB ACCESS METHODS\n<a name=\"USB ACCESS METHODS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For accessing\nUSB devices, the USB library libusb is used. There used to\nexist another method to access USB devices: the kernel\nscanner driver. The kernel scanner driver method is\ndeprecated and shouldn&rsquo;t be used anymore. It may be\nremoved from SANE at any time. In Linux, the kernel scanner\ndriver has been removed in the 2.6.* kernel series. Only\nlibusb access is documented in this manual page.</p>\n\n<h2>LIBUSB\n<a name=\"LIBUSB\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">SANE can only\nuse libusb 0.1.6 or newer. It needs to be installed at\nbuild-time. Modern Linux distributions and other operating\nsystems come with libusb.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Libusb can only\naccess your scanner if it&rsquo;s not claimed by the kernel\nscanner driver. If you want to use libusb, unload the kernel\ndriver (e.g. rmmod scanner under Linux) or disable the\ndriver when compiling a new kernel. For Linux, your kernel\nneeds support for the USB filesystem (usbfs). For kernels\nolder than 2.4.19, replace &quot;usbfs&quot; with\n&quot;usbdevfs&quot; because the name has changed. This\nfilesystem must be mounted. That&rsquo;s done automatically\nat boot time, if /etc/fstab contains a line like this:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">none\n/proc/bus/usb usbfs defaults 0 0</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The permissions\nfor the device files used by libusb must be adjusted for\nuser access. Otherwise only root can use SANE devices. For\n<i>Linux</i>, the devices are located in\n<i>/proc/bus/usb/</i> or in <i>/dev/bus/usb</i>, if you use\nudev. There are directories named e.g. &quot;001&quot; (the\nbus name) containing files &quot;001&quot;, &quot;002&quot;\netc. (the device files). The right device files can be found\nout by running: <i>scanimage -L:</i> as root. Setting\npermissions with <a href=\"https://man.page/1/chmod\">chmod(1)</a> is not permanent, however.\nThey will be reset after reboot or replugging the\nscanner.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Usually\n<a href=\"https://man.page/7/udev\">udev(7)</a> or for older distributions the hotplug\nutilities are used, which support dynamic setting of access\npermissions. SANE comes with udev and hotplug scripts in the\ndirectory <i>tools/udev</i> and <i>tools/hotplug</i>. They\ncan be used for setting permissions, see\n<i>/usr/share/doc/libsane/README.linux</i>,\n<i>tools/README</i> and the <i>README</i> in the\n<i>tools/hotplug</i> directory for more details.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For the\n<b>BSDs</b>, the device files used by libusb are named\n<i>/dev/ugen*</i>. Use chmod to apply appropriate\npermissions.</p>\n\n<h2>SANE ISSUES\n<a name=\"SANE ISSUES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This section\nassumes that your scanner is detected by\n<a href=\"https://man.page/1/sane-find-scanner\">sane-find-scanner(1)</a>. It doesn&rsquo;t make sense to\ngo on, if this is not the case. While\n<a href=\"https://man.page/1/sane-find-scanner\">sane-find-scanner(1)</a> is able to detect any USB\nscanner, actual scanning will only work if the scanner is\nsupported by a SANE backend. Information on the level of\nsupport can be found on the SANE webpage\n(<i>http://www.sane-project.org/</i>), and the individual\nbackend manpages.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Most backends\ncan detect USB scanners automatically using &quot;usb&quot;\nconfiguration file lines. This method allows one to identify\nscanners by the USB vendor and product numbers. The syntax\nfor specifying a scanner this way is:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">usb <i>VENDOR\nPRODUCT</i></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">where\n<i>VENDOR</i> is the USB vendor id, and <i>PRODUCT</i> is\nthe USB product id of the scanner. Both ids are non-negative\ninteger numbers in decimal or hexadecimal format. The\ncorrect values for these fields can be found by running\n<a href=\"https://man.page/1/sane-find-scanner\">sane-find-scanner(1)</a>, looking into the syslog (e.g.,\n<i>/var/log/messages</i>) or under Linux by issuing the\ncommand <i>cat /proc/bus/usb/devices</i>. This is an example\nof a config file line:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">usb 0x055f\n0x0006</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">would have the\neffect that all USB devices in the system with a vendor id\nof 0x55f and a product id of 0x0006 would be probed and\nrecognized by the backend.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If your scanner\nis not detected automatically, it may be necessary to edit\nthe appropriate backend configuration file before using SANE\nfor the first time. For a detailed description of each\nbackend&rsquo;s configuration file, please refer to the\nrelevant backend manual page (e.g. <a href=\"https://man.page/5/sane-mustek_usb\">sane-mustek_usb(5)</a>\nfor Mustek USB scanners).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Do <b>not</b>\ncreate a symlink from <i>/dev/scanner</i> to the USB device\nbecause this link is used by the SCSI backends. The scanner\nmay be confused if it receives SCSI commands.</p>\n\n<h2>ENVIRONMENT\n<a name=\"ENVIRONMENT\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>SANE_DEBUG_SANEI_USB</b></p>\n\n<p style=\"margin-left:22%;\">If the library was compiled\nwith debug support enabled, this environment variable\ncontrols the debug level for the USB I/O subsystem. E.g., a\nvalue of 128 requests all debug output to be printed.\nSmaller levels reduce verbosity. Values greater than 4\nenable libusb debugging (if available). Example: <i>export\nSANE_DEBUG_SANEI_USB=4</i>.</p>\n\n<p style=\"margin-left:11%;\"><b>SANE_USB_WORKAROUND</b></p>\n\n<p style=\"margin-left:22%;\">If your scanner does not work\nwhen plugged into a USB3 port, try setting the environment\nvariable <b>SANE_USB_WORKAROUND</b> to 1. This may work\naround issues which happen with particular kernel versions.\nExample: <i>export SANE_USB_WORKAROUND=1.</i></p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i><b>sane</b></i>(7),\n<a href=\"https://man.page/1/sane-find-scanner\">sane-find-scanner(1)</a>,\n<b>sane-&quot;backendname&quot;</b>(5),\n<a href=\"https://man.page/5/sane-scsi\">sane-scsi(5)</a></p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Henning\nMeier-Geinitz &lt;<i>henning@meier-geinitz.de</i>&gt;</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#QUICK START\">QUICK START</a>","<a href=\"#USB ACCESS METHODS\">USB ACCESS METHODS</a>","<a href=\"#LIBUSB\">LIBUSB</a>","<a href=\"#SANE ISSUES\">SANE ISSUES</a>","<a href=\"#ENVIRONMENT\">ENVIRONMENT</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHOR\">AUTHOR</a>"],"level":5}