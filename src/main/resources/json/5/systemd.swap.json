{"name":"systemd.swap","description":"systemd.swap -\nSwap unit configuration","body":"\n\n<h1 align=\"center\">SYSTEMD.SWAP</h1>\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">systemd.swap -\nSwap unit configuration</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>swap</i>.swap</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">A unit\nconfiguration file whose name ends in &quot;.swap&quot;\nencodes information about a swap device or file for memory\npaging controlled and supervised by systemd.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This man page\nlists the configuration options specific to this unit type.\nSee <b>systemd.unit</b>(5) for the common options of all\nunit configuration files. The common configuration items are\nconfigured in the generic [Unit] and [Install] sections. The\nswap specific configuration options are configured in the\n[Swap] section.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Additional\noptions are listed in <b>systemd.exec</b>(5), which define\nthe execution environment the <b>swapon</b>(8) program is\nexecuted in, in <b>systemd.kill</b>(5), which define the way\nthese processes are terminated, and in\n<b>systemd.resource-control</b>(5), which configure resource\ncontrol settings for these processes of the unit.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Swap units must\nbe named after the devices or files they control. Example:\nthe swap device /dev/sda5 must be configured in a unit file\ndev-sda5.swap. For details about the escaping logic used to\nconvert a file system path to a unit name, see\n<b>systemd.unit</b>(5). Note that swap units cannot be\ntemplated, nor is possible to add multiple names to a swap\nunit by creating additional symlinks to it.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that swap\nsupport on Linux is privileged, swap units are hence only\navailable in the system service manager (and root's user\nservice manager), but not in unprivileged user's service\nmanager.</p>\n\n<h2>AUTOMATIC DEPENDENCIES\n<a name=\"AUTOMATIC DEPENDENCIES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Implicit\nDependencies</b> <br>\nThe following dependencies are implicitly added:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">&bull; All swap\nunits automatically get the <i>BindsTo=</i> and\n<i>After=</i> dependencies on the device units or the mount\nunits of the files they are activated from.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Additional\nimplicit dependencies may be added as result of execution\nand resource control parameters as documented in\n<b>systemd.exec</b>(5) and\n<b>systemd.resource-control</b>(5).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Default\nDependencies</b> <br>\nThe following dependencies are added unless\n<i>DefaultDependencies=no</i> is set:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">&bull; Swap\nunits automatically acquire a <i>Conflicts=</i> and a\n<i>Before=</i> dependency on umount.target so that they are\ndeactivated at shutdown as well as a\n<i>Before=swap.target</i> dependency.</p>\n\n<h2>FSTAB\n<a name=\"FSTAB\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Swap units may\neither be configured via unit files, or via /etc/fstab (see\n<a href=\"https://man.page/5/fstab\">fstab(5)</a> for details). Swaps listed in /etc/fstab\nwill be converted into native units dynamically at boot and\nwhen the configuration of the system manager is reloaded.\nSee <b>systemd-fstab-generator</b>(8) for details about the\nconversion.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If a swap\ndevice or file is configured in both /etc/fstab and a unit\nfile, the configuration in the latter takes precedence.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">When reading\n/etc/fstab, a few special options are understood by systemd\nwhich influence how dependencies are created for swap\nunits.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>noauto</b>,\n<b>auto</b></p>\n\n<p style=\"margin-left:17%;\">With <b>noauto</b>, the swap\nunit will not be added as a dependency for swap.target. This\nmeans that it will not be activated automatically during\nboot, unless it is pulled in by some other unit. The\n<b>auto</b> option has the opposite meaning and is the\ndefault.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>nofail</b></p>\n\n<p style=\"margin-left:17%;\">With <b>nofail</b>, the swap\nunit will be only wanted, not required by swap.target. This\nmeans that the boot will continue even if this swap device\nis not activated successfully.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>x-systemd.device-timeout=</b></p>\n\n<p style=\"margin-left:17%;\">Configure how long systemd\nshould wait for a device to show up before giving up on an\nentry from /etc/fstab. Specify a time in seconds or\nexplicitly append a unit such as &quot;s&quot;,\n&quot;min&quot;, &quot;h&quot;, &quot;ms&quot;.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Note that this\noption can only be used in /etc/fstab, and will be ignored\nwhen part of the <i>Options=</i> setting in a unit file.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>x-systemd.makefs</b></p>\n\n<p style=\"margin-left:17%;\">The swap structure will be\ninitialized on the device. If the device is not\n&quot;empty&quot;, i.e. it contains any signature, the\noperation will be skipped. It is hence expected that this\noption remains set even after the device has been\ninitialized.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Note that this\noption can only be used in /etc/fstab, and will be ignored\nwhen part of the <i>Options=</i> setting in a unit file.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">See\n<b>systemd-mkswap@.service</b>(8) and the discussion of\n<b>wipefs</b>(8) in <b>systemd.mount</b>(5).</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Swap unit files\nmust include a [Swap] section, which carries information\nabout the swap device it supervises. A number of options\nthat may be used in this section are shared with other unit\ntypes. These options are documented in\n<b>systemd.exec</b>(5) and <b>systemd.kill</b>(5). The\noptions specific to the [Swap] section of swap units are the\nfollowing:</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>What=</i></p>\n\n<p style=\"margin-left:17%;\">Takes an absolute path of a\ndevice node or file to use for paging. See <b>swapon</b>(8)\nfor details. If this refers to a device node, a dependency\non the respective device unit is automatically created. (See\n<b>systemd.device</b>(5) for more information.) If this\nrefers to a file, a dependency on the respective mount unit\nis automatically created. (See <b>systemd.mount</b>(5) for\nmore information.) This option is mandatory. Note that the\nusual specifier expansion is applied to this setting,\nliteral percent characters should hence be written as\n&quot;%%&quot;.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>Priority=</i></p>\n\n<p style=\"margin-left:17%;\">Swap priority to use when\nactivating the swap device or file. This takes an integer.\nThis setting is optional and ignored when the priority is\nset by <b>pri=</b> in the <i>Options=</i> key.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>Options=</i></p>\n\n<p style=\"margin-left:17%;\">May contain an option string\nfor the swap device. This may be used for controlling\ndiscard options among other functionality, if the swap\nbacking device supports the discard or trim operation. (See\n<b>swapon</b>(8) for more information.) Note that the usual\nspecifier expansion is applied to this setting, literal\npercent characters should hence be written as\n&quot;%%&quot;.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>TimeoutSec=</i></p>\n\n<p style=\"margin-left:17%;\">Configures the time to wait for\nthe swapon command to finish. If a command does not exit\nwithin the configured time, the swap will be considered\nfailed and be shut down again. All commands still running\nwill be terminated forcibly via <b>SIGTERM</b>, and after\nanother delay of this time with <b>SIGKILL</b>. (See\n<b>KillMode=</b> in <b>systemd.kill</b>(5).) Takes a\nunit-less value in seconds, or a time span value such as\n&quot;5min 20s&quot;. Pass &quot;0&quot; to disable the\ntimeout logic. Defaults to <i>DefaultTimeoutStartSec=</i>\nfrom the manager configuration file (see\n<b>systemd-system.conf</b>(5)).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Check\n<b>systemd.exec</b>(5) and <b>systemd.kill</b>(5) for more\nsettings.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/systemd\">systemd(1)</a>,\n<a href=\"https://man.page/1/systemctl\">systemctl(1)</a>, <b>systemd-system.conf</b>(5),\n<b>systemd.unit</b>(5), <b>systemd.exec</b>(5),\n<b>systemd.kill</b>(5), <b>systemd.resource-control</b>(5),\n<b>systemd.device</b>(5), <b>systemd.mount</b>(5),\n<b>swapon</b>(8), <b>systemd-fstab-generator</b>(8),\n<b>systemd.directives</b>(7)</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#AUTOMATIC DEPENDENCIES\">AUTOMATIC DEPENDENCIES</a>","<a href=\"#FSTAB\">FSTAB</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"],"level":5}