{"name":"snmp_config","description":"snmp_config - handling of Net-SNMP configuration files","body":"\n\n<h1 align=\"center\">SNMP_CONFIG</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">snmp_config -\nhandling of Net-SNMP configuration files</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The Net-SNMP\npackage uses various configuration files to configure its\napplications. This manual page merely describes the overall\nnature of them, so that the other manual pages don&rsquo;t\nhave to.</p>\n\n<h2>DIRECTORIES SEARCHED\n<a name=\"DIRECTORIES SEARCHED\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">First off,\nthere are numerous places that configuration files can be\nfound and read from. By default, the applications look for\nconfiguration files in the following 4 directories, in\norder: /etc/snmp, /usr/share/snmp,\n/usr/lib/x86_64-linux-gnu/snmp, and $HOME/.snmp. In each of\nthese directories, it looks for files snmp.conf, snmpd.conf\nand/or snmptrapd.conf, as well as snmp.local.conf,\nsnmpd.local.conf and/or snmptrapd.local.conf. *.local.conf\nare always read last. In this manner, there are 8 default\nplaces a configuration file can exist for any given\nconfiguration file type.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Additionally,\nthe above default search path can be overridden by setting\nthe environment variable SNMPCONFPATH to a colon-separated\nlist of directories to search for. The path for the\npersistent data should be included when running applications\nthat use persistent storage, such as snmpd.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Applications\nwill read persistent configuration files in the following\norder of preference:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">file in\n<b>SNMP_PERSISTENT_FILE</b> environment variable <br>\ndirectories in <b>SNMPCONFPATH</b> environment variable <br>\ndirectory defined by <b>persistentDir</b> snmp.conf variable\n<br>\ndirectory in <b>SNMP_PERSISTENT_DIR</b> environment variable\n<br>\ndefault <b>/var/lib/snmp</b> directory</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Finally,\napplications will write persistent configuration files in\nthe following order of preference:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">file in\n<b>SNMP_PERSISTENT_FILE</b> environment variable <br>\ndirectory defined by <b>persistentDir</b> snmp.conf variable\n<br>\ndirectory in <b>SNMP_PERSISTENT_DIR</b> environment variable\n<br>\ndefault <b>/var/lib/snmp</b> directory</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note: When\nusing SNMP_PERSISTENT_FILE, the filename should match the\napplication name. For example, /var/net-snmp/snmpd.conf.</p>\n\n<h2>CONFIGURATION FILE TYPES\n<a name=\"CONFIGURATION FILE TYPES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Each\napplication may use multiple configuration files, which will\nconfigure various different aspects of the application. For\ninstance, the SNMP agent (<b>snmpd</b>) knows how to\nunderstand configuration directives in both the snmpd.conf\nand the snmp.conf files. In fact, most applications\nunderstand how to read the contents of the snmp.conf files.\nNote, however, that configuration directives understood in\none file may not be understood in another file. For further\ninformation, read the associated manual page with each\nconfiguration file type. Also, most of the applications\nsupport a <b>-H</b> switch on the command line that will\nlist the configuration files it will look for and the\ndirectives in each one that it understands.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The snmp.conf\nconfiguration file is intended to be a application suite\nwide configuration file that supports directives that are\nuseful for controlling the fundamental nature of all of the\nSNMP applications, such as how they all manipulate and parse\nthe textual SNMP MIB files.</p>\n\n<h2>SWITCHING CONFIGURATION TYPES IN MID-FILE\n<a name=\"SWITCHING CONFIGURATION TYPES IN MID-FILE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">It&rsquo;s\npossible to switch in mid-file the configuration type that\nthe parser is supposed to be reading. Since that sentence\ndoesn&rsquo;t make much sense, lets give you an example: say\nthat you wanted to turn on packet dumping output for the\nagent by default, but you didn&rsquo;t want to do that for\nthe rest of the applications (ie, snmpget, snmpwalk, ...).\nNormally to enable packet dumping in the configuration file\nyou&rsquo;d need to put a line like:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">dumpPacket\ntrue</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">into the\nsnmp.conf file. But, this would turn it on for all of the\napplications. So, instead, you can put the same line in the\nsnmpd.conf file so that it only applies to the snmpd daemon.\nHowever, you need to tell the parser to expect this line.\nYou do this by putting a special type specification token\ninside a [] set. In other words, inside your snmpd.conf file\nyou could put the above snmp.conf directive by adding a line\nlike so:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">[snmp]\ndumpPacket true</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This tells the\nparser to parse the above line as if it were inside a\nsnmp.conf file instead of an snmpd.conf file. If you want to\nparse a bunch of lines rather than just one then you can\nmake the context switch apply to the remainder of the file\nor until the next context switch directive by putting the\nspecial token on a line by itself:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"># make this\nfile handle snmp.conf tokens: <br>\n[snmp] <br>\ndumpPacket true <br>\nlogTimestamp true <br>\n# return to our original snmpd.conf tokens: <br>\n[snmpd] <br>\nrocommunity mypublic</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The same\napproach can be used to set configuration directives for a\nparticular client application (or group of applications).\nFor example, any program that uses the\n&rsquo;snmp_parse_args()&rsquo; call to handle command-line\narguments (including the standard command-line tools shipped\nas part of the Net-SNMP distributions) will automatically\nread the config file &rsquo;snmpapp.conf&rsquo;. To set\nlibrary-level settings for these applications (but not other\nmore-specific tools), use configuration such as the\nfollowing:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">[snmp]\ndefCommunity myCommunity</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">for a single\ndirective, or</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"># make this\nfile handle snmp.conf tokens: <br>\n[snmp] <br>\ndefCommunity myCommunity <br>\ndefVersion 2c <br>\n# return to our original snmpapp.conf tokens: <br>\n[snmpapp]</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">for multiple\nsettings. Similarly for any other application token (as\npassed to init_snmp()).</p>\n\n<h2>COMMENTS\n<a name=\"COMMENTS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Any lines\nbeginning with the character &rsquo;#&rsquo; in the\nconfiguration files are treated as a comment and are not\nparsed.</p>\n\n<h2>INCLUDING OTHER CONFIGURATION FILES\n<a name=\"INCLUDING OTHER CONFIGURATION FILES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">It is possible\nto include other configuration files for processing during\nnormal configuration file processing.:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"># include site\nspecific config <br>\nincludeFile site.conf</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This will load\nthe specified configuration file. The <br>\npath to file must be either absolute, starting with\n&rsquo;/&rsquo;, <br>\nor relative. The relative path is then relative to the\ndirectory <br>\nwhere the parent file with &rsquo;includeFile&rsquo;\ndirective resides.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The included\nfile name does not need to have &rsquo;.conf&rsquo;\nsuffix.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"># include a all\n*.conf files in a directory <br>\nincludeDir /etc/snmp/config.d</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This will\nsearch specified directory for all files with\n&rsquo;.conf&rsquo; <br>\nsuffix and process them as if they were included using\nincludeFile <br>\ndirective. The configuration files are not processed in any\nparticular <br>\norder.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The specified\ndirectory must be absolute directory path.</p>\n\n<h2>API INTERFACE\n<a name=\"API INTERFACE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Information\nabout writing C code that makes use of this system in either\nthe agent&rsquo;s MIB modules or in applications can be\nfound in the <i>netsnmp_config_api(3)</i> manual page.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">snmpconf(1),\nnetsnmp_config_api(3), snmp.conf(5), snmpd.conf(5)</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#DIRECTORIES SEARCHED\">DIRECTORIES SEARCHED</a>","<a href=\"#CONFIGURATION FILE TYPES\">CONFIGURATION FILE TYPES</a>","<a href=\"#SWITCHING CONFIGURATION TYPES IN MID-FILE\">SWITCHING CONFIGURATION TYPES IN MID-FILE</a>","<a href=\"#COMMENTS\">COMMENTS</a>","<a href=\"#INCLUDING OTHER CONFIGURATION FILES\">INCLUDING OTHER CONFIGURATION FILES</a>","<a href=\"#API INTERFACE\">API INTERFACE</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"],"level":5}