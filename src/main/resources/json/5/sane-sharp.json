{"name":"sane-sharp","body":"\n\n<h1 align=\"center\">sane-sharp</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">sane-sharp -\nSANE backend for SHARP scanners</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>sane-sharp</b> library implements a SANE (Scanner Access\nNow Easy) backend that provides access to Sharp SCSI\nscanners. This backend should be considered\n<b>beta-quality</b> software! In the current state it is\nknown to work with JX-610 and JX-250 scanners. It is\nprepared for usage with the JX-330 series scanners, but we\nare not able to test it with these devices.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For other Sharp\nscanners, it may or may not work.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">At present, the\nfollowing scanners are known to work with this backend.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Vendor Product\nid: <br>\n----- ----------- <br>\nSharp JX-610 <br>\nSharp JX-250 <br>\nSharp JX-320 <br>\nSharp JX-330 <br>\nSharp JX-350</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\nscanners are detected by the backend, but not tested:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Vendor Product\nid: <br>\n----- ----------- <br>\nSharp JX-325</p>\n\n<h2>DEVICE NAMES\n<a name=\"DEVICE NAMES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This backend\nexpects device names of the form:</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>special</i></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">where\n<i>special</i> is the path-name for the special device that\ncorresponds to a SCSI scanner. The special device name must\nbe a generic SCSI device or a symlink to such a device.\nUnder Linux, such a device name could be <i>/dev/sga</i> or\n<i>/dev/sge</i>, for example. See <a href=\"https://man.page/5/sane-scsi\">sane-scsi(5)</a> for\ndetails.</p>\n\n<h2>SCAN OPTIONS\n<a name=\"SCAN OPTIONS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>--mode</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">Scan Mode. Possible settings\nare: <i>Lineart</i> (1 bit black &amp; white scans),\n<i>Gray</i> (8 bit gray scale scans), <i>Lineart Color</i>\n(bi-level color scans), and <i>Color</i> (8 bit RGB scans).\nThe default value is <i>Color.</i></p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>--halftone-pattern</b></p>\n\n<p style=\"margin-left:22%;\">Halftone Pattern. Available\nonly for the JX-330 series scanners. Possible settings:\n<i>none</i>, <i>Dither Bayer</i>, <i>Dither Spiral</i>,\n<i>Dither Dispersed</i> and <i>Error Diffusion</i>. The\ndefault value is <i>none</i>.</p>\n\n<p style=\"margin-left:11%;\"><b>--source</b></p>\n\n<p style=\"margin-left:22%;\">Paper Source. This option is\nonly available if an automatic document feeder or a\ntransparency adapter is installed. Possible settings are:\n<i>Flatbed</i>, <i>Automatic Document Feeder</i>, and\n<i>Transparency Adapter</i>. If an ADF or a transparency\nadapter is installed, using it is the default selection.</p>\n\n<p style=\"margin-left:11%;\"><b>--custom-gamma</b></p>\n\n<p style=\"margin-left:22%;\">Custom Gamma This option\ndetermines whether a builtin or a custom gamma table is\nused. Possible settings are: <i>yes</i> (enables custom\ngamma tables) or <i>no</i> (enables a built gamma\ntable).</p>\n\n<p style=\"margin-left:11%;\"><b>--gamma</b></p>\n\n<p style=\"margin-left:22%;\">Gamma. This option is only\navailable if <b>Custom Gamma</b> is set to <i>no</i>.\nPossible values are: <i>1.0</i> or <i>2.2</i>. The default\nvalue is <i>2.2</i>. (The JX-250 and JX-350 have no built in\ngamma correction; for these scanners, a gamma table is\ndownloaded to the scanner by the backend.)</p>\n\n<p style=\"margin-left:11%;\"><b>--gamma-table</b></p>\n\n<p style=\"margin-left:22%;\">Gamma Table. Allowed values:\n0..255; 256 numbers must be defined. The default values are\n0, 1, 2, .. 255 (i.e., gamma == 1). This table is only used\nfor gray scale scans.</p>\n\n<p style=\"margin-left:11%;\"><b>--red-gamma-table</b></p>\n\n<p style=\"margin-left:22%;\">Red Gamma Table. Allowed\nvalues: 0..255; 256 numbers must be defined. The default\nvalues are 0, 1, 2, .. 255 (i.e., gamma == 1).</p>\n\n<p style=\"margin-left:11%;\"><b>--green-gamma-table</b></p>\n\n<p style=\"margin-left:22%;\">Green Gamma Table. Allowed\nvalues: 0..255; 256 numbers must be defined. The default\nvalues are 0, 1, 2, .. 255 (i.e., gamma == 1).</p>\n\n<p style=\"margin-left:11%;\"><b>--blue-gamma-table</b></p>\n\n<p style=\"margin-left:22%;\">Blue Gamma Table. Allowed\nvalues: 0..255; 256 numbers must be defined. The default\nvalues are 0, 1, 2, .. 255 (i.e., gamma == 1).</p>\n\n<p style=\"margin-left:11%;\"><b>--resolution</b></p>\n\n<p style=\"margin-left:22%;\">Selects the resolution of the\nscanned image. Allowed values: <i>30..600</i> (JX-330,\nJX-350 and JX-610) and <i>30..400</i> (JX-250). The default\nvalue is 150.</p>\n\n<p style=\"margin-left:11%;\"><b>-l</b>, <b>-t</b>,\n<b>-x</b>, <b>-y</b></p>\n\n<p style=\"margin-left:22%;\">Scan Window. Top-left x\nposition of scan area (<b>-l</b>), top-left y position of\nscan area (<b>-t</b>), bottom right x position of scan area\n(<b>-x</b>) and bottom right y position of scan area\n(<b>-y</b>). The possible settings depend on the scanner\nmodel and, for the JX-250 and the JX-350, also on the usage\nof the automatic document feeder resp. the transparency\nadapter. Please refer to the values allowed by\n<a href=\"https://man.page/1/xscanimage\">xscanimage(1)</a>, or <a href=\"https://man.page/1/xsane\">xsane(1)</a>. With\n<a href=\"https://man.page/1/scanimage\">scanimage(1)</a>, enter one of the following commands in\norder to see the allowed parameter values for the scan\nwindow:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">scanimage -d\nsharp --source &quot;Automatic Document Feeder&quot;\n--help</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">scanimage -d\nsharp --source Flatbed --help</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">scanimage -d\nsharp --source &quot;Transparency Adapter&quot; --help</p>\n\n<p style=\"margin-left:11%;\"><b>--edge emphasis</b></p>\n\n<p style=\"margin-left:22%;\">Edge emphasis. This option is\nnot available for the JX-250 and the JX-350. Possible\nsettings: <i>None</i>, <i>Middle</i>, <i>Strong</i>, and\n<i>Blur</i>. The default value is <i>None</i>.</p>\n\n<p style=\"margin-left:11%;\"><b>--threshold</b></p>\n\n<p style=\"margin-left:22%;\">Sets the threshold for black\nand white pixels in lineart mode. Possible values are\n1..255. The default value is 128. This option is only\navailable in scan mode <i>lineart</i>.</p>\n\n<p style=\"margin-left:11%;\"><b>--threshold-red</b></p>\n\n<p style=\"margin-left:22%;\">Sets the threshold for the red\ncomponent of a pixel in in lineart color scan mode. Possible\nvalues are 1..255. The default value is 128. This option is\nonly available in scan mode color <i>lineart</i>.</p>\n\n<p style=\"margin-left:11%;\"><b>--threshold-green</b></p>\n\n<p style=\"margin-left:22%;\">Sets the threshold for the\ngreen component of a pixel in in lineart color scan mode.\nPossible values are 1..255. The default value is 128. This\noption is only available in scan mode color <i>lineart\n.</i></p>\n\n<p style=\"margin-left:11%;\"><b>--threshold-blue</b></p>\n\n<p style=\"margin-left:22%;\">Sets the threshold for the blue\ncomponent of a pixel in in lineart color scan mode. Possible\nvalues are 1..255. The default value is 128. This option is\nonly available in scan mode color <i>lineart</i>.</p>\n\n<p style=\"margin-left:11%;\"><b>--lightcolor</b></p>\n\n<p style=\"margin-left:22%;\">Sets the color of the light\nsource. Possible values are <i>white</i>, <i>red</i>,\n<i>green</i> and <i>blue</i>. The default value is\n<i>white</i>. This option is only available in scan modes\n<i>lineart color</i> and <i>color</i>.</p>\n\n<h2>ADF USAGE\n<a name=\"ADF USAGE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">If a paper jam\noccurrs, the maintenance cover <i>must</i> be opened and\nclosed, even if the jammed paper can be removed without\nopening the maintenance cover. Otherwise, the error\ncondition will not be cleared.</p>\n\n<h2>CONFIGURATION\n<a name=\"CONFIGURATION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The contents of\nthe <i>sharp.conf</i> file is a list of options and device\nnames that correspond to Sharp scanners. Empty lines and\nlines beginning with a hash mark (#) are ignored. See\n<a href=\"https://man.page/5/sane-scsi\">sane-scsi(5)</a> for details about device names.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Lines setting\nan option start with the key word <b>option,</b> followed by\nthe option&rsquo;s name and the option&rsquo;s value. At\npresent, three options are defined: <b>buffers,\nbuffersize,</b> and <b>readqueue.</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Options defined\nat the start of <i>sharp.conf</i> apply to all devices;\noptions defined after a device name apply to this\ndevice.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The options\n<b>buffers</b> and <b>readqueue</b> are only significant if\nthe backend has been compiled so that for each scan a second\nprocess is forked (switch <b>USE_FORK</b> in <i>sharp.c</i>\n). This process reads the scan data from the scanner and\nwrites this data into a block of shared memory. The parent\nprocess reads the data from this memory block and delivers\nit to the frontend. The options control the size and usage\nof this shared memory block.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>option\nbuffers</b> defines the number of buffers used. The smallest\nnumber allowed is 2.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>option\nbuffersize</b> defines the size of one buffer. Since each\nbuffer is filled with a single read command sent to the\nscanner, its size is limited automatically to the size\nallowed by the operating system or by the Sane SCSI library\nfor SCSI read commands. A buffer size of 128 kB or 256 kB is\nrecommended for scan resolutions of 300 dpi and above.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>option\nreadqueue</b> defines how many read commands to be sent to\nthe scanner are queued. At present, the Sane SCSI library\nsupports queued read commands only for for Linux. For other\noperating systems, <b>option readqueue</b> should be set to\n0. For Linux, <b>option readqueue</b> should be set to 2.\nLarger values than 2 for <b>option readqueue</b> are not\nreasonable in most cases. <b>option buffers</b> should be\ngreater than <b>option readqueue.</b></p>\n\n<h2>Performance Considerations\n<a name=\"Performance Considerations\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This section\nfocuses on the problem of stops of the scanner&rsquo;s\ncarriage during a scan. Carriage stops happen mainly with\nthe JX-250. This scanner has obviously only a small internal\nbuffer compared to its speed. That means that the backend\nmust read the data as fast as possible from the scanner in\norder to avoid carriage stops.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Even the JX-250\nneeds only less than 10 seconds for a 400 dpi A4 gray scale\nscan, which results in a data transfer rate of more than 1.6\nMB per second. This means that the data produced by the\nscanner must be processed fairly fast. Due to the small\ninternal buffer of the JX-250, the backend must issue a read\nrequest for the next data block as soon as possible after\nreading a block of data in order to avoid carriage\nstops.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Stops of the\ncarriage can be caused by the following reasons:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">- too much\n&quot;traffic&quot; on the SCSI bus <br>\n- slow responses by the backend to the scanner, <br>\n- a program which processes the data acquired by the backend\ntoo slow.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Too much\n&quot;traffic&quot; on the SCSI bus: This happens for\nexample, if hard disks are connected to the same SCSI bus as\nthe scanner, and when data transfer from/to these hard disks\nrequires a considerable part of the SCSI bandwidth during a\nscan. If this is the case, you should consider to connect\nthe scanner to a separate SCSI adapter.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Slow responses\nby the backend to the scanner: Unfortunately, UNIX-like\noperating systems generally have no real time capabilities.\nThus there is no guarantee that the backend is under any\ncircumstances able to communicate with the scanner as fast\nas required. To minimize this problem, the backend should be\ncompiled so that a separate reader process is forked: Make\nsure that <b>USE_FORK</b> is defined when you compile\n<i>sharp.c.</i> If slow responses of the backend remain to\nbe problem, you could try to reduce the load of the system.\nEven while the backend and the reader process need only a\nminor amount of processor time, other running processes can\ncause an increase in the time delay between two time slices\ngiven to the reader process. On slower systems, such an\nincreased delay can be enough to cause a carriage stop with\nthe JX-250. For Linux, the usage of the SG driver version\n2.1.36 or above is recommended, because it supports, in\ncombination with the SCSI library of Sane version 1.0.2,\ncommand queueing within the kernel. This queueing\nimplementation, combined with a buffer size of at least 128\nkB, should avoid most carriage stops.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Slow processing\nof the scan data: An example for this situation is the\naccess to the scanner via a 10 MBit Ethernet, which is\ndefinitely too slow to transfer the scan data as fast as\nthey are produced by the scanner. If you have enough memory\navailable, you can increase <b>option buffers,</b> so that\nan entire image can be stored in these buffers.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In order to\nsee, if the backend is too slow or if the further processing\nof the data is too slow, set the environment variable\n<b>SANE_DEBUG_SHARP</b> to 1. When a scan is finished, the\nbackend writes the line &quot;buffer full conditions:\n<i>nn</i>&quot; to stderr. If <i>nn</i> is zero, carriage\nstops are caused by too slow responses of the backend or too\nmuch &quot;traffic&quot; on the SCSI bus. If <i>nn</i> is\ngreater than zero, the backend had to wait <i>nn</i> times\nuntil a buffer has been processed by the frontend. (Please\nnote that <b>option buffers</b> must be greater than\n<b>option readqueue</b> in order to get useful output for\n&quot;buffer full conditions&quot;.)</p>\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>/etc/sane.d/sharp.conf</i></p>\n\n<p style=\"margin-left:22%;\">The backend configuration\nfile.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/usr/lib/x86_64-linux-gnu/sane/libsane-sharp.a</i></p>\n\n<p style=\"margin-left:22%;\">The static library implementing\nthis backend.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/usr/lib/x86_64-linux-gnu/sane/libsane-sharp.so</i></p>\n\n<p style=\"margin-left:22%;\">The shared library implementing\nthis backend (present on systems that support dynamic\nloading).</p>\n\n<h2>ENVIRONMENT\n<a name=\"ENVIRONMENT\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>SANE_DEBUG_SHARP</b></p>\n\n<p style=\"margin-left:22%;\">If the library was compiled\nwith debug support enabled, this environment variable\ncontrols the debug level for this backend. E.g., a value of\n128 requests all debug output to be printed. Smaller levels\nreduce verbosity.</p>\n\n<h2>KNOWN PROBLEMS\n<a name=\"KNOWN PROBLEMS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">1. ADF Mode</p>\n\n<p style=\"margin-left:22%;\">After several ADF scans, the\nscanner moves the carriage back to the idle position and\nback to ADF scan position, before a scan starts. We do not\nknow, if this is a problem of the scanner, or if this is a\nbug of the backend. At present, the scanner must power off\nand on to stop this annoying behaviour.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">2. Threshold\nlevel does not work (only JX-610)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">3. The maximum\nresolution is limited to 600 dpi(JX-610 supported to 1200\ndpi) resp. 400 dpi (JX-250)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">4. If the JX250\nis used with an ADF, the following situation can occur:\nAfter several scans, the scanner moves, after loading a new\nsheet of paper, the carriage to the idle position, and then\nback to the position used for ADF scans. This happens for\n<i>every</i> scan, in contrast to the calibration, which is\ndone after 10 scans. (For the calibration, the carriage is\nalso moved to the idle position.) We do not know if this\nbehavior is caused by the backend, or if it is a bug in the\nfirmware of the scanner.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">5. Usage of a\ntransparency adapter (film scan unit) is supported, but not\ntested.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/7/sane\">sane(7)</a>,\n<a href=\"https://man.page/5/sane-scsi\">sane-scsi(5)</a></p>\n\n<h2>AUTHORS\n<a name=\"AUTHORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Kazuya Fukuda,\nAbel Deuring</p>\n\n<h2>CREDITS\n<a name=\"CREDITS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The Sharp\nbackend is based on the Canon backend written by Helmut\nKoeberle</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Parts of this\nman page are a plain copy of <a href=\"https://man.page/5/sane-mustek\">sane-mustek(5)</a> by David\nMosberger-Tang, Andreas Czechanowski and Andreas Bolsch</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#DEVICE NAMES\">DEVICE NAMES</a>","<a href=\"#SCAN OPTIONS\">SCAN OPTIONS</a>","<a href=\"#ADF USAGE\">ADF USAGE</a>","<a href=\"#CONFIGURATION\">CONFIGURATION</a>","<a href=\"#Performance Considerations\">Performance Considerations</a>","<a href=\"#FILES\">FILES</a>","<a href=\"#ENVIRONMENT\">ENVIRONMENT</a>","<a href=\"#KNOWN PROBLEMS\">KNOWN PROBLEMS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHORS\">AUTHORS</a>","<a href=\"#CREDITS\">CREDITS</a>"],"level":5}