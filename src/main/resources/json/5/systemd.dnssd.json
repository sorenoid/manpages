{"name":"systemd.dnssd","description":"systemd.dnssd - DNS-SD configuration","body":"\n\n<h1 align=\"center\">SYSTEMD.DNSSD</h1>\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">systemd.dnssd -\nDNS-SD configuration</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>network_service</i>.dnssd</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">DNS-SD setup is\nperformed by <b>systemd-resolved</b>(8).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The main\nnetwork service file must have the extension .dnssd; other\nextensions are ignored.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The .dnssd\nfiles are read from the files located in the system network\ndirectories /usr/lib/systemd/dnssd and\n/usr/local/lib/systemd/dnssd, the volatile runtime network\ndirectory /run/systemd/dnssd and the local administration\nnetwork directory /etc/systemd/dnssd. All configuration\nfiles are collectively sorted and processed in lexical\norder, regardless of the directories in which they live.\nHowever, files with identical filenames replace each other.\nFiles in /etc/ have the highest priority, files in /run/\ntake precedence over files with the same name in /lib/. This\ncan be used to override a system-supplied configuration file\nwith a local file if needed.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Along with the\nnetwork service file foo.dnssd, a &quot;drop-in&quot;\ndirectory foo.dnssd.d/ may exist. All files with the suffix\n&quot;.conf&quot; from this directory will be parsed after\nthe file itself is parsed. This is useful to alter or add\nconfiguration settings, without having to modify the main\nconfiguration file. Each drop-in file must have appropriate\nsection headers.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In addition to\n/etc/systemd/dnssd, drop-in &quot;.d&quot; directories can\nbe placed in /usr/lib/systemd/dnssd or /run/systemd/dnssd\ndirectories. Drop-in files in /etc/ take precedence over\nthose in /run/ which in turn take precedence over those in\n/usr/lib/ or /usr/local/lib. Drop-in files under any of\nthese directories take precedence over the main network\nservice file wherever located.</p>\n\n<h2>[SERVICE] SECTION OPTIONS\n<a name=\"[SERVICE] SECTION OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The network\nservice file contains a [Service] section, which specifies a\ndiscoverable network service announced in a local network\nwith Multicast DNS broadcasts.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>Name=</i></p>\n\n<p style=\"margin-left:17%;\">An instance name of the network\nservice as defined in the section 4.1.1 of\n<b><font color=\"#0000FF\">RFC 6763</font></b>\n<small><font color=\"#000000\">[1]</font></small>\n<font color=\"#000000\">, e.g.\n&quot;webserver&quot;.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">The\noption supports simple specifier expansion. The following\nexpansions are understood:</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\"><b>Table&nbsp;1.&nbsp;Specifiers\navailable</b></font></p>\n\n\n<p align=\"center\"><font color=\"#000000\"><b><img src=\"grohtml-3453961.png\" alt=\"Image grohtml-3453961.png\"></b></font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>Type=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">A type of\nthe network service as defined in the section 4.1.2\nof</font> <b><font color=\"#0000FF\">RFC 6763</font></b>\n<small><font color=\"#000000\">[1]</font></small>\n<font color=\"#000000\">, e.g.\n&quot;_http._tcp&quot;.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>Port=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">An IP\nport number of the network service.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>Priority=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">A\npriority number set in <b>SRV</b> resource records\ncorresponding to the network service.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>Weight=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">A weight\nnumber set in <b>SRV</b> resource records corresponding to\nthe network service.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>TxtText=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">A\nwhitespace-separated list of arbitrary key/value pairs\nconveying additional information about the named service in\nthe corresponding TXT resource record, e.g.\n&quot;path=/portal/index.html&quot;. Keys and values can\ncontain C-style escape sequences which get translated upon\nreading configuration files.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\noption together with <i>TxtData=</i> may be specified more\nthan once, in which case multiple TXT resource records will\nbe created for the service. If the empty string is assigned\nto this option, the list is reset and all prior assignments\nwill have no effect.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>TxtData=</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">A\nwhitespace-separated list of arbitrary key/value pairs\nconveying additional information about the named service in\nthe corresponding TXT resource record where values are\nbase64-encoded string representing any binary data, e.g.\n&quot;data=YW55IGJpbmFyeSBkYXRhCg==&quot;. Keys can contain\nC-style escape sequences which get translated upon reading\nconfiguration files.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\noption together with <i>TxtText=</i> may be specified more\nthan once, in which case multiple TXT resource records will\nbe created for the service. If the empty string is assigned\nto this option, the list is reset and all prior assignments\nwill have no effect.</font></p>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Example&nbsp;1.&nbsp;HTTP\nservice</b></font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">#\n/etc/systemd/dnssd/http.dnssd <br>\n[Service] <br>\nName=%H <br>\nType=_http._tcp <br>\nPort=80 <br>\nTxtText=path=/stats/index.html\nt=temperature_sensor</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">This\nmakes the http server running on the host discoverable in\nthe local network given MulticastDNS is enabled on the\nnetwork interface.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Now\nthe utility &quot;resolvectl&quot; should be able to resolve\nthe service to the host's name:</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">$\nresolvectl service meteo._http._tcp.local <br>\nmeteo._http._tcp.local: meteo.local:80 [priority=0,\nweight=0] <br>\n169.254.208.106%senp0s21f0u2u4 <br>\nfe80::213:3bff:fe49:8aa%senp0s21f0u2u4 <br>\npath=/stats/index.html <br>\nt=temperature_sensor <br>\n(meteo/_http._tcp/local)</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">--\nInformation acquired via protocol mDNS/IPv6 in 4.0ms. <br>\n-- Data is authenticated: yes</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">&quot;Avahi&quot;\nrunning on a different host in the same local network should\nsee the service as well:</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">$\navahi-browse -a -r <br>\n+ enp3s0 IPv6 meteo Web Site local <br>\n+ enp3s0 IPv4 meteo Web Site local <br>\n= enp3s0 IPv6 meteo Web Site local <br>\nhostname = [meteo.local] <br>\naddress = [fe80::213:3bff:fe49:8aa] <br>\nport = [80] <br>\ntxt = [&quot;path=/stats/index.html&quot;\n&quot;t=temperature_sensor&quot;] <br>\n= enp3s0 IPv4 meteo Web Site local <br>\nhostname = [meteo.local] <br>\naddress = [169.254.208.106] <br>\nport = [80] <br>\ntxt = [&quot;path=/stats/index.html&quot;\n&quot;t=temperature_sensor&quot;]</font></p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><a href=\"https://man.page/1/systemd\">systemd(1)</a>,\n<b>systemd-resolved.service</b>(8),\n<a href=\"https://man.page/1/resolvectl\">resolvectl(1)</a></font></p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">1.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"12%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">RFC\n6763</font></p> </td>\n<td width=\"71%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://tools.ietf.org/html/rfc6763</font></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#[SERVICE] SECTION OPTIONS\">[SERVICE] SECTION OPTIONS</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#NOTES\">NOTES</a>"],"level":5}