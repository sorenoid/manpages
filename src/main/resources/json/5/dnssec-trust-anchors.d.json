{"name":"dnssec-trust-anchors.d","description":"dnssec-trust-anchors.d,\nsystemd.positive, systemd.negative - DNSSEC trust anchor\nconfiguration files","body":"\n\n<h1 align=\"center\">DNSSEC-TRUST-ANCHORS.D</h1>\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">dnssec-trust-anchors.d,\nsystemd.positive, systemd.negative - DNSSEC trust anchor\nconfiguration files</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/etc/dnssec-trust-anchors.d/*.positive</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/run/dnssec-trust-anchors.d/*.positive</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/usr/lib/dnssec-trust-anchors.d/*.positive</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/etc/dnssec-trust-anchors.d/*.negative</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/run/dnssec-trust-anchors.d/*.negative</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/usr/lib/dnssec-trust-anchors.d/*.negative</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The DNSSEC\ntrust anchor configuration files define positive and\nnegative trust anchors <b>systemd-resolved.service</b>(8)\nbases DNSSEC integrity proofs on.</p>\n\n<h2>POSITIVE TRUST ANCHORS\n<a name=\"POSITIVE TRUST ANCHORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Positive trust\nanchor configuration files contain <b>DNSKEY</b> and\n<b>DS</b> resource record definitions to use as base for\nDNSSEC integrity proofs. See <b><font color=\"#0000FF\">RFC\n4035, Section 4.4</font></b>\n<small><font color=\"#000000\">[1]</font></small>\n<font color=\"#000000\">for more information about DNSSEC\ntrust anchors.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Positive\ntrust anchors are read from files with the suffix .positive\nlocated in /etc/dnssec-trust-anchors.d/,\n/run/dnssec-trust-anchors.d/ and\n/usr/lib/dnssec-trust-anchors.d/. These directories are\nsearched in the specified order, and a trust anchor file of\nthe same name in an earlier path overrides a trust anchor\nfiles in a later path. To disable a trust anchor file\nshipped in /usr/lib/dnssec-trust-anchors.d/ it is sufficient\nto provide an identically-named file in\n/etc/dnssec-trust-anchors.d/ or /run/dnssec-trust-anchors.d/\nthat is either empty or a symlink to /dev/null\n(&quot;masked&quot;).</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Positive\ntrust anchor files are simple text files resembling DNS zone\nfiles, as documented in</font> <b><font color=\"#0000FF\">RFC\n1035, Section 5</font></b>\n<small><font color=\"#000000\">[2]</font></small>\n<font color=\"#000000\">. One <b>DS</b> or <b>DNSKEY</b>\nresource record may be listed per line. Empty lines and\nlines starting with &quot;#&quot; or &quot;;&quot; are\nignored, which may be used for commenting. A\n&lt;consant&gt;DS&lt;/consant&gt; resource record is\nspecified like in the following example:</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">.\nIN DS 19036 8 2\n49aac11d7b6f6446702e54a1607371607a1a41855200fd2ce1cdde32f24e8fb5</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">The\nfirst word specifies the domain, use &quot;.&quot; for the\nroot domain. The domain may be specified with or without\ntrailing dot, which is considered equivalent. The second\nword must be &quot;IN&quot; the third word &quot;DS&quot;.\nThe following words specify the key tag, signature\nalgorithm, digest algorithm, followed by the hex-encoded key\nfingerprint. See</font> <b><font color=\"#0000FF\">RFC 4034,\nSection 5</font></b>\n<small><font color=\"#000000\">[3]</font></small>\n<font color=\"#000000\">for details about the precise syntax\nand meaning of these fields.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Alternatively,\n<b>DNSKEY</b> resource records may be used to define trust\nanchors, like in the following example:</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">.\nIN DNSKEY 257 3 8\nAwEAAagAIKlVZrpC6Ia7gEzahOR+9W29euxhJhVVLOyQbSEW0O8gcCjFFVQUTf6v58fLjwBd0YI0EzrAcQqBGCzh/RStIoO8g0NfnfL2MTJRkxoXbfDaUeVPQuYEhg37NZWAJQ9VnMVDxP/VHL496M/QZxkjf5/Efucp2gaDX6RS6CXpoY68LsvPVjR0ZSwzz1apAzvN9dlzEheX7ICJBBtuA6G3LQpzW5hOA2hzCTMjJPJ8LbqF6dsV6DoBQzgul0sGIcGOYl7OyQdXfZ57relSQageu+ipAdTTJ25AsRTAoub8ONGcLmqrAmRLKBP1dfwhYB4N7knNnulqQxA+Uk1ihz0=</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">The\nfirst word specifies the domain again, the second word must\nbe &quot;IN&quot;, followed by &quot;DNSKEY&quot;. The\nsubsequent words encode the <b>DNSKEY</b> flags, protocol\nand algorithm fields, followed by the key data encoded in\nBase64. See</font> <b><font color=\"#0000FF\">RFC 4034,\nSection 2</font></b>\n<small><font color=\"#000000\">[4]</font></small>\n<font color=\"#000000\">for details about the precise syntax\nand meaning of these fields.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">If\nmultiple <b>DS</b> or <b>DNSKEY</b> records are defined for\nthe same domain (possibly even in different trust anchor\nfiles), all keys are used and are considered equivalent as\nbase for DNSSEC proofs.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Note\nthat systemd-resolved will automatically use a built-in\ntrust anchor key for the Internet root domain if no positive\ntrust anchors are defined for the root domain. In most cases\nit is hence unnecessary to define an explicit key with trust\nanchor files. The built-in key is disabled as soon as at\nleast one trust anchor key for the root domain is defined in\ntrust anchor files.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">It\nis generally recommended to encode trust anchors in\n<b>DS</b> resource records, rather than <b>DNSKEY</b>\nresource records.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">If\na trust anchor specified via a <b>DS</b> record is found\nrevoked it is automatically removed from the trust anchor\ndatabase for the runtime. See</font>\n<b><font color=\"#0000FF\">RFC 5011</font></b>\n<small><font color=\"#000000\">[5]</font></small>\n<font color=\"#000000\">for details about revoked trust\nanchors. Note that systemd-resolved will not update its\ntrust anchor database from DNS servers automatically.\nInstead, it is recommended to update the resolver software\nor update the new trust anchor via adding in new trust\nanchor files.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">The\ncurrent DNSSEC trust anchor for the Internet's root domain\nis available at the</font> <b><font color=\"#0000FF\">IANA\nTrust Anchor and Keys</font></b>\n<small><font color=\"#000000\">[6]</font></small>\n<font color=\"#000000\">page.</font></p>\n\n<h2>NEGATIVE TRUST ANCHORS\n<a name=\"NEGATIVE TRUST ANCHORS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Negative\ntrust anchors define domains where DNSSEC validation shall\nbe turned off. Negative trust anchor files are found at the\nsame location as positive trust anchor files, and follow the\nsame overriding rules. They are text files with the\n.negative suffix. Empty lines and lines whose first\ncharacter is &quot;;&quot; are ignored. Each line specifies\none domain name which is the root of a DNS subtree where\nvalidation shall be disabled. For example:</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">#\nReverse IPv4 mappings <br>\n10.in-addr.arpa <br>\n16.172.in-addr.arpa <br>\n168.192.in-addr.arpa <br>\n... <br>\n# Some custom domains <br>\nprod <br>\nstag</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Negative\ntrust anchors are useful to support private DNS subtrees\nthat are not referenced from the Internet DNS hierarchy, and\nnot signed.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b><font color=\"#0000FF\">RFC\n7646</font></b>\n<small><font color=\"#000000\">[7]</font></small>\n<font color=\"#000000\">for details on negative trust\nanchors.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">If\nno negative trust anchor files are configured a built-in set\nof well-known private DNS zone domains is used as negative\ntrust anchors.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">It\nis also possibly to define per-interface negative trust\nanchors using the <i>DNSSECNegativeTrustAnchors=</i> setting\nin <b>systemd.network</b>(5) files.</font></p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><a href=\"https://man.page/1/systemd\">systemd(1)</a>,\n<b>systemd-resolved.service</b>(8), <b>resolved.conf</b>(5),\n<b>systemd.network</b>(5)</font></p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">1.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"32%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">RFC 4035,\nSection 4.4</font></p></td>\n<td width=\"51%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://tools.ietf.org/html/rfc4035#section-4.4</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">2.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"29%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">RFC 1035,\nSection 5</font></p></td>\n<td width=\"54%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://tools.ietf.org/html/rfc1035#section-5</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">3.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"29%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">RFC 4034,\nSection 5</font></p></td>\n<td width=\"54%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://tools.ietf.org/html/rfc4034#section-5</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">4.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"29%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">RFC 4034,\nSection 2</font></p></td>\n<td width=\"54%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://tools.ietf.org/html/rfc4034#section-2</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">5.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"12%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">RFC\n5011</font></p> </td>\n<td width=\"71%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://tools.ietf.org/html/rfc5011</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">6.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"40%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">IANA Trust\nAnchor and Keys</font></p></td>\n<td width=\"43%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://data.iana.org/root-anchors/root-anchors.xml</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">7.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"12%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">RFC\n7646</font></p> </td>\n<td width=\"71%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://tools.ietf.org/html/rfc7646</font></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#POSITIVE TRUST ANCHORS\">POSITIVE TRUST ANCHORS</a>","<a href=\"#NEGATIVE TRUST ANCHORS\">NEGATIVE TRUST ANCHORS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#NOTES\">NOTES</a>"],"level":5}