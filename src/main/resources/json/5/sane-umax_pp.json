{"name":"sane-umax_pp","body":"\n\n<h1 align=\"center\">sane-umax_pp</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">sane-umax_pp -\nSANE backend for Umax Astra parallel port flatbed\nscanners</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>sane-umax_pp</b> library implements a SANE (Scanner\nAccess Now Easy) backend that provides access to Umax\nparallel port flatbed scanners. The following scanners work\nwith this backend:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Model: <br>\n-------------------- <br>\nAstra 610P <br>\nAstra 1220P <br>\nHP3200C <br>\nAstra 1600P <br>\nAstra 2000P <br>\nGenius ColorPage-Life Pro</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This backend\nhandles 75x75, 150x150, 300x300, 600x600 and 600x1200 for\n1220P/1600P/2000P dpi scan resolutions, and 75x75, 150x150,\n300x300 and 300x600 for 610P. In color and gray levels,\nthere is a software lineart mode.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The new\ngeneration models share a newer version of the 610P ASIC\nembedded in an EPAT chip. Only parts such as CCD and ADC\nchange from one to another. They even all reports being UMAX\nAstra 1220P via IEEE1284. There isn&rsquo;t a software\nmethod to recognize them properly. Under windows, model is\nset by the driver installed, regardless of the hardware.\n<b><br>\nEPP/ECP MODES ONLY</b></p>\n\n<p style=\"margin-left:22%;\">The current version of the\nbackend uses only EPP or ECP mode to communicate with the\nscanner. PS/2 mode isn&rsquo;t implemented. The 610P only\nuse SPP. It is recommended that you set your parallel port\nto EPP in BIOS with the current version of this backend. You\ncan leave it to ECP or ECP+EPP, but in this case you may not\nuse ppdev but only direct hardware access if you have to use\nECP. ECPEPP will only work if you use a 2.4 or 2.6 kernel\nwith ppdev character device support.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This backend\ndoes support parport sharing only <i>if you have a kernel\nwith ppdev support.</i></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that if\nyou don&rsquo;t use the ppdev character device, the backend\nneeds to run as root. To allow user access to the scanner\nrun the backend through the network interface (See\n<b>saned</b>(8) and <a href=\"https://man.page/5/sane-net\">sane-net(5)</a>). A more relaxed\nsolution (security wise) is to add suid bit to the frontend\n(See <a href=\"https://man.page/1/chmod\">chmod(1)</a>). The backend drop root privileges as\nsoon as it can, right after gaining direct access to IO\nports, which lessen risks when being root.</p>\n\n<h2>DEVICE NAMES\n<a name=\"DEVICE NAMES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This backend\nexpects device names of the form:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>port\nvalue</i></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Where\n<b>value</b> is :</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"6%\">\n\n\n<p>auto</p></td>\n<td width=\"4%\"></td>\n<td width=\"68%\">\n\n\n<p>autodetect all parallel ports and probe them for\nscanner</p> </td></tr>\n</table>\n\n<p style=\"margin-left:22%;\">safe-auto</p>\n\n<p style=\"margin-left:32%;\">autodetect all parallel ports\nand probe them for scanner, but does not try direct hardware\naccess</p>\n\n<p style=\"margin-left:22%;\"><i>/dev/ppi0</i></p>\n\n<p style=\"margin-left:32%;\">uses *BSD ppi device, depending\non the number of available parallel port, you have to use\n<i>/dev/ppi1</i>, <i>/dev/ppi2</i>, ...</p>\n\n<p style=\"margin-left:22%;\"><i>/dev/parport0</i></p>\n\n<p style=\"margin-left:32%;\">uses Linux ppdev device,\ndepending on the number of available parallel port, you have\nto use <i>/dev/parport1</i>, <i>/dev/parport2</i>, ...</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"7%\">\n\n\n<p>0x378</p></td>\n<td width=\"3%\"></td>\n<td width=\"68%\">\n\n\n<p>does direct hardware access on the given address. Usual\nvalues are 0x378, 0x278, 0x3BC In this case, you have to run\nthe scanner as root (*BSD and Linux), or with\n&rsquo;IOPL=yes&rsquo; on OS/2</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>NOTE:</b> in\nall cases, you must have sufficient privileges to get access\nto the chosen device or address. Depending on the security\nsettings, devices may not be available for all users. You\nhave to change permissions on the <i>/dev/ppi*</i> or\n<i>/dev/parport*</i> devices.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">You can rename\nany device using the</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>name devname\n<br>\nmodel model <br>\nvendor vendor</i></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">options. These\noptions apply to the last port option.</p>\n\n<h2>CONFIGURATION\n<a name=\"CONFIGURATION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Please make\nsure to edit <i>umax_pp.conf</i> <b>before</b> you use the\nbackend.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The contents of\nthe <i>umax_pp.conf</i> file is a list of options and device\nnames that correspond to Umax scanners. Empty lines and\nlines starting with a hash mark (#) are ignored.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The eight\noptions supported are <b>red-gain</b>, <b>green-gain</b>,\n<b>blue-gain</b>, <b>red-offset</b>, <b>green-offset</b>,\n<b>blue-offset</b>, <b>astra</b>, and <b>buffer</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Options\n<b>red-gain</b>, <b>green-gain</b> and <b>blue-gain</b>\nallow you to adjust the sensitivity of your scanner for the\ngiven color. Values range from 0 (lowest gain) to 15\n(highest). If the advanced option &quot;Gain&quot;\nisn&rsquo;t checked in the frontend, the backend does\nautomatic gain calibration, and do not use user provided\nvalues.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Options\n<b>red-offset</b> , <b>green-offset</b> and\n<b>blue-offset</b> allow you to adjust the offset of your\nscanner for the given color. Values range from 0 (lowest\noffset) to 15 (highest).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Option\n<b>astra</b> allows you to change the model of your scanner.\nCurrent auto detection is based on side effects on scanning\nwhen using 1220P command set on other models, so it may fail\non unknown hardware combination. Valid values are 610, 1220,\n1600 and 2000. It is useful only when autodetection fails to\ndetect properly your scanner model. If your scanner work\nproperly but is reported wrongly, let it be that way. The\nonly valid case to change the model is when your scanner\nproduces &quot;black&quot; or &quot;inverted&quot; scans. In\nthis case you can put the model. Be aware that it will\nprevent scanner model autodetection.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Option\n<b>buffer</b> allows you to change the size of the scan\nbuffer. The size must be specified in bytes. The default\nvalue is 2 megabytes. Decreasing this value will improve the\nsmoothness of progress bar in the frontend, but will stall\nthe scan more often.</p>\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>/etc/sane.d/umax_pp.conf</i></p>\n\n<p style=\"margin-left:22%;\">The backend configuration file\n(see also description of <b>SANE_CONFIG_DIR</b> below).</p>\n\n\n<p style=\"margin-left:11%;\"><i>/usr/lib/x86_64-linux-gnu/sane/libsane-umax_pp.a</i></p>\n\n<p style=\"margin-left:22%;\">The static library implementing\nthis backend.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/usr/lib/x86_64-linux-gnu/sane/libsane-umax_pp.so</i></p>\n\n<p style=\"margin-left:22%;\">The shared library implementing\nthis backend (present on systems that support dynamic\nloading).</p>\n\n<h2>ENVIRONMENT\n<a name=\"ENVIRONMENT\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>SANE_CONFIG_DIR</b></p>\n\n<p style=\"margin-left:22%;\">This environment variable\nspecifies the list of directories that may contain the\nconfiguration file. On *NIX systems, the directories are\nseparated by a colon (&rsquo;:&rsquo;), under OS/2, they are\nseparated by a semi-colon (&rsquo;;&rsquo;). If this\nvariable is not set, the configuration file is searched in\ntwo default directories: first, the current working\ndirectory (&quot;.&quot;) and then in <i>/etc/sane.d</i>. If\nthe value of the environment variable ends with the\ndirectory separator character, then the default directories\nare searched after the explicitly specified directories. For\nexample, setting <b>SANE_CONFIG_DIR</b> to\n&quot;/tmp/config:&quot; would result in directories\n<i>tmp/config</i>, <i>.</i>, and <i>/etc/sane.d</i> being\nsearched (in this order).</p>\n\n<p style=\"margin-left:11%;\"><b>SANE_DEBUG_UMAX_PP</b></p>\n\n<p style=\"margin-left:22%;\">If the library was compiled\nwith debug support enabled, this environment variable\ncontrols the debug level for this backend. E.g., a value of\n128 requests all debug output to be printed. Smaller levels\nreduce verbosity.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">level debug\noutput <br>\n------- ------------------------------ <br>\n0 nothing <br>\n1 errors <br>\n2 warnings &amp; minor errors <br>\n3 additional information <br>\n4 debug information <br>\n5 code flow (not supported yet) <br>\n6 special debug information</p>\n\n\n<p style=\"margin-left:11%;\"><b>SANE_DEBUG_UMAX_PP_LOW</b></p>\n\n<p style=\"margin-left:22%;\">This variable sets the debug\nlevel for the SANE interface for the Umax ASIC. Note that\nenabling this will spam your terminal with some million\nlines of debug output.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">level debug\noutput <br>\n------- ------------------------------- <br>\n0 nothing <br>\n1 errors <br>\n8 command blocks <br>\n16 detailed code flow <br>\n32 dump datafiles <br>\n255 everything</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/7/sane\">sane(7)</a>,\n<a href=\"https://man.page/5/sane-net\">sane-net(5)</a>, <b>saned</b>(8) <br>\nFor latest bug fixes and information see</p>\n\n\n<p style=\"margin-left:22%;\"><i>http://umax1220p.sourceforge.net/</i></p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">St&eacute;phane\nVoltz &lt;<i>stef.dev@free.fr</i>&gt;</p>\n\n<h2>CREDITS\n<a name=\"CREDITS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Support for the\n610P has been made possible thank to an hardware donation by\nWilliam Stuart.</p>\n\n<h2>BUG REPORTS\n<a name=\"BUG REPORTS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">If something\ndoesn&rsquo;t work, please contact me. But I need some\ninformation about your scanner to be able to help you...\n<i><br>\nSANE version</i></p>\n\n<p style=\"margin-left:22%;\">Run <i>scanimage -V</i> to\ndetermine this</p>\n\n<p style=\"margin-left:11%;\"><i>the backend version and your\nscanner hardware</i></p>\n\n<p style=\"margin-left:22%;\">Run <i>SANE_DEBUG_UMAX_PP=255\nscanimage -L 2&gt;log</i> as root. If you don&rsquo;t get\nany output from the <b>sane-umax_pp</b> backend, make sure a\nline &quot;umax_pp&quot; is included into your\n<i>/etc/sane.d/dll.conf</i> file. If your scanner\nisn&rsquo;t detected, make sure you&rsquo;ve defined the\nright port address, or the correct device in your\n<i>umax_pp.conf</i> file.</p>\n\n<p style=\"margin-left:11%;\"><i>the name of your\nscanner/vendor</i></p>\n\n<p style=\"margin-left:22%;\">also a worthy information.\nPlease also include the optical resolution and lamp type of\nyour scanner, both can be found in the manual of your\nscanner.</p>\n\n<p style=\"margin-left:11%;\"><i>any further comments</i></p>\n\n<p style=\"margin-left:22%;\">if you have comments about the\ndocumentation (what could be done better), or you think I\nshould know something, please include it.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#DEVICE NAMES\">DEVICE NAMES</a>","<a href=\"#CONFIGURATION\">CONFIGURATION</a>","<a href=\"#FILES\">FILES</a>","<a href=\"#ENVIRONMENT\">ENVIRONMENT</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHOR\">AUTHOR</a>","<a href=\"#CREDITS\">CREDITS</a>","<a href=\"#BUG REPORTS\">BUG REPORTS</a>"],"level":5}