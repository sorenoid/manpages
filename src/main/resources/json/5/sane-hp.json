{"name":"sane-hp","body":"\n\n<h1 align=\"center\">sane-hp</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">sane-hp - SANE\nbackend for HP ScanJet scanners</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>sane-hp</b> library implements a SANE (Scanner Access Now\nEasy) backend that provides access to HP ScanJet scanners\nwhich support SCL (Scanner Control Language by HP). The\nfollowing scanners are known positively to work with this\nbackend:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Model: Product\nid: Interface: <br>\n---------- ----------- ---------- <br>\nScanJet Plus C9195A HP Parallel Interface Card <br>\nScanJet IIc C1750A 3226 SCSI <br>\nScanJet IIcx C2500A 3332 SCSI <br>\nScanJet IIp C1790A SCSI <br>\nScanJet 3C C2520A 3503 SCSI <br>\nScanJet 3P C2570A 3406 SCSI <br>\nScanJet 4C C2520A SCSI <br>\nScanJet 4P C1130A 3540 SCSI <br>\nScanJet 4100C C6290A USB <br>\nScanJet 5P C5110A SCSI <br>\nScanJet 5100C C5190A parallel port <br>\nScanJet 5200C C7190A 3846 parallel port/USB <br>\nScanJet 6100C C2520A 3644 SCSI <br>\nScanJet 6200C C6270A 3828 SCSI/USB <br>\nScanJet 6250C C6270A 3828 SCSI/USB <br>\nScanJet 6300C C7670A SCSI/USB <br>\nScanJet 6350C C7670A SCSI/USB <br>\nScanJet 6390C C7670A SCSI/USB <br>\nPhotoSmart C5100A R029,R030,R032 SCSI</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Support for\nmodels 5100C/5200C connected to the parallel port requires\nthe ppSCSI driver available at\n<i>http://cyberelk.net/tim/parport/ppscsi.html</i> and\n<i>http://penguin-breeder.org/kernel/download/</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Support for\nmodels 5200C/62X0C/63X0C connected to the USB require the\nkernel scanner driver or libusb. See <a href=\"https://man.page/5/sane-usb\">sane-usb(5)</a> for\nmore details.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>sane-hp</b> backend no longer supports OfficeJet\nmulti-function peripherals. For these devices use the\nexternal &quot;hpoj&quot; backend in version 0.90 and later\nof the &quot;HP OfficeJet Linux driver&quot;, available at\n<i><br>\nhttp://hpoj.sourceforge.net</i></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Because\nHewlett-Packard does no longer produce scanners that support\nSCL (beside the OfficeJets), the above list of supported\nscanners is complete. Other HP scanners are not supported by\nthe <b>sane-hp</b> backend, but might be supported by\nanother one. See <i>http://www.sane-project.org/</i>. You\ncan also watch the sane-devel mailing list at\n<i>http://www.sane-project.org/mailing-lists.html</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">More details\nabout the hp backend can be found on its homepage\n<i>http://www.kirchgessner.net/sane.html</i>.</p>\n\n<h2>DEVICE NAMES\n<a name=\"DEVICE NAMES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This backend\nexpects device names of the form:</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\"><i>special</i></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Where\n<i>special</i> is the UNIX path-name for the special device\nthat corresponds to the scanner. For SCSI scanners the\nspecial device name must be a generic SCSI device or a\nsymlink to such a device. Under Linux, such a device name\ncould be <i>/dev/sga</i> or <i>/dev/sg2</i>, for example. If\nthe special device name contains &quot;usb&quot;,\n&quot;uscanner&quot; or &quot;ugen&quot;, it is assumed that\nthe scanner is connected by USB. For the HP ScanJet Plus the\nspecial device name must be the device that corresponds to\nthe parallel interface card that was shipped with the\nscanner. That is <i>/dev/hpscan</i>. A special driver is\nrequired for this card. See\n<i>ftp://rvs.ctrl-c.liu.se/pub/wingel/hpscan</i> for\ndetails. If the link does not work, try\n<i>ftp://sunsite.unc.edu/pub/Linux/kernel/patches/scanners</i>.</p>\n\n<h2>CONFIGURATION\n<a name=\"CONFIGURATION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The contents of\nthe <i>hp.conf</i> file is a list of options and device\nnames that correspond to HP ScanJet scanners. Empty lines\nand lines starting with a hash mark (#) are ignored. See\n<a href=\"https://man.page/5/sane-scsi\">sane-scsi(5)</a> and <a href=\"https://man.page/5/sane-usb\">sane-usb(5)</a> on details of\nwhat constitutes a valid device name.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Options\nspecified in front of the first line that contains a device\nname are defaults for all devices. Options specified below a\nline that contains a device name apply just to the most\nrecently mentioned device.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Supported\noptions are <b>connect-scsi</b>, <b>connect-device</b>,\n<b>enable-image-buffering</b>, and <b>dumb-read</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Option\n<b>connect-scsi</b> specifies that the scanner is connected\nto the system by SCSI. Input/output is performed using\nSCSI-commands. This is the default. But if your SCSI device\nname contains &quot;usb&quot;, &quot;uscanner&quot; or\n&quot;ugen&quot;, option connect-scsi must be specified.\nOtherwise it is assumed that the scanner is connected by\nUSB.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Option\n<b>connect-device</b> specifies that the scanner is\nconnected to the system by a special device. Input/output is\nperformed by <b>read</b>()/<b>write</b>()-operations on the\ndevice. This option must be used for HP ScanJet Plus or\nscanners connected to USB which are accessed through a named\ndevice (e.g. <i>/dev/usb/scanner0</i>). For device names\nthat contain &quot;usb&quot;, &quot;uscanner&quot; or\n&quot;ugen&quot;, it is not necessary to specify option\nconnect-device.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Option\n<b>enable-image-buffering</b> stores the scanned image in\nmemory before passing it to the frontend. Could be used in\ncase of forward/backward moving scanner lamp.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Option\n<b>dumb-read</b> can be used to work around problems with\n&quot;Error during device I/O&quot;. These problems may\noccur with certain SCSI-to-USB converters or Buslogic SCSI\ncards. The option should not be used for SCSI devices which\nare working correctly. Otherwise startup of frontends and\nchanging parameters might be slower.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">A sample\nconfiguration file is shown below:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">/dev/scanner\n<br>\n# this is a comment <br>\n/dev/hpscan <br>\noption connect-device</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>/dev/scanner</i>\nis typically a symlink to the actual SCSI scanner\ndevice.</p>\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>/etc/sane.d/hp.conf</i></p>\n\n<p style=\"margin-left:22%;\">The backend configuration file\n(see also description of <b>SANE_CONFIG_DIR</b> below).</p>\n\n\n<p style=\"margin-left:11%;\"><i>/usr/lib/x86_64-linux-gnu/sane/libsane-hp.a</i></p>\n\n<p style=\"margin-left:22%;\">The static library implementing\nthis backend.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/usr/lib/x86_64-linux-gnu/sane/libsane-hp.so</i></p>\n\n<p style=\"margin-left:22%;\">The shared library implementing\nthis backend (present on systems that support dynamic\nloading).</p>\n\n\n<p style=\"margin-left:11%;\"><i>$HOME/.sane/calib-hp:&lt;device&gt;.dat</i></p>\n\n<p style=\"margin-left:22%;\">Calibration data for HP\nPhotoSmart PhotoScanner that is retrieved from the scanner\nafter calibration. The data is uploaded to the scanner at\nstart of the backend if it is in media mode &rsquo;print\nmedia&rsquo; or if the media mode is changed to &rsquo;print\nmedia&rsquo;.</p>\n\n<h2>ENVIRONMENT\n<a name=\"ENVIRONMENT\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>SANE_CONFIG_DIR</b></p>\n\n<p style=\"margin-left:22%;\">This environment variable\nspecifies the list of directories that may contain the\nconfiguration file. On *NIX systems, the directories are\nseparated by a colon (&rsquo;:&rsquo;), under OS/2, they are\nseparated by a semi-colon (&rsquo;;&rsquo;). If this\nvariable is not set, the configuration file is searched in\ntwo default directories: first, the current working\ndirectory (<i>.</i>) and then in <i>/etc/sane.d</i>. If the\nvalue of the environment variable ends with the directory\nseparator character, then the default directories are\nsearched after the explicitly specified directories. For\nexample, setting <b>SANE_CONFIG_DIR</b> to\n&quot;/tmp/config:&quot; would result in directories\n<i>tmp/config</i>, <i>.</i>, and <i>/etc/sane.d</i> being\nsearched (in this order).</p>\n\n<p style=\"margin-left:11%;\"><b>SANE_DEBUG_HP</b></p>\n\n<p style=\"margin-left:22%;\">If the library was compiled\nwith debug support enabled, this environment variable\ncontrols the debug level for this backend. E.g., a value of\n128 requests all debug output to be printed. Smaller levels\nreduce verbosity.</p>\n\n<p style=\"margin-left:11%;\"><b>SANE_HOME_HP</b></p>\n\n<p style=\"margin-left:22%;\">Only used for OS/2 and along\nwith use of HP PhotoSmart PhotoScanner. Must be set to the\ndirectory where the directory .sane is located. Is used to\nsave and read the calibration file.</p>\n\n<p style=\"margin-left:11%;\"><b>SANE_HP_KEEPOPEN_SCSI <br>\nSANE_HP_KEEPOPEN_USB <br>\nSANE_HP_KEEPOPEN_DEVICE</b></p>\n\n<p style=\"margin-left:22%;\">For each type of connection\n(connect-scsi, connect-usb, connect-device) it can be\nspecified if the connection to the device should be kept\nopen (&quot;1&quot;) or not (&quot;0&quot;). Usually the\nconnections are closed after an operation is performed.\nKeeping connection open to SCSI-devices can result in errors\nduring device IO when the scanner has not been used for some\ntime. By default, USB-connections are kept open. Other\nconnections are closed.</p>\n\n<p style=\"margin-left:11%;\"><b>SANE_HP_RDREDO</b></p>\n\n<p style=\"margin-left:22%;\">Specifies number of retries for\nread operation before returning an EOF error. Only supported\nfor non-SCSI devices. Default: 1 retry. Time between retries\nis 0.1 seconds.</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>HP\nPhotoSmart PhotoScanner</b></p>\n\n<p style=\"margin-left:22%;\">In media mode\n&rsquo;slide&rsquo; and &rsquo;negative&rsquo;, scan\nresolutions are rounded to multiple of 300 dpi. The scanner\ndoes not scale the data correctly on other resolutions. Some\nnewer models (firmware code R030 and later) do not support\nadjustment of contrast/intensity level and tone map. The\nbackend will simulate this by software, but only for gray\nand 24 bit color.</p>\n\n<p style=\"margin-left:11%;\"><b>Automatic Document Feeder\n(ADF)</b></p>\n\n<p style=\"margin-left:22%;\">For use of the ADF with\n<a href=\"https://man.page/1/xscanimage\">xscanimage(1)</a>, first place paper in the ADF and then\nchange option scan source to &rsquo;ADF&rsquo;. Press\n&rsquo;change document&rsquo; to load a sheet. Then press\n&rsquo;scan&rsquo; to start a scan. Maybe it is sufficient\nto press &rsquo;scan&rsquo; without &rsquo;change\ndocument&rsquo; for repeated scans. The use of the preview\nwindow is not recommended when working with the ADF. Setting\na window to scan from ADF is not supported with\n<a href=\"https://man.page/1/xscanimage\">xscanimage(1)</a>. Try <a href=\"https://man.page/1/xsane\">xsane(1)</a>.</p>\n\n<p style=\"margin-left:11%;\"><b>Immediate actions</b></p>\n\n<p style=\"margin-left:22%;\">Some actions in\n<a href=\"https://man.page/1/xscanimage\">xscanimage(1)</a> (i.e. unload, select media, calibrate)\nhave an immediate effect on the scanner without starting a\nscan. These options can not be used with\n<a href=\"https://man.page/1/scanimage\">scanimage(1)</a>.</p>\n\n<h2>TODO\n<a name=\"TODO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>HP\nPhotoSmart PhotoScanner</b></p>\n\n<p style=\"margin-left:22%;\">PhotoScanners with firmware\nrelease R030 and up have no firmware support for\ncontrast/brightness/gamma table. In the current backend this\nis simulated by software on 24 bits data. Simulation on 30\nbits should give better results.</p>\n\n<p style=\"margin-left:11%;\"><b>Data widths greater than 8\nbits</b></p>\n\n<p style=\"margin-left:22%;\">Custom gamma table does not\nwork.</p>\n\n<p style=\"margin-left:11%;\"><b>Parallel scanner\nsupport</b></p>\n\n<p style=\"margin-left:22%;\">Beside the ScanJet Plus which\ncame with its own parallel interface card, currently only\nthe HP ScanJet 5100C/5200C are supported. These scanners are\nusing an internal parallel-to-SCSI converter which is\nsupported by the ppSCSI-driver (see above).</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/7/sane\">sane(7)</a>,\n<a href=\"https://man.page/5/sane-scsi\">sane-scsi(5)</a>, <a href=\"https://man.page/5/sane-usb\">sane-usb(5)</a> <a href=\"https://man.page/1/scanimage\">scanimage(1)</a>,\n<a href=\"https://man.page/1/xscanimage\">xscanimage(1)</a>, <a href=\"https://man.page/1/scanimage\">scanimage(1)</a></p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The sane-hp\nbackend was written by Geoffrey T. Dairiki. <br>\nHP PhotoSmart PhotoScanner support by Peter\nKirchgessner.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#DEVICE NAMES\">DEVICE NAMES</a>","<a href=\"#CONFIGURATION\">CONFIGURATION</a>","<a href=\"#FILES\">FILES</a>","<a href=\"#ENVIRONMENT\">ENVIRONMENT</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#TODO\">TODO</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHOR\">AUTHOR</a>"],"level":5}