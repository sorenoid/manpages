{"name":"sssd-systemtap","body":"\n\n<h1 align=\"center\">SSSD-SYSTEMTAP</h1>\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">sssd-systemtap\n- SSSD systemtap information</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This manual\npage provides information about the systemtap functionality\nin <b>sssd</b>(8).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">SystemTap Probe\npoints have been added into various locations in SSSD code\nto assist in troubleshooting and analyzing performance\nrelated issues.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">&bull; Sample\nSystemTap scripts are provided in\n/usr/share/sssd/systemtap/</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">&bull; Probes\nand miscellaneous functions are defined in\n/usr/share/systemtap/tapset/sssd.stp and\n/usr/share/systemtap/tapset/sssd_functions.stp\nrespectively.</p>\n\n<h2>PROBE POINTS\n<a name=\"PROBE POINTS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The information\nbelow lists the probe points and arguments available in the\nfollowing format:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">probe $name</p>\n\n<p style=\"margin-left:17%;\">Description of probe point</p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\">variable1:datatype\n<br>\nvariable2:datatype <br>\nvariable3:datatype <br>\n...</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Database\nTransaction Probes</b> <br>\nprobe sssd_transaction_start</p>\n\n<p style=\"margin-left:17%;\">Start of a sysdb transaction,\nprobes the sysdb_transaction_start() function.</p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\">nesting:integer\n<br>\nprobestr:string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">probe\nsssd_transaction_cancel</p>\n\n<p style=\"margin-left:17%;\">Cancellation of a sysdb\ntransaction, probes the sysdb_transaction_cancel()\nfunction.</p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\">nesting:integer\n<br>\nprobestr:string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">probe\nsssd_transaction_commit_before</p>\n\n<p style=\"margin-left:17%;\">Probes the\nsysdb_transaction_commit_before() function.</p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\">nesting:integer\n<br>\nprobestr:string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">probe\nsssd_transaction_commit_after</p>\n\n<p style=\"margin-left:17%;\">Probes the\nsysdb_transaction_commit_after() function.</p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\">nesting:integer\n<br>\nprobestr:string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>LDAP Search\nProbes</b> <br>\nprobe sdap_search_send</p>\n\n<p style=\"margin-left:17%;\">Probes the\nsdap_get_generic_ext_send() function.</p>\n\n<p style=\"margin-left:23%; margin-top: 1em\">base:string\n<br>\nscope:integer <br>\nfilter:string <br>\nattrs:string <br>\nprobestr:string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">probe\nsdap_search_recv</p>\n\n<p style=\"margin-left:17%;\">Probes the\nsdap_get_generic_ext_recv() function.</p>\n\n<p style=\"margin-left:23%; margin-top: 1em\">base:string\n<br>\nscope:integer <br>\nfilter:string <br>\nprobestr:string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">probe\nsdap_parse_entry</p>\n\n<p style=\"margin-left:17%;\">Probes the sdap_parse_entry()\nfunction. It is called repeatedly with every received\nattribute.</p>\n\n<p style=\"margin-left:23%; margin-top: 1em\">attr:string\n<br>\nvalue:string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">probe\nsdap_parse_entry_done</p>\n\n<p style=\"margin-left:17%;\">Probes the sdap_parse_entry()\nfunction. It is called when parsing of received object is\nfinished.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">probe\nsdap_deref_send</p>\n\n<p style=\"margin-left:17%;\">Probes the\nsdap_deref_search_send() function.</p>\n\n<p style=\"margin-left:23%; margin-top: 1em\">base_dn:string\n<br>\nderef_attr:string <br>\nprobestr:string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">probe\nsdap_deref_recv</p>\n\n<p style=\"margin-left:17%;\">Probes the\nsdap_deref_search_recv() function.</p>\n\n<p style=\"margin-left:23%; margin-top: 1em\">base:string\n<br>\nscope:integer <br>\nfilter:string <br>\nprobestr:string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>LDAP Account\nRequest Probes</b> <br>\nprobe sdap_acct_req_send</p>\n\n<p style=\"margin-left:17%;\">Probes the sdap_acct_req_send()\nfunction.</p>\n\n<p style=\"margin-left:23%; margin-top: 1em\">entry_type:int\n<br>\nfilter_type:int <br>\nfilter_value:string <br>\nextra_value:string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">probe\nsdap_acct_req_recv</p>\n\n<p style=\"margin-left:17%;\">Probes the sdap_acct_req_recv()\nfunction.</p>\n\n<p style=\"margin-left:23%; margin-top: 1em\">entry_type:int\n<br>\nfilter_type:int <br>\nfilter_value:string <br>\nextra_value:string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>LDAP User\nSearch Probes</b> <br>\nprobe sdap_search_user_send</p>\n\n<p style=\"margin-left:17%;\">Probes the\nsdap_search_user_send() function.</p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\">filter:string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">probe\nsdap_search_user_recv</p>\n\n<p style=\"margin-left:17%;\">Probes the\nsdap_search_user_recv() function.</p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\">filter:string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">probe\nsdap_search_user_save_begin</p>\n\n<p style=\"margin-left:17%;\">Probes the\nsdap_search_user_save_begin() function.</p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\">filter:string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">probe\nsdap_search_user_save_end</p>\n\n<p style=\"margin-left:17%;\">Probes the\nsdap_search_user_save_end() function.</p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\">filter:string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Data\nProvider Request Probes</b> <br>\nprobe dp_req_send</p>\n\n<p style=\"margin-left:17%;\">A Data Provider request is\nsubmitted.</p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\">dp_req_domain:string\n<br>\ndp_req_name:string <br>\ndp_req_target:int <br>\ndp_req_method:int</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">probe\ndp_req_done</p>\n\n<p style=\"margin-left:17%;\">A Data Provider request is\ncompleted.</p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\">dp_req_name:string\n<br>\ndp_req_target:int <br>\ndp_req_method:int <br>\ndp_ret:int <br>\ndp_errorstr:string</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>MISCELLANEOUS\nFUNCTIONS</b> <br>\nThe information below lists the probe points and arguments\navailable in the following format:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">function\nacct_req_desc(entry_type)</p>\n\n<p style=\"margin-left:17%;\">Convert entry_type to string\nand return string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">function\nsssd_acct_req_probestr(fc_name, entry_type, filter_type,\nfilter_value, extra_value)</p>\n\n<p style=\"margin-left:17%;\">Create probe string based on\nfilter type</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">function\ndp_target_str(target)</p>\n\n<p style=\"margin-left:17%;\">Convert target to string and\nreturn string</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">function\ndp_method_str(target)</p>\n\n<p style=\"margin-left:17%;\">Convert method to string and\nreturn string</p>\n\n<h2>SAMPLE SYSTEMTAP SCRIPTS\n<a name=\"SAMPLE SYSTEMTAP SCRIPTS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Start the\nSystemTap script (<b>stap\n/usr/share/sssd/systemtap/&lt;script_name&gt;.stp</b>), then\nperform an identity operation and the script will collect\ninformation from probes.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Provided\nSystemTap scripts are:</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">dp_request.stp</p>\n\n<p style=\"margin-left:17%;\">Monitoring of data provider\nrequest performance.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">id_perf.stp</p>\n\n<p style=\"margin-left:17%;\">Monitoring of <b>id</b> command\nperformance.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">ldap_perf.stp</p>\n\n<p style=\"margin-left:17%;\">Monitoring of LDAP queries.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">nested_group_perf.stp</p>\n\n<p style=\"margin-left:17%;\">Performance of nested groups\nresolving.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sssd</b>(8),\n<b>sssd.conf</b>(5), <a href=\"https://man.page/5/sssd-ldap\">sssd-ldap(5)</a>,\n<a href=\"https://man.page/5/sssd-krb5\">sssd-krb5(5)</a>, <a href=\"https://man.page/5/sssd-simple\">sssd-simple(5)</a>,\n<a href=\"https://man.page/5/sssd-ipa\">sssd-ipa(5)</a>, <a href=\"https://man.page/5/sssd-ad\">sssd-ad(5)</a>, <a href=\"https://man.page/5/sssd-files\">sssd-files(5)</a>,\n<a href=\"https://man.page/5/sssd-sudo\">sssd-sudo(5)</a>, <a href=\"https://man.page/5/sssd-session-recording\">sssd-session-recording(5)</a>,\n<b>sss_cache</b>(8), <b>sss_debuglevel</b>(8),\n<b>sss_obfuscate</b>(8), <b>sss_seed</b>(8),\n<b>sssd_krb5_locator_plugin</b>(8),\n<b>sss_ssh_authorizedkeys</b>(8),\n<b>sss_ssh_knownhostsproxy</b>(8), <a href=\"https://man.page/5/sssd-ifp\">sssd-ifp(5)</a>,\n<b>pam_sss</b>(8). <a href=\"https://man.page/5/sss_rpcidmapd\">sss_rpcidmapd(5)</a>\n<a href=\"https://man.page/5/sssd-systemtap\">sssd-systemtap(5)</a></p>\n\n<h2>AUTHORS\n<a name=\"AUTHORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>The SSSD\nupstream - https://github.com/SSSD/sssd/</b></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#PROBE POINTS\">PROBE POINTS</a>","<a href=\"#SAMPLE SYSTEMTAP SCRIPTS\">SAMPLE SYSTEMTAP SCRIPTS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHORS\">AUTHORS</a>"],"level":5}