{"name":"netplan","description":"netplan - YAML\nnetwork configuration abstraction for various backends","body":"\n\n<h1 align=\"center\">netplan</h1>\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">netplan - YAML\nnetwork configuration abstraction for various backends</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>netplan</b>\n[ <i>COMMAND</i> | help ]</p>\n\n<h2>COMMANDS\n<a name=\"COMMANDS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">See <b>netplan\nhelp</b> for a list of available commands on this\nsystem.</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Introduction</b>\n<br>\nDistribution installers, cloud instantiation, image builds\nfor particular devices, or any other way to deploy an\noperating system put its desired network configuration into\nYAML configuration file(s). During early boot, the netplan\n&ldquo;network renderer&rdquo; runs which reads\n<tt>/{lib,etc,run}/netplan/*.yaml</tt> and writes\nconfiguration to <tt>/run</tt> to hand off control of\ndevices to the specified networking daemon.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>Configured devices get handled by systemd-networkd by\ndefault, unless explicitly marked as managed by a specific\nrenderer (NetworkManager)</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>Devices not covered by the network config do not get\ntouched at all.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>Usable in initramfs (few dependencies and fast)</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>No persistent generated config, only original YAML\nconfig</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>Parser supports multiple config files to allow\napplications like libvirt or lxd to package up expected\nnetwork config (<tt>virbr0</tt>, <tt>lxdbr0</tt>), or to\nchange the global default policy to use NetworkManager for\neverything.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>Retains the flexibility to change backends/policy later\nor adjust to removing NetworkManager, as generated\nconfiguration is ephemeral.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>General\nstructure</b> <br>\nnetplan&rsquo;s configuration files use the YAML\n(http://yaml.org/spec/1.1/current.html) format. All\n<tt>/{lib,etc,run}/netplan/*.yaml</tt> are considered.\nLexicographically later files (regardless of in which\ndirectory they are) amend (new mapping keys) or override\n(same mapping keys) previous ones. A file in\n<tt>/run/netplan</tt> completely shadows a file with same\nname in <tt>/etc/netplan</tt>, and a file in either of those\ndirectories shadows a file with the same name in\n<tt>/lib/netplan</tt>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The top-level\nnode in a netplan configuration file is a <tt>network:</tt>\nmapping that contains <tt>version: 2</tt> (the YAML\ncurrently being used by curtin, MaaS, etc. is version 1),\nand then device definitions grouped by their type, such as\n<tt>ethernets:</tt>, <tt>modems:</tt>, <tt>wifis:</tt>, or\n<tt>bridges:</tt>. These are the types that our renderer can\nunderstand and are supported by our backends.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Each type block\ncontains device definitions as a map where the keys (called\n&ldquo;configuration IDs&rdquo;) are defined as below.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Device\nconfiguration IDs</b> <br>\nThe key names below the per-device-type definition maps\n(like <tt>ethernets:</tt>) are called &ldquo;ID&rdquo;s.\nThey must be unique throughout the entire set of\nconfiguration files. Their primary purpose is to serve as\nanchor names for composite devices, for example to enumerate\nthe members of a bridge that is currently being defined.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">(Since 0.97) If\nan interface is defined with an ID in a configuration file;\nit will be brought up by the applicable renderer. To not\nhave netplan touch an interface at all, it should be\ncompletely omitted from the netplan configuration files.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">There are two\nphysically/structurally different classes of device\ndefinitions, and the ID field has a different interpretation\nfor each: <br>\nPhysical devices</p>\n\n<p style=\"margin-left:22%;\">(Examples: ethernet, modem,\nwifi) These can dynamically come and go between reboots and\neven during runtime (hotplugging). In the generic case, they\ncan be selected by <tt>match:</tt> rules on desired\nproperties, such as name/name pattern, MAC address, driver,\nor device paths. In general these will match any number of\ndevices (unless they refer to properties which are unique\nsuch as the full path or MAC address), so without further\nknowledge about the hardware these will always be considered\nas a group.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">It is valid to\nspecify no match rules at all, in which case the ID field is\nsimply the interface name to be matched. This is mostly\nuseful if you want to keep simple cases simple, and\nit&rsquo;s how network device configuration has been done\nfor a long time.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">If there are\n<tt>match</tt>: rules, then the ID field is a purely opaque\nname which is only being used for references from\ndefinitions of compound devices in the config.</p>\n\n<p style=\"margin-left:11%;\">Virtual devices</p>\n\n<p style=\"margin-left:22%;\">(Examples: veth, bridge, bond)\nThese are fully under the control of the config file(s) and\nthe network stack. I. e. these devices are being created\ninstead of matched. Thus <tt>match:</tt> and\n<tt>set-name:</tt> are not applicable for these, and the ID\nfield is the name of the created virtual device.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Common\nproperties for physical device types <br>\nNote:</b> Some options will not work reliably for devices\nmatched by name only and rendered by networkd, due to\ninteractions with device renaming in udev. Match devices by\nMAC when setting options like: <tt>wakeonlan</tt> or\n<tt>*-offload</tt>. <b><br>\nmatch</b> (mapping)</p>\n\n<p style=\"margin-left:22%;\">This selects a subset of\navailable physical devices by various hardware properties.\nThe following configuration will then apply to all matching\ndevices, as soon as they appear. <i>All</i> specified\nproperties must match. <b><br>\nname</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Current interface name. Globs\nare supported, and the primary use case for matching on\nnames, as selecting one fixed name can be more easily\nachieved with having no <tt>match:</tt> at all and just\nusing the ID (see above). (<tt>NetworkManager</tt>: as of\nv1.14.0)</p>\n\n<p style=\"margin-left:22%;\"><b>macaddress</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Device&rsquo;s MAC address in\nthe form &ldquo;XX:XX:XX:XX:XX:XX&rdquo;. Globs are not\nallowed.</p>\n\n<p style=\"margin-left:22%;\"><b>driver</b> (scalar or\nsequence of scalars) &ndash; sequence since <b>0.104</b></p>\n\n<p style=\"margin-left:32%;\">Kernel driver name,\ncorresponding to the <tt>DRIVER</tt> udev property. A\nsequence of globs is supported, any of which must match.\nMatching on driver is <i>only</i> supported with\nnetworkd.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Examples:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"2%\"></td>\n<td width=\"43%\">\n\n\n<p>all cards on second PCI bus:</p></td>\n<td width=\"32%\">\n</td></tr>\n</table>\n\n<pre style=\"margin-left:35%; margin-top: 1em\"> match:\n   name: enp2*</pre>\n\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">&bull;</p></td>\n<td width=\"2%\"></td>\n<td width=\"27%\">\n\n\n<p style=\"margin-top: 1em\">fixed MAC address:</p></td>\n<td width=\"48%\">\n</td></tr>\n</table>\n\n<pre style=\"margin-left:35%; margin-top: 1em\"> match:\n   macaddress: 11:22:33:AA:BB:FF</pre>\n\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">&bull;</p></td>\n<td width=\"2%\"></td>\n<td width=\"41%\">\n\n\n<p style=\"margin-top: 1em\">first card of driver\n<tt>ixgbe</tt>:</p> </td>\n<td width=\"34%\">\n</td></tr>\n</table>\n\n<pre style=\"margin-left:35%; margin-top: 1em\"> match:\n   driver: ixgbe\n   name: en*s0</pre>\n\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\">&bull;</p></td>\n<td width=\"2%\"></td>\n<td width=\"75%\">\n\n\n<p style=\"margin-top: 1em\">first card with a driver\nmatching <tt>bcmgenet</tt> or <tt>smsc*</tt>:</p></td></tr>\n</table>\n\n<pre style=\"margin-left:35%; margin-top: 1em\"> match:\n   driver: [&quot;bcmgenet&quot;, &quot;smsc*&quot;]\n   name: en*</pre>\n\n\n<p style=\"margin-left:11%;\"><b>set-name</b> (scalar)</p>\n\n<p style=\"margin-left:22%;\">When matching on unique\nproperties such as path or MAC, or with additional\nassumptions such as &ldquo;there will only ever be one wifi\ndevice&rdquo;, match rules can be written so that they only\nmatch one device. Then this property can be used to give\nthat device a more specific/desirable/nicer name than the\ndefault from udev&rsquo;s ifnames. Any additional device\nthat satisfies the match rules will then fail to get renamed\nand keep the original kernel name (and dmesg will show an\nerror).</p>\n\n<p style=\"margin-left:11%;\"><b>wakeonlan</b> (bool)</p>\n\n<p style=\"margin-left:22%;\">Enable wake on LAN. Off by\ndefault.</p>\n\n<p style=\"margin-left:11%;\"><b>emit-lldp</b> (bool) &ndash;\nsince <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">(networkd backend only) Whether\nto emit LLDP packets. Off by default.</p>\n\n\n<p style=\"margin-left:11%;\"><b>receive-checksum-offload</b>\n(bool) &ndash; since <b>0.104</b></p>\n\n<p style=\"margin-left:22%;\">(networkd backend only) If set\nto true (false), the hardware offload for checksumming of\ningress network packets is enabled (disabled). When unset,\nthe kernel&rsquo;s default will be used.</p>\n\n\n<p style=\"margin-left:11%;\"><b>transmit-checksum-offload</b>\n(bool) &ndash; since <b>0.104</b></p>\n\n<p style=\"margin-left:22%;\">(networkd backend only) If set\nto true (false), the hardware offload for checksumming of\negress network packets is enabled (disabled). When unset,\nthe kernel&rsquo;s default will be used.</p>\n\n\n<p style=\"margin-left:11%;\"><b>tcp-segmentation-offload</b>\n(bool) &ndash; since <b>0.104</b></p>\n\n<p style=\"margin-left:22%;\">(networkd backend only) If set\nto true (false), the TCP Segmentation Offload (TSO) is\nenabled (disabled). When unset, the kernel&rsquo;s default\nwill be used.</p>\n\n\n<p style=\"margin-left:11%;\"><b>tcp6-segmentation-offload</b>\n(bool) &ndash; since <b>0.104</b></p>\n\n<p style=\"margin-left:22%;\">(networkd backend only) If set\nto true (false), the TCP6 Segmentation Offload\n(tx-tcp6-segmentation) is enabled (disabled). When unset,\nthe kernel&rsquo;s default will be used.</p>\n\n\n<p style=\"margin-left:11%;\"><b>generic-segmentation-offload</b>\n(bool) &ndash; since <b>0.104</b></p>\n\n<p style=\"margin-left:22%;\">(networkd backend only) If set\nto true (false), the Generic Segmentation Offload (GSO) is\nenabled (disabled). When unset, the kernel&rsquo;s default\nwill be used.</p>\n\n<p style=\"margin-left:11%;\"><b>generic-receive-offload</b>\n(bool) &ndash; since <b>0.104</b></p>\n\n<p style=\"margin-left:22%;\">(networkd backend only) If set\nto true (false), the Generic Receive Offload (GRO) is\nenabled (disabled). When unset, the kernel&rsquo;s default\nwill be used.</p>\n\n<p style=\"margin-left:11%;\"><b>large-receive-offload</b>\n(bool) &ndash; since <b>0.104</b></p>\n\n<p style=\"margin-left:22%;\">(networkd backend only) If set\nto true (false), the Large Receive Offload (LRO) is enabled\n(disabled). When unset, the kernel&rsquo;s default will be\nused.</p>\n\n<p style=\"margin-left:11%;\"><b>openvswitch</b> (mapping)\n&ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:22%;\">This provides additional\nconfiguration for the network device for openvswitch. If\nopenvswitch is not available on the system, netplan treats\nthe presence of openvswitch configuration as an error.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Any supported\nnetwork device that is declared with the\n<tt>openvswitch</tt> mapping (or any bond/bridge that\nincludes an interface with an openvswitch configuration)\nwill be created in openvswitch instead of the defined\nrenderer. In the case of a <tt>vlan</tt> definition declared\nthe same way, netplan will create a fake VLAN bridge in\nopenvswitch with the requested vlan properties. <b><br>\nexternal-ids</b> (mapping) &ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">Passed-through directly to\nOpenVSwitch</p>\n\n<p style=\"margin-left:22%;\"><b>other-config</b> (mapping)\n&ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">Passed-through directly to\nOpenVSwitch</p>\n\n<p style=\"margin-left:22%;\"><b>lacp</b> (scalar) &ndash;\nsince <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">Valid for bond interfaces.\nAccepts <tt>active</tt>, <tt>passive</tt> or <tt>off</tt>\n(the default).</p>\n\n<p style=\"margin-left:22%;\"><b>fail-mode</b> (scalar)\n&ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">Valid for bridge interfaces.\nAccepts <tt>secure</tt> or <tt>standalone</tt> (the\ndefault).</p>\n\n<p style=\"margin-left:22%;\"><b>mcast-snooping</b> (bool)\n&ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">Valid for bridge interfaces.\nFalse by default.</p>\n\n<p style=\"margin-left:22%;\"><b>protocols</b> (sequence of\nscalars) &ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">Valid for bridge interfaces or\nthe network section. List of protocols to be used when\nnegotiating a connection with the controller. Accepts\n<tt>OpenFlow10</tt>, <tt>OpenFlow11</tt>,\n<tt>OpenFlow12</tt>, <tt>OpenFlow13</tt>,\n<tt>OpenFlow14</tt>, <tt>OpenFlow15</tt> and\n<tt>OpenFlow16</tt>.</p>\n\n<p style=\"margin-left:22%;\"><b>rstp</b> (bool) &ndash;\nsince <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">Valid for bridge interfaces.\nFalse by default.</p>\n\n<p style=\"margin-left:22%;\"><b>controller</b> (mapping)\n&ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">Valid for bridge interfaces.\nSpecify an external OpenFlow controller. <b><br>\naddresses</b> (sequence of scalars)</p>\n\n<p style=\"margin-left:43%;\">Set the list of addresses to\nuse for the controller targets. The syntax of these\naddresses is as defined in ovs-vsctl(8). Example: addresses:\n<tt>[tcp:127.0.0.1:6653,\n&quot;ssl:[fe80::1234%eth0]:6653&quot;]</tt></p>\n\n<p style=\"margin-left:32%;\"><b>connection-mode</b>\n(scalar)</p>\n\n<p style=\"margin-left:43%;\">Set the connection mode for the\ncontroller. Supported options are <tt>in-band</tt> and\n<tt>out-of-band</tt>. The default is <tt>in-band</tt>.</p>\n\n<p style=\"margin-left:22%;\"><b>ports</b> (sequence of\nsequence of scalars) &ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">OpenvSwitch patch ports. Each\nport is declared as a pair of names which can be referenced\nas interfaces in dependent virtual devices (bonds,\nbridges).</p>\n\n<p style=\"margin-left:32%; margin-top: 1em\">Example:</p>\n\n<pre style=\"margin-left:43%; margin-top: 1em\"> openvswitch:\n   ports:\n     - [patch0-1, patch1-0]</pre>\n\n\n<p style=\"margin-left:22%;\"><b>ssl</b> (mapping) &ndash;\nsince <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">Valid for global\n<tt>openvswitch</tt> settings. Options for configuring SSL\nserver endpoint for the switch. <b><br>\nca-cert</b> (scalar)</p>\n\n<p style=\"margin-left:43%;\">Path to a file containing the\nCA certificate to be used.</p>\n\n<p style=\"margin-left:32%;\"><b>certificate</b> (scalar)</p>\n\n<p style=\"margin-left:43%;\">Path to a file containing the\nserver certificate.</p>\n\n<p style=\"margin-left:32%;\"><b>private-key</b> (scalar)</p>\n\n<p style=\"margin-left:43%;\">Path to a file containing the\nprivate key for the server.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Common\nproperties for all device types <br>\nrenderer</b> (scalar)</p>\n\n<p style=\"margin-left:22%;\">Use the given networking\nbackend for this definition. Currently supported are\n<tt>networkd</tt> and <tt>NetworkManager</tt>. This property\ncan be specified globally in <tt>network:</tt>, for a device\ntype (in e. g. <tt>ethernets:</tt>) or for a particular\ndevice definition. Default is <tt>networkd</tt>.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">(Since 0.99)\nThe <tt>renderer</tt> property has one additional acceptable\nvalue for vlan objects (i. e. defined in <tt>vlans:</tt>):\n<tt>sriov</tt>. If a vlan is defined with the <tt>sriov</tt>\nrenderer for an SR-IOV Virtual Function interface, this\ncauses netplan to set up a hardware VLAN filter for it.\nThere can be only one defined per VF.</p>\n\n<p style=\"margin-left:11%;\"><b>dhcp4</b> (bool)</p>\n\n<p style=\"margin-left:22%;\">Enable DHCP for IPv4. Off by\ndefault.</p>\n\n<p style=\"margin-left:11%;\"><b>dhcp6</b> (bool)</p>\n\n<p style=\"margin-left:22%;\">Enable DHCP for IPv6. Off by\ndefault. This covers both stateless DHCP - where the DHCP\nserver supplies information like DNS nameservers but not the\nIP address - and stateful DHCP, where the server provides\nboth the address and the other information.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">If you are in\nan IPv6-only environment with completely stateless\nautoconfiguration (SLAAC with RDNSS), this option can be set\nto cause the interface to be brought up. (Setting accept-ra\nalone is not sufficient.) Autoconfiguration will still\nhonour the contents of the router advertisement and only use\nDHCP if requested in the RA.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Note that\n<b>rdnssd</b>(8) is required to use RDNSS with networkd. No\nextra software is required for NetworkManager.</p>\n\n<p style=\"margin-left:11%;\"><b>ipv6-mtu</b> (scalar)\n&ndash; since <b>0.98</b></p>\n\n<p style=\"margin-left:22%;\">Set the IPv6 MTU (only\nsupported with <tt>networkd</tt> backend). Note that needing\nto set this is an unusual requirement.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>Requires\nfeature: ipv6-mtu</b></p>\n\n<p style=\"margin-left:11%;\"><b>ipv6-privacy</b> (bool)</p>\n\n<p style=\"margin-left:22%;\">Enable IPv6 Privacy Extensions\n(RFC 4941) for the specified interface, and prefer temporary\naddresses. Defaults to false - no privacy extensions. There\nis currently no way to have a private address but prefer the\npublic address.</p>\n\n<p style=\"margin-left:11%;\"><b>link-local</b> (sequence of\nscalars)</p>\n\n<p style=\"margin-left:22%;\">Configure the link-local\naddresses to bring up. Valid options are &rsquo;ipv4&rsquo;\nand &rsquo;ipv6&rsquo;, which respectively allow enabling\nIPv4 and IPv6 link local addressing. If this field is not\ndefined, the default is to enable only IPv6 link-local\naddresses. If the field is defined but configured as an\nempty set, IPv6 link-local addresses are disabled as well as\nIPv4 link- local addresses.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This feature\nenables or disables link-local addresses for a protocol, but\nthe actual implementation differs per backend. On networkd,\nthis directly changes the behavior and may add an extra\naddress on an interface. When using the NetworkManager\nbackend, enabling link-local has no effect if the interface\nalso has DHCP enabled.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Example to\nenable only IPv4 link-local: <tt>link-local: [ ipv4 ]</tt>\nExample to enable all link-local addresses: <tt>link-local:\n[ ipv4, ipv6 ]</tt> Example to disable all link-local\naddresses: <tt>link-local: [ ]</tt></p>\n\n<p style=\"margin-left:11%;\"><b>ignore-carrier</b> (bool)\n&ndash; since <b>0.104</b></p>\n\n<p style=\"margin-left:22%;\">(networkd backend only) Allow\nthe specified interface to be configured even if it has no\ncarrier.</p>\n\n<p style=\"margin-left:11%;\"><b>critical</b> (bool)</p>\n\n<p style=\"margin-left:22%;\">Designate the connection as\n&ldquo;critical to the system&rdquo;, meaning that special\ncare will be taken by to not release the assigned IP when\nthe daemon is restarted. (not recognized by\nNetworkManager)</p>\n\n<p style=\"margin-left:11%;\"><b>dhcp-identifier</b>\n(scalar)</p>\n\n<p style=\"margin-left:22%;\">(networkd backend only) Sets\nthe source of DHCPv4 client identifier. If <tt>mac</tt> is\nspecified, the MAC address of the link is used. If this\noption is omitted, or if <tt>duid</tt> is specified,\nnetworkd will generate an RFC4361-compliant client\nidentifier for the interface by combining the link&rsquo;s\nIAID and DUID.</p>\n\n<p style=\"margin-left:11%;\"><b>dhcp4-overrides</b>\n(mapping)</p>\n\n<p style=\"margin-left:22%;\">(networkd backend only)\nOverrides default DHCP behavior; see the <tt>DHCP\nOverrides</tt> section below.</p>\n\n<p style=\"margin-left:11%;\"><b>dhcp6-overrides</b>\n(mapping)</p>\n\n<p style=\"margin-left:22%;\">(networkd backend only)\nOverrides default DHCP behavior; see the <tt>DHCP\nOverrides</tt> section below.</p>\n\n<p style=\"margin-left:11%;\"><b>accept-ra</b> (bool)</p>\n\n<p style=\"margin-left:22%;\">Accept Router Advertisement\nthat would have the kernel configure IPv6 by itself. When\nenabled, accept Router Advertisements. When disabled, do not\nrespond to Router Advertisements. If unset use the host\nkernel default setting.</p>\n\n<p style=\"margin-left:11%;\"><b>addresses</b> (sequence of\nscalars and mappings)</p>\n\n<p style=\"margin-left:22%;\">Add static addresses to the\ninterface in addition to the ones received through DHCP or\nRA. Each sequence entry is in CIDR notation, i. e. of the\nform <tt>addr/prefixlen</tt>. <tt>addr</tt> is an IPv4 or\nIPv6 address as recognized by <a href=\"https://man.page/3/inet_pton\">inet_pton(3)</a> and\n<tt>prefixlen</tt> the number of bits of the subnet.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">For virtual\ndevices (bridges, bonds, vlan) if there is no address\nconfigured and DHCP is disabled, the interface may still be\nbrought online, but will not be addressable from the\nnetwork.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">In addition to\nthe addresses themselves one can specify configuration\nparameters as mappings. Current supported options are:\n<b><br>\nlifetime</b> (scalar) &ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">Default: <tt>forever</tt>. This\ncan be <tt>forever</tt> or <tt>0</tt> and corresponds to the\n<tt>PreferredLifetime</tt> option in\n<tt>systemd-networkd</tt>&rsquo;s Address section. Currently\nsupported on the <tt>networkd</tt> backend only.</p>\n\n<p style=\"margin-left:22%;\"><b>label</b> (scalar) &ndash;\nsince <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">An IP address label, equivalent\nto the <tt>ip address label</tt> command. Currently\nsupported on the <tt>networkd</tt> backend only.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Example:\n<tt>addresses: [192.168.14.2/24,\n&quot;2001:1::1/64&quot;]</tt></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Example:</p>\n\n<pre style=\"margin-left:32%; margin-top: 1em\">ethernets:\n  eth0:\n    addresses:\n      - 10.0.0.15/24:\n          lifetime: 0\n          label: &quot;maas&quot;\n      - &quot;2001:1::1/64&quot;</pre>\n\n\n<p style=\"margin-left:11%;\"><b>ipv6-address-generation</b>\n(scalar) &ndash; since <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">Configure method for creating\nthe address for use with RFC4862 IPv6 Stateless Address\nAutoconfiguration (only supported with\n<tt>NetworkManager</tt> backend). Possible values are\n<tt>eui64</tt> or <tt>stable-privacy</tt>.</p>\n\n<p style=\"margin-left:11%;\"><b>ipv6-address-token</b>\n(scalar) &ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:22%;\">Define an IPv6 address token\nfor creating a static interface identifier for IPv6\nStateless Address Autoconfiguration. This is mutually\nexclusive with <tt>ipv6-address-generation</tt>.</p>\n\n<p style=\"margin-left:11%;\"><b>gateway4</b>,\n<b>gateway6</b> (scalar)</p>\n\n<p style=\"margin-left:22%;\">Deprecated, see <tt>Default\nroutes</tt>. Set default gateway for IPv4/6, for manual\naddress configuration. This requires setting\n<tt>addresses</tt> too. Gateway IPs must be in a form\nrecognized by <a href=\"https://man.page/3/inet_pton\">inet_pton(3)</a>. There should only be a\nsingle gateway per IP address family set in your global\nconfig, to make it unambiguous. If you need multiple default\nroutes, please define them via <tt>routing-policy</tt>.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Example for\nIPv4: <tt>gateway4: 172.16.0.1</tt> Example for IPv6:\n<tt>gateway6: &quot;2001:4::1&quot;</tt></p>\n\n<p style=\"margin-left:11%;\"><b>nameservers</b>\n(mapping)</p>\n\n<p style=\"margin-left:22%;\">Set DNS servers and search\ndomains, for manual address configuration. There are two\nsupported fields: <tt>addresses:</tt> is a list of IPv4 or\nIPv6 addresses similar to <tt>gateway*</tt>, and\n<tt>search:</tt> is a list of search domains.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Example:</p>\n\n<pre style=\"margin-left:32%; margin-top: 1em\">ethernets:\n  id0:\n    [...]\n    nameservers:\n      search: [lab, home]\n      addresses: [8.8.8.8, &quot;FEDC::1&quot;]</pre>\n\n\n<p style=\"margin-left:11%;\"><b>macaddress</b> (scalar)</p>\n\n<p style=\"margin-left:22%;\">Set the device&rsquo;s MAC\naddress. The MAC address must be in the form\n&ldquo;XX:XX:XX:XX:XX:XX&rdquo;.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>Note:</b>\nThis will not work reliably for devices matched by name only\nand rendered by networkd, due to interactions with device\nrenaming in udev. Match devices by MAC when setting MAC\naddresses.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Example:</p>\n\n<pre style=\"margin-left:32%; margin-top: 1em\">ethernets:\n  id0:\n    match:\n      macaddress: 52:54:00:6b:3c:58\n    [...]\n    macaddress: 52:54:00:6b:3c:59</pre>\n\n\n<p style=\"margin-left:11%;\"><b>mtu</b> (scalar)</p>\n\n<p style=\"margin-left:22%;\">Set the Maximum Transmission\nUnit for the interface. The default is 1500. Valid values\ndepend on your network interface.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>Note:</b>\nThis will not work reliably for devices matched by name only\nand rendered by networkd, due to interactions with device\nrenaming in udev. Match devices by MAC when setting MTU.</p>\n\n<p style=\"margin-left:11%;\"><b>optional</b> (bool)</p>\n\n<p style=\"margin-left:22%;\">An optional device is not\nrequired for booting. Normally, networkd will wait some time\nfor device to become configured before proceeding with\nbooting. However, if a device is marked as optional,\nnetworkd will not wait for it. This is <i>only</i> supported\nby networkd, and the default is false.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Example:</p>\n\n<pre style=\"margin-left:32%; margin-top: 1em\">ethernets:\n  eth7:\n    # this is plugged into a test network that is often\n    # down - don't wait for it to come up during boot.\n    dhcp4: true\n    optional: true</pre>\n\n\n<p style=\"margin-left:11%;\"><b>optional-addresses</b>\n(sequence of scalars)</p>\n\n<p style=\"margin-left:22%;\">Specify types of addresses that\nare not required for a device to be considered online. This\nchanges the behavior of backends at boot time to avoid\nwaiting for addresses that are marked optional, and thus\nconsider the interface as &ldquo;usable&rdquo; sooner. This\ndoes not disable these addresses, which will be brought up\nanyway.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Example:</p>\n\n<pre style=\"margin-left:32%; margin-top: 1em\">ethernets:\n  eth7:\n    dhcp4: true\n    dhcp6: true\n    optional-addresses: [ ipv4-ll, dhcp6 ]</pre>\n\n\n<p style=\"margin-left:11%;\"><b>activation-mode</b> (scalar)\n&ndash; since <b>0.103</b></p>\n\n<p style=\"margin-left:22%;\">Allows specifying the\nmanagement policy of the selected interface. By default,\nnetplan brings up any configured interface if possible.\nUsing the <tt>activation-mode</tt> setting users can\noverride that behavior by either specifying <tt>manual</tt>,\nto hand over control over the interface state to the\nadministrator or (for networkd backend <i>only</i>)\n<tt>off</tt> to force the link in a down state at all times.\nAny interface with <tt>activation-mode</tt> defined is\nimplicitly considered <tt>optional</tt>. Supported\nofficially as of <tt>networkd</tt> v248+.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Example:</p>\n\n<pre style=\"margin-left:32%; margin-top: 1em\">ethernets:\n  eth1:\n    # this interface will not be put into an UP state automatically\n    dhcp4: true\n    activation-mode: manual</pre>\n\n\n<p style=\"margin-left:11%;\"><b>routes</b> (sequence of\nmappings)</p>\n\n<p style=\"margin-left:22%;\">Configure static routing for\nthe device; see the <tt>Routing</tt> section below.</p>\n\n<p style=\"margin-left:11%;\"><b>routing-policy</b> (sequence\nof mappings)</p>\n\n<p style=\"margin-left:22%;\">Configure policy routing for\nthe device; see the <tt>Routing</tt> section below.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>DHCP\nOverrides</b> <br>\nSeveral DHCP behavior overrides are available. Most\ncurrently only have any effect when using the\n<tt>networkd</tt> backend, with the exception of\n<tt>use-routes</tt> and <tt>route-metric</tt>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Overrides only\nhave an effect if the corresponding <tt>dhcp4</tt> or\n<tt>dhcp6</tt> is set to <tt>true</tt>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If both\n<tt>dhcp4</tt> and <tt>dhcp6</tt> are <tt>true</tt>, the\n<tt>networkd</tt> backend requires that\n<tt>dhcp4-overrides</tt> and <tt>dhcp6-overrides</tt>\ncontain the same keys and values. If the values do not\nmatch, an error will be shown and the network configuration\nwill not be applied.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">When using the\nNetworkManager backend, different values may be specified\nfor <tt>dhcp4-overrides</tt> and <tt>dhcp6-overrides</tt>,\nand will be applied to the DHCP client processes as\nspecified in the netplan YAML. <b><br>\ndhcp4-overrides</b>, <b>dhcp6-overrides</b> (mapping)</p>\n\n<p style=\"margin-left:22%;\">The <tt>dhcp4-overrides</tt>\nand <tt>dhcp6-overrides</tt> mappings override the default\nDHCP behavior. <b><br>\nuse-dns</b> (bool)</p>\n\n<p style=\"margin-left:32%;\">Default: <tt>true</tt>. When\n<tt>true</tt>, the DNS servers received from the DHCP server\nwill be used and take precedence over any statically\nconfigured ones. Currently only has an effect on the\n<tt>networkd</tt> backend.</p>\n\n<p style=\"margin-left:22%;\"><b>use-ntp</b> (bool)</p>\n\n<p style=\"margin-left:32%;\">Default: <tt>true</tt>. When\n<tt>true</tt>, the NTP servers received from the DHCP server\nwill be used by systemd-timesyncd and take precedence over\nany statically configured ones. Currently only has an effect\non the <tt>networkd</tt> backend.</p>\n\n<p style=\"margin-left:22%;\"><b>send-hostname</b> (bool)</p>\n\n<p style=\"margin-left:32%;\">Default: <tt>true</tt>. When\n<tt>true</tt>, the machine&rsquo;s hostname will be sent to\nthe DHCP server. Currently only has an effect on the\n<tt>networkd</tt> backend.</p>\n\n<p style=\"margin-left:22%;\"><b>use-hostname</b> (bool)</p>\n\n<p style=\"margin-left:32%;\">Default: <tt>true</tt>. When\n<tt>true</tt>, the hostname received from the DHCP server\nwill be set as the transient hostname of the system.\nCurrently only has an effect on the <tt>networkd</tt>\nbackend.</p>\n\n<p style=\"margin-left:22%;\"><b>use-mtu</b> (bool)</p>\n\n<p style=\"margin-left:32%;\">Default: <tt>true</tt>. When\n<tt>true</tt>, the MTU received from the DHCP server will be\nset as the MTU of the network interface. When\n<tt>false</tt>, the MTU advertised by the DHCP server will\nbe ignored. Currently only has an effect on the\n<tt>networkd</tt> backend.</p>\n\n<p style=\"margin-left:22%;\"><b>hostname</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Use this value for the hostname\nwhich is sent to the DHCP server, instead of machine&rsquo;s\nhostname. Currently only has an effect on the\n<tt>networkd</tt> backend.</p>\n\n<p style=\"margin-left:22%;\"><b>use-routes</b> (bool)</p>\n\n<p style=\"margin-left:32%;\">Default: <tt>true</tt>. When\n<tt>true</tt>, the routes received from the DHCP server will\nbe installed in the routing table normally. When set to\n<tt>false</tt>, routes from the DHCP server will be ignored:\nin this case, the user is responsible for adding static\nroutes if necessary for correct network operation. This\nallows users to avoid installing a default gateway for\ninterfaces configured via DHCP. Available for both the\n<tt>networkd</tt> and <tt>NetworkManager</tt> backends.</p>\n\n<p style=\"margin-left:22%;\"><b>route-metric</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Use this value for default\nmetric for automatically-added routes. Use this to\nprioritize routes for devices by setting a lower metric on a\npreferred interface. Available for both the\n<tt>networkd</tt> and <tt>NetworkManager</tt> backends.</p>\n\n<p style=\"margin-left:22%;\"><b>use-domains</b> (scalar)\n&ndash; since <b>0.98</b></p>\n\n<p style=\"margin-left:32%;\">Takes a boolean, or the special\nvalue &ldquo;route&rdquo;. When true, the domain name\nreceived from the DHCP server will be used as DNS search\ndomain over this link, similar to the effect of the Domains=\nsetting. If set to &ldquo;route&rdquo;, the domain name\nreceived from the DHCP server will be used for routing DNS\nqueries only, but not for searching, similar to the effect\nof the Domains= setting when the argument is prefixed with\n&ldquo;~&rdquo;.</p>\n\n<p style=\"margin-left:32%; margin-top: 1em\"><b>Requires\nfeature: dhcp-use-domains</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Routing</b>\n<br>\nComplex routing is possible with netplan. Standard static\nroutes as well as policy routing using routing tables are\nsupported via the <tt>networkd</tt> backend.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">These options\nare available for all types of interfaces.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Default\nroutes</b> <br>\nThe most common need for routing concerns the definition of\ndefault routes to reach the wider Internet. Those default\nroutes can only defined once per IP family and routing\ntable. A typical example would look like the following:</p>\n\n<pre style=\"margin-left:22%; margin-top: 1em\">eth0:\n  [...]\n  routes:\n  - to: default # could be 0/0 or 0.0.0.0/0 optionally\n    via: 10.0.0.1\n    metric: 100\n    on-link: true\n  - to: default # could be ::/0 optionally\n    via: cf02:de:ad:be:ef::2\neth1:\n  [...]\n  routes:\n  - to: default\n    via: 172.134.67.1\n    metric: 100\n    on-link: true\n    table: 76 # Not on the main routing table, does not conflict with the eth0 default route</pre>\n\n\n<p style=\"margin-left:11%;\"><b>routes</b> (mapping)</p>\n\n<p style=\"margin-left:22%;\">The <tt>routes</tt> block\ndefines standard static routes for an interface. At least\n<tt>to</tt> must be specified. If type is <tt>local</tt> or\n<tt>nat</tt> a default scope of <tt>host</tt> is assumed. If\ntype is <tt>unicast</tt> and no gateway (<tt>via</tt>) is\ngiven or type is <tt>broadcast</tt>, <tt>multicast</tt> or\n<tt>anycast</tt> a default scope of <tt>link</tt> is\nassumend. Otherwise, a <tt>global</tt> scope is the default\nsetting.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">For\n<tt>from</tt>, <tt>to</tt>, and <tt>via</tt>, both IPv4 and\nIPv6 addresses are recognized, and must be in the form\n<tt>addr/prefixlen</tt> or <tt>addr</tt>. <b><br>\nfrom</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Set a source IP address for\ntraffic going through the route. (<tt>NetworkManager</tt>:\nas of v1.8.0)</p>\n\n<p style=\"margin-left:22%;\"><b>to</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Destination address for the\nroute.</p>\n\n<p style=\"margin-left:22%;\"><b>via</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Address to the gateway to use\nfor this route.</p>\n\n<p style=\"margin-left:22%;\"><b>on-link</b> (bool)</p>\n\n<p style=\"margin-left:32%;\">When set to &ldquo;true&rdquo;,\nspecifies that the route is directly connected to the\ninterface. (<tt>NetworkManager</tt>: as of v1.12.0 for IPv4\nand v1.18.0 for IPv6)</p>\n\n<p style=\"margin-left:22%;\"><b>metric</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">The relative priority of the\nroute. Must be a positive integer value.</p>\n\n<p style=\"margin-left:22%;\"><b>type</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">The type of route. Valid\noptions are &ldquo;unicast&rdquo; (default),\n&ldquo;anycast&rdquo;, &ldquo;blackhole&rdquo;,\n&ldquo;broadcast&rdquo;, &ldquo;local&rdquo;,\n&ldquo;multicast&rdquo;, &ldquo;nat&rdquo;,\n&ldquo;prohibit&rdquo;, &ldquo;throw&rdquo;,\n&ldquo;unreachable&rdquo; or &ldquo;xresolve&rdquo;.</p>\n\n<p style=\"margin-left:22%;\"><b>scope</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">The route scope, how\nwide-ranging it is to the network. Possible values are\n&ldquo;global&rdquo;, &ldquo;link&rdquo;, or\n&ldquo;host&rdquo;.</p>\n\n<p style=\"margin-left:22%;\"><b>table</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">The table number to use for the\nroute. In some scenarios, it may be useful to set routes in\na separate routing table. It may also be used to refer to\nrouting policy rules which also accept a <tt>table</tt>\nparameter. Allowed values are positive integers starting\nfrom 1. Some values are already in use to refer to specific\nrouting tables: see <tt>/etc/iproute2/rt_tables</tt>.\n(<tt>NetworkManager</tt>: as of v1.10.0)</p>\n\n<p style=\"margin-left:22%;\"><b>mtu</b> (scalar) &ndash;\nsince <b>0.101</b></p>\n\n<p style=\"margin-left:32%;\">The MTU to be used for the\nroute, in bytes. Must be a positive integer value.</p>\n\n<p style=\"margin-left:22%;\"><b>congestion-window</b>\n(scalar) &ndash; since <b>0.102</b></p>\n\n<p style=\"margin-left:32%;\">The congestion window to be\nused for the route, represented by number of segments. Must\nbe a positive integer value.</p>\n\n\n<p style=\"margin-left:22%;\"><b>advertised-receive-window</b>\n(scalar) &ndash; since <b>0.102</b></p>\n\n<p style=\"margin-left:32%;\">The receive window to be\nadvertised for the route, represented by number of segments.\nMust be a positive integer value.</p>\n\n<p style=\"margin-left:11%;\"><b>routing-policy</b>\n(mapping)</p>\n\n<p style=\"margin-left:22%;\">The <tt>routing-policy</tt>\nblock defines extra routing policy for a network, where\ntraffic may be handled specially based on the source IP,\nfirewall marking, etc.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">For\n<tt>from</tt>, <tt>to</tt>, both IPv4 and IPv6 addresses are\nrecognized, and must be in the form <tt>addr/prefixlen</tt>\nor <tt>addr</tt>. <b><br>\nfrom</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Set a source IP address to\nmatch traffic for this policy rule.</p>\n\n<p style=\"margin-left:22%;\"><b>to</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Match on traffic going to the\nspecified destination.</p>\n\n<p style=\"margin-left:22%;\"><b>table</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">The table number to match for\nthe route. In some scenarios, it may be useful to set routes\nin a separate routing table. It may also be used to refer to\nroutes which also accept a <tt>table</tt> parameter. Allowed\nvalues are positive integers starting from 1. Some values\nare already in use to refer to specific routing tables: see\n<tt>/etc/iproute2/rt_tables</tt>.</p>\n\n<p style=\"margin-left:22%;\"><b>priority</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Specify a priority for the\nrouting policy rule, to influence the order in which routing\nrules are processed. A higher number means lower priority:\nrules are processed in order by increasing priority\nnumber.</p>\n\n<p style=\"margin-left:22%;\"><b>mark</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Have this routing policy rule\nmatch on traffic that has been marked by the iptables\nfirewall with this value. Allowed values are positive\nintegers starting from 1.</p>\n\n<p style=\"margin-left:22%;\"><b>type-of-service</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Match this policy rule based on\nthe type of service number applied to the traffic.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Authentication</b>\n<br>\nNetplan supports advanced authentication settings for\nethernet and wifi interfaces, as well as individual wifi\nnetworks, by means of the <tt>auth</tt> block. <b><br>\nauth</b> (mapping)</p>\n\n<p style=\"margin-left:22%;\">Specifies authentication\nsettings for a device of type <tt>ethernets:</tt>, or an\n<tt>access-points:</tt> entry on a <tt>wifis:</tt>\ndevice.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">The\n<tt>auth</tt> block supports the following properties:\n<b><br>\nkey-management</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">The supported key management\nmodes are <tt>none</tt> (no key management); <tt>psk</tt>\n(WPA with pre-shared key, common for home wifi);\n<tt>eap</tt> (WPA with EAP, common for enterprise wifi); and\n<tt>802.1x</tt> (used primarily for wired Ethernet\nconnections).</p>\n\n<p style=\"margin-left:22%;\"><b>password</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">The password string for EAP, or\nthe pre-shared key for WPA-PSK.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">The following\nproperties can be used if <tt>key-management</tt> is\n<tt>eap</tt> or <tt>802.1x</tt>: <b><br>\nmethod</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">The EAP method to use. The\nsupported EAP methods are <tt>tls</tt> (TLS), <tt>peap</tt>\n(Protected EAP), and <tt>ttls</tt> (Tunneled TLS).</p>\n\n<p style=\"margin-left:22%;\"><b>identity</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">The identity to use for\nEAP.</p>\n\n<p style=\"margin-left:22%;\"><b>anonymous-identity</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">The identity to pass over the\nunencrypted channel if the chosen EAP method supports\npassing a different tunnelled identity.</p>\n\n<p style=\"margin-left:22%;\"><b>ca-certificate</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Path to a file with one or more\ntrusted certificate authority (CA) certificates.</p>\n\n<p style=\"margin-left:22%;\"><b>client-certificate</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Path to a file containing the\ncertificate to be used by the client during\nauthentication.</p>\n\n<p style=\"margin-left:22%;\"><b>client-key</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Path to a file containing the\nprivate key corresponding to\n<tt>client-certificate</tt>.</p>\n\n<p style=\"margin-left:22%;\"><b>client-key-password</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Password to use to decrypt the\nprivate key specified in <tt>client-key</tt> if it is\nencrypted.</p>\n\n<p style=\"margin-left:22%;\"><b>phase2-auth</b> (scalar)\n&ndash; since <b>0.99</b></p>\n\n<p style=\"margin-left:32%;\">Phase 2 authentication\nmechanism.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Properties\nfor device type</b> <tt>ethernets:</tt> <br>\nEthernet device definitions, beyond common ones described\nabove, also support some additional properties that can be\nused for SR-IOV devices. <b><br>\nlink</b> (scalar) &ndash; since <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">(SR-IOV devices only) The\n<tt>link</tt> property declares the device as a Virtual\nFunction of the selected Physical Function device, as\nidentified by the given netplan id.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Example:</p>\n\n<pre style=\"margin-left:22%; margin-top: 1em\">ethernets:\n  enp1: {...}\n  enp1s16f1:\n    link: enp1</pre>\n\n\n<p style=\"margin-left:11%;\"><b>virtual-function-count</b>\n(scalar) &ndash; since <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">(SR-IOV devices only) In\ncertain special cases VFs might need to be configured\noutside of netplan. For such configurations\n<tt>virtual-function-count</tt> can be optionally used to\nset an explicit number of Virtual Functions for the given\nPhysical Function. If unset, the default is to create only\nas many VFs as are defined in the netplan configuration.\nThis should be used for special cases only.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>Requires\nfeature: sriov</b></p>\n\n<p style=\"margin-left:11%;\"><b>embedded-switch-mode</b>\n(scalar) &ndash; since <b>0.104</b></p>\n\n<p style=\"margin-left:22%;\">(SR-IOV devices only) Change\nthe operational mode of the embedded switch of a supported\nSmartNIC PCI device (e.g.&nbsp;Mellanox ConnectX-5).\nPossible values are <tt>switchdev</tt> or <tt>legacy</tt>,\nif unspecified the vendor&rsquo;s default configuration is\nused.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>Requires\nfeature: eswitch-mode</b></p>\n\n\n<p style=\"margin-left:11%;\"><b>delay-virtual-functions-rebind</b>\n(bool) &ndash; since <b>0.104</b></p>\n\n<p style=\"margin-left:22%;\">(SR-IOV devices only) Delay\nrebinding of SR-IOV virtual functions to its driver after\nchanging the embedded-switch-mode setting to a later stage.\nCan be enabled when bonding/VF LAG is in use. Defaults to\n<tt>false</tt>.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>Requires\nfeature: eswitch-mode</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Properties\nfor device type</b> <tt>modems:</tt> <br>\nGSM/CDMA modem configuration is only supported for the\n<tt>NetworkManager</tt> backend. <tt>systemd-networkd</tt>\ndoes not support modems.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Requires\nfeature: modems <br>\napn</b> (scalar) &ndash; since <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">Set the carrier APN (Access\nPoint Name). This can be omitted if <tt>auto-config</tt> is\nenabled.</p>\n\n<p style=\"margin-left:11%;\"><b>auto-config</b> (bool)\n&ndash; since <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">Specify whether to try and\nautoconfigure the modem by doing a lookup of the carrier\nagainst the Mobile Broadband Provider database. This may not\nwork for all carriers.</p>\n\n<p style=\"margin-left:11%;\"><b>device-id</b> (scalar)\n&ndash; since <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">Specify the device ID (as given\nby the WWAN management service) of the modem to match. This\ncan be found using <tt>mmcli</tt>.</p>\n\n<p style=\"margin-left:11%;\"><b>network-id</b> (scalar)\n&ndash; since <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">Specify the Network ID (GSM LAI\nformat). If this is specified, the device will not roam\nnetworks.</p>\n\n<p style=\"margin-left:11%;\"><b>number</b> (scalar) &ndash;\nsince <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">The number to dial to establish\nthe connection to the mobile broadband network. (Deprecated\nfor GSM)</p>\n\n<p style=\"margin-left:11%;\"><b>password</b> (scalar)\n&ndash; since <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">Specify the password used to\nauthenticate with the carrier network. This can be omitted\nif <tt>auto-config</tt> is enabled.</p>\n\n<p style=\"margin-left:11%;\"><b>pin</b> (scalar) &ndash;\nsince <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">Specify the SIM PIN to allow it\nto operate if a PIN is set.</p>\n\n<p style=\"margin-left:11%;\"><b>sim-id</b> (scalar) &ndash;\nsince <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">Specify the SIM unique\nidentifier (as given by the WWAN management service) which\nthis connection applies to. If given, the connection will\napply to any device also allowed by <tt>device-id</tt> which\ncontains a SIM card matching the given identifier.</p>\n\n<p style=\"margin-left:11%;\"><b>sim-operator-id</b> (scalar)\n&ndash; since <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">Specify the MCC/MNC string\n(such as &ldquo;310260&rdquo; or &ldquo;21601&rdquo;) which\nidentifies the carrier that this connection should apply to.\nIf given, the connection will apply to any device also\nallowed by <tt>device-id</tt> and <tt>sim-id</tt> which\ncontains a SIM card provisioned by the given operator.</p>\n\n<p style=\"margin-left:11%;\"><b>username</b> (scalar)\n&ndash; since <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">Specify the username used to\nauthentiate with the carrier network. This can be omitted if\n<tt>auto-config</tt> is enabled.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Properties\nfor device type</b> <tt>wifis:</tt> <br>\nNote that <tt>systemd-networkd</tt> does not natively\nsupport wifi, so you need wpasupplicant installed if you let\nthe <tt>networkd</tt> renderer handle wifi. <b><br>\naccess-points</b> (mapping)</p>\n\n<p style=\"margin-left:22%;\">This provides pre-configured\nconnections to NetworkManager. Note that users can of course\nselect other access points/SSIDs. The keys of the mapping\nare the SSIDs, and the values are mappings with the\nfollowing supported properties: <b><br>\npassword</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Enable WPA2 authentication and\nset the passphrase for it. If neither this nor an\n<tt>auth</tt> block are given, the network is assumed to be\nopen. The setting</p>\n\n<pre style=\"margin-left:43%; margin-top: 1em\">  password: &quot;S3kr1t&quot;</pre>\n\n\n<p style=\"margin-left:32%; margin-top: 1em\">is equivalent\nto</p>\n\n<pre style=\"margin-left:43%; margin-top: 1em\">  auth:\n    key-management: psk\n    password: &quot;S3kr1t&quot;</pre>\n\n\n<p style=\"margin-left:22%;\"><b>mode</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Possible access point modes are\n<tt>infrastructure</tt> (the default), <tt>ap</tt> (create\nan access point to which other devices can connect), and\n<tt>adhoc</tt> (peer to peer networks without a central\naccess point). <tt>ap</tt> is only supported with\nNetworkManager.</p>\n\n<p style=\"margin-left:22%;\"><b>bssid</b> (scalar) &ndash;\nsince <b>0.99</b></p>\n\n<p style=\"margin-left:32%;\">If specified, directs the\ndevice to only associate with the given access point.</p>\n\n<p style=\"margin-left:22%;\"><b>band</b> (scalar) &ndash;\nsince <b>0.99</b></p>\n\n<p style=\"margin-left:32%;\">Possible bands are\n<tt>5GHz</tt> (for 5GHz 802.11a) and <tt>2.4GHz</tt> (for\n2.4GHz 802.11), do not restrict the 802.11 frequency band of\nthe network if unset (the default).</p>\n\n<p style=\"margin-left:22%;\"><b>channel</b> (scalar) &ndash;\nsince <b>0.99</b></p>\n\n<p style=\"margin-left:32%;\">Wireless channel to use for the\nWi-Fi connection. Because channel numbers overlap between\nbands, this property takes effect only if the <tt>band</tt>\nproperty is also set.</p>\n\n<p style=\"margin-left:22%;\"><b>hidden</b> (bool) &ndash;\nsince <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">Set to <tt>true</tt> to change\nthe SSID scan technique for connecting to hidden WiFi\nnetworks. Note this may have slower performance compared to\n<tt>false</tt> (the default) when connecting to publicly\nbroadcast SSIDs.</p>\n\n<p style=\"margin-left:11%;\"><b>wakeonwlan</b> (sequence of\nscalars) &ndash; since <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">This enables WakeOnWLan on\nsupported devices. Not all drivers support all options. May\nbe any combination of <tt>any</tt>, <tt>disconnect</tt>,\n<tt>magic_pkt</tt>, <tt>gtk_rekey_failure</tt>,\n<tt>eap_identity_req</tt>, <tt>four_way_handshake</tt>,\n<tt>rfkill_release</tt> or <tt>tcp</tt> (NetworkManager\nonly). Or the exclusive <tt>default</tt> flag (the\ndefault).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Properties\nfor device type</b> <tt>bridges:</tt> <b><br>\ninterfaces</b> (sequence of scalars)</p>\n\n<p style=\"margin-left:22%;\">All devices matching this ID\nlist will be added to the bridge. This may be an empty list,\nin which case the bridge will be brought online with no\nmember interfaces.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Example:</p>\n\n<pre style=\"margin-left:32%; margin-top: 1em\">  ethernets:\n    switchports:\n      match: {name: &quot;enp2*&quot;}\n  [...]\n  bridges:\n    br0:\n      interfaces: [switchports]</pre>\n\n\n<p style=\"margin-left:11%;\"><b>parameters</b> (mapping)</p>\n\n<p style=\"margin-left:22%;\">Customization parameters for\nspecial bridging options. Time intervals may need to be\nexpressed as a number of seconds or milliseconds: the\ndefault value type is specified below. If necessary, time\nintervals can be qualified using a time suffix (such as\n&ldquo;s&rdquo; for seconds, &ldquo;ms&rdquo; for\nmilliseconds) to allow for more control over its behavior.\n<b><br>\nageing-time</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Set the period of time to keep\na MAC address in the forwarding database after a packet is\nreceived. This maps to the AgeingTimeSec= property when the\nnetworkd renderer is used. If no time suffix is specified,\nthe value will be interpreted as seconds.</p>\n\n<p style=\"margin-left:22%;\"><b>priority</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Set the priority value for the\nbridge. This value should be a number between <tt>0</tt> and\n<tt>65535</tt>. Lower values mean higher priority. The\nbridge with the higher priority will be elected as the root\nbridge.</p>\n\n<p style=\"margin-left:22%;\"><b>port-priority</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Set the port priority to . The\npriority value is a number between <tt>0</tt> and\n<tt>63</tt>. This metric is used in the designated port and\nroot port selection algorithms.</p>\n\n<p style=\"margin-left:22%;\"><b>forward-delay</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Specify the period of time the\nbridge will remain in Listening and Learning states before\ngetting to the Forwarding state. This field maps to the\nForwardDelaySec= property for the networkd renderer. If no\ntime suffix is specified, the value will be interpreted as\nseconds.</p>\n\n<p style=\"margin-left:22%;\"><b>hello-time</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Specify the interval between\ntwo hello packets being sent out from the root and\ndesignated bridges. Hello packets communicate information\nabout the network topology. When the networkd renderer is\nused, this maps to the HelloTimeSec= property. If no time\nsuffix is specified, the value will be interpreted as\nseconds.</p>\n\n<p style=\"margin-left:22%;\"><b>max-age</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Set the maximum age of a hello\npacket. If the last hello packet is older than that value,\nthe bridge will attempt to become the root bridge. This maps\nto the MaxAgeSec= property when the networkd renderer is\nused. If no time suffix is specified, the value will be\ninterpreted as seconds.</p>\n\n<p style=\"margin-left:22%;\"><b>path-cost</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Set the cost of a path on the\nbridge. Faster interfaces should have a lower cost. This\nallows a finer control on the network topology so that the\nfastest paths are available whenever possible.</p>\n\n<p style=\"margin-left:22%;\"><b>stp</b> (bool)</p>\n\n<p style=\"margin-left:32%;\">Define whether the bridge\nshould use Spanning Tree Protocol. The default value is\n&ldquo;true&rdquo;, which means that Spanning Tree should be\nused.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Properties\nfor device type</b> <tt>bonds:</tt> <b><br>\ninterfaces</b> (sequence of scalars)</p>\n\n<p style=\"margin-left:22%;\">All devices matching this ID\nlist will be added to the bond.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Example:</p>\n\n<pre style=\"margin-left:32%; margin-top: 1em\">  ethernets:\n    switchports:\n      match: {name: &quot;enp2*&quot;}\n  [...]\n  bonds:\n    bond0:\n      interfaces: [switchports]</pre>\n\n\n<p style=\"margin-left:11%;\"><b>parameters</b> (mapping)</p>\n\n<p style=\"margin-left:22%;\">Customization parameters for\nspecial bonding options. Time intervals may need to be\nexpressed as a number of seconds or milliseconds: the\ndefault value type is specified below. If necessary, time\nintervals can be qualified using a time suffix (such as\n&ldquo;s&rdquo; for seconds, &ldquo;ms&rdquo; for\nmilliseconds) to allow for more control over its behavior.\n<b><br>\nmode</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Set the bonding mode used for\nthe interfaces. The default is <tt>balance-rr</tt> (round\nrobin). Possible values are <tt>balance-rr</tt>,\n<tt>active-backup</tt>, <tt>balance-xor</tt>,\n<tt>broadcast</tt>, <tt>802.3ad</tt>, <tt>balance-tlb</tt>,\nand <tt>balance-alb</tt>. For OpenVSwitch\n<tt>active-backup</tt> and the additional modes\n<tt>balance-tcp</tt> and <tt>balance-slb</tt> are\nsupported.</p>\n\n<p style=\"margin-left:22%;\"><b>lacp-rate</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Set the rate at which LACPDUs\nare transmitted. This is only useful in 802.3ad mode.\nPossible values are <tt>slow</tt> (30 seconds, default), and\n<tt>fast</tt> (every second).</p>\n\n<p style=\"margin-left:22%;\"><b>mii-monitor-interval</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Specifies the interval for MII\nmonitoring (verifying if an interface of the bond has\ncarrier). The default is <tt>0</tt>; which disables MII\nmonitoring. This is equivalent to the MIIMonitorSec= field\nfor the networkd backend. If no time suffix is specified,\nthe value will be interpreted as milliseconds.</p>\n\n<p style=\"margin-left:22%;\"><b>min-links</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">The minimum number of links up\nin a bond to consider the bond interface to be up.</p>\n\n<p style=\"margin-left:22%;\"><b>transmit-hash-policy</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Specifies the transmit hash\npolicy for the selection of slaves. This is only useful in\nbalance-xor, 802.3ad and balance-tlb modes. Possible values\nare <tt>layer2</tt>, <tt>layer3+4</tt>, <tt>layer2+3</tt>,\n<tt>encap2+3</tt>, and <tt>encap3+4</tt>.</p>\n\n<p style=\"margin-left:22%;\"><b>ad-select</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Set the aggregation selection\nmode. Possible values are <tt>stable</tt>,\n<tt>bandwidth</tt>, and <tt>count</tt>. This option is only\nused in 802.3ad mode.</p>\n\n<p style=\"margin-left:22%;\"><b>all-slaves-active</b>\n(bool)</p>\n\n<p style=\"margin-left:32%;\">If the bond should drop\nduplicate frames received on inactive ports, set this option\nto <tt>false</tt>. If they should be delivered, set this\noption to <tt>true</tt>. The default value is false, and is\nthe desirable behavior in most situations.</p>\n\n<p style=\"margin-left:22%;\"><b>arp-interval</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Set the interval value for how\nfrequently ARP link monitoring should happen. The default\nvalue is <tt>0</tt>, which disables ARP monitoring. For the\nnetworkd backend, this maps to the ARPIntervalSec= property.\nIf no time suffix is specified, the value will be\ninterpreted as milliseconds.</p>\n\n<p style=\"margin-left:22%;\"><b>arp-ip-targets</b> (sequence\nof scalars)</p>\n\n<p style=\"margin-left:32%;\">IPs of other hosts on the link\nwhich should be sent ARP requests in order to validate that\na slave is up. This option is only used when\n<tt>arp-interval</tt> is set to a value other than\n<tt>0</tt>. At least one IP address must be given for ARP\nlink monitoring to function. Only IPv4 addresses are\nsupported. You can specify up to 16 IP addresses. The\ndefault value is an empty list.</p>\n\n<p style=\"margin-left:22%;\"><b>arp-validate</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Configure how ARP replies are\nto be validated when using ARP link monitoring. Possible\nvalues are <tt>none</tt>, <tt>active</tt>, <tt>backup</tt>,\nand <tt>all</tt>.</p>\n\n<p style=\"margin-left:22%;\"><b>arp-all-targets</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Specify whether to use any ARP\nIP target being up as sufficient for a slave to be\nconsidered up; or if all the targets must be up. This is\nonly used for <tt>active-backup</tt> mode when\n<tt>arp-validate</tt> is enabled. Possible values are\n<tt>any</tt> and <tt>all</tt>.</p>\n\n<p style=\"margin-left:22%;\"><b>up-delay</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Specify the delay before\nenabling a link once the link is physically up. The default\nvalue is <tt>0</tt>. This maps to the UpDelaySec= property\nfor the networkd renderer. This option is only valid for the\nmiimon link monitor. If no time suffix is specified, the\nvalue will be interpreted as milliseconds.</p>\n\n<p style=\"margin-left:22%;\"><b>down-delay</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Specify the delay before\ndisabling a link once the link has been lost. The default\nvalue is <tt>0</tt>. This maps to the DownDelaySec= property\nfor the networkd renderer. This option is only valid for the\nmiimon link monitor. If no time suffix is specified, the\nvalue will be interpreted as milliseconds.</p>\n\n<p style=\"margin-left:22%;\"><b>fail-over-mac-policy</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Set whether to set all slaves\nto the same MAC address when adding them to the bond, or how\nelse the system should handle MAC addresses. The possible\nvalues are <tt>none</tt>, <tt>active</tt>, and\n<tt>follow</tt>.</p>\n\n<p style=\"margin-left:22%;\"><b>gratuitous-arp</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Specify how many ARP packets to\nsend after failover. Once a link is up on a new slave, a\nnotification is sent and possibly repeated if this value is\nset to a number greater than <tt>1</tt>. The default value\nis <tt>1</tt> and valid values are between <tt>1</tt> and\n<tt>255</tt>. This only affects <tt>active-backup</tt>\nmode.</p>\n\n<p style=\"margin-left:32%; margin-top: 1em\">For historical\nreasons, the misspelling <tt>gratuitious-arp</tt> is also\naccepted and has the same function.</p>\n\n<p style=\"margin-left:22%;\"><b>packets-per-slave</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">In <tt>balance-rr</tt> mode,\nspecifies the number of packets to transmit on a slave\nbefore switching to the next. When this value is set to\n<tt>0</tt>, slaves are chosen at random. Allowable values\nare between <tt>0</tt> and <tt>65535</tt>. The default value\nis <tt>1</tt>. This setting is only used in\n<tt>balance-rr</tt> mode.</p>\n\n<p style=\"margin-left:22%;\"><b>primary-reselect-policy</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Set the reselection policy for\nthe primary slave. On failure of the active slave, the\nsystem will use this policy to decide how the new active\nslave will be chosen and how recovery will be handled. The\npossible values are <tt>always</tt>, <tt>better</tt>, and\n<tt>failure</tt>.</p>\n\n<p style=\"margin-left:22%;\"><b>resend-igmp</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">In modes <tt>balance-rr</tt>,\n<tt>active-backup</tt>, <tt>balance-tlb</tt> and\n<tt>balance-alb</tt>, a failover can switch IGMP traffic\nfrom one slave to another.</p>\n\n<p style=\"margin-left:32%; margin-top: 1em\">This parameter\nspecifies how many IGMP membership reports are issued on a\nfailover event. Values range from 0 to 255. 0 disables\nsending membership reports. Otherwise, the first membership\nreport is sent on failover and subsequent reports are sent\nat 200ms intervals.</p>\n\n<p style=\"margin-left:22%;\"><b>learn-packet-interval</b>\n(scalar)</p>\n\n<p style=\"margin-left:32%;\">Specify the interval between\nsending learning packets to each slave. The value range is\nbetween <tt>1</tt> and <tt>0x7fffffff</tt>. The default\nvalue is <tt>1</tt>. This option only affects\n<tt>balance-tlb</tt> and <tt>balance-alb</tt> modes. Using\nthe networkd renderer, this field maps to the\nLearnPacketIntervalSec= property. If no time suffix is\nspecified, the value will be interpreted as seconds.</p>\n\n<p style=\"margin-left:22%;\"><b>primary</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">Specify a device to be used as\na primary slave, or preferred device to use as a slave for\nthe bond (ie. the preferred device to send data through),\nwhenever it is available. This only affects\n<tt>active-backup</tt>, <tt>balance-alb</tt>, and\n<tt>balance-tlb</tt> modes.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Properties\nfor device type</b> <tt>tunnels:</tt> <br>\nTunnels allow traffic to pass as if it was between systems\non the same local network, although systems may be far from\neach other but reachable via the Internet. They may be used\nto support IPv6 traffic on a network where the ISP does not\nprovide the service, or to extend and &ldquo;connect&rdquo;\nseparate local networks. Please see\nhttps://en.wikipedia.org/wiki/Tunneling_protocol for more\ngeneral information about tunnels. <b><br>\nmode</b> (scalar)</p>\n\n<p style=\"margin-left:22%;\">Defines the tunnel mode. Valid\noptions are <tt>sit</tt>, <tt>gre</tt>, <tt>ip6gre</tt>,\n<tt>ipip</tt>, <tt>ipip6</tt>, <tt>ip6ip6</tt>,\n<tt>vti</tt>, <tt>vti6</tt> and <tt>wireguard</tt>.\nAdditionally, the <tt>networkd</tt> backend also supports\n<tt>gretap</tt> and <tt>ip6gretap</tt> modes. In addition,\nthe <tt>NetworkManager</tt> backend supports <tt>isatap</tt>\ntunnels.</p>\n\n<p style=\"margin-left:11%;\"><b>local</b> (scalar)</p>\n\n<p style=\"margin-left:22%;\">Defines the address of the\nlocal endpoint of the tunnel.</p>\n\n<p style=\"margin-left:11%;\"><b>remote</b> (scalar)</p>\n\n<p style=\"margin-left:22%;\">Defines the address of the\nremote endpoint of the tunnel.</p>\n\n<p style=\"margin-left:11%;\"><b>ttl</b> (scalar) &ndash;\nsince <b>0.103</b></p>\n\n<p style=\"margin-left:22%;\">Defines the TTL of the\ntunnel.</p>\n\n<p style=\"margin-left:11%;\"><b>key</b> (scalar or\nmapping)</p>\n\n<p style=\"margin-left:22%;\">Define keys to use for the\ntunnel. The key can be a number or a dotted quad (an IPv4\naddress). For <tt>wireguard</tt> it can be a base64-encoded\nprivate key or (as of <tt>networkd</tt> v242+) an absolute\npath to a file, containing the private key (since 0.100). It\nis used for identification of IP transforms. This is only\nrequired for <tt>vti</tt> and <tt>vti6</tt> when using the\nnetworkd backend, and for <tt>gre</tt> or <tt>ip6gre</tt>\ntunnels when using the NetworkManager backend.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This field may\nbe used as a scalar (meaning that a single key is specified\nand to be used for input, output and private key), or as a\nmapping, where you can further specify\n<tt>input</tt>/<tt>output</tt>/<tt>private</tt>. <b><br>\ninput</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">The input key for the\ntunnel</p>\n\n<p style=\"margin-left:22%;\"><b>output</b> (scalar)</p>\n\n<p style=\"margin-left:32%;\">The output key for the\ntunnel</p>\n\n<p style=\"margin-left:22%;\"><b>private</b> (scalar) &ndash;\nsince <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">A base64-encoded private key\nrequired for WireGuard tunnels. When the\n<tt>systemd-networkd</tt> backend (v242+) is used, this can\nalso be an absolute path to a file containing the private\nkey.</p>\n\n<p style=\"margin-left:11%;\"><b>keys</b> (scalar or\nmapping)</p>\n\n<p style=\"margin-left:22%;\">Alternate name for the\n<tt>key</tt> field. See above.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Examples:</p>\n<pre style=\"margin-left:22%; margin-top: 1em\">tunnels:\n  tun0:\n    mode: gre\n    local: ...\n    remote: ...\n    keys:\n      input: 1234\n      output: 5678\n\ntunnels:\n  tun0:\n    mode: vti6\n    local: ...\n    remote: ...\n    key: 59568549\n\ntunnels:\n  wg0:\n    mode: wireguard\n    addresses: [...]\n    peers:\n      - keys:\n          public: rlbInAj0qV69CysWPQY7KEBnKxpYCpaWqOs/dLevdWc=\n          shared: /path/to/shared.key\n        ...\n    key: mNb7OIIXTdgW4khM7OFlzJ+UPs7lmcWHV7xjPgakMkQ=\n\n\ntunnels:\n  wg0:\n    mode: wireguard\n    addresses: [...]\n    peers:\n      - keys:\n          public: rlbInAj0qV69CysWPQY7KEBnKxpYCpaWqOs/dLevdWc=\n        ...\n    keys:\n      private: /path/to/priv.key</pre>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">WireGuard\nspecific keys: <b><br>\nmark</b> (scalar) &ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:22%;\">Firewall mark for outgoing\nWireGuard packets from this interface, optional.</p>\n\n<p style=\"margin-left:11%;\"><b>port</b> (scalar) &ndash;\nsince <b>0.100</b></p>\n\n<p style=\"margin-left:22%;\">UDP port to listen at or\n<tt>auto</tt>. Optional, defaults to <tt>auto</tt>.</p>\n\n<p style=\"margin-left:11%;\"><b>peers</b> (sequence of\nmappings) &ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:22%;\">A list of peers, each having\nkeys documented below.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Example:</p>\n\n<pre style=\"margin-left:22%; margin-top: 1em\">tunnels:\n    wg0:\n        mode: wireguard\n        key: /path/to/private.key\n        mark: 42\n        port: 5182\n        peers:\n            - keys:\n                  public: rlbInAj0qV69CysWPQY7KEBnKxpYCpaWqOs/dLevdWc=\n              allowed-ips: [0.0.0.0/0, &quot;2001:fe:ad:de:ad:be:ef:1/24&quot;]\n              keepalive: 23\n              endpoint: 1.2.3.4:5\n            - keys:\n                  public: M9nt4YujIOmNrRmpIRTmYSfMdrpvE7u6WkG8FY8WjG4=\n                  shared: /some/shared.key\n              allowed-ips: [10.10.10.20/24]\n              keepalive: 22\n              endpoint: 5.4.3.2:1</pre>\n\n\n<p style=\"margin-left:11%;\"><b>endpoint</b> (scalar)\n&ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:22%;\">Remote endpoint IPv4/IPv6\naddress or a hostname, followed by a colon and a port\nnumber.</p>\n\n<p style=\"margin-left:11%;\"><b>allowed-ips</b> (sequence of\nscalars) &ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:22%;\">A list of IP (v4 or v6)\naddresses with CIDR masks from which this peer is allowed to\nsend incoming traffic and to which outgoing traffic for this\npeer is directed. The catch-all 0.0.0.0/0 may be specified\nfor matching all IPv4 addresses, and ::/0 may be specified\nfor matching all IPv6 addresses.</p>\n\n<p style=\"margin-left:11%;\"><b>keepalive</b> (scalar)\n&ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:22%;\">An interval in seconds, between\n1 and 65535 inclusive, of how often to send an authenticated\nempty packet to the peer for the purpose of keeping a\nstateful firewall or NAT mapping valid persistently.\nOptional.</p>\n\n<p style=\"margin-left:11%;\"><b>keys</b> (mapping) &ndash;\nsince <b>0.100</b></p>\n\n<p style=\"margin-left:22%;\">Define keys to use for the\nWireGuard peers.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This field can\nbe used as a mapping, where you can further specify the\n<tt>public</tt> and <tt>shared</tt> keys. <b><br>\npublic</b> (scalar) &ndash; since <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">A base64-encoded public key,\nrequired for WireGuard peers.</p>\n\n<p style=\"margin-left:22%;\"><b>shared</b> (scalar) &ndash;\nsince <b>0.100</b></p>\n\n<p style=\"margin-left:32%;\">A base64-encoded preshared key.\nOptional for WireGuard peers. When the\n<tt>systemd-networkd</tt> backend (v242+) is used, this can\nalso be an absolute path to a file containing the preshared\nkey.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Properties\nfor device type</b> <tt>vlans:</tt> <b><br>\nid</b> (scalar)</p>\n\n<p style=\"margin-left:22%;\">VLAN ID, a number between 0 and\n4094.</p>\n\n<p style=\"margin-left:11%;\"><b>link</b> (scalar)</p>\n\n<p style=\"margin-left:22%;\">netplan ID of the underlying\ndevice definition on which this VLAN gets created.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Example:</p>\n\n<pre style=\"margin-left:22%; margin-top: 1em\">ethernets:\n  eno1: {...}\nvlans:\n  en-intra:\n    id: 1\n    link: eno1\n    dhcp4: yes\n  en-vpn:\n    id: 2\n    link: eno1\n    addresses: ...</pre>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Properties\nfor device type</b> <tt>nm-devices:</tt> <br>\nThe <tt>nm-devices</tt> device type is for internal use only\nand should not be used in normal configuration files. It\nenables a fallback mode for unsupported settings, using the\n<tt>passthrough</tt> mapping.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Backend-specific\nconfiguration parameters</b> <br>\nIn addition to the other fields available to configure\ninterfaces, some backends may require to record some of\ntheir own parameters in netplan, especially if the netplan\ndefinitions are generated automatically by the consumer of\nthat backend. Currently, this is only used with\n<tt>NetworkManager</tt>. <b><br>\nnetworkmanager</b> (mapping) &ndash; since <b>0.99</b></p>\n\n<p style=\"margin-left:22%;\">Keeps the\nNetworkManager-specific configuration parameters used by the\ndaemon to recognize connections. <b><br>\nname</b> (scalar) &ndash; since <b>0.99</b></p>\n\n<p style=\"margin-left:32%;\">Set the display name for the\nconnection.</p>\n\n<p style=\"margin-left:22%;\"><b>uuid</b> (scalar) &ndash;\nsince <b>0.99</b></p>\n\n<p style=\"margin-left:32%;\">Defines the UUID (unique\nidentifier) for this connection, as generated by\nNetworkManager itself.</p>\n\n<p style=\"margin-left:22%;\"><b>stable-id</b> (scalar)\n&ndash; since <b>0.99</b></p>\n\n<p style=\"margin-left:32%;\">Defines the stable ID (a\ndifferent form of a connection name) used by NetworkManager\nin case the name of the connection might otherwise change,\nsuch as when sharing connections between users.</p>\n\n<p style=\"margin-left:22%;\"><b>device</b> (scalar) &ndash;\nsince <b>0.99</b></p>\n\n<p style=\"margin-left:32%;\">Defines the interface name for\nwhich this connection applies.</p>\n\n<p style=\"margin-left:22%;\"><b>passthrough</b> (mapping)\n&ndash; since <b>0.102</b></p>\n\n<p style=\"margin-left:32%;\">Can be used as a fallback\nmechanism to missing keyfile settings.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Examples</b>\n<br>\nConfigure an ethernet device with networkd, identified by\nits name, and enable DHCP:</p>\n\n<pre style=\"margin-left:22%; margin-top: 1em\">network:\n  version: 2\n  ethernets:\n    eno1:\n      dhcp4: true</pre>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This is an\nexample of a static-configured interface with multiple IPv4\naddresses and multiple gateways with networkd, with equal\nroute metric levels, and static DNS nameservers (Google DNS\nfor this example):</p>\n\n<pre style=\"margin-left:22%; margin-top: 1em\">network:\n  version: 2\n  renderer: networkd\n  ethernets:\n    eno1:\n      addresses:\n      - 10.0.0.10/24\n      - 11.0.0.11/24\n      nameservers:\n        addresses:\n          - 8.8.8.8\n          - 8.8.4.4\n      routes:\n      - to: 0.0.0.0/0\n        via: 10.0.0.1\n        metric: 100\n      - to: 0.0.0.0/0\n        via: 11.0.0.1\n        metric: 100</pre>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This is a\ncomplex example which shows most available features:</p>\n\n<pre style=\"margin-left:22%; margin-top: 1em\">network:\n  version: 2\n  # if specified, can only realistically have that value, as networkd cannot\n  # render wifi/3G.\n  renderer: NetworkManager\n  ethernets:\n    # opaque ID for physical interfaces, only referred to by other stanzas\n    id0:\n      match:\n        macaddress: 00:11:22:33:44:55\n      wakeonlan: true\n      dhcp4: true\n      addresses:\n        - 192.168.14.2/24\n        - 192.168.14.3/24\n        - &quot;2001:1::1/64&quot;\n      nameservers:\n        search: [foo.local, bar.local]\n        addresses: [8.8.8.8]\n      routes:\n        - to: default\n          via: 192.168.14.1\n        - to: default\n          via: &quot;2001:1::2&quot;\n        - to: 0.0.0.0/0\n          via: 11.0.0.1\n          table: 70\n          on-link: true\n          metric: 3\n      routing-policy:\n        - to: 10.0.0.0/8\n          from: 192.168.14.2/24\n          table: 70\n          priority: 100\n        - to: 20.0.0.0/8\n          from: 192.168.14.3/24\n          table: 70\n          priority: 50\n      # only networkd can render on-link routes and routing policies\n      renderer: networkd\n    lom:\n      match:\n        driver: ixgbe\n      # you are responsible for setting tight enough match rules\n      # that only match one device if you use set-name\n      set-name: lom1\n      dhcp6: true\n    switchports:\n      # all cards on second PCI bus unconfigured by\n      # themselves, will be added to br0 below\n      match:\n        name: enp2*\n      mtu: 1280\n  wifis:\n    all-wlans:\n      # useful on a system where you know there is\n      # only ever going to be one device\n      match: {}\n      access-points:\n        &quot;Joe's home&quot;:\n          # mode defaults to &quot;infrastructure&quot; (client)\n          password: &quot;s3kr1t&quot;\n    # this creates an AP on wlp1s0 using hostapd\n    # no match rules, thus the ID is the interface name\n    wlp1s0:\n      access-points:\n        &quot;guest&quot;:\n           mode: ap\n           # no WPA config implies default of open\n  bridges:\n    # the key name is the name for virtual (created) interfaces\n    # no match: and set-name: allowed\n    br0:\n      # IDs of the components; switchports expands into multiple interfaces\n      interfaces: [wlp1s0, switchports]\n      dhcp4: true</pre>\n\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>netplan-generate</b>(8),\n<b>netplan-apply</b>(8), <b>netplan-try</b>(8),\n<b>netplan-get</b>(8), <b>netplan-set</b>(8),\n<b>netplan-dbus</b>(8), <b>systemd-networkd</b>(8),\n<b>NetworkManager</b>(8)</p>\n\n<h2>AUTHORS\n<a name=\"AUTHORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Mathieu\nTrudel-Lapierre (&lt;cyphermox@ubuntu.com&gt;); Martin Pitt\n(&lt;martin.pitt@ubuntu.com&gt;).</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#COMMANDS\">COMMANDS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHORS\">AUTHORS</a>"],"level":5}