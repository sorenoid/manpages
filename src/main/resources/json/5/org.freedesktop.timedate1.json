{"name":"org.freedesktop.timedate1","description":"org.freedesktop.timedate1 - The D-Bus interface of systemd-timedated","body":"\n\n<h1 align=\"center\">ORG.FREEDESKTOP.TIMEDATE1</h1>\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">org.freedesktop.timedate1\n- The D-Bus interface of systemd-timedated</p>\n\n<h2>INTRODUCTION\n<a name=\"INTRODUCTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>systemd-timedated.service</b>(8)\nis a system service that can be used to control the system\ntime and related settings. This page describes the D-Bus\ninterface.</p>\n\n<h2>THE D-BUS API\n<a name=\"THE D-BUS API\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The service\nexposes the following interfaces on the bus:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">node\n/org/freedesktop/timedate1 { <br>\ninterface org.freedesktop.timedate1 { <br>\nmethods: <br>\nSetTime(in x usec_utc, <br>\nin b relative, <br>\nin b interactive); <br>\nSetTimezone(in s timezone, <br>\nin b interactive); <br>\nSetLocalRTC(in b local_rtc, <br>\nin b fix_system, <br>\nin b interactive); <br>\nSetNTP(in b use_ntp, <br>\nin b interactive); <br>\nListTimezones(out as timezones); <br>\nproperties: <br>\nreadonly s Timezone = '...'; <br>\nreadonly b LocalRTC = ...; <br>\n\n@org.freedesktop.DBus.Property.EmitsChangedSignal(&quot;false&quot;)\n<br>\nreadonly b CanNTP = ...; <br>\nreadonly b NTP = ...; <br>\n\n@org.freedesktop.DBus.Property.EmitsChangedSignal(&quot;false&quot;)\n<br>\nreadonly b NTPSynchronized = ...; <br>\n\n@org.freedesktop.DBus.Property.EmitsChangedSignal(&quot;false&quot;)\n<br>\nreadonly t TimeUSec = ...; <br>\n\n@org.freedesktop.DBus.Property.EmitsChangedSignal(&quot;false&quot;)\n<br>\nreadonly t RTCTimeUSec = ...; <br>\n}; <br>\ninterface org.freedesktop.DBus.Peer { ... }; <br>\ninterface org.freedesktop.DBus.Introspectable { ... }; <br>\ninterface org.freedesktop.DBus.Properties { ... }; <br>\n};</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Methods</b>\n<br>\nUse <b>SetTime()</b> to change the system clock. Pass a\nvalue of microseconds since the UNIX epoch (1 Jan 1970 UTC).\nIf <i>relative</i> is true, the passed usec value will be\nadded to the current system time. If it is false, the\ncurrent system time will be set to the passed usec value. If\nthe system time is set with this method, the RTC will be\nupdated as well.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Use\n<b>SetTimezone()</b> to set the system timezone. Pass a\nvalue like &quot;Europe/Berlin&quot; to set the timezone.\nValid timezones are listed in /usr/share/zoneinfo/zone.tab.\nIf the RTC is configured to be maintained in local time, it\nwill be updated accordingly.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Use\n<b>SetLocalRTC()</b> to control whether the RTC is in local\ntime or UTC. It is strongly recommended to maintain the RTC\nin UTC. However, some OSes (Windows) maintain the RTC in\nlocal time, which might make it necessary to enable this\nfeature. Note that this might create various problems as\ndaylight changes could be missed. If <i>fix_system</i> is\n&quot;true&quot;, the time from the RTC is read again and\nthe system clock is adjusted according to the new setting.\nIf <i>fix_system</i> is &quot;false&quot;, the system time\nis written to the RTC taking the new setting into account.\nUse <i>fix_system=true</i> in installers and livecds where\nthe RTC is probably more reliable than the system time. Use\n<i>fix_system=false</i> in configuration UIs that are run\nduring normal operation and where the system clock is\nprobably more reliable than the RTC.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Use\n<b>SetNTP()</b> to control whether the system clock is\nsynchronized with the network using systemd-timesyncd. This\nwill enable and start or disable and stop the chosen time\nsynchronization service.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>ListTimezones()</b>\nreturns a list of time zones known on the local system as an\narray of names (&quot;[&quot;Africa/Abidjan&quot;,\n&quot;Africa/Accra&quot;, ..., &quot;UTC&quot;]&quot;).</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Properties</b>\n<i><br>\nTimezone</i> shows the currently configured time zone.\n<i>LocalRTC</i> shows whether the RTC is configured to use\nUTC (false), or the local time zone (true). <i>CanNTP</i>\nshows whether a service to perform time synchronization over\nthe network is available, and <i>NTP</i> shows whether such\na service is enabled.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>NTPSynchronized</i>\nshows whether the kernel reports the time as synchronized\n(c.f. <a href=\"https://man.page/3/adjtimex\">adjtimex(3)</a>). <i>TimeUSec</i> and\n<i>RTCTimeUSec</i> show the current time on the system and\nin the RTC. The purpose of those three properties is to\nallow remote clients to access this information over D-Bus.\nLocal clients can access the information directly.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Whenever the\n<i>Timezone</i> and <i>LocalRTC</i> settings are changed via\nthe daemon, <b>PropertyChanged</b> signals are sent out to\nwhich clients can subscribe.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that this\nservice will not inform you about system time changes. Use\n<a href=\"https://man.page/3/timerfd\">timerfd(3)</a> with <b>CLOCK_REALTIME</b> and\n<b>TFD_TIMER_CANCEL_ON_SET</b> for that.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Security</b>\n<br>\nThe <i>interactive</i> boolean parameters can be used to\ncontrol whether <b><font color=\"#0000FF\">polkit</font></b>\n<small><font color=\"#000000\">[1]</font></small>\n<font color=\"#000000\">should interactively ask the user for\nauthentication credentials if required.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">The\npolkit action for <b>SetTimezone()</b> is\norg.freedesktop.timedate1.set-timezone. For\n<b>SetLocalRTC()</b> it is\norg.freedesktop.timedate1.set-local-rtc, for\n<b>SetTime()</b> it is org.freedesktop.timedate1.set-time\nand for <b>SetNTP()</b> it is\norg.freedesktop.timedate1.set-ntp. <b>ListTimezones()</b>\ndoes not require any privileges.</font></p>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Example&nbsp;1.&nbsp;Introspect\norg.freedesktop.timedate1 on the bus</b></font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">$\ngdbus introspect --system \\ <br>\n--dest org.freedesktop.timedate1 \\ <br>\n--object-path /org/freedesktop/timedate1</font></p>\n\n<h2>VERSIONING\n<a name=\"VERSIONING\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">These\nD-Bus interfaces follow</font> <b><font color=\"#0000FF\">the\nusual interface versioning guidelines</font></b>\n<small><font color=\"#000000\">[2]</font></small>\n<font color=\"#000000\">.</font></p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b><font color=\"#0000FF\">More\ninformation on how the system clock and RTC\ninteract</font></b>\n<small><font color=\"#000000\">[3]</font></small></p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">1.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"9%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">polkit</font></p> </td>\n<td width=\"74%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://www.freedesktop.org/software/polkit/docs/latest/</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">2.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"63%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">the usual\ninterface versioning guidelines</font></p></td>\n<td width=\"20%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">http://0pointer.de/blog/projects/versioning-dbus.html</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">3.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"83%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">More\ninformation on how the system clock and RTC\ninteract</font></p> </td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://lists.freedesktop.org/archives/systemd-devel/2011-May/002526.html</font></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#INTRODUCTION\">INTRODUCTION</a>","<a href=\"#THE D-BUS API\">THE D-BUS API</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>","<a href=\"#VERSIONING\">VERSIONING</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#NOTES\">NOTES</a>"],"level":5}