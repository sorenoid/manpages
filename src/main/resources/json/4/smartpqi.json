{"name":"smartpqi","body":"\n\n<h1 align=\"center\">SMARTPQI</h1>\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">smartpqi -\nMicrosemi Smart Family SCSI driver</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"26%\">\n\n\n<p style=\"margin-top: 1em\"><b>modprobe smartpqi</b></p></td>\n<td width=\"1%\"></td>\n<td width=\"62%\">\n\n\n\n<p style=\"margin-top: 1em\">[<b>disable_device_id_wildcards=</b>{<b>0</b>|<b>1</b>}]\n[<b>disable_heartbeat=</b>{<b>0</b>|<b>1</b>}]\n[<b>disable_ctrl_shutdown=</b>{<b>0</b>|<b>1</b>}]\n[<b>lockup_action=</b>{<b>none</b>|<b>reboot</b>|<b>panic</b>}]\n[<b>expose_ld_first=</b>{<b>0</b>|<b>1</b>}]\n[<b>hide_vsep=</b>{<b>0</b>|<b>1</b>}]</p> </td></tr>\n</table>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>smartpqi</b>\nis a SCSI driver for Microsemi Smart Family controllers.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Supported</b>\n<b><i>ioctl</i></b><b>() operations</b> <br>\nFor compatibility with applications written for the\n<a href=\"https://man.page/4/cciss\">cciss(4)</a> and <a href=\"https://man.page/4/hpsa\">hpsa(4)</a> drivers, many, but not\nall of the <a href=\"https://man.page/2/ioctl\">ioctl(2)</a> operations supported by the\n<b>hpsa</b> driver are also supported by the <b>smartpqi</b>\ndriver. The data structures used by these operations are\ndescribed in the Linux kernel source file\n<i>include/linux/cciss_ioctl.h</i>. <b><br>\nCCISS_DEREGDISK</b>, <b>CCISS_REGNEWDISK</b>,\n<b>CCISS_REGNEWD</b></p>\n\n<p style=\"margin-left:22%;\">These operations all do exactly\nthe same thing, which is to cause the driver to re-scan for\nnew devices. This does exactly the same thing as writing to\nthe <b>smartpqi</b>-specific host <i>rescan</i>\nattribute.</p>\n\n<p style=\"margin-left:11%;\"><b>CCISS_GETPCIINFO</b></p>\n\n<p style=\"margin-left:22%;\">This operation Returns the PCI\ndomain, bus, device and function and &quot;board ID&quot;\n(PCI subsystem ID).</p>\n\n<p style=\"margin-left:11%;\"><b>CCISS_GETDRIVVER</b></p>\n\n<p style=\"margin-left:22%;\">This operation returns the\ndriver version in four bytes, encoded as:</p>\n\n<p style=\"margin-left:28%; margin-top: 1em\">(major_version\n&lt;&lt; 28) | (minor_version &lt;&lt; 24) | <br>\n(release &lt;&lt; 16) | revision</p>\n\n<p style=\"margin-left:11%;\"><b>CCISS_PASSTHRU</b></p>\n\n<p style=\"margin-left:22%;\">Allows BMIC and CISS commands\nto be passed through to the controller.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Boot options\n<br>\ndisable_device_id_wildcards=</b>{<b>0</b>|<b>1</b>}</p>\n\n<p style=\"margin-left:22%;\">Disables support for device ID\nwildcards. The default value is 0.</p>\n\n\n<p style=\"margin-left:11%;\"><b>disable_heartbeat=</b>{<b>0</b>|<b>1</b>}</p>\n\n<p style=\"margin-left:22%;\">Disables support for the\ncontroller&rsquo;s heartbeat check. This parameter is used\nfor debugging purposes. The default value is 0, leaving the\ncontroller&rsquo;s heartbeat check active.</p>\n\n\n<p style=\"margin-left:11%;\"><b>disable_ctrl_shutdown=</b>{<b>0</b>|<b>1</b>}</p>\n\n<p style=\"margin-left:22%;\">Disables support for shutting\ndown the controller in the event of a controller lockup. The\ndefault value is 0.</p>\n\n\n<p style=\"margin-left:11%;\"><b>lockup_action=</b>{<b>none</b>|<b>reboot</b>|<b>panic</b>}</p>\n\n<p style=\"margin-left:22%;\">Specifies the action the driver\ntakes when a controller lockup is detected. The default\naction is <b>none</b>.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n</td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\"></td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\"></td>\n<td width=\"77%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\"></td>\n<td width=\"77%\">\n</td></tr>\n</table>\n\n\n<p align=\"center\"><img src=\"grohtml-3437171.png\" alt=\"Image grohtml-3437171.png\"></p>\n\n\n<p style=\"margin-left:11%;\"><b>expose_ld_first=</b>{<b>0</b>|<b>1</b>}</p>\n\n<p style=\"margin-left:22%;\">This option enables support for\nexposing logical devices to the operating system before\nphysical devices. The default value is 0.</p>\n\n\n<p style=\"margin-left:11%;\"><b>hide_vsep=</b>{<b>0</b>|<b>1</b>}</p>\n\n<p style=\"margin-left:22%;\">This option enables disabling\nexposure of the virtual SEP to the host. This is usually\nassociated with direct attached drives. The default value is\n0.</p>\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Device\nnodes</b> <br>\nLogical drives are accessed via the SCSI disk driver\n(<i>sd</i>), tape drives via the SCSI tape driver\n(<i>st</i>), and the RAID controller via the SCSI generic\ndriver (<i>sg</i>), with device nodes named <i>/dev/sd</i>*,\n<i>/dev/st</i>*, and <i>/dev/sg</i>*, respectively.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>SmartPQI-specific\nhost attribute files in</b> <b><i>/sys</i></b> <i><br>\n/sys/class/scsi_host/host</i>*<i>/rescan</i></p>\n\n<p style=\"margin-left:22%;\">The host <i>rescan</i>\nattribute is a write-only attribute. Writing to this\nattribute will cause the driver to scan for new, changed, or\nremoved devices (e.g., hot-plugged tape drives, or newly\nconfigured or deleted logical drives) and notify the SCSI\nmid-layer of any changes detected. Usually this action is\ntriggered automatically by configuration changes, so the\nuser should not normally have to write to this file. Doing\nso may be useful when hot-plugging devices such as tape\ndrives or entire storage boxes containing pre-configured\nlogical drives.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/sys/class/scsi_host/host</i>*<i>/version</i></p>\n\n<p style=\"margin-left:22%;\">The host <i>version</i>\nattribute is a read-only attribute. This attribute contains\nthe driver version and the controller firmware version.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">For\nexample:</p>\n\n<p style=\"margin-left:28%; margin-top: 1em\">$ <b>cat\n/sys/class/scsi_host/host1/version</b> <br>\ndriver: 1.1.2-126 <br>\nfirmware: 1.29-112</p>\n\n\n<p style=\"margin-left:11%;\"><i>/sys/class/scsi_host/host</i>*<i>/lockup_action</i></p>\n\n<p style=\"margin-left:22%;\">The host <i>lockup_action</i>\nattribute is a read/write attribute. This attribute will\ncause the driver to perform a specific action in the\nunlikely event that a controller lockup has been detected.\nSee <b>OPTIONS</b> above for an explanation of the\n<i>lockup_action</i> values.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/sys/class/scsi_host/host*/driver_version</i></p>\n\n<p style=\"margin-left:22%;\">The <i>driver_version</i>\nattribute is read-only. This attribute contains the smartpqi\ndriver version.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">For\nexample:</p>\n\n<p style=\"margin-left:28%; margin-top: 1em\">$ <b>cat\n/sys/class/scsi_host/host1/driver_version</b> <br>\n1.1.2-126</p>\n\n\n<p style=\"margin-left:11%;\"><i>/sys/class/scsi_host/host*/firmware_version</i></p>\n\n<p style=\"margin-left:22%;\">The <i>firmware_version</i>\nattribute is read-only. This attribute contains the\ncontroller firmware version.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">For\nexample:</p>\n\n<p style=\"margin-left:28%; margin-top: 1em\">$ <b>cat\n/sys/class/scsi_host/host1/firmware_version</b> <br>\n1.29-112</p>\n\n\n<p style=\"margin-left:11%;\"><i>/sys/class/scsi_host/host*/model</i></p>\n\n<p style=\"margin-left:22%;\">The <i>model</i> attribute is\nread-only. This attribute contains the product\nidentification string of the controller.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">For\nexample:</p>\n\n<p style=\"margin-left:28%; margin-top: 1em\">$ <b>cat\n/sys/class/scsi_host/host1/model</b> <br>\n1100-16i</p>\n\n\n<p style=\"margin-left:11%;\"><i>/sys/class/scsi_host/host*/serial_number</i></p>\n\n<p style=\"margin-left:22%;\">The <i>serial_number</i>\nattribute is read-only. This attribute contains the unique\nidentification number of the controller.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">For\nexample:</p>\n\n<p style=\"margin-left:28%; margin-top: 1em\">$ <b>cat\n/sys/class/scsi_host/host1/serial_number</b> <br>\n6A316373777</p>\n\n\n<p style=\"margin-left:11%;\"><i>/sys/class/scsi_host/host*/vendor</i></p>\n\n<p style=\"margin-left:22%;\">The <i>vendor</i> attribute is\nread-only. This attribute contains the vendor identification\nstring of the controller.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">For\nexample:</p>\n\n<p style=\"margin-left:28%; margin-top: 1em\">$ <b>cat\n/sys/class/scsi_host/host1/vendor</b> <br>\nAdaptec</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>SmartPQI-specific\ndisk attribute files in</b> <b><i>/sys</i></b> <br>\nIn the file specifications below, <i>c</i> stands for the\nnumber of the appropriate SCSI controller, <i>b</i> is the\nbus number, <i>t</i> the target number, and <i>l</i> is the\nlogical unit number (LUN). <i><br>\n\n/sys/class/scsi_disk/</i>c<i>:</i>b<i>:</i>t<i>:</i>l<i>/device/raid_level</i></p>\n\n<p style=\"margin-left:22%;\">The <i>raid_level</i> attribute\nis read-only. This attribute contains the RAID level of each\nlogical drive.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">For\nexample:</p>\n\n<p style=\"margin-left:28%; margin-top: 1em\">$ <b>cat\n/sys/class/scsi_disk/4:0:0:0/device/raid_level</b> <br>\nRAID 0</p>\n\n\n<p style=\"margin-left:11%;\"><i>/sys/class/scsi_disk/c</i>:<i>b</i>:<i>t</i>:<i>l/device/sas_address</i></p>\n\n<p style=\"margin-left:22%;\">The <i>sas_address</i>\nattribute is read-only. This attribute contains the unique\nidentifier of the disk.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">For\nexample:</p>\n\n<p style=\"margin-left:28%; margin-top: 1em\">$ <b>cat\n/sys/class/scsi_disk/1:0:3:0/device/sas_address</b> <br>\n0x5001173d028543a2</p>\n\n\n<p style=\"margin-left:11%;\"><i>/sys/class/scsi_disk/c</i>:<i>b</i>:<i>t</i>:<i>l/device/ssd_smart_path_enabled</i></p>\n\n<p style=\"margin-left:22%;\">The\n<i>ssd_smart_path_enabled</i> attribute is read-only. This\nattribute is for ioaccel-enabled volumes. (Ioaccel is an\nalternative driver submission path that allows the driver to\nsend I/O requests directly to backend SCSI devices,\nbypassing the controller firmware. This results in an\nincrease in performance. This method is used for HBA disks\nand for logical volumes comprised of SSDs.) Contains 1 if\nioaccel is enabled for the volume and 0 otherwise.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">For\nexample:</p>\n\n<p style=\"margin-left:28%; margin-top: 1em\">$ <b>cat\n/sys/class/scsi_disk/1:0:3:0/device/ssd_smart_path_enabled</b>\n<br>\n0</p>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>smartpqi</b> driver was added in Linux 4.9.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Configuration</b>\n<br>\nTo configure a Microsemi Smart Family controller, refer to\nthe User Guide for the controller, which can be found by\nsearching for the specific controller at\n<a href=\"https://storage.microsemi.com/\">https://storage.microsemi.com/</a>.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/4/cciss\">cciss(4)</a>,\n<a href=\"https://man.page/4/hpsa\">hpsa(4)</a>, <a href=\"https://man.page/4/sd\">sd(4)</a>, <a href=\"https://man.page/4/st\">st(4)</a></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>Documentation/ABI/testing/sysfs-bus-pci-devices-cciss</i>\nin the Linux kernel source tree.</p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#FILES\">FILES</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":4}