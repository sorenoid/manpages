{"name":"sigset","description":"sigset, sighold, sigrelse, sigignore - System V signal API","body":"\n\n<h1 align=\"center\">SIGSET</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">sigset,\nsighold, sigrelse, sigignore - System V signal API</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;signal.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>typedef void\n(*sighandler_t)(int);</b></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sighandler_t\nsigset(int</b> <i>sig</i><b>, sighandler_t</b>\n<i>disp</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nsighold(int</b> <i>sig</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nsigrelse(int</b> <i>sig</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nsigignore(int</b> <i>sig</i><b>);</b></p>\n\n<p style=\"margin-left:5%; margin-top: 1em\">Feature Test\nMacro Requirements for glibc (see\n<a href=\"https://man.page/7/feature_test_macros\">feature_test_macros(7)</a>):</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sigset</b>(),\n<b>sighold</b>(), <b>sigrelse</b>(), <b>sigignore</b>():</p>\n\n\n<p style=\"margin-left:17%;\">_XOPEN_SOURCE&nbsp;&gt;=&nbsp;500</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">These functions\nare provided in glibc as a compatibility interface for\nprograms that make use of the historical System V signal\nAPI. This API is obsolete: new applications should use the\nPOSIX signal API (<a href=\"https://man.page/2/sigaction\">sigaction(2)</a>,\n<a href=\"https://man.page/2/sigprocmask\">sigprocmask(2)</a>, etc.)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>sigset</b>() function modifies the disposition of the\nsignal <i>sig</i>. The <i>disp</i> argument can be the\naddress of a signal handler function, or one of the\nfollowing constants: <b><br>\nSIG_DFL</b></p>\n\n<p style=\"margin-left:22%;\">Reset the disposition of\n<i>sig</i> to the default.</p>\n\n<p style=\"margin-left:11%;\"><b>SIG_IGN</b></p>\n\n<p style=\"margin-left:22%;\">Ignore <i>sig</i>.</p>\n\n<p style=\"margin-left:11%;\"><b>SIG_HOLD</b></p>\n\n<p style=\"margin-left:22%;\">Add <i>sig</i> to the\nprocess&rsquo;s signal mask, but leave the disposition of\n<i>sig</i> unchanged.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If <i>disp</i>\nspecifies the address of a signal handler, then <i>sig</i>\nis added to the process&rsquo;s signal mask during execution\nof the handler.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If <i>disp</i>\nwas specified as a value other than <b>SIG_HOLD</b>, then\n<i>sig</i> is removed from the process&rsquo;s signal\nmask.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\ndispositions for <b>SIGKILL</b> and <b>SIGSTOP</b> cannot be\nchanged.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>sighold</b>() function adds <i>sig</i> to the calling\nprocess&rsquo;s signal mask.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>sigrelse</b>() function removes <i>sig</i> from the\ncalling process&rsquo;s signal mask.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>sigignore</b>() function sets the disposition of\n<i>sig</i> to <b>SIG_IGN</b>.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success,\n<b>sigset</b>() returns <b>SIG_HOLD</b> if <i>sig</i> was\nblocked before the call, or the signal&rsquo;s previous\ndisposition if it was not blocked before the call. On error,\n<b>sigset</b>() returns -1, with <i>errno</i> set to\nindicate the error. (But see BUGS below.)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>sighold</b>(), <b>sigrelse</b>(), and <b>sigignore</b>()\nfunctions return 0 on success; on error, these functions\nreturn -1 and set <i>errno</i> to indicate the error.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For\n<b>sigset</b>() see the ERRORS under <a href=\"https://man.page/2/sigaction\">sigaction(2)</a> and\n<a href=\"https://man.page/2/sigprocmask\">sigprocmask(2)</a>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For\n<b>sighold</b>() and <b>sigrelse</b>() see the ERRORS under\n<a href=\"https://man.page/2/sigprocmask\">sigprocmask(2)</a>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For\n<b>sigignore</b>(), see the errors under\n<a href=\"https://man.page/2/sigaction\">sigaction(2)</a>.</p>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"62%\">\n</td></tr>\n</table>\n\n\n<p align=\"center\"><img src=\"grohtml-3371741.png\" alt=\"Image grohtml-3371741.png\"></p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">SVr4,\nPOSIX.1-2001, POSIX.1-2008. These functions are obsolete: do\nnot use them in new programs. POSIX.1-2008 marks\n<b>sighold</b>(), <b>sigignore</b>(), <a href=\"https://man.page/3/sigpause\">sigpause(3)</a>,\n<b>sigrelse</b>(), and <b>sigset</b>() as obsolete,\nrecommending the use of <a href=\"https://man.page/2/sigaction\">sigaction(2)</a>,\n<a href=\"https://man.page/2/sigprocmask\">sigprocmask(2)</a>, <a href=\"https://man.page/3/pthread_sigmask\">pthread_sigmask(3)</a>, and\n<a href=\"https://man.page/2/sigsuspend\">sigsuspend(2)</a> instead.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">These functions\nappeared in glibc version 2.1.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>sighandler_t</i> type is a GNU extension; it is used on\nthis page only to make the <b>sigset</b>() prototype more\neasily readable.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>sigset</b>() function provides reliable signal handling\nsemantics (as when calling <a href=\"https://man.page/2/sigaction\">sigaction(2)</a> with\n<i>sa_mask</i> equal to 0).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">On System V,\nthe <b>signal</b>() function provides unreliable semantics\n(as when calling <a href=\"https://man.page/2/sigaction\">sigaction(2)</a> with <i>sa_mask</i>\nequal to <i>SA_RESETHAND | SA_NODEFER</i>). On BSD,\n<b>signal</b>() provides reliable semantics. POSIX.1-2001\nleaves these aspects of <b>signal</b>() unspecified. See\n<a href=\"https://man.page/2/signal\">signal(2)</a> for further details.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In order to\nwait for a signal, BSD and System V both provided a function\nnamed <a href=\"https://man.page/3/sigpause\">sigpause(3)</a>, but this function has a different\nargument on the two systems. See <a href=\"https://man.page/3/sigpause\">sigpause(3)</a> for\ndetails.</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">In versions of\nglibc before 2.2, <b>sigset</b>() did not unblock <i>sig</i>\nif <i>disp</i> was specified as a value other than\n<b>SIG_HOLD</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In versions of\nglibc before 2.5, <b>sigset</b>() does not correctly return\nthe previous disposition of the signal in two cases. First,\nif <i>disp</i> is specified as <b>SIG_HOLD</b>, then a\nsuccessful <b>sigset</b>() always returns <b>SIG_HOLD</b>.\nInstead, it should return the previous disposition of the\nsignal (unless the signal was blocked, in which case\n<b>SIG_HOLD</b> should be returned). Second, if the signal\nis currently blocked, then the return value of a successful\n<b>sigset</b>() should be <b>SIG_HOLD</b>. Instead, the\nprevious disposition of the signal is returned. These\nproblems have been fixed since glibc 2.5.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/2/kill\">kill(2)</a>,\n<a href=\"https://man.page/2/pause\">pause(2)</a>, <a href=\"https://man.page/2/sigaction\">sigaction(2)</a>, <a href=\"https://man.page/2/signal\">signal(2)</a>,\n<a href=\"https://man.page/2/sigprocmask\">sigprocmask(2)</a>, <a href=\"https://man.page/3/raise\">raise(3)</a>, <a href=\"https://man.page/3/sigpause\">sigpause(3)</a>,\n<a href=\"https://man.page/3/sigvec\">sigvec(3)</a>, <a href=\"https://man.page/7/signal\">signal(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}