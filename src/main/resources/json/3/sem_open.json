{"name":"sem_open","body":"\n\n<h1 align=\"center\">SEM_OPEN</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">sem_open -\ninitialize and open a named semaphore</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;fcntl.h&gt;</b> /* For O_* constants */ <b><br>\n#include &lt;sys/stat.h&gt;</b> /* For mode constants */\n<b><br>\n#include &lt;semaphore.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sem_t\n*sem_open(const char *</b><i>name</i><b>, int</b>\n<i>oflag</i><b>); <br>\nsem_t *sem_open(const char *</b><i>name</i><b>, int</b>\n<i>oflag</i><b>, <br>\nmode_t</b> <i>mode</i><b>, unsigned int</b>\n<i>value</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Link with\n<i>-pthread</i>.</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sem_open</b>()\ncreates a new POSIX semaphore or opens an existing\nsemaphore. The semaphore is identified by <i>name</i>. For\ndetails of the construction of <i>name</i>, see\n<a href=\"https://man.page/7/sem_overview\">sem_overview(7)</a>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>oflag</i> argument specifies flags that control the\noperation of the call. (Definitions of the flags values can\nbe obtained by including <i>&lt;fcntl.h&gt;</i>.) If\n<b>O_CREAT</b> is specified in <i>oflag</i>, then the\nsemaphore is created if it does not already exist. The owner\n(user ID) of the semaphore is set to the effective user ID\nof the calling process. The group ownership (group ID) is\nset to the effective group ID of the calling process. If\nboth <b>O_CREAT</b> and <b>O_EXCL</b> are specified in\n<i>oflag</i>, then an error is returned if a semaphore with\nthe given <i>name</i> already exists.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If\n<b>O_CREAT</b> is specified in <i>oflag</i>, then two\nadditional arguments must be supplied. The <i>mode</i>\nargument specifies the permissions to be placed on the new\nsemaphore, as for <a href=\"https://man.page/2/open\">open(2)</a>. (Symbolic definitions for\nthe permissions bits can be obtained by including\n<i>&lt;sys/stat.h&gt;</i>.) The permissions settings are\nmasked against the process umask. Both read and write\npermission should be granted to each class of user that will\naccess the semaphore. The <i>value</i> argument specifies\nthe initial value for the new semaphore. If <b>O_CREAT</b>\nis specified, and a semaphore with the given <i>name</i>\nalready exists, then <i>mode</i> and <i>value</i> are\nignored.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success,\n<b>sem_open</b>() returns the address of the new semaphore;\nthis address is used when calling other semaphore-related\nfunctions. On error, <b>sem_open</b>() returns\n<b>SEM_FAILED</b>, with <i>errno</i> set to indicate the\nerror.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EACCES</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">The semaphore exists, but the\ncaller does not have permission to open it.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EEXIST</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Both <b>O_CREAT</b> and <b>O_EXCL</b> were specified in\n<i>oflag</i>, but a semaphore with this <i>name</i> already\nexists.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>value</i> was greater than <b>SEM_VALUE_MAX</b>.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>name</i> consists of just &quot;/&quot;, followed by\nno other characters.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EMFILE</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>The per-process limit on the number of open file\ndescriptors has been reached.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>ENAMETOOLONG</b></p>\n\n<p style=\"margin-left:22%;\"><i>name</i> was too long.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ENFILE</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>The system-wide limit on the total number of open files\nhas been reached.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ENOENT</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>The <b>O_CREAT</b> flag was not specified in\n<i>oflag</i> and no semaphore with this <i>name</i> exists;\nor, <b>O_CREAT</b> was specified, but <i>name</i>\nwasn&rsquo;t well formed.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ENOMEM</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Insufficient memory.</p></td></tr>\n</table>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n\n<p align=\"center\" style=\"margin-top: 1em\"><img src=\"grohtml-3428621.png\" alt=\"Image grohtml-3428621.png\"></p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2001,\nPOSIX.1-2008.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/3/sem_close\">sem_close(3)</a>,\n<a href=\"https://man.page/3/sem_getvalue\">sem_getvalue(3)</a>, <a href=\"https://man.page/3/sem_post\">sem_post(3)</a>,\n<a href=\"https://man.page/3/sem_unlink\">sem_unlink(3)</a>, <a href=\"https://man.page/3/sem_wait\">sem_wait(3)</a>,\n<a href=\"https://man.page/7/sem_overview\">sem_overview(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}