{"name":"aio_write","body":"\n\n<h1 align=\"center\">AIO_WRITE</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">aio_write -\nasynchronous write</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;aio.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\naio_write(struct aiocb *</b><i>aiocbp</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Link with\n<i>-lrt</i>.</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>aio_write</b>() function queues the I/O request described\nby the buffer pointed to by <i>aiocbp</i>. This function is\nthe asynchronous analog of <a href=\"https://man.page/2/write\">write(2)</a>. The arguments of\nthe call</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">write(fd, buf,\ncount)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">correspond (in\norder) to the fields <i>aio_fildes</i>, <i>aio_buf</i>, and\n<i>aio_nbytes</i> of the structure pointed to by\n<i>aiocbp</i>. (See <a href=\"https://man.page/7/aio\">aio(7)</a> for a description of the\n<i>aiocb</i> structure.)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If\n<b>O_APPEND</b> is not set, the data is written starting at\nthe absolute position <i>aiocbp-&gt;aio_offset</i>,\nregardless of the file offset. If <b>O_APPEND</b> is set,\ndata is written at the end of the file in the same order as\n<b>aio_write</b>() calls are made. After the call, the value\nof the file offset is unspecified.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n&quot;asynchronous&quot; means that this call returns as\nsoon as the request has been enqueued; the write may or may\nnot have completed when the call returns. One tests for\ncompletion using <a href=\"https://man.page/3/aio_error\">aio_error(3)</a>. The return status of a\ncompleted I/O operation can be obtained\n<a href=\"https://man.page/3/aio_return\">aio_return(3)</a>. Asynchronous notification of I/O\ncompletion can be obtained by setting\n<i>aiocbp-&gt;aio_sigevent</i> appropriately; see\n<a href=\"https://man.page/7/sigevent\">sigevent(7)</a> for details.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If\n<b>_POSIX_PRIORITIZED_IO</b> is defined, and this file\nsupports it, then the asynchronous operation is submitted at\na priority equal to that of the calling process minus\n<i>aiocbp-&gt;aio_reqprio</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The field\n<i>aiocbp-&gt;aio_lio_opcode</i> is ignored.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">No data is\nwritten to a regular file beyond its maximum offset.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success, 0\nis returned. On error, the request is not enqueued, -1 is\nreturned, and <i>errno</i> is set appropriately. If an error\nis detected only later, it will be reported via\n<a href=\"https://man.page/3/aio_return\">aio_return(3)</a> (returns status -1) and\n<a href=\"https://man.page/3/aio_error\">aio_error(3)</a> (error status&mdash;whatever one would\nhave gotten in <i>errno</i>, such as <b>EBADF</b>).</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EAGAIN</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">Out of resources.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EBADF</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>aio_fildes</i> is not a valid file descriptor open\nfor writing.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EFBIG</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>The file is a regular file, we want to write at least\none byte, but the starting position is at or beyond the\nmaximum offset for this file.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>One or more of <i>aio_offset</i>, <i>aio_reqprio</i>,\n<i>aio_nbytes</i> are invalid.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ENOSYS</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><b>aio_write</b>() is not implemented.</p></td></tr>\n</table>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>aio_write</b>() function is available since glibc\n2.1.</p>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n\n<p align=\"center\" style=\"margin-top: 1em\"><img src=\"grohtml-3400781.png\" alt=\"Image grohtml-3400781.png\"></p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2001,\nPOSIX.1-2008.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">It is a good\nidea to zero out the control block before use. The control\nblock must not be changed while the write operation is in\nprogress. The buffer area being written out must not be\naccessed during the operation or undefined results may\noccur. The memory areas involved must remain valid.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Simultaneous\nI/O operations specifying the same <i>aiocb</i> structure\nproduce undefined results.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/3/aio_cancel\">aio_cancel(3)</a>,\n<a href=\"https://man.page/3/aio_error\">aio_error(3)</a>, <a href=\"https://man.page/3/aio_fsync\">aio_fsync(3)</a>,\n<a href=\"https://man.page/3/aio_read\">aio_read(3)</a>, <a href=\"https://man.page/3/aio_return\">aio_return(3)</a>,\n<a href=\"https://man.page/3/aio_suspend\">aio_suspend(3)</a>, <a href=\"https://man.page/3/lio_listio\">lio_listio(3)</a>,\n<a href=\"https://man.page/7/aio\">aio(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}