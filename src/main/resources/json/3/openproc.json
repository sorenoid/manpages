{"name":"openproc","body":"\n\n<h1 align=\"center\">OPENPROC</h1>\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">openproc,\ncloseproc - initialize process information from /proc/</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;proc/readproc.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>PROCTAB*\nopenproc (int</b> <i>flags</i><b>, ... ); <br>\nvoid closeproc (PROCTAB*</b> <i>PT</i><b>);</b></p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>openproc</b> function initializes a PROCTAB structure\nwhich can be used by iterated readproc calls to get\ninformation on current processes. Depending on <i>flags</i>,\nopenproc may need a second argument or a second and third\nargument (see below).</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>closeproc</b>\ncloses all files opened by <b>openproc</b> and deallocates\nthe memory allocated by <b>openproc.</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The PROCTAB\nstructure is defined in <i>&lt;proc/readproc.h&gt;</i></p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i><b>openproc</b></i>\nreturns a pointer to a PROCTAB structure, or NULL if an\nerror occurs. This usually means that <i>/proc</i> cannot be\nread by the process.</p>\n\n<h2>FLAGS\n<a name=\"FLAGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The behaviour\nof <b>openproc</b> is controlled by the following set of\nflags, which may be ORed together. There are three different\nkinds of flags. The first group of flags determines which\ninformation gets read from /proc/#pid for each process. The\nsecond group of flags (of which only one can be enacted for\na opendir call) restricts which processes information is\nread for by providing a list of criteria. The third group of\nflags restricts this as well, but doesn&rsquo;t need\narguments. These may be used together again. <b><br>\nPROC_FILLMEM</b></p>\n\n<p style=\"margin-left:18%;\">read information from\n<i>/proc/#pid/statm</i></p>\n\n<p style=\"margin-left:11%;\"><b>PROC_FILLCOM</b></p>\n\n<p style=\"margin-left:18%;\">allocate <i>cmdline</i> part of\n<i>proc_t</i> and read information from\n<i>/proc/#pid/cmdline</i></p>\n\n<p style=\"margin-left:11%;\"><b>PROC_FILLENV</b></p>\n\n<p style=\"margin-left:18%;\">allocate <i>environ</i> part of\n<i>proc_t</i> and read information from\n<i>/proc/#pid/environ</i></p>\n\n<p style=\"margin-left:11%;\"><b>PROC_FILLUSR</b></p>\n\n<p style=\"margin-left:18%;\">resolve user ids to names via\n<i>/etc/passwd</i></p>\n\n<p style=\"margin-left:11%;\"><b>PROC_FILLGRP</b></p>\n\n<p style=\"margin-left:18%;\">resolve group ids to names via\n<i>/etc/group</i></p>\n\n<p style=\"margin-left:11%;\"><b>PROC_FILLSTATUS</b></p>\n\n<p style=\"margin-left:18%;\">read information from\n<i>/proc/#pid/status</i></p>\n\n<p style=\"margin-left:11%;\"><b>PROC_FILLSTAT</b></p>\n\n<p style=\"margin-left:18%;\">read information from\n<i>/proc/#pid/stat</i></p>\n\n<p style=\"margin-left:11%;\"><b>PROC_FILLARG</b></p>\n\n<p style=\"margin-left:18%;\">equivalent to PROC_FILLCOM</p>\n\n<p style=\"margin-left:11%;\"><b>PROC_FILLCGROUP</b></p>\n\n<p style=\"margin-left:18%;\">alloc and fill in cgroup</p>\n\n<p style=\"margin-left:11%;\"><b>PROC_FILLSUPGRP</b></p>\n\n<p style=\"margin-left:18%;\">resolve supplementary group id\n-&gt; group name</p>\n\n<p style=\"margin-left:11%;\"><b>PROC_FILLOOM</b></p>\n\n<p style=\"margin-left:18%;\">fill in proc_t oom_score and\noom_adj</p>\n\n<p style=\"margin-left:11%;\"><b>PROC_FILLNS</b></p>\n\n<p style=\"margin-left:18%;\">fill in proc_t namespace\ninformation</p>\n\n<p style=\"margin-left:11%;\"><b>PROC_FILLSYSTEMD</b></p>\n\n<p style=\"margin-left:18%;\">fill in proc_t systemd\ninformation</p>\n\n<p style=\"margin-left:11%;\"><b>PROC_LOOSE_TASKS</b></p>\n\n<p style=\"margin-left:18%;\">threat threads as if they were\nprocesses</p>\n\n<p style=\"margin-left:11%;\"><b>PROC_PID</b> (2nd argument\n<b>pid_t*</b> <i>pidlist</i>)</p>\n\n<p style=\"margin-left:18%;\">lookup only processes whose pid\nis contained in <i>pidlist</i> (the list is terminated with\n0)</p>\n\n<p style=\"margin-left:11%;\"><b>PROC_UID</b> (arguments\n<b>uid_t*</b> <i>uidlist</i><b>, int</b> <i>n</i>)</p>\n\n<p style=\"margin-left:18%;\">lookup only processes whose\nuser id is contained in <i>uidlist</i> (where <i>n</i> is\nthe number of uids contained in the list)</p>\n\n<p style=\"margin-left:11%;\"><b>PROC_EDITCGRPCVT</b></p>\n\n<p style=\"margin-left:18%;\">edit cgroup as single\nvector</p>\n\n<p style=\"margin-left:11%;\"><b>PROC_EDITCMDLCVT</b></p>\n\n<p style=\"margin-left:18%;\">edit cmdline as single\nvector</p>\n\n<p style=\"margin-left:11%;\"><b>PROC_EDITENVRCVT</b></p>\n\n<p style=\"margin-left:18%;\">edit environ as single\nvector</p>\n\n<h2>NOTE\n<a name=\"NOTE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Only one of the\nflags needing additional arguments (<b>PROC_{PID,UID}</b>)\nmay be used at a time.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/3/readproc\">readproc(3)</a>,\n<a href=\"https://man.page/3/readproctab\">readproctab(3)</a>, <b>/proc/</b>,\n<b>/usr/include/proc/readproc.h</b>,</p>\n\n<h2>REPORTING BUGS\n<a name=\"REPORTING BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Please send bug\nreports to\n<a href=\"procps@freelists.org\">procps@freelists.org</a></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#FLAGS\">FLAGS</a>","<a href=\"#NOTE\">NOTE</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#REPORTING BUGS\">REPORTING BUGS</a>"],"level":3}