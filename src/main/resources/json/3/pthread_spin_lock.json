{"name":"pthread_spin_lock","description":"pthread_spin_lock, pthread_spin_trylock, pthread_spin_unlock - lock and unlock a spin lock","body":"\n\n<h1 align=\"center\">PTHREAD_SPIN_LOCK</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">pthread_spin_lock,\npthread_spin_trylock, pthread_spin_unlock - lock and unlock\na spin lock</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;pthread.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\npthread_spin_lock(pthread_spinlock_t *</b><i>lock</i><b>);\n<br>\nint pthread_spin_trylock(pthread_spinlock_t\n*</b><i>lock</i><b>); <br>\nint pthread_spin_unlock(pthread_spinlock_t\n*</b><i>lock</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Compile and\nlink with <i>-pthread</i>.</p>\n\n<p style=\"margin-left:5%; margin-top: 1em\">Feature Test\nMacro Requirements for glibc (see\n<a href=\"https://man.page/7/feature_test_macros\">feature_test_macros(7)</a>):</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>pthread_spin_lock</b>(),\n<b>pthread_spin_trylock</b>():</p>\n\n<p style=\"margin-left:17%;\">_POSIX_C_SOURCE &gt;=\n200112L</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>pthread_spin_lock</b>() function locks the spin lock\nreferred to by <i>lock</i>. If the spin lock is currently\nunlocked, the calling thread acquires the lock immediately.\nIf the spin lock is currently locked by another thread, the\ncalling thread spins, testing the lock until it becomes\navailable, at which point the calling thread acquires the\nlock.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Calling\n<b>pthread_spin_lock</b>() on a lock that is already held by\nthe caller or a lock that has not been initialized with\n<a href=\"https://man.page/3/pthread_spin_init\">pthread_spin_init(3)</a> results in undefined\nbehavior.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>pthread_spin_trylock</b>() function is like\n<b>pthread_spin_lock</b>(), except that if the spin lock\nreferred to by <i>lock</i> is currently locked, then,\ninstead of spinning, the call returns immediately with the\nerror <b>EBUSY</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>pthread_spin_unlock</b>() function unlocks the spin lock\nreferred to <i>lock</i>. If any threads are spinning on the\nlock, one of those threads will then acquire the lock.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Calling\n<b>pthread_spin_unlock</b>() on a lock that is not held by\nthe caller results in undefined behavior.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success,\nthese functions return zero. On failure, they return an\nerror number.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>pthread_spin_lock</b>()\nmay fail with the following errors: <b><br>\nEDEADLOCK</b></p>\n\n<p style=\"margin-left:22%;\">The system detected a deadlock\ncondition.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>pthread_spin_trylock</b>()\nfails with the following errors:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p><b>EBUSY</b></p></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p>The spin lock is currently locked by another thread.</p></td></tr>\n</table>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">These functions\nfirst appeared in glibc in version 2.2.</p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2001.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Applying any of\nthe functions described on this page to an uninitialized\nspin lock results in undefined behavior.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Carefully read\nNOTES in <a href=\"https://man.page/3/pthread_spin_init\">pthread_spin_init(3)</a>.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/3/pthread_spin_destroy\">pthread_spin_destroy(3)</a>,\n<a href=\"https://man.page/3/pthread_spin_init\">pthread_spin_init(3)</a>, <a href=\"https://man.page/7/pthreads\">pthreads(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}