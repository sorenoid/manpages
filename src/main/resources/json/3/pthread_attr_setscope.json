{"name":"pthread_attr_setscope","body":"\n\n<h1 align=\"center\">PTHREAD_ATTR_SETSCOPE</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">pthread_attr_setscope,\npthread_attr_getscope - set/get contention scope attribute\nin thread attributes object</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;pthread.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\npthread_attr_setscope(pthread_attr_t *</b><i>attr</i><b>,\nint</b> <i>scope</i><b>); <br>\nint pthread_attr_getscope(const pthread_attr_t\n*</b><i>attr</i><b>, int *</b><i>scope</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Compile and\nlink with <i>-pthread</i>.</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>pthread_attr_setscope</b>() function sets the contention\nscope attribute of the thread attributes object referred to\nby <i>attr</i> to the value specified in <i>scope</i>. The\ncontention scope attribute defines the set of threads\nagainst which a thread competes for resources such as the\nCPU. POSIX.1 specifies two possible values for <i>scope</i>:\n<b><br>\nPTHREAD_SCOPE_SYSTEM</b></p>\n\n<p style=\"margin-left:22%;\">The thread competes for\nresources with all other threads in all processes on the\nsystem that are in the same scheduling allocation domain (a\ngroup of one or more processors).\n<b>PTHREAD_SCOPE_SYSTEM</b> threads are scheduled relative\nto one another according to their scheduling policy and\npriority.</p>\n\n\n<p style=\"margin-left:11%;\"><b>PTHREAD_SCOPE_PROCESS</b></p>\n\n<p style=\"margin-left:22%;\">The thread competes for\nresources with all other threads in the same process that\nwere also created with the <b>PTHREAD_SCOPE_PROCESS</b>\ncontention scope. <b>PTHREAD_SCOPE_PROCESS</b> threads are\nscheduled relative to other threads in the process according\nto their scheduling policy and priority. POSIX.1 leaves it\nunspecified how these threads contend with other threads in\nother process on the system or with other threads in the\nsame process that were created with the\n<b>PTHREAD_SCOPE_SYSTEM</b> contention scope.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1\nrequires that an implementation support at least one of\nthese contention scopes. Linux supports\n<b>PTHREAD_SCOPE_SYSTEM</b>, but not\n<b>PTHREAD_SCOPE_PROCESS</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">On systems that\nsupport multiple contention scopes, then, in order for the\nparameter setting made by <b>pthread_attr_setscope</b>() to\nhave effect when calling <a href=\"https://man.page/3/pthread_create\">pthread_create(3)</a>, the\ncaller must use <a href=\"https://man.page/3/pthread_attr_setinheritsched\">pthread_attr_setinheritsched(3)</a> to\nset the inherit-scheduler attribute of the attributes object\n<i>attr</i> to <b>PTHREAD_EXPLICIT_SCHED</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>pthread_attr_getscope</b>() function returns the\ncontention scope attribute of the thread attributes object\nreferred to by <i>attr</i> in the buffer pointed to by\n<i>scope</i>.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success,\nthese functions return 0; on error, they return a nonzero\nerror number.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>pthread_attr_setscope</b>()\ncan fail with the following errors:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"61%\">\n\n\n<p>An invalid value was specified in <i>scope</i>.</p></td>\n<td width=\"17%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>ENOTSUP</b></p>\n\n<p style=\"margin-left:22%;\"><i>scope</i> specified the\nvalue <b>PTHREAD_SCOPE_PROCESS</b>, which is not supported\non Linux.</p>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n\n<p align=\"center\" style=\"margin-top: 1em\"><img src=\"grohtml-3407681.png\" alt=\"Image grohtml-3407681.png\"></p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2001,\nPOSIX.1-2008.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>PTHREAD_SCOPE_SYSTEM</b> contention scope typically\nindicates that a user-space thread is bound directly to a\nsingle kernel-scheduling entity. This is the case on Linux\nfor the obsolete LinuxThreads implementation and the modern\nNPTL implementation, which are both 1:1 threading\nimplementations.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1\nspecifies that the default contention scope is\nimplementation-defined.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/3/pthread_attr_init\">pthread_attr_init(3)</a>,\n<a href=\"https://man.page/3/pthread_attr_setaffinity_np\">pthread_attr_setaffinity_np(3)</a>,\n<a href=\"https://man.page/3/pthread_attr_setinheritsched\">pthread_attr_setinheritsched(3)</a>,\n<a href=\"https://man.page/3/pthread_attr_setschedparam\">pthread_attr_setschedparam(3)</a>,\n<a href=\"https://man.page/3/pthread_attr_setschedpolicy\">pthread_attr_setschedpolicy(3)</a>,\n<a href=\"https://man.page/3/pthread_create\">pthread_create(3)</a>, <a href=\"https://man.page/7/pthreads\">pthreads(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}