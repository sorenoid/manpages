{"name":"wcsrtombs","body":"\n\n<h1 align=\"center\">WCSRTOMBS</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">wcsrtombs -\nconvert a wide-character string to a multibyte string</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;wchar.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>size_t\nwcsrtombs(char *</b><i>dest</i><b>, const wchar_t\n**</b><i>src</i><b>, <br>\nsize_t</b> <i>len</i><b>, mbstate_t\n*</b><i>ps</i><b>);</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">If <i>dest</i>\nis not NULL, the <b>wcsrtombs</b>() function converts the\nwide-character string <i>*src</i> to a multibyte string\nstarting at <i>dest</i>. At most <i>len</i> bytes are\nwritten to <i>dest</i>. The shift state <i>*ps</i> is\nupdated. The conversion is effectively performed by\nrepeatedly calling <i>wcrtomb(dest, *src, ps)</i>, as long\nas this call succeeds, and then incrementing <i>dest</i> by\nthe number of bytes written and <i>*src</i> by one. The\nconversion can stop for three reasons:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p>1.</p></td>\n<td width=\"1%\"></td>\n<td width=\"85%\">\n\n\n<p>A wide character has been encountered that can not be\nrepresented as a multibyte sequence (according to the\ncurrent locale). In this case, <i>*src</i> is left pointing\nto the invalid wide character, <i>(size_t)&nbsp;-1</i> is\nreturned, and <i>errno</i> is set to <b>EILSEQ</b>.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p>2.</p></td>\n<td width=\"1%\"></td>\n<td width=\"85%\">\n\n\n<p>The length limit forces a stop. In this case,\n<i>*src</i> is left pointing to the next wide character to\nbe converted, and the number of bytes written to <i>dest</i>\nis returned.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p>3.</p></td>\n<td width=\"1%\"></td>\n<td width=\"85%\">\n\n\n<p>The wide-character string has been completely converted,\nincluding the terminating null wide character (L'\\0'), which\nhas the side effect of bringing back <i>*ps</i> to the\ninitial state. In this case, <i>*src</i> is set to NULL, and\nthe number of bytes written to <i>dest</i>, excluding the\nterminating null byte ('\\0'), is returned.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If <i>dest</i>\nis NULL, <i>len</i> is ignored, and the conversion proceeds\nas above, except that the converted bytes are not written\nout to memory, and that no length limit exists.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In both of the\nabove cases, if <i>ps</i> is NULL, a static anonymous state\nknown only to the <b>wcsrtombs</b>() function is used\ninstead.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The programmer\nmust ensure that there is room for at least <i>len</i> bytes\nat <i>dest</i>.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>wcsrtombs</b>() function returns the number of bytes that\nmake up the converted part of multibyte sequence, not\nincluding the terminating null byte. If a wide character was\nencountered which could not be converted,\n<i>(size_t)&nbsp;-1</i> is returned, and <i>errno</i> set to\n<b>EILSEQ</b>.</p>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n\n<p align=\"center\" style=\"margin-top: 1em\"><img src=\"grohtml-3328991.png\" alt=\"Image grohtml-3328991.png\"></p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2001,\nPOSIX.1-2008, C99.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The behavior of\n<b>wcsrtombs</b>() depends on the <b>LC_CTYPE</b> category\nof the current locale.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Passing NULL as\n<i>ps</i> is not multithread safe.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/3/iconv\">iconv(3)</a>,\n<a href=\"https://man.page/3/mbsinit\">mbsinit(3)</a>, <a href=\"https://man.page/3/wcrtomb\">wcrtomb(3)</a>, <a href=\"https://man.page/3/wcsnrtombs\">wcsnrtombs(3)</a>,\n<a href=\"https://man.page/3/wcstombs\">wcstombs(3)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}