{"name":"popen","body":"\n\n<h1 align=\"center\">POPEN</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">popen, pclose -\npipe stream to or from a process</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;stdio.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>FILE\n*popen(const char *</b><i>command</i><b>, const char\n*</b><i>type</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\npclose(FILE *</b><i>stream</i><b>);</b></p>\n\n<p style=\"margin-left:5%; margin-top: 1em\">Feature Test\nMacro Requirements for glibc (see\n<a href=\"https://man.page/7/feature_test_macros\">feature_test_macros(7)</a>):</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>popen</b>(),\n<b>pclose</b>():</p>\n\n\n<p style=\"margin-left:17%;\">_POSIX_C_SOURCE&nbsp;&gt;=&nbsp;2\n<br>\n|| /* Glibc versions &lt;= 2.19: */ _BSD_SOURCE ||\n_SVID_SOURCE</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>popen</b>() function opens a process by creating a pipe,\nforking, and invoking the shell. Since a pipe is by\ndefinition unidirectional, the <i>type</i> argument may\nspecify only reading or writing, not both; the resulting\nstream is correspondingly read-only or write-only.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>command</i> argument is a pointer to a null-terminated\nstring containing a shell command line. This command is\npassed to <i>/bin/sh</i> using the <b>-c</b> flag;\ninterpretation, if any, is performed by the shell.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The <i>type</i>\nargument is a pointer to a null-terminated string which must\ncontain either the letter 'r' for reading or the letter 'w'\nfor writing. Since glibc 2.9, this argument can additionally\ninclude the letter 'e', which causes the close-on-exec flag\n(<b>FD_CLOEXEC</b>) to be set on the underlying file\ndescriptor; see the description of the <b>O_CLOEXEC</b> flag\nin <a href=\"https://man.page/2/open\">open(2)</a> for reasons why this may be useful.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The return\nvalue from <b>popen</b>() is a normal standard I/O stream in\nall respects save that it must be closed with\n<b>pclose</b>() rather than <a href=\"https://man.page/3/fclose\">fclose(3)</a>. Writing to\nsuch a stream writes to the standard input of the command;\nthe command&rsquo;s standard output is the same as that of\nthe process that called <b>popen</b>(), unless this is\naltered by the command itself. Conversely, reading from the\nstream reads the command&rsquo;s standard output, and the\ncommand&rsquo;s standard input is the same as that of the\nprocess that called <b>popen</b>().</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that\noutput <b>popen</b>() streams are block buffered by\ndefault.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>pclose</b>() function waits for the associated process to\nterminate and returns the exit status of the command as\nreturned by <a href=\"https://man.page/2/wait4\">wait4(2)</a>.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>popen</b>():\non success, returns a pointer to an open stream that can be\nused to read or write to the pipe; if the <a href=\"https://man.page/2/fork\">fork(2)</a> or\n<a href=\"https://man.page/2/pipe\">pipe(2)</a> calls fail, or if the function cannot\nallocate memory, NULL is returned.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>pclose</b>():\non success, returns the exit status of the command; if\n<a href=\"https://man.page/2/wait4\">wait4(2)</a> returns an error, or some other error is\ndetected, -1 is returned.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Both functions\nset <i>errno</i> to an appropriate value in the case of an\nerror.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>popen</b>() function does not set <i>errno</i> if memory\nallocation fails. If the underlying <a href=\"https://man.page/2/fork\">fork(2)</a> or\n<a href=\"https://man.page/2/pipe\">pipe(2)</a> fails, <i>errno</i> is set appropriately. If\nthe <i>type</i> argument is invalid, and this condition is\ndetected, <i>errno</i> is set to <b>EINVAL</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If\n<b>pclose</b>() cannot obtain the child status, <i>errno</i>\nis set to <b>ECHILD</b>.</p>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"62%\">\n</td></tr>\n</table>\n\n\n<p align=\"center\"><img src=\"grohtml-3306421.png\" alt=\"Image grohtml-3306421.png\"></p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2001,\nPOSIX.1-2008.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The 'e' value\nfor <i>type</i> is a Linux extension.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Note</b>:\ncarefully read Caveats in <a href=\"https://man.page/3/system\">system(3)</a>.</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Since the\nstandard input of a command opened for reading shares its\nseek offset with the process that called <b>popen</b>(), if\nthe original process has done a buffered read, the\ncommand&rsquo;s input position may not be as expected.\nSimilarly, the output from a command opened for writing may\nbecome intermingled with that of the original process. The\nlatter can be avoided by calling <a href=\"https://man.page/3/fflush\">fflush(3)</a> before\n<b>popen</b>().</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Failure to\nexecute the shell is indistinguishable from the\nshell&rsquo;s failure to execute command, or an immediate\nexit of the command. The only hint is an exit status of\n127.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/sh\">sh(1)</a>,\n<a href=\"https://man.page/2/fork\">fork(2)</a>, <a href=\"https://man.page/2/pipe\">pipe(2)</a>, <a href=\"https://man.page/2/wait4\">wait4(2)</a>,\n<a href=\"https://man.page/3/fclose\">fclose(3)</a>, <a href=\"https://man.page/3/fflush\">fflush(3)</a>, <a href=\"https://man.page/3/fopen\">fopen(3)</a>,\n<a href=\"https://man.page/3/stdio\">stdio(3)</a>, <a href=\"https://man.page/3/system\">system(3)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}