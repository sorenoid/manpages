{"name":"malloc_trim","description":"malloc_trim - release free memory from the heap","body":"\n\n<h1 align=\"center\">MALLOC_TRIM</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">malloc_trim -\nrelease free memory from the heap</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;malloc.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nmalloc_trim(size_t</b> <i>pad</i><b>);</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>malloc_trim</b>() function attempts to release free\nmemory from the heap (by calling <a href=\"https://man.page/2/sbrk\">sbrk(2)</a> or\n<a href=\"https://man.page/2/madvise\">madvise(2)</a> with suitable arguments).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The <i>pad</i>\nargument specifies the amount of free space to leave\nuntrimmed at the top of the heap. If this argument is 0,\nonly the minimum amount of memory is maintained at the top\nof the heap (i.e., one page or less). A nonzero argument can\nbe used to maintain some trailing space at the top of the\nheap in order to allow future allocations to be made without\nhaving to extend the heap with <a href=\"https://man.page/2/sbrk\">sbrk(2)</a>.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>malloc_trim</b>() function returns 1 if memory was\nactually released back to the system, or 0 if it was not\npossible to release any memory.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">No errors are\ndefined.</p>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"62%\">\n</td></tr>\n</table>\n\n\n<p align=\"center\"><img src=\"grohtml-3337221.png\" alt=\"Image grohtml-3337221.png\"></p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This function\nis a GNU extension.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This function\nis automatically called by <a href=\"https://man.page/3/free\">free(3)</a> in certain\ncircumstances; see the discussion of <b>M_TOP_PAD</b> and\n<b>M_TRIM_THRESHOLD</b> in <a href=\"https://man.page/3/mallopt\">mallopt(3)</a>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Only the main\nheap (using <a href=\"https://man.page/2/sbrk\">sbrk(2)</a>) honors the <i>pad</i> argument;\nthread heaps do not.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Since glibc 2.8\nthis function frees memory in all arenas and in all chunks\nwith whole free pages.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Before glibc\n2.8 this function only freed memory at the top of the heap\nin the main arena.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/2/sbrk\">sbrk(2)</a>,\n<a href=\"https://man.page/3/malloc\">malloc(3)</a>, <a href=\"https://man.page/3/mallopt\">mallopt(3)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}