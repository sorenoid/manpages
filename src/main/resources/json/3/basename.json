{"name":"basename","description":"basename, dirname - parse pathname components","body":"\n\n<h1 align=\"center\">BASENAME</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">basename,\ndirname - parse pathname components</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;libgen.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>char\n*dirname(char *</b><i>path</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>char\n*basename(char *</b><i>path</i><b>);</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Warning: there\nare two different functions <b>basename</b>() - see\nbelow.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The functions\n<b>dirname</b>() and <b>basename</b>() break a\nnull-terminated pathname string into directory and filename\ncomponents. In the usual case, <b>dirname</b>() returns the\nstring up to, but not including, the final '/', and\n<b>basename</b>() returns the component following the final\n'/'. Trailing '/' characters are not counted as part of the\npathname.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If <i>path</i>\ndoes not contain a slash, <b>dirname</b>() returns the\nstring &quot;.&quot; while <b>basename</b>() returns a copy\nof <i>path</i>. If <i>path</i> is the string &quot;/&quot;,\nthen both <b>dirname</b>() and <b>basename</b>() return the\nstring &quot;/&quot;. If <i>path</i> is a null pointer or\npoints to an empty string, then both <b>dirname</b>() and\n<b>basename</b>() return the string &quot;.&quot;.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Concatenating\nthe string returned by <b>dirname</b>(), a &quot;/&quot;,\nand the string returned by <b>basename</b>() yields a\ncomplete pathname.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Both\n<b>dirname</b>() and <b>basename</b>() may modify the\ncontents of <i>path</i>, so it may be desirable to pass a\ncopy when calling one of these functions.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">These functions\nmay return pointers to statically allocated memory which may\nbe overwritten by subsequent calls. Alternatively, they may\nreturn a pointer to some part of <i>path</i>, so that the\nstring referred to by <i>path</i> should not be modified or\nfreed until the pointer returned by the function is no\nlonger required.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\nlist of examples (taken from SUSv2) shows the strings\nreturned by <b>dirname</b>() and <b>basename</b>() for\ndifferent paths:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"15%\"></td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"15%\"></td>\n<td width=\"8%\"></td>\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"15%\"></td>\n<td width=\"8%\"></td>\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"15%\"></td>\n<td width=\"8%\"></td>\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"15%\"></td>\n<td width=\"8%\"></td>\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"15%\"></td>\n<td width=\"8%\"></td>\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"15%\"></td>\n<td width=\"8%\"></td>\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"62%\">\n</td></tr>\n</table>\n\n\n<p align=\"center\"><img src=\"grohtml-3372521.png\" alt=\"Image grohtml-3372521.png\"></p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Both\n<b>dirname</b>() and <b>basename</b>() return pointers to\nnull-terminated strings. (Do not pass these pointers to\n<a href=\"https://man.page/3/free\">free(3)</a>.)</p>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"62%\">\n</td></tr>\n</table>\n\n\n<p align=\"center\"><img src=\"grohtml-3372522.png\" alt=\"Image grohtml-3372522.png\"></p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2001,\nPOSIX.1-2008.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">There are two\ndifferent versions of <b>basename</b>() - the POSIX version\ndescribed above, and the GNU version, which one gets\nafter</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>#define\n_GNU_SOURCE</b> /* See feature_test_macros(7) */ <b><br>\n#include &lt;string.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The GNU version\nnever modifies its argument, and returns the empty string\nwhen <i>path</i> has a trailing slash, and in particular\nalso when it is &quot;/&quot;. There is no GNU version of\n<b>dirname</b>().</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">With glibc, one\ngets the POSIX version of <b>basename</b>() when\n<i>&lt;libgen.h&gt;</i> is included, and the GNU version\notherwise.</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">In the glibc\nimplementation, the POSIX versions of these functions modify\nthe <i>path</i> argument, and segfault when called with a\nstatic string such as &quot;/usr/&quot;.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Before glibc\n2.2.1, the glibc version of <b>dirname</b>() did not\ncorrectly handle pathnames with trailing '/' characters, and\ngenerated a segfault if given a NULL argument.</p>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\ncode snippet demonstrates the use of <b>basename</b>() and\n<b>dirname</b>():</p>\n\n<p style=\"margin-left:17%;\">char *dirc, *basec, *bname,\n*dname; <br>\nchar *path = &quot;/etc/passwd&quot;;</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">dirc =\nstrdup(path); <br>\nbasec = strdup(path); <br>\ndname = dirname(dirc); <br>\nbname = basename(basec); <br>\nprintf(&quot;dirname=%s, basename=%s\\n&quot;, dname,\nbname);</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/basename\">basename(1)</a>,\n<a href=\"https://man.page/1/dirname\">dirname(1)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}