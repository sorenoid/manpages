{"name":"inet_pton","body":"\n\n<h1 align=\"center\">INET_PTON</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">inet_pton -\nconvert IPv4 and IPv6 addresses from text to binary form</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;arpa/inet.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\ninet_pton(int</b> <i>af</i><b>, const char\n*</b><i>src</i><b>, void *</b><i>dst</i><b>);</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This function\nconverts the character string <i>src</i> into a network\naddress structure in the <i>af</i> address family, then\ncopies the network address structure to <i>dst</i>. The\n<i>af</i> argument must be either <b>AF_INET</b> or\n<b>AF_INET6</b>. <i>dst</i> is written in network byte\norder.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\naddress families are currently supported: <b><br>\nAF_INET</b></p>\n\n<p style=\"margin-left:22%;\"><i>src</i> points to a\ncharacter string containing an IPv4 network address in\ndotted-decimal format, &quot;<i>ddd.ddd.ddd.ddd</i>&quot;,\nwhere <i>ddd</i> is a decimal number of up to three digits\nin the range 0 to 255. The address is converted to a\n<i>struct in_addr</i> and copied to <i>dst</i>, which must\nbe <i>sizeof(struct in_addr)</i> (4) bytes (32 bits)\nlong.</p>\n\n<p style=\"margin-left:11%;\"><b>AF_INET6</b></p>\n\n<p style=\"margin-left:22%;\"><i>src</i> points to a\ncharacter string containing an IPv6 network address. The\naddress is converted to a <i>struct in6_addr</i> and copied\nto <i>dst</i>, which must be <i>sizeof(struct in6_addr)</i>\n(16) bytes (128 bits) long. The allowed formats for IPv6\naddresses follow these rules:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"3%\">\n\n\n<p>1.</p></td>\n<td width=\"1%\"></td>\n<td width=\"74%\">\n\n\n<p>The preferred format is <i>x:x:x:x:x:x:x:x</i>. This\nform consists of eight hexadecimal numbers, each of which\nexpresses a 16-bit value (i.e., each <i>x</i> can be up to 4\nhex digits).</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"3%\">\n\n\n<p>2.</p></td>\n<td width=\"1%\"></td>\n<td width=\"74%\">\n\n\n<p>A series of contiguous zero values in the preferred\nformat can be abbreviated to <i>::</i>. Only one instance of\n<i>::</i> can occur in an address. For example, the loopback\naddress <i>0:0:0:0:0:0:0:1</i> can be abbreviated as\n<i>::1</i>. The wildcard address, consisting of all zeros,\ncan be written as <i>::</i>.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"3%\">\n\n\n<p>3.</p></td>\n<td width=\"1%\"></td>\n<td width=\"74%\">\n\n\n<p>An alternate format is useful for expressing IPv4-mapped\nIPv6 addresses. This form is written as\n<i>x:x:x:x:x:x:d.d.d.d</i>, where the six leading <i>x</i>s\nare hexadecimal values that define the six most-significant\n16-bit pieces of the address (i.e., 96 bits), and the\n<i>d</i>s express a value in dotted-decimal notation that\ndefines the least significant 32 bits of the address. An\nexample of such an address is\n<i>::FFFF:204.152.189.116</i>.</p> </td></tr>\n</table>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See RFC 2373\nfor further details on the representation of IPv6\naddresses.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>inet_pton</b>()\nreturns 1 on success (network address was successfully\nconverted). 0 is returned if <i>src</i> does not contain a\ncharacter string representing a valid network address in the\nspecified address family. If <i>af</i> does not contain a\nvalid address family, -1 is returned and <i>errno</i> is set\nto <b>EAFNOSUPPORT</b>.</p>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n\n<p align=\"center\" style=\"margin-top: 1em\"><img src=\"grohtml-3341271.png\" alt=\"Image grohtml-3341271.png\"></p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2001,\nPOSIX.1-2008.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Unlike\n<a href=\"https://man.page/3/inet_aton\">inet_aton(3)</a> and <a href=\"https://man.page/3/inet_addr\">inet_addr(3)</a>,\n<b>inet_pton</b>() supports IPv6 addresses. On the other\nhand, <b>inet_pton</b>() accepts only IPv4 addresses in\ndotted-decimal notation, whereas <a href=\"https://man.page/3/inet_aton\">inet_aton(3)</a> and\n<a href=\"https://man.page/3/inet_addr\">inet_addr(3)</a> allow the more general numbers-and-dots\nnotation (hexadecimal and octal number formats, and formats\nthat don&rsquo;t require all four bytes to be explicitly\nwritten). For an interface that handles both IPv6 addresses,\nand IPv4 addresses in numbers-and-dots notation, see\n<a href=\"https://man.page/3/getaddrinfo\">getaddrinfo(3)</a>.</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>AF_INET6</b>\ndoes not recognize IPv4 addresses. An explicit IPv4-mapped\nIPv6 address must be supplied in <i>src</i> instead.</p>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The program\nbelow demonstrates the use of <b>inet_pton</b>() and\n<a href=\"https://man.page/3/inet_ntop\">inet_ntop(3)</a>. Here are some example runs:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">$ <b>./a.out i6\n0:0:0:0:0:0:0:0</b> <br>\n:: <br>\n$ <b>./a.out i6 1:0:0:0:0:0:0:8</b> <br>\n1::8 <br>\n$ <b>./a.out i6 0:0:0:0:0:FFFF:204.152.189.116</b> <br>\n::ffff:204.152.189.116</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Program\nsource</b> <br>\n#include &lt;arpa/inet.h&gt; <br>\n#include &lt;stdio.h&gt; <br>\n#include &lt;stdlib.h&gt; <br>\n#include &lt;string.h&gt;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">int <br>\nmain(int argc, char *argv[]) <br>\n{ <br>\nunsigned char buf[sizeof(struct in6_addr)]; <br>\nint domain, s; <br>\nchar str[INET6_ADDRSTRLEN];</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">if (argc != 3)\n{ <br>\nfprintf(stderr, &quot;Usage: %s {i4|i6|&lt;num&gt;}\nstring\\n&quot;, argv[0]); <br>\nexit(EXIT_FAILURE); <br>\n}</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">domain =\n(strcmp(argv[1], &quot;i4&quot;) == 0) ? AF_INET : <br>\n(strcmp(argv[1], &quot;i6&quot;) == 0) ? AF_INET6 :\natoi(argv[1]);</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">s =\ninet_pton(domain, argv[2], buf); <br>\nif (s &lt;= 0) { <br>\nif (s == 0) <br>\nfprintf(stderr, &quot;Not in presentation format&quot;);\n<br>\nelse <br>\nperror(&quot;inet_pton&quot;); <br>\nexit(EXIT_FAILURE); <br>\n}</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">if\n(inet_ntop(domain, buf, str, INET6_ADDRSTRLEN) == NULL) {\n<br>\nperror(&quot;inet_ntop&quot;); <br>\nexit(EXIT_FAILURE); <br>\n}</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">printf(&quot;%s\\n&quot;,\nstr);</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">exit(EXIT_SUCCESS);\n<br>\n}</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/3/getaddrinfo\">getaddrinfo(3)</a>,\n<a href=\"https://man.page/3/inet\">inet(3)</a>, <a href=\"https://man.page/3/inet_ntop\">inet_ntop(3)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}