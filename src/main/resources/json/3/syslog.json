{"name":"syslog","description":"closelog, openlog, syslog, vsyslog - send messages to the system logger","body":"\n\n<h1 align=\"center\">SYSLOG</h1>\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">closelog,\nopenlog, syslog, vsyslog - send messages to the system\nlogger</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;syslog.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>void\nopenlog(const char *</b><i>ident</i><b>, int</b>\n<i>option</i><b>, int</b> <i>facility</i><b>); <br>\nvoid syslog(int</b> <i>priority</i><b>, const char\n*</b><i>format</i><b>, ...); <br>\nvoid closelog(void);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>void\nvsyslog(int</b> <i>priority</i><b>, const char\n*</b><i>format</i><b>, va_list</b> <i>ap</i><b>);</b></p>\n\n<p style=\"margin-left:5%; margin-top: 1em\">Feature Test\nMacro Requirements for glibc (see\n<a href=\"https://man.page/7/feature_test_macros\">feature_test_macros(7)</a>):</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>vsyslog</b>():\n<br>\nSince glibc 2.19: <br>\n_DEFAULT_SOURCE <br>\nGlibc 2.19 and earlier: <br>\n_BSD_SOURCE</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>openlog()\n<br>\nopenlog</b>() opens a connection to the system logger for a\nprogram.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The string\npointed to by <i>ident</i> is prepended to every message,\nand is typically set to the program name. If <i>ident</i> is\nNULL, the program name is used. (POSIX.1-2008 does not\nspecify the behavior when <i>ident</i> is NULL.)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>option</i> argument specifies flags which control the\noperation of <b>openlog</b>() and subsequent calls to\n<b>syslog</b>(). The <i>facility</i> argument establishes a\ndefault to be used if none is specified in subsequent calls\nto <b>syslog</b>(). The values that may be specified for\n<i>option</i> and <i>facility</i> are described below.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The use of\n<b>openlog</b>() is optional; it will automatically be\ncalled by <b>syslog</b>() if necessary, in which case\n<i>ident</i> will default to NULL.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>syslog() and\nvsyslog() <br>\nsyslog</b>() generates a log message, which will be\ndistributed by <b>syslogd</b>(8).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>priority</i> argument is formed by ORing together a\n<i>facility</i> value and a <i>level</i> value (described\nbelow). If no <i>facility</i> value is ORed into\n<i>priority</i>, then the default value set by\n<b>openlog</b>() is used, or, if there was no preceding\n<b>openlog</b>() call, a default of <b>LOG_USER</b> is\nemployed.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The remaining\narguments are a <i>format</i>, as in <a href=\"https://man.page/3/printf\">printf(3)</a>, and\nany arguments required by the <i>format</i>, except that the\ntwo-character sequence <b>%m</b> will be replaced by the\nerror message string <i>strerror</i>(<i>errno</i>). The\nformat string need not include a terminating newline\ncharacter.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The function\n<b>vsyslog</b>() performs the same task as <b>syslog</b>()\nwith the difference that it takes a set of arguments which\nhave been obtained using the <a href=\"https://man.page/3/stdarg\">stdarg(3)</a> variable\nargument list macros.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>closelog()\n<br>\ncloselog</b>() closes the file descriptor being used to\nwrite to the system logger. The use of <b>closelog</b>() is\noptional.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Values\nfor</b> <i>option</i> <br>\nThe <i>option</i> argument to <b>openlog</b>() is a bit mask\nconstructed by ORing together any of the following\nvalues:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"15%\">\n\n\n<p><b>LOG_CONS</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"66%\">\n\n\n<p>Write directly to the system console if there is an\nerror while sending to the system logger.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"15%\">\n\n\n<p><b>LOG_NDELAY</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"66%\">\n\n\n<p>Open the connection immediately (normally, the\nconnection is opened when the first message is logged). This\nmay be useful, for example, if a subsequent <a href=\"https://man.page/2/chroot\">chroot(2)</a>\nwould make the pathname used internally by the logging\nfacility unreachable.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"15%\">\n\n\n<p><b>LOG_NOWAIT</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"66%\">\n\n\n<p>Don&rsquo;t wait for child processes that may have been\ncreated while logging the message. (The GNU C library does\nnot create a child process, so this option has no effect on\nLinux.)</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"15%\">\n\n\n<p><b>LOG_ODELAY</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"66%\">\n\n\n<p>The converse of <b>LOG_NDELAY</b>; opening of the\nconnection is delayed until <b>syslog</b>() is called. (This\nis the default, and need not be specified.)</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"15%\">\n\n\n<p><b>LOG_PERROR</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"66%\">\n\n\n<p>(Not in POSIX.1-2001 or POSIX.1-2008.) Also log the\nmessage to <i>stderr</i>.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"15%\">\n\n\n<p><b>LOG_PID</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"66%\">\n\n\n<p>Include the caller&rsquo;s PID with each message.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Values\nfor</b> <i>facility</i> <br>\nThe <i>facility</i> argument is used to specify what type of\nprogram is logging the message. This lets the configuration\nfile specify that messages from different facilities will be\nhandled differently.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"18%\">\n\n\n<p style=\"margin-top: 1em\"><b>LOG_AUTH</b></p></td>\n<td width=\"5%\"></td>\n<td width=\"66%\">\n\n\n<p style=\"margin-top: 1em\">security/authorization\nmessages</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"18%\">\n\n\n<p><b>LOG_AUTHPRIV</b></p></td>\n<td width=\"5%\"></td>\n<td width=\"66%\">\n\n\n<p>security/authorization messages (private)</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"18%\">\n\n\n<p><b>LOG_CRON</b></p></td>\n<td width=\"5%\"></td>\n<td width=\"66%\">\n\n\n<p>clock daemon (<b>cron</b> and <b>at</b>)</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"18%\">\n\n\n<p><b>LOG_DAEMON</b></p></td>\n<td width=\"5%\"></td>\n<td width=\"66%\">\n\n\n<p>system daemons without separate facility value</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"18%\">\n\n\n<p><b>LOG_FTP</b></p></td>\n<td width=\"5%\"></td>\n<td width=\"66%\">\n\n\n<p>ftp daemon</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"18%\">\n\n\n<p><b>LOG_KERN</b></p></td>\n<td width=\"5%\"></td>\n<td width=\"66%\">\n\n\n<p>kernel messages (these can&rsquo;t be generated from\nuser processes)</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>LOG_LOCAL0</b> through\n<b>LOG_LOCAL7</b></p>\n\n<p style=\"margin-left:34%;\">reserved for local use</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"15%\">\n\n\n<p><b>LOG_LPR</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"66%\">\n\n\n<p>line printer subsystem</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"15%\">\n\n\n<p><b>LOG_MAIL</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"66%\">\n\n\n<p>mail subsystem</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"15%\">\n\n\n<p><b>LOG_NEWS</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"66%\">\n\n\n<p>USENET news subsystem</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"15%\">\n\n\n<p><b>LOG_SYSLOG</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"66%\">\n\n\n<p>messages generated internally by <b>syslogd</b>(8)</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>LOG_USER</b> (default)</p>\n\n<p style=\"margin-left:34%;\">generic user-level messages</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"12%\">\n\n\n<p><b>LOG_UUCP</b></p></td>\n<td width=\"11%\"></td>\n<td width=\"21%\">\n\n\n<p>UUCP subsystem</p></td>\n<td width=\"45%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Values\nfor</b> <i>level</i> <br>\nThis determines the importance of the message. The levels\nare, in order of decreasing importance:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"17%\">\n\n\n<p style=\"margin-top: 1em\"><b>LOG_EMERG</b></p></td>\n<td width=\"6%\"></td>\n<td width=\"52%\">\n\n\n<p style=\"margin-top: 1em\">system is unusable</p></td>\n<td width=\"14%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"17%\">\n\n\n<p><b>LOG_ALERT</b></p></td>\n<td width=\"6%\"></td>\n<td width=\"52%\">\n\n\n<p>action must be taken immediately</p></td>\n<td width=\"14%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"17%\">\n\n\n<p><b>LOG_CRIT</b></p></td>\n<td width=\"6%\"></td>\n<td width=\"52%\">\n\n\n<p>critical conditions</p></td>\n<td width=\"14%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"17%\">\n\n\n<p><b>LOG_ERR</b></p></td>\n<td width=\"6%\"></td>\n<td width=\"52%\">\n\n\n<p>error conditions</p></td>\n<td width=\"14%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"17%\">\n\n\n<p><b>LOG_WARNING</b></p></td>\n<td width=\"6%\"></td>\n<td width=\"52%\">\n\n\n<p>warning conditions</p></td>\n<td width=\"14%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"17%\">\n\n\n<p><b>LOG_NOTICE</b></p></td>\n<td width=\"6%\"></td>\n<td width=\"52%\">\n\n\n<p>normal, but significant, condition</p></td>\n<td width=\"14%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"17%\">\n\n\n<p><b>LOG_INFO</b></p></td>\n<td width=\"6%\"></td>\n<td width=\"52%\">\n\n\n<p>informational message</p></td>\n<td width=\"14%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"17%\">\n\n\n<p><b>LOG_DEBUG</b></p></td>\n<td width=\"6%\"></td>\n<td width=\"52%\">\n\n\n<p>debug-level message</p></td>\n<td width=\"14%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The function\n<a href=\"https://man.page/3/setlogmask\">setlogmask(3)</a> can be used to restrict logging to\nspecified levels only.</p>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n\n<p align=\"center\" style=\"margin-top: 1em\"><img src=\"grohtml-3402341.png\" alt=\"Image grohtml-3402341.png\"></p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The functions\n<b>openlog</b>(), <b>closelog</b>(), and <b>syslog</b>()\n(but not <b>vsyslog</b>()) are specified in SUSv2,\nPOSIX.1-2001, and POSIX.1-2008.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2001\nspecifies only the <b>LOG_USER</b> and <b>LOG_LOCAL*</b>\nvalues for <i>facility</i>. However, with the exception of\n<b>LOG_AUTHPRIV</b> and <b>LOG_FTP</b>, the other\n<i>facility</i> values appear on most UNIX systems.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>LOG_PERROR</b> value for <i>option</i> is not specified\nby POSIX.1-2001 or POSIX.1-2008, but is available in most\nversions of UNIX.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The argument\n<i>ident</i> in the call of <b>openlog</b>() is probably\nstored as-is. Thus, if the string it points to is changed,\n<b>syslog</b>() may start prepending the changed string, and\nif the string it points to ceases to exist, the results are\nundefined. Most portable is to use a string constant.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Never pass a\nstring with user-supplied data as a format, use the\nfollowing instead:</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\">syslog(priority,\n&quot;%s&quot;, string);</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/journalctl\">journalctl(1)</a>,\n<a href=\"https://man.page/1/logger\">logger(1)</a>, <a href=\"https://man.page/3/setlogmask\">setlogmask(3)</a>,\n<b>syslog.conf</b>(5), <b>syslogd</b>(8)</p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}