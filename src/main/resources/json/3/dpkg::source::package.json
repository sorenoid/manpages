{"name":"dpkg::source::package","body":"\n\n<h1 align=\"center\">Dpkg::Source::Package</h1>\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Dpkg::Source::Package\n- manipulate Debian source packages</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This module\nprovides a class that can manipulate Debian source packages.\nWhile it supports both the extraction and the creation of\nsource packages, the only <small>API</small> that is\nofficially supported is the one that supports the extraction\nof the source package.</p>\n\n<h2>FUNCTIONS\n<a name=\"FUNCTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">$string =\n<b>get_default_diff_ignore_regex()</b></p>\n\n<p style=\"margin-left:17%;\">Returns the default diff ignore\nregex.</p>\n\n\n<p style=\"margin-left:11%;\">set_default_diff_ignore_regex($string)</p>\n\n<p style=\"margin-left:17%;\">Set a regex as the new default\ndiff ignore regex.</p>\n\n<p style=\"margin-left:11%;\">@array =\n<b>get_default_tar_ignore_pattern()</b></p>\n\n<p style=\"margin-left:17%;\">Returns the default tar ignore\npattern, as an array.</p>\n\n<h2>METHODS\n<a name=\"METHODS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">$p =\nDpkg::Source::Package-&gt;new(%opts, options =&gt; {})</p>\n\n<p style=\"margin-left:17%;\">Creates a new object\ncorresponding to a source package. When the key\n<b>filename</b> is set to a <i>.dsc</i> file, it will be\nused to initialize the source package with its description.\nOtherwise if the <b>format</b> key is set to a valid value,\nthe object will be initialized for that format (since dpkg\n1.19.3).</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The\n<b>options</b> key is a hash ref which supports the\nfollowing options: <br>\nskip_debianization</p>\n\n<p style=\"margin-left:29%;\">If set to 1, do not apply\nDebian changes on the extracted source package.</p>\n\n<p style=\"margin-left:17%;\">skip_patches</p>\n\n<p style=\"margin-left:29%;\">If set to 1, do not apply\nDebian-specific patches. This options is specific for source\npackages using format &quot;2.0&quot; and &quot;3.0\n(quilt)&quot;.</p>\n\n<p style=\"margin-left:17%;\">require_valid_signature</p>\n\n<p style=\"margin-left:29%;\">If set to 1, the\n<b>check_signature()</b> method will be stricter and will\nerror out if the signature can&rsquo;t be verified.</p>\n\n<p style=\"margin-left:17%;\">require_strong_checksums</p>\n\n<p style=\"margin-left:29%;\">If set to 1, the\n<b>check_checksums()</b> method will be stricter and will\nerror out if there is no strong checksum.</p>\n\n<p style=\"margin-left:17%;\">copy_orig_tarballs</p>\n\n<p style=\"margin-left:29%;\">If set to 1, the extraction\nwill copy the upstream tarballs next the target directory.\nThis is useful if you want to be able to rebuild the source\npackage after its extraction.</p>\n\n\n<p style=\"margin-left:11%;\">$p-&gt;<b>get_filename()</b></p>\n\n<p style=\"margin-left:17%;\">Returns the filename of the\n<small>DSC</small> file.</p>\n\n<p style=\"margin-left:11%;\">$p-&gt;<b>get_files()</b></p>\n\n<p style=\"margin-left:17%;\">Returns the list of files\nreferenced by the source package. The filenames usually do\nnot have any path information.</p>\n\n\n<p style=\"margin-left:11%;\">$p-&gt;<b>check_checksums()</b></p>\n\n<p style=\"margin-left:17%;\">Verify the checksums embedded\nin the <small>DSC</small> file. It requires the presence of\nthe other files constituting the source package. If any\ninconsistency is discovered, it immediately errors out. It\nwill make sure at least one strong checksum is present.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If the object\nhas been created with the\n&quot;require_strong_checksums&quot; option, then any\nproblem will result in a fatal error.</p>\n\n\n<p style=\"margin-left:11%;\">$p-&gt;get_upstream_signing_key($dir)</p>\n\n<p style=\"margin-left:17%;\">Get the filename for the\nupstream key.</p>\n\n\n<p style=\"margin-left:11%;\">$p-&gt;check_original_tarball_signature($dir,\n@asc)</p>\n\n<p style=\"margin-left:17%;\">Verify the original upstream\ntarball signatures @asc using the upstream public keys. It\nrequires the origin upstream tarballs, their signatures and\nthe upstream signing key, as found in an unpacked source\ntree $dir. If any inconsistency is discovered, it\nimmediately errors out.</p>\n\n<p style=\"margin-left:11%;\">$bool =\n$p-&gt;<b>is_signed()</b></p>\n\n<p style=\"margin-left:17%;\">Returns 1 if the\n<small>DSC</small> files contains an embedded OpenPGP\nsignature. Otherwise returns 0.</p>\n\n\n<p style=\"margin-left:11%;\">$p-&gt;<b>check_signature()</b></p>\n\n<p style=\"margin-left:17%;\">Implement the same OpenPGP\nsignature check that dpkg-source does. In case of problems,\nit prints a warning or errors out.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If the object\nhas been created with the\n&quot;require_valid_signature&quot; option, then any problem\nwill result in a fatal error.</p>\n\n<p style=\"margin-left:11%;\">$p-&gt;extract($targetdir)</p>\n\n<p style=\"margin-left:17%;\">Extracts the source package in\nthe target directory $targetdir. Beware that if $targetdir\nalready exists, it will be erased (as long as the\nno_overwrite_dir option is set).</p>\n\n<h2>CHANGES\n<a name=\"CHANGES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Version 2.01\n(dpkg 1.20.1)</b> <br>\nNew method: <b>get_upstream_signing_key()</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Version 2.00\n(dpkg 1.20.0)</b> <br>\nNew method: <b>check_original_tarball_signature()</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Remove\nvariable: $diff_ignore_default_regexp.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Hide variable:\n@tar_ignore_default_pattern.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Version 1.03\n(dpkg 1.19.3)</b> <br>\nNew option: format in <b>new()</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Version 1.02\n(dpkg 1.18.7)</b> <br>\nNew option: require_strong_checksums in\n<b>check_checksums()</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Version 1.01\n(dpkg 1.17.2)</b> <br>\nNew functions: <b>get_default_diff_ignore_regex()</b>,\n<b>set_default_diff_ignore_regex()</b>,\n<b>get_default_tar_ignore_pattern()</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Deprecated\nvariables: $diff_ignore_default_regexp,\n@tar_ignore_default_pattern</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Version 1.00\n(dpkg 1.16.1)</b> <br>\nMark the module as public.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#FUNCTIONS\">FUNCTIONS</a>","<a href=\"#METHODS\">METHODS</a>","<a href=\"#CHANGES\">CHANGES</a>"],"level":3}