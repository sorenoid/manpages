{"name":"merge","description":"Algorithm::Merge\n- Three-way merge and diff","body":"\n\n<h1 align=\"center\">Merge</h1>\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Algorithm::Merge\n- Three-way merge and diff</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">use\nAlgorithm::Merge qw(merge diff3 traverse_sequences3); <br>\n@merged = merge(\\@ancestor, \\@a, \\@b, { <br>\nCONFLICT =&gt; sub { } <br>\n}); <br>\n@merged = merge(\\@ancestor, \\@a, \\@b, { <br>\nCONFLICT =&gt; sub { } <br>\n}, $key_generation_function); <br>\n$merged = merge(\\@ancestor, \\@a, \\@b, { <br>\nCONFLICT =&gt; sub { } <br>\n}); <br>\n$merged = merge(\\@ancestor, \\@a, \\@b, { <br>\nCONFLICT =&gt; sub { } <br>\n}, $key_generation_function); <br>\n@diff = diff3(\\@ancestor, \\@a, \\@b); <br>\n@diff = diff3(\\@ancestor, \\@a, \\@b,\n$key_generation_function); <br>\n$diff = diff3(\\@ancestor, \\@a, \\@b); <br>\n$diff = diff3(\\@ancestor, \\@a, \\@b,\n$key_generation_function); <br>\n@trav = traverse_sequences3(\\@ancestor, \\@a, \\@b, { <br>\n# callbacks <br>\n}); <br>\n@trav = traverse_sequences3(\\@ancestor, \\@a, \\@b, { <br>\n# callbacks <br>\n}, $key_generation_function); <br>\n$trav = traverse_sequences3(\\@ancestor, \\@a, \\@b, { <br>\n# callbacks <br>\n}); <br>\n$trav = traverse_sequences3(\\@ancestor, \\@a, \\@b, { <br>\n# callbacks <br>\n}, $key_generation_function);</p>\n\n<h2>USAGE\n<a name=\"USAGE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This module\ncomplements Algorithm::Diff by providing three-way merge and\ndiff functions.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In this\ndocumentation, the first list to &quot;diff3&quot;,\n&quot;merge&quot;, and &quot;traverse_sequences3&quot; is\ncalled the &rsquo;original&rsquo; list. The second list is\nthe &rsquo;left&rsquo; list. The third list is the\n&rsquo;right&rsquo; list.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The optional\nkey generation arguments are the same as in Algorithm::Diff.\nSee Algorithm::Diff for more information.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>diff3</b>\n<br>\nGiven references to three lists of items, &quot;diff3&quot;\nperforms a three-way difference.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This function\nreturns an array of operations describing how the left and\nright lists differ from the original list. In scalar\ncontext, this function returns a reference to such an\narray.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Perhaps an\nexample would be useful.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Given the\nfollowing three lists,</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">original: a b c\ne f h i k <br>\nleft: a b d e f g i j k <br>\nright: a b c d e h i j k <br>\nmerge: a b d e g i j k</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">we have the\nfollowing result from diff3:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">[ 'u', 'a',\n'a', 'a' ], <br>\n[ 'u', 'b', 'b', 'b' ], <br>\n[ 'l', 'c', undef, 'c' ], <br>\n[ 'o', undef, 'd', 'd' ], <br>\n[ 'u', 'e', 'e', 'e' ], <br>\n[ 'r', 'f', 'f', undef ], <br>\n[ 'o', 'h', 'g', 'h' ], <br>\n[ 'u', 'i', 'i', 'i' ], <br>\n[ 'o', undef, 'j', 'j' ], <br>\n[ 'u', 'k', 'k', 'k' ]</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The first\nelement in each row is the array with the difference:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">c - conflict\n(no two are the same) <br>\nl - left is different <br>\no - original is different <br>\nr - right is different <br>\nu - unchanged</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The next three\nelements are the lists from the original, left, and right\narrays respectively that the row refers to (in the synopsis,\nthese are @ancestor, @a, and @b, respectively).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>merge</b>\n<br>\nGiven references to three lists of items, &quot;merge&quot;\nperforms a three-way merge. The &quot;merge&quot; function\nuses the &quot;diff3&quot; function to do most of the\nwork.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The only\ncallback currently used is &quot;CONFLICT&quot; which should\nbe a reference to a subroutine that accepts two array\nreferences. The first array reference is to a list of\nelements from the left list. The second array reference is\nto a list of elements from the right list. This callback\nshould return a list of elements to place in the merged list\nin place of the conflict.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The default\n&quot;CONFLICT&quot; callback returns the following:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">q{&lt;!--\n------ START CONFLICT ------ --&gt;}, <br>\n(@left), <br>\nq{&lt;!-- ---------------------------- --&gt;}, <br>\n(@right), <br>\nq{&lt;!-- ------ END CONFLICT ------ --&gt;},</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>traverse_sequences3</b>\n<br>\nThis is the workhorse function that goes through the three\nsequences and calls the callback functions.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\ncallbacks are supported. <small><br>\nNO_CHANGE</small></p>\n\n<p style=\"margin-left:17%;\">This is called if all three\nsequences have the same element at the current position. The\narguments are the current positions within each sequence,\nthe first argument being the current position within the\nfirst sequence.</p>\n\n<p style=\"margin-left:11%;\">A_DIFF</p>\n\n<p style=\"margin-left:17%;\">This is called if the first\nsequence is different than the other two sequences at the\ncurrent position. This callback will be called with one,\ntwo, or three arguments.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If one\nargument, then only the element at the given position from\nthe first sequence is not in either of the other two\nsequences.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If two\narguments, then there is no element in the first sequence\nthat corresponds to the elements at the given positions in\nthe second and third sequences.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If three\narguments, then the element at the given position in the\nfirst sequence is different than the corresponding element\nin the other two sequences, but the other two sequences have\ncorresponding elements.</p>\n\n<p style=\"margin-left:11%;\">B_DIFF</p>\n\n<p style=\"margin-left:17%;\">This is called if the second\nsequence is different than the other two sequences at the\ncurrent position. This callback will be called with one,\ntwo, or three arguments.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If one\nargument, then only the element at the given position from\nthe second sequence is not in either of the other two\nsequences.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If two\narguments, then there is no element in the second sequence\nthat corresponds to the elements at the given positions in\nthe first and third sequences.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If three\narguments, then the element at the given position in the\nsecond sequence is different than the corresponding element\nin the other two sequences, but the other two sequences have\ncorresponding elements.</p>\n\n<p style=\"margin-left:11%;\">C_DIFF</p>\n\n<p style=\"margin-left:17%;\">This is called if the third\nsequence is different than the other two sequences at the\ncurrent position. This callback will be called with one,\ntwo, or three arguments.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If one\nargument, then only the element at the given position from\nthe third sequence is not in either of the other two\nsequences.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If two\narguments, then there is no element in the third sequence\nthat corresponds to the elements at the given positions in\nthe first and second sequences.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If three\narguments, then the element at the given position in the\nthird sequence is different than the corresponding element\nin the other two sequences, but the other two sequences have\ncorresponding elements.</p>\n\n<p style=\"margin-left:11%;\"><small>CONFLICT</small></p>\n\n<p style=\"margin-left:17%;\">This is called if all three\nsequences have different elements at the current position.\nThe three arguments are the current positions within each\nsequence.</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Most assuredly\nthere are bugs. If a pattern similar to the above example\ndoes not work, send it to &lt;jsmith@cpan.org&gt; or report\nit on &lt;http://rt.cpan.org/&gt;, the <small>CPAN</small>\nbug tracker.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Algorithm::Diff&rsquo;s\nimplementation of &quot;traverse_sequences&quot; may not be\nsymmetric with respect to the input sequences if the second\nand third sequence are of different lengths. Because of\nthis, &quot;traverse_sequences3&quot; will calculate the\ndiffs of the second and third sequences as passed and\nswapped. If the differences are not the same, it will issue\nan &rsquo;Algorithm::Diff::diff is not symmetric for second\nand third sequences...&rsquo; warning. It will try to handle\nthis, but there may be some cases where it can&rsquo;t.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Algorithm::Diff.</p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">James G. Smith,\n&lt;jsmith@cpan.org&gt;</p>\n\n<h2>COPYRIGHT\n<a name=\"COPYRIGHT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Copyright (C)\n2003, 2007 Texas A&amp;M University. All Rights\nReserved.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This module is\nfree software; you may redistribute it and/or modify it\nunder the same terms as Perl itself.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#USAGE\">USAGE</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHOR\">AUTHOR</a>","<a href=\"#COPYRIGHT\">COPYRIGHT</a>"],"level":3}