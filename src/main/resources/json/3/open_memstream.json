{"name":"open_memstream","description":"open_memstream,\nopen_wmemstream - open a dynamic memory buffer stream","body":"\n\n<h1 align=\"center\">OPEN_MEMSTREAM</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">open_memstream,\nopen_wmemstream - open a dynamic memory buffer stream</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;stdio.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>FILE\n*open_memstream(char **</b><i>ptr</i><b>, size_t\n*</b><i>sizeloc</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;wchar.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>FILE\n*open_wmemstream(wchar_t **</b><i>ptr</i><b>, size_t\n*</b><i>sizeloc</i><b>);</b></p>\n\n<p style=\"margin-left:5%; margin-top: 1em\">Feature Test\nMacro Requirements for glibc (see\n<a href=\"https://man.page/7/feature_test_macros\">feature_test_macros(7)</a>):</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>open_memstream</b>(),\n<b>open_wmemstream</b>():</p>\n\n<p style=\"margin-left:17%;\">Since glibc 2.10:</p>\n\n\n<p style=\"margin-left:23%;\">_POSIX_C_SOURCE&nbsp;&gt;=&nbsp;200809L</p>\n\n<p style=\"margin-left:17%;\">Before glibc 2.10:</p>\n\n<p style=\"margin-left:23%;\">_GNU_SOURCE</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>open_memstream</b>() function opens a stream for writing\nto a memory buffer. The function dynamically allocates the\nbuffer, and the buffer automatically grows as needed.\nInitially, the buffer has a size of zero. After closing the\nstream, the caller should <a href=\"https://man.page/3/free\">free(3)</a> this buffer.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The locations\npointed to by <i>ptr</i> and <i>sizeloc</i> are used to\nreport, respectively, the current location and the size of\nthe buffer. The locations referred to by these pointers are\nupdated each time the stream is flushed (<a href=\"https://man.page/3/fflush\">fflush(3)</a>)\nand when the stream is closed (<a href=\"https://man.page/3/fclose\">fclose(3)</a>). These\nvalues remain valid only as long as the caller performs no\nfurther output on the stream. If further output is\nperformed, then the stream must again be flushed before\ntrying to access these values.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">A null byte is\nmaintained at the end of the buffer. This byte is <i>not</i>\nincluded in the size value stored at <i>sizeloc</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The stream\nmaintains the notion of a current position, which is\ninitially zero (the start of the buffer). Each write\noperation implicitly adjusts the buffer position. The\nstream&rsquo;s buffer position can be explicitly changed\nwith <a href=\"https://man.page/3/fseek\">fseek(3)</a> or <a href=\"https://man.page/3/fseeko\">fseeko(3)</a>. Moving the buffer\nposition past the end of the data already written fills the\nintervening space with null characters.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>open_wmemstream</b>() is similar to\n<b>open_memstream</b>(), but operates on wide characters\ninstead of bytes.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Upon successful\ncompletion, <b>open_memstream</b>() and\n<b>open_wmemstream</b>() return a <i>FILE</i> pointer.\nOtherwise, NULL is returned and <i>errno</i> is set to\nindicate the error.</p>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>open_memstream</b>()\nwas already available in glibc 1.0.x.\n<b>open_wmemstream</b>() is available since glibc 2.4.</p>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"62%\">\n</td></tr>\n</table>\n\n\n<p align=\"center\"><img src=\"grohtml-3328571.png\" alt=\"Image grohtml-3328571.png\"></p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2008.\nThese functions are not specified in POSIX.1-2001, and are\nnot widely available on other systems.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">There is no\nfile descriptor associated with the file stream returned by\nthese functions (i.e., <a href=\"https://man.page/3/fileno\">fileno(3)</a> will return an error\nif called on the returned stream).</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">In glibc before\nversion 2.7, seeking past the end of a stream created by\n<b>open_memstream</b>() does not enlarge the buffer; instead\nthe <a href=\"https://man.page/3/fseek\">fseek(3)</a> call fails, returning -1.</p>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">See\n<a href=\"https://man.page/3/fmemopen\">fmemopen(3)</a>.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/3/fmemopen\">fmemopen(3)</a>,\n<a href=\"https://man.page/3/fopen\">fopen(3)</a>, <a href=\"https://man.page/3/setbuf\">setbuf(3)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}