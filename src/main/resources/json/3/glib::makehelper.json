{"name":"glib::makehelper","description":"Glib::MakeHelper - Makefile.PL utilities for Glib-based extensions","body":"\n\n<h1 align=\"center\">Glib::MakeHelper</h1>\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Glib::MakeHelper\n- Makefile.PL utilities for Glib-based extensions</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">eval &quot;use\nGlib::MakeHelper; 1&quot; <br>\nor complain_that_glib_is_too_old_and_die(); <br>\n%xspod_files = Glib::MakeHelper-&gt;do_pod_files\n(@xs_files); <br>\npackage MY; <br>\nsub postamble { <br>\nreturn Glib::MakeHelper-&gt;postamble_clean () <br>\n. Glib::MakeHelper-&gt;postamble_docs (@main::xs_files) <br>\n. Glib::MakeHelper-&gt;postamble_rpms ( <br>\nMYLIB =&gt; $build_reqs{MyLib}, <br>\n); <br>\n}</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The Makefile.PL\nfor your typical Glib-based module is huge and hairy, thanks\nto all the crazy hoops you have to jump through to get\nthings right. This module wraps up some of the more intense\nand error-prone bits to reduce the amount of copied code and\npotential for errors.</p>\n\n<h2>METHODS\n<a name=\"METHODS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><small>HASH</small>\n= Glib::MakeHelper-&gt;do_pod_files (@xs_files)</p>\n\n<p style=\"margin-left:17%;\">Scan the <i>@xs_files</i> and\nreturn a hash describing the pod files that will be created.\nThis is in the format wanted by <b>WriteMakefile()</b>. If\n@ARGV contains the string &quot;disable-apidoc&quot; an\nempty list will be returned and thus no apidoc pod will be\ngenerated speeding up the build process.</p>\n\n<p style=\"margin-left:11%;\"><small>LIST</small> =\nGlib::MakeHelper-&gt;select_files_by_version ($stem, $major,\n<br>\n$minor)</p>\n\n<p style=\"margin-left:17%;\">Returns a list of all files\nthat match &quot;$stem-\\d+\\.\\d+&quot; and for which the\nfirst number is bigger than <i>$major</i> and the second\nnumber is bigger than <i>$minor</i>. If <i>$minor</i> is\nodd, it will be incremented by one so that the version\nnumber of an upcoming stable release can be used during\ndevelopment as well.</p>\n\n<p style=\"margin-left:11%;\"><small>LIST</small> =\nGlib::MakeHelper-&gt;read_source_list_file ($filename)</p>\n\n<p style=\"margin-left:17%;\">Reads <i>$filename</i>, removes\nall comments (starting with &quot;#&quot;) and leading and\ntrailing whitespace, and returns a list of all lines that\nsurvived the treatment.</p>\n\n<p style=\"margin-left:11%;\">string =\nGlib::MakeHelper-&gt;get_configure_requires_yaml <br>\n(%module_to_version)</p>\n\n<p style=\"margin-left:17%;\">Generates <small>YAML</small>\ncode that lists every module found in\n<i>%module_to_version</i> under the\n&quot;configure_requires&quot; key. This can be used with\nExtUtils::MakeMaker&rsquo;s &quot;EXTRA_META&quot; parameter\nto specify which modules are needed at <i>Makefile.PL</i>\ntime.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">This function\nis <b>deprecated</b> since ExtUtils::MakeMaker 6.46 removed\nsupport for &quot;EXTRA_META&quot; in favor of the new keys\n&quot;META_MERGE&quot; and &quot;META_ADD&quot;.</p>\n\n<p style=\"margin-left:11%;\">string =\nGlib::MakeHelper-&gt;postamble_clean (@files)</p>\n\n<p style=\"margin-left:17%;\">Create and return the text of a\nrealclean rule that cleans up after much of the\nautogeneration performed by Glib-based modules. Everything\nin @files will be deleted, too (it may be empty).</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The reasoning\nbehind using this instead of just having you use the\n&rsquo;clean&rsquo; or &rsquo;realclean&rsquo; keys is that\nthis avoids you having to remember to put Glib&rsquo;s stuff\nin your Makefile.PL&rsquo;s WriteMakefile arguments.</p>\n\n<p style=\"margin-left:11%;\">string =\nGlib::MakeHelper-&gt;postamble_docs (@xs_files)</p>\n\n<p style=\"margin-left:17%;\"><small>NOTE:</small> this is\nThe Old Way. see postamble_docs_full for The New Way.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Create and\nreturn the text of Makefile rules to build documentation\nfrom the <small>XS</small> files with Glib::ParseXSDoc and\nGlib::GenPod.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Use this in\nyour MY::postamble to enable autogeneration of\n<small>POD.</small></p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">This updates\ndependencies with the list of pod names generated by an\nearlier run of &quot;do_pod_files&quot;.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">There is a\nspecial Makefile variable <small>POD_DEPENDS</small> that\nshould be set to the list of files that need to be created\nbefore the doc.pl step is run, include files.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">There is also a\nvariable <small>BLIB_DONE</small> which should be used as a\ndependency anywhere a rule needs to be sure that a loadable\nand working module resides in the blib directory before\nrunning.</p>\n\n<p style=\"margin-left:11%;\">string =\nGlib::MakeHelper-&gt;postamble_docs_full (...)</p>\n\n<p style=\"margin-left:17%;\">Create and return the text of\nMakefile rules to build documentation from the\n<small>XS</small> files with Glib::ParseXSDoc and\nGlib::GenPod.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Use this in\nyour MY::postamble to enable autogeneration of\n<small>POD.</small></p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">This updates\ndependencies with the list of pod names generated by an\nearlier run of &quot;do_pod_files&quot;.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">There is a\nspecial Makefile variable <small>POD_DEPENDS</small> that\nshould be set to the list of files that need to be created\nbefore the doc.pl step is run, include files.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">There is also a\nvariable <small>BLIB_DONE</small> which should be used as a\ndependency anywhere a rule needs to be sure that a loadable\nand working module resides in the blib directory before\nrunning.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The parameters\nare a list of key=&gt;value pairs. You must specify at\nminimum either <small>DEPENDS</small> or <small>XS_FILES.\n<br>\nDEPENDS</small> =&gt; ExtUtils::Depends object</p>\n\n<p style=\"margin-left:23%;\">Most gtk2-perl modules use\nExtUtils::Depends to find headers, typemaps, and other data\nfrom parent modules and to install this data for child\nmodules. We can find from this object the list of\n<small>XS</small> files to scan for documentation, doctype\nmappings for parent modules, and other goodies.</p>\n\n<p style=\"margin-left:17%;\"><small>XS_FILES</small> =&gt;\n\\@xs_file_names</p>\n\n<p style=\"margin-left:23%;\">A list of xs files to scan for\ndocumentation. Ignored if <small>DEPENDS</small> is\nused.</p>\n\n<p style=\"margin-left:17%;\"><small>DOCTYPES</small> =&gt;\n\\@doctypes_file_names</p>\n\n<p style=\"margin-left:23%;\">List of filenames to pass to\n&quot;Glib::GenPod::add_types&quot;. May be omitted.</p>\n\n<p style=\"margin-left:17%;\"><small>COPYRIGHT</small> =&gt;\nstring</p>\n\n<p style=\"margin-left:23%;\"><small>POD</small> text to be\ninserted in the &rsquo; <small>COPYRIGHT</small> &rsquo;\nsection of each generated page. May be omitted.</p>\n\n<p style=\"margin-left:17%;\"><small>COPYRIGHT_FROM</small>\n=&gt; file name</p>\n\n<p style=\"margin-left:23%;\">The name of a file containing\nthe <small>POD</small> to be inserted in the &rsquo;\n<small>COPYRIGHT</small> &rsquo; section of each generated\npage. May be omitted.</p>\n\n<p style=\"margin-left:17%;\"><small>NAME</small> =&gt;\nextension name</p>\n\n<p style=\"margin-left:23%;\">The name of the extension, used\nto set the main mod for Glib::GenPod (used in the generated\nsee-also listings). May be omitted in favor of the name held\ninside the ExtUtils::Depends object. If\n<small>DEPENDS</small> is also specified,\n<small>NAME</small> wins.</p>\n\n<p style=\"margin-left:11%;\">string =\nGlib::MakeHelper-&gt;postamble_rpms ( <small>HASH</small>\n)</p>\n\n<p style=\"margin-left:17%;\">Create and return the text of\nMakefile rules to manage building RPMs. You&rsquo;d put this\nin your Makefile.PL&rsquo;s MY::postamble.</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><i><small>HASH</small></i>\nis a set of search and replace keys for the spec file. All\noccurrences of @<i>key</i>@ in the spec file template\nperl-$( <small>DISTNAME</small> ).spec.in will be replaced\nwith <i>value</i>. &rsquo; <small>VERSION</small> &rsquo;\nand &rsquo; <small>SOURCE</small> &rsquo; are supplied for\nyou. For example:</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\">Glib::MakeHelper-&gt;postamble_rpms\n( <br>\nMYLIB =&gt; 2.0.0, # we can work with anything from this up\n<br>\nMYLIB_RUN =&gt; 2.3.1, # we are actually compiled against\nthis one <br>\nPERL_GLIB =&gt; 1.01, # you must have this version of Glib\n<br>\n);</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">will replace\n@MYLIB@, @MYLIB_RUN@, and @PERL_GLIB@ in spec file. See the\nbuild setups for Glib and Gtk2 for examples.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Note: This\nfunction just returns an empty string on Win32.</p>\n\n<p style=\"margin-left:11%;\">string =\nGlib::MakeHelper-&gt;postamble_precompiled_headers\n(@headers)</p>\n\n<p style=\"margin-left:17%;\">Create and return the text of\nMakefile rules for a &rsquo;precompiled-headers&rsquo;\ntarget that precompiles <i>@headers</i>. If you call this\nbefore you call &quot;postamble_clean&quot;, all temporary\nfiles will be removed by the &rsquo;realclean&rsquo;\ntarget.</p>\n\n<h2>NOTICE\n<a name=\"NOTICE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The MakeMaker\ndistributed with perl 5.8.x generates makefiles with a bug\nthat causes object files to be created in the wrong\ndirectory. There is an override inserted by this module\nunder the name MY::const_cccmd to fix this issue.</p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Ross McFarland\n&lt;rwmcfa1 at neces dot com&gt;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">hacked up and\ndocumented by muppet.</p>\n\n<h2>COPYRIGHT AND LICENSE\n<a name=\"COPYRIGHT AND LICENSE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Copyright\n2003-2004, 2012 by the gtk2-perl team</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This library is\nfree software; you can redistribute it and/or modify it\nunder the terms of the Lesser General Public License (\n<small>LGPL</small> ). For more information, see\nhttp://www.fsf.org/licenses/lgpl.txt</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#METHODS\">METHODS</a>","<a href=\"#NOTICE\">NOTICE</a>","<a href=\"#AUTHOR\">AUTHOR</a>","<a href=\"#COPYRIGHT AND LICENSE\">COPYRIGHT AND LICENSE</a>"],"level":3}