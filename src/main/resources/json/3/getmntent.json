{"name":"getmntent","description":"getmntent,\nsetmntent, addmntent, endmntent, hasmntopt, getmntent_r -\nget filesystem descriptor file entry","body":"\n\n<h1 align=\"center\">GETMNTENT</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">getmntent,\nsetmntent, addmntent, endmntent, hasmntopt, getmntent_r -\nget filesystem descriptor file entry</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;stdio.h&gt; <br>\n#include &lt;mntent.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>FILE\n*setmntent(const char *</b><i>filename</i><b>, const char\n*</b><i>type</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>struct\nmntent *getmntent(FILE *</b><i>stream</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\naddmntent(FILE *</b><i>stream</i><b>, const struct mntent\n*</b><i>mnt</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nendmntent(FILE *</b><i>streamp</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>char\n*hasmntopt(const struct mntent *</b><i>mnt</i><b>, const\nchar *</b><i>opt</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">/* GNU\nextension */ <b><br>\n#include &lt;mntent.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>struct\nmntent *getmntent_r(FILE *</b><i>streamp</i><b>, struct\nmntent *</b><i>mntbuf</i><b>, <br>\nchar *</b><i>buf</i><b>, int</b> <i>buflen</i><b>);</b></p>\n\n<p style=\"margin-left:5%; margin-top: 1em\">Feature Test\nMacro Requirements for glibc (see\n<a href=\"https://man.page/7/feature_test_macros\">feature_test_macros(7)</a>):</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>getmntent_r</b>():\n<br>\nSince glibc 2.19: <br>\n_DEFAULT_SOURCE <br>\nGlibc 2.19 and earlier: <br>\n_BSD_SOURCE || _SVID_SOURCE</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">These routines\nare used to access the filesystem description file\n<i>/etc/fstab</i> and the mounted filesystem description\nfile <i>/etc/mtab</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>setmntent</b>() function opens the filesystem description\nfile <i>filename</i> and returns a file pointer which can be\nused by <b>getmntent</b>(). The argument <i>type</i> is the\ntype of access required and can take the same values as the\n<i>mode</i> argument of <a href=\"https://man.page/3/fopen\">fopen(3)</a>. The returned stream\nshould be closed using <b>endmntent</b>() rather than\n<a href=\"https://man.page/3/fclose\">fclose(3)</a>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>getmntent</b>() function reads the next line of the\nfilesystem description file from <i>stream</i> and returns a\npointer to a structure containing the broken out fields from\na line in the file. The pointer points to a static area of\nmemory which is overwritten by subsequent calls to\n<b>getmntent</b>().</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>addmntent</b>() function adds the <i>mntent</i> structure\n<i>mnt</i> to the end of the open <i>stream</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>endmntent</b>() function closes the <i>stream</i>\nassociated with the filesystem description file.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>hasmntopt</b>() function scans the <i>mnt_opts</i> field\n(see below) of the <i>mntent</i> structure <i>mnt</i> for a\nsubstring that matches <i>opt</i>. See\n<i>&lt;mntent.h&gt;</i> and <b>mount</b>(8) for valid mount\noptions.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The reentrant\n<b>getmntent_r</b>() function is similar to\n<b>getmntent</b>(), but stores the <i>struct mount</i> in\nthe provided <i>*mntbuf</i> and stores the strings pointed\nto by the entries in that struct in the provided array\n<i>buf</i> of size <i>buflen</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>mntent</i> structure is defined in\n<i>&lt;mntent.h&gt;</i> as follows:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">struct mntent {\n<br>\nchar *mnt_fsname; /* name of mounted filesystem */ <br>\nchar *mnt_dir; /* filesystem path prefix */ <br>\nchar *mnt_type; /* mount type (see mntent.h) */ <br>\nchar *mnt_opts; /* mount options (see mntent.h) */ <br>\nint mnt_freq; /* dump frequency in days */ <br>\nint mnt_passno; /* pass number on parallel fsck */ <br>\n};</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Since fields in\nthe mtab and fstab files are separated by whitespace, octal\nescapes are used to represent the characters space (\\040),\ntab (\\011), newline (\\012), and backslash (\\\\) in those\nfiles when they occur in one of the four strings in a\n<i>mntent</i> structure. The routines <b>addmntent</b>() and\n<b>getmntent</b>() will convert from string representation\nto escaped representation and back. When converting from\nescaped representation, the sequence \\134 is also converted\nto a backslash.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>getmntent</b>() and <b>getmntent_r</b>() functions return\na pointer to the <i>mntent</i> structure or NULL on\nfailure.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>addmntent</b>() function returns 0 on success and 1 on\nfailure.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>endmntent</b>() function always returns 1.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>hasmntopt</b>() function returns the address of the\nsubstring if a match is found and NULL otherwise.</p>\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>/etc/fstab</i></p>\n\n<p style=\"margin-left:22%;\">filesystem description file</p>\n\n<p style=\"margin-left:11%;\"><i>/etc/mtab</i></p>\n\n<p style=\"margin-left:22%;\">mounted filesystem description\nfile</p>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n\n<p align=\"center\" style=\"margin-top: 1em\"><img src=\"grohtml-3344971.png\" alt=\"Image grohtml-3344971.png\"></p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\nnonreentrant functions are from SunOS 4.1.3. A routine\n<b>getmntent_r</b>() was introduced in HP-UX 10, but it\nreturns an <i>int</i>. The prototype shown above is\nglibc-only.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">System V also\nhas a <b>getmntent</b>() function but the calling sequence\ndiffers, and the returned structure is different. Under\nSystem V <i>/etc/mnttab</i> is used. 4.4BSD and Digital UNIX\nhave a routine <b>getmntinfo</b>(), a wrapper around the\nsystem call <b>getfsstat</b>().</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/3/fopen\">fopen(3)</a>,\n<a href=\"https://man.page/5/fstab\">fstab(5)</a>, <b>mount</b>(8)</p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#FILES\">FILES</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}