{"name":"login","body":"\n\n<h1 align=\"center\">LOGIN</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">login, logout -\nwrite utmp and wtmp entries</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;utmp.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>void\nlogin(const struct utmp *</b><i>ut</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nlogout(const char *</b><i>ut_line</i><b>);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Link with\n<i>-lutil</i>.</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The utmp file\nrecords who is currently using the system. The wtmp file\nrecords all logins and logouts. See <a href=\"https://man.page/5/utmp\">utmp(5)</a>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The function\n<b>login</b>() takes the supplied <i>struct utmp</i>,\n<i>ut</i>, and writes it to both the utmp and the wtmp\nfile.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The function\n<b>logout</b>() clears the entry in the utmp file again.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>GNU\ndetails</b> <br>\nMore precisely, <b>login</b>() takes the argument <i>ut</i>\nstruct, fills the field <i>ut-&gt;ut_type</i> (if there is\nsuch a field) with the value <b>USER_PROCESS</b>, and fills\nthe field <i>ut-&gt;ut_pid</i> (if there is such a field)\nwith the process ID of the calling process. Then it tries to\nfill the field <i>ut-&gt;ut_line</i>. It takes the first of\n<i>stdin</i>, <i>stdout</i>, <i>stderr</i> that is a\nterminal, and stores the corresponding pathname minus a\npossible leading <i>/dev/</i> into this field, and then\nwrites the struct to the utmp file. On the other hand, if no\nterminal name was found, this field is filled with\n&quot;???&quot; and the struct is not written to the utmp\nfile. After this, the struct is written to the wtmp\nfile.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>logout</b>() function searches the utmp file for an entry\nmatching the <i>ut_line</i> argument. If a record is found,\nit is updated by zeroing out the <i>ut_name</i> and\n<i>ut_host</i> fields, updating the <i>ut_tv</i> timestamp\nfield and setting <i>ut_type</i> (if there is such a field)\nto <b>DEAD_PROCESS</b>.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>logout</b>() function returns 1 if the entry was\nsuccessfully written to the database, or 0 if an error\noccurred.</p>\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>/var/run/utmp</i></p>\n\n<p style=\"margin-left:22%;\">user accounting database,\nconfigured through <b>_PATH_UTMP</b> in\n<i>&lt;paths.h&gt;</i></p>\n\n<p style=\"margin-left:11%;\"><i>/var/log/wtmp</i></p>\n\n<p style=\"margin-left:22%;\">user accounting log file,\nconfigured through <b>_PATH_WTMP</b> in\n<i>&lt;paths.h&gt;</i></p>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\">\n</td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"62%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"8%\">\n</td>\n<td width=\"8%\"></td>\n<td width=\"7%\"></td>\n<td width=\"62%\">\n</td></tr>\n</table>\n\n\n<p align=\"center\"><img src=\"grohtml-3309781.png\" alt=\"Image grohtml-3309781.png\"></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In the above\ntable, <i>utent</i> in <i>race:utent</i> signifies that if\nany of the functions <a href=\"https://man.page/3/setutent\">setutent(3)</a>, <a href=\"https://man.page/3/getutent\">getutent(3)</a>,\nor <a href=\"https://man.page/3/endutent\">endutent(3)</a> are used in parallel in different\nthreads of a program, then data races could occur.\n<b>login</b>() and <b>logout</b>() calls those functions, so\nwe use race:utent to remind users.</p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Not in POSIX.1.\nPresent on the BSDs.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that the\nmember <i>ut_user</i> of <i>struct utmp</i> is called\n<i>ut_name</i> in BSD. Therefore, <i>ut_name</i> is defined\nas an alias for <i>ut_user</i> in <i>&lt;utmp.h&gt;</i>.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/3/getutent\">getutent(3)</a>,\n<a href=\"https://man.page/5/utmp\">utmp(5)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#FILES\">FILES</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}