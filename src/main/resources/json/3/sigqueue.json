{"name":"sigqueue","description":"sigqueue - queue a signal and data to a process","body":"\n\n<h1 align=\"center\">SIGQUEUE</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">sigqueue -\nqueue a signal and data to a process</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;signal.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>int\nsigqueue(pid_t</b> <i>pid</i><b>, int</b> <i>sig</i><b>,\nconst union sigval</b> <i>value</i><b>);</b></p>\n\n<p style=\"margin-left:5%; margin-top: 1em\">Feature Test\nMacro Requirements for glibc (see\n<a href=\"https://man.page/7/feature_test_macros\">feature_test_macros(7)</a>):</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sigqueue</b>():\n_POSIX_C_SOURCE&nbsp;&gt;=&nbsp;199309L</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sigqueue</b>()\nsends the signal specified in <i>sig</i> to the process\nwhose PID is given in <i>pid</i>. The permissions required\nto send a signal are the same as for <a href=\"https://man.page/2/kill\">kill(2)</a>. As with\n<a href=\"https://man.page/2/kill\">kill(2)</a>, the null signal (0) can be used to check if\na process with a given PID exists.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>value</i> argument is used to specify an accompanying\nitem of data (either an integer or a pointer value) to be\nsent with the signal, and has the following type:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">union sigval {\n<br>\nint sival_int; <br>\nvoid *sival_ptr; <br>\n};</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the\nreceiving process has installed a handler for this signal\nusing the <b>SA_SIGINFO</b> flag to <a href=\"https://man.page/2/sigaction\">sigaction(2)</a>,\nthen it can obtain this data via the <i>si_value</i> field\nof the <i>siginfo_t</i> structure passed as the second\nargument to the handler. Furthermore, the <i>si_code</i>\nfield of that structure will be set to <b>SI_QUEUE</b>.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success,\n<b>sigqueue</b>() returns 0, indicating that the signal was\nsuccessfully queued to the receiving process. Otherwise, -1\nis returned and <i>errno</i> is set to indicate the\nerror.</p>\n\n<h2>ERRORS\n<a name=\"ERRORS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><b>EAGAIN</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">The limit of signals which may\nbe queued has been reached. (See <a href=\"https://man.page/7/signal\">signal(7)</a> for\nfurther information.)</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EINVAL</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p><i>sig</i> was invalid.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>EPERM</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>The process does not have permission to send the signal\nto the receiving process. For the required permissions, see\n<a href=\"https://man.page/2/kill\">kill(2)</a>.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ESRCH</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>No process has a PID matching <i>pid</i>.</p></td></tr>\n</table>\n\n<h2>VERSIONS\n<a name=\"VERSIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sigqueue</b>()\nand the underlying <b>rt_sigqueueinfo</b>() system call\nfirst appeared in Linux 2.2.</p>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n\n<p align=\"center\" style=\"margin-top: 1em\"><img src=\"grohtml-3290801.png\" alt=\"Image grohtml-3290801.png\"></p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2001,\nPOSIX.1-2008.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">If this\nfunction results in the sending of a signal to the process\nthat invoked it, and that signal was not blocked by the\ncalling thread, and no other threads were willing to handle\nthis signal (either by having it unblocked, or by waiting\nfor it using <a href=\"https://man.page/3/sigwait\">sigwait(3)</a>), then at least some signal\nmust be delivered to this thread before this function\nreturns.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>C\nlibrary/kernel differences</b> <br>\nOn Linux, <b>sigqueue</b>() is implemented using the\n<a href=\"https://man.page/2/rt_sigqueueinfo\">rt_sigqueueinfo(2)</a> system call. The system call\ndiffers in its third argument, which is the <i>siginfo_t</i>\nstructure that will be supplied to the receiving\nprocess&rsquo;s signal handler or returned by the receiving\nprocess&rsquo;s <a href=\"https://man.page/2/sigtimedwait\">sigtimedwait(2)</a> call. Inside the\nglibc <b>sigqueue</b>() wrapper, this argument,\n<i>uinfo</i>, is initialized as follows:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">uinfo.si_signo\n= sig; /* Argument supplied to sigqueue() */ <br>\nuinfo.si_code = SI_QUEUE; <br>\nuinfo.si_pid = getpid(); /* Process ID of sender */ <br>\nuinfo.si_uid = getuid(); /* Real UID of sender */ <br>\nuinfo.si_value = val; /* Argument supplied to sigqueue()\n*/</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/2/kill\">kill(2)</a>,\n<a href=\"https://man.page/2/rt_sigqueueinfo\">rt_sigqueueinfo(2)</a>, <a href=\"https://man.page/2/sigaction\">sigaction(2)</a>,\n<a href=\"https://man.page/2/signal\">signal(2)</a>, <a href=\"https://man.page/3/pthread_sigqueue\">pthread_sigqueue(3)</a>,\n<a href=\"https://man.page/3/sigwait\">sigwait(3)</a>, <a href=\"https://man.page/7/signal\">signal(7)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#ERRORS\">ERRORS</a>","<a href=\"#VERSIONS\">VERSIONS</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}