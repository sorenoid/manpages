{"name":"tzset","description":"tzset, tzname, timezone, daylight - initialize time conversion information","body":"\n\n<h1 align=\"center\">TZSET</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">tzset, tzname,\ntimezone, daylight - initialize time conversion\ninformation</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>#include\n&lt;time.h&gt;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>void tzset\n(void);</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>extern char\n*</b><i>tzname</i><b>[2]; <br>\nextern long</b> <i>timezone</i><b>; <br>\nextern int</b> <i>daylight</i><b>;</b></p>\n\n<p style=\"margin-left:5%; margin-top: 1em\">Feature Test\nMacro Requirements for glibc (see\n<a href=\"https://man.page/7/feature_test_macros\">feature_test_macros(7)</a>):</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>tzset</b>():\n_POSIX_C_SOURCE <i><br>\ntzname</i>: _POSIX_C_SOURCE <i><br>\ntimezone</i>, <i>daylight</i>: _XOPEN_SOURCE <br>\n|| /* Glibc since 2.19: */ _DEFAULT_SOURCE <br>\n|| /* Glibc versions &lt;= 2.19: */ _SVID_SOURCE</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>tzset</b>() function initializes the <i>tzname</i>\nvariable from the <b>TZ</b> environment variable. This\nfunction is automatically called by the other time\nconversion functions that depend on the timezone. In a\nSystem-V-like environment, it will also set the variables\n<i>timezone</i> (seconds West of UTC) and <i>daylight</i>\n(to 0 if this timezone does not have any daylight saving\ntime rules, or to nonzero if there is a time, past, present\nor future when daylight saving time applies).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the\n<b>TZ</b> variable does not appear in the environment, the\nsystem timezone is used. The system timezone is configured\nby copying, or linking, a file in the <a href=\"https://man.page/5/tzfile\">tzfile(5)</a>\nformat to <i>/etc/localtime</i>. A timezone database of\nthese files may be located in the system timezone directory\n(see the <b>FILES</b> section below).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the\n<b>TZ</b> variable does appear in the environment, but its\nvalue is empty, or its value cannot be interpreted using any\nof the formats specified below, then Coordinated Universal\nTime (UTC) is used.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The value of\n<b>TZ</b> can be one of two formats. The first format is a\nstring of characters that directly represent the timezone to\nbe used:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\"><i>std\noffset</i>[<i>dst</i>[<i>offset</i>][,<i>start</i>[<i>/time</i>],<i>end</i>[<i>/time</i>]]]</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">There are no\nspaces in the specification. The <i>std</i> string specifies\nan abbreviation for the timezone and must be three or more\nalphabetic characters. When enclosed between the less-than\n(&lt;) and greater-than (&gt;) signs, the characters set is\nexpanded to include the plus (+) sign, the minus (-) sign,\nand digits. The <i>offset</i> string immediately follows\n<i>std</i> and specifies the time value to be added to the\nlocal time to get Coordinated Universal Time (UTC). The\n<i>offset</i> is positive if the local timezone is west of\nthe Prime Meridian and negative if it is east. The hour must\nbe between 0 and 24, and the minutes and seconds 00 and\n59:</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\">[<i>+</i>|<i>-</i>]<i>hh</i>[<i>:mm</i>[<i>:ss</i>]]</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The <i>dst</i>\nstring and <i>offset</i> specify the name and offset for the\ncorresponding daylight saving timezone. If the offset is\nomitted, it defaults to one hour ahead of standard time.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>start</i> field specifies when daylight saving time goes\ninto effect and the <i>end</i> field specifies when the\nchange is made back to standard time. These fields may have\nthe following formats:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p>J<i>n</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>This specifies the Julian day with <i>n</i> between 1\nand 365. Leap days are not counted. In this format, February\n29 can&rsquo;t be represented; February 28 is day 59, and\nMarch 1 is always day 60.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><i>n</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>This specifies the zero-based Julian day with <i>n</i>\nbetween 0 and 365. February 29 is counted in leap years.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p>M<i>m</i>.<i>w</i>.<i>d</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>This specifies day <i>d</i> (0 &lt;= <i>d</i> &lt;= 6)\nof week <i>w</i> (1 &lt;= <i>w</i> &lt;= 5) of month\n<i>m</i> (1 &lt;= <i>m</i> &lt;= 12). Week 1 is the first\nweek in which day <i>d</i> occurs and week 5 is the last\nweek in which day <i>d</i> occurs. Day 0 is a Sunday.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The <i>time</i>\nfields specify when, in the local time currently in effect,\nthe change to the other time occurs. If omitted, the default\nis 02:00:00.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Here is an\nexample for New Zealand, where the standard time (NZST) is\n12 hours ahead of UTC, and daylight saving time (NZDT), 13\nhours ahead of UTC, runs from the first Sunday in October to\nthe third Sunday in March, and the changeovers happen at the\ndefault time of 02:00:00:</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\">TZ=&quot;NZST-12:00:00NZDT-13:00:00,M10.1.0,M3.3.0&quot;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The second\nformat specifies that the timezone information should be\nread from a file:</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\">:[filespec]</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the file\nspecification <i>filespec</i> is omitted, or its value\ncannot be interpreted, then Coordinated Universal Time (UTC)\nis used. If <i>filespec</i> is given, it specifies another\n<a href=\"https://man.page/5/tzfile\">tzfile(5)</a>-format file to read the timezone\ninformation from. If <i>filespec</i> does not begin with a\n'/', the file specification is relative to the system\ntimezone directory. If the colon is omitted each of the\nabove <b>TZ</b> formats will be tried.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Here&rsquo;s an\nexample, once more for New Zealand:</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\">TZ=&quot;:Pacific/Auckland&quot;</p>\n\n<h2>ENVIRONMENT\n<a name=\"ENVIRONMENT\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p style=\"margin-top: 1em\"><b>TZ</b></p></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">If this variable is set its\nvalue takes precedence over the system configured\ntimezone.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p><b>TZDIR</b></p></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p>If this variable is set its value takes precedence over\nthe system configured timezone database directory path.</p></td></tr>\n</table>\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>/etc/localtime</i></p>\n\n<p style=\"margin-left:22%;\">The system timezone file.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/usr/share/zoneinfo/</i></p>\n\n<p style=\"margin-left:22%;\">The system timezone database\ndirectory.</p>\n\n\n<p style=\"margin-left:11%;\"><i>/usr/share/zoneinfo/posixrules</i></p>\n\n<p style=\"margin-left:22%;\">When a TZ string includes a dst\ntimezone without anything following it, then this file is\nused for the start/end rules. It is in the <a href=\"https://man.page/5/tzfile\">tzfile(5)</a>\nformat. By default, the zoneinfo Makefile hard links it to\nthe <i>America/New_York</i> tzfile.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Above are the\ncurrent standard file locations, but they are configurable\nwhen glibc is compiled.</p>\n\n<h2>ATTRIBUTES\n<a name=\"ATTRIBUTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For an\nexplanation of the terms used in this section, see\n<a href=\"https://man.page/7/attributes\">attributes(7)</a>.</p>\n\n\n<p align=\"center\" style=\"margin-top: 1em\"><img src=\"grohtml-3354581.png\" alt=\"Image grohtml-3354581.png\"></p>\n\n<h2>CONFORMING TO\n<a name=\"CONFORMING TO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">POSIX.1-2001,\nPOSIX.1-2008, SVr4, 4.3BSD.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">4.3BSD had a\nfunction <b>char *timezone(</b><i>zone</i><b>,</b>\n<i>dst</i><b>)</b> that returned the name of the timezone\ncorresponding to its first argument (minutes West of UTC).\nIf the second argument was 0, the standard name was used,\notherwise the daylight saving time version.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/date\">date(1)</a>,\n<a href=\"https://man.page/2/gettimeofday\">gettimeofday(2)</a>, <a href=\"https://man.page/2/time\">time(2)</a>, <a href=\"https://man.page/3/ctime\">ctime(3)</a>,\n<a href=\"https://man.page/3/getenv\">getenv(3)</a>, <a href=\"https://man.page/5/tzfile\">tzfile(5)</a></p>\n\n<h2>COLOPHON\n<a name=\"COLOPHON\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This page is\npart of release 5.10 of the Linux <i>man-pages</i> project.\nA description of the project, information about reporting\nbugs, and the latest version of this page, can be found at\nhttps://www.kernel.org/doc/man-pages/.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#ENVIRONMENT\">ENVIRONMENT</a>","<a href=\"#FILES\">FILES</a>","<a href=\"#ATTRIBUTES\">ATTRIBUTES</a>","<a href=\"#CONFORMING TO\">CONFORMING TO</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COLOPHON\">COLOPHON</a>"],"level":3}