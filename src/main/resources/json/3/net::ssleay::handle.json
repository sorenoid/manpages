{"name":"net::ssleay::handle","body":"\n\n<h1 align=\"center\">Net::SSLeay::Handle</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Net::SSLeay::Handle\n- Perl module that lets SSL (HTTPS) sockets be handled as\nstandard file handles.</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">use\nNet::SSLeay::Handle qw/shutdown/; <br>\nmy ($host, $port) = (&quot;localhost&quot;, 443); <br>\ntie(*SSL, &quot;Net::SSLeay::Handle&quot;, $host, $port);\n<br>\nprint SSL &quot;GET / HTTP/1.0\\r\\n&quot;; <br>\nshutdown(\\*SSL, 1); <br>\nprint while (&lt;SSL&gt;); <br>\nclose SSL;</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Net::SSLeay::Handle\nallows you to request and receive <small>HTTPS</small> web\npages using &quot;old-fashion&quot; file handles as in:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">print SSL\n&quot;GET / HTTP/1.0\\r\\n&quot;;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">and</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">print while\n(&lt;SSL&gt;);</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If you export\nthe shutdown routine, then the only extra code that you need\nto add to your program is the tie function as in:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">my $socket;\n<br>\nif ($scheme eq &quot;https&quot;) { <br>\ntie(*S2, &quot;Net::SSLeay::Handle&quot;, $host, $port);\n<br>\n$socket = \\*S2; <br>\nelse { <br>\n$socket = Net::SSLeay::Handle-&gt;make_socket($host, $port);\n<br>\n} <br>\nprint $socket $request_headers; <br>\n...</p>\n\n<h2>FUNCTIONS\n<a name=\"FUNCTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">shutdown</p>\n\n<p style=\"margin-left:17%;\">shutdown(\\*SOCKET, $mode)</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Calls to the\nmain <b>shutdown()</b> don&rsquo;t work with tied sockets\ncreated with this module. This shutdown should be able to\ndistinquish between tied and untied sockets and do the right\nthing.</p>\n\n<p style=\"margin-left:11%;\">debug</p>\n\n<p style=\"margin-left:17%;\">my $debug =\nNet::SSLeay::Handle-&gt;debug() <br>\nNet::SSLeay::Handle-&gt;debug(1)</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Get/set\ndebugging mode. Always returns the debug value before the\nfunction call. if an additional argument is given the debug\noption will be set to this value.</p>\n\n<p style=\"margin-left:11%;\">make_socket</p>\n\n<p style=\"margin-left:17%;\">my $sock =\nNet::SSLeay::Handle-&gt;make_socket($host, $port);</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Creates a\nsocket that is connected to $post using $port. It uses\n$Net::SSLeay::proxyhost and proxyport if set and\nauthentificates itself against this proxy depending on\n$Net::SSLeay::proxyauth. It also turns autoflush on for the\ncreated socket.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b><small>USING\nEXISTING SOCKETS</small></b> <br>\nOne of the motivations for writing this module was to avoid\nduplicating socket creation code (which is mostly error\nhandling). The calls to <b>tie()</b> above where it is\npassed a $host and $port is provided for convenience\ntesting. If you already have a socket connected to the right\nhost and port, S1, then you can do something like:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">my $socket\n\\*S1; <br>\nif ($scheme eq &quot;https&quot;) { <br>\ntie(*S2, &quot;Net::SSLeay::Handle&quot;, $socket); <br>\n$socket = \\*S2; <br>\n} <br>\nmy $last_sel = select($socket); $| = 1; select($last_sel);\n<br>\nprint $socket $request_headers; <br>\n...</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note: As far as\nI know you must be careful with the globs in the\n<b>tie()</b> function. The first parameter must be a glob\n(*SOMETHING) and the last parameter must be a reference to a\nglob (\\*SOMETHING_ELSE) or a scaler that was assigned to a\nreference to a glob (as in the example above)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Also, the two\nglobs must be different. When I tried to use the same glob,\nI got a core dump.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b><small>EXPORT</small></b>\n<br>\nNone by default.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">You can export\nthe <b>shutdown()</b> function.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">It is suggested\nthat you do export <b>shutdown()</b> or use the fully\nqualified <b>Net::SSLeay::Handle::shutdown()</b> function to\nshutdown <small>SSL</small> sockets. It should be smart\nenough to distinguish between <small>SSL</small> and non-SSL\nsockets and do the right thing.</p>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">use\nNet::SSLeay::Handle qw/shutdown/; <br>\nmy ($host, $port) = (&quot;localhost&quot;, 443); <br>\ntie(*SSL, &quot;Net::SSLeay::Handle&quot;, $host, $port);\n<br>\nprint SSL &quot;GET / HTTP/1.0\\r\\n&quot;; <br>\nshutdown(\\*SSL, 1); <br>\nprint while (&lt;SSL&gt;); <br>\nclose SSL;</p>\n\n<h2>TODO\n<a name=\"TODO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Better error\nhandling. Callback routine?</p>\n\n<h2>CAVEATS\n<a name=\"CAVEATS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Tying to a file\nhandle is a little tricky (for me at least).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The first\nparameter to <b>tie()</b> must be a glob (*SOMETHING) and\nthe last parameter must be a reference to a glob\n(\\*SOMETHING_ELSE) or a scaler that was assigned to a\nreference to a glob ($s = \\*SOMETHING_ELSE). Also, the two\nglobs must be different. When I tried to use the same glob,\nI got a core dump.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">I was able to\nassociate attributes to globs created by this module (like\n*SSL above) by making a hash of hashes keyed by the file\nhead1.</p>\n\n<h2>CHANGES\n<a name=\"CHANGES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Please see\nNet-SSLeay-Handle-0.50/Changes file.</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">If you\nencounter a problem with this module that you believe is a\nbug, please create a new issue\n&lt;https://github.com/radiator-software/p5-net-ssleay/issues/new&gt;\nin the Net-SSLeay GitHub repository. Please make sure your\nbug report includes the following information:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"5%\"></td>\n<td width=\"75%\">\n\n\n<p>the code you are trying to run;</p></td>\n<td width=\"8%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"5%\"></td>\n<td width=\"75%\">\n\n\n<p>your operating system name and version;</p></td>\n<td width=\"8%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"5%\"></td>\n<td width=\"75%\">\n\n\n<p>the output of &quot;perl -V&quot;;</p></td>\n<td width=\"8%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"5%\"></td>\n<td width=\"75%\">\n\n\n<p>the version of OpenSSL or LibreSSL you are using.</p></td>\n<td width=\"8%\">\n</td></tr>\n</table>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Originally\nwritten by Jim Bowlin.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Maintained by\nSampo Kellom&Atilde;&curren;ki between July 2001 and August\n2003.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Maintained by\nFlorian Ragwitz between November 2005 and January 2010.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Maintained by\nMike McCauley between November 2005 and June 2018.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Maintained by\nChris Novakovic, Tuure Vartiainen and Heikki Vatiainen since\nJune 2018.</p>\n\n<h2>COPYRIGHT\n<a name=\"COPYRIGHT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Copyright (c)\n2001 Jim Bowlin &lt;jbowlin@linklint.org&gt;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Copyright (c)\n2001-2003 Sampo Kellom&Atilde;&curren;ki\n&lt;sampo@iki.fi&gt;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Copyright (c)\n2005-2010 Florian Ragwitz &lt;rafl@debian.org&gt;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Copyright (c)\n2005-2018 Mike McCauley &lt;mikem@airspayce.com&gt;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Copyright (c)\n2018- Chris Novakovic &lt;chris@chrisn.me.uk&gt;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Copyright (c)\n2018- Tuure Vartiainen\n&lt;vartiait@radiatorsoftware.com&gt;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Copyright (c)\n2018- Heikki Vatiainen &lt;hvn@radiatorsoftware.com&gt;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">All rights\nreserved.</p>\n\n<h2>LICENSE\n<a name=\"LICENSE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This module is\nreleased under the terms of the Artistic License 2.0. For\ndetails, see the &quot;LICENSE&quot; file distributed with\nNet-SSLeay&rsquo;s source code.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Net::SSLeay,\n<a href=\"https://man.page/1/perl\">perl(1)</a>, http://openssl.org/</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#FUNCTIONS\">FUNCTIONS</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>","<a href=\"#TODO\">TODO</a>","<a href=\"#CAVEATS\">CAVEATS</a>","<a href=\"#CHANGES\">CHANGES</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#AUTHOR\">AUTHOR</a>","<a href=\"#COPYRIGHT\">COPYRIGHT</a>","<a href=\"#LICENSE\">LICENSE</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"],"level":3}