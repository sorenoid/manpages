{"name":"fallocate","description":"fallocate -\npreallocate or deallocate space to a file","body":"\n\n<h1 align=\"center\">FALLOCATE</h1>\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">fallocate -\npreallocate or deallocate space to a file</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>fallocate</b>\n[<b>-c</b>|<b>-p</b>|<b>-z</b>] [<b>-o</b> <i>offset</i>]\n<b>-l</b> <i>length</i> [<b>-n</b>] <i>filename</i></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>fallocate\n-d</b> [<b>-o</b> <i>offset</i>] [<b>-l</b> <i>length</i>]\n<i>filename</i></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>fallocate\n-x</b> [<b>-o</b> <i>offset</i>] <b>-l</b> <i>length\nfilename</i></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i><b>fallocate</b></i>\nis used to manipulate the allocated disk space for a file,\neither to deallocate or preallocate it. For filesystems\nwhich support the fallocate system call, preallocation is\ndone quickly by allocating blocks and marking them as\nuninitialized, requiring no IO to the data blocks. This is\nmuch faster than creating a file by filling it with\nzeroes.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The exit status\nreturned by <b>fallocate</b> is 0 on success and 1 on\nfailure.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>length</i> and <i>offset</i> arguments may be followed by\nthe multiplicative suffixes KiB (=1024), MiB (=1024*1024),\nand so on for GiB, TiB, PiB, EiB, ZiB, and YiB (the\n&quot;iB&quot; is optional, e.g., &quot;K&quot; has the same\nmeaning as &quot;KiB&quot;) or the suffixes KB (=1000), MB\n(=1000*1000), and so on for GB, TB, PB, EB, ZB, and YB.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The options\n<b>--collapse-range</b>, <b>--dig-holes</b>,\n<b>--punch-hole</b>, and <b>--zero-range</b> are mutually\nexclusive.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-c</b>,\n<b>--collapse-range</b></p>\n\n<p style=\"margin-left:17%;\">Removes a byte range from a\nfile, without leaving a hole. The byte range to be collapsed\nstarts at <i>offset</i> and continues for <i>length</i>\nbytes. At the completion of the operation, the contents of\nthe file starting at the location\n<i>offset</i>+<i>length</i> will be appended at the location\n<i>offset</i>, and the file will be <i>length</i> bytes\nsmaller. The option <b>--keep-size</b> may not be specified\nfor the collapse-range operation.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Available since\nLinux 3.15 for ext4 (only for extent-based files) and\nXFS.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">A filesystem\nmay place limitations on the granularity of the operation,\nin order to ensure efficient implementation. Typically,\noffset and len must be a multiple of the filesystem logical\nblock size, which varies according to the filesystem type\nand configuration. If a filesystem has such a requirement,\nthe operation will fail with the error EINVAL if this\nrequirement is violated.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-d</b>,\n<b>--dig-holes</b></p>\n\n<p style=\"margin-left:17%;\">Detect and dig holes. This\nmakes the file sparse in-place, without using extra disk\nspace. The minimum size of the hole depends on filesystem\nI/O block size (usually 4096 bytes). Also, when using this\noption, <b>--keep-size</b> is implied. If no range is\nspecified by <b>--offset</b> and <b>--length</b>, then the\nentire file is analyzed for holes.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">You can think\nof this option as doing a &quot;<b>cp --sparse</b>&quot; and\nthen renaming the destination file to the original, without\nthe need for extra disk space.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">See\n<b>--punch-hole</b> for a list of supported filesystems.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-i</b>,\n<b>--insert-range</b></p>\n\n<p style=\"margin-left:17%;\">Insert a hole of <i>length</i>\nbytes from <i>offset</i>, shifting existing data.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-l</b>,\n<b>--length</b> <i>length</i></p>\n\n<p style=\"margin-left:17%;\">Specifies the length of the\nrange, in bytes.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-n</b>,\n<b>--keep-size</b></p>\n\n<p style=\"margin-left:17%;\">Do not modify the apparent\nlength of the file. This may effectively allocate blocks\npast EOF, which can be removed with a truncate.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-o</b>,\n<b>--offset</b> <i>offset</i></p>\n\n<p style=\"margin-left:17%;\">Specifies the beginning offset\nof the range, in bytes.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-p</b>,\n<b>--punch-hole</b></p>\n\n<p style=\"margin-left:17%;\">Deallocates space (i.e.,\ncreates a hole) in the byte range starting at <i>offset</i>\nand continuing for <i>length</i> bytes. Within the specified\nrange, partial filesystem blocks are zeroed, and whole\nfilesystem blocks are removed from the file. After a\nsuccessful call, subsequent reads from this range will\nreturn zeroes. This option may not be specified at the same\ntime as the <b>--zero-range</b> option. Also, when using\nthis option, <b>--keep-size</b> is implied.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Supported for\nXFS (since Linux 2.6.38), ext4 (since Linux 3.0), Btrfs\n(since Linux 3.7), tmpfs (since Linux 3.5) and gfs2 (since\nLinux 4.16).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-v</b>,\n<b>--verbose</b></p>\n\n<p style=\"margin-left:17%;\">Enable verbose mode.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-x</b>,\n<b>--posix</b></p>\n\n<p style=\"margin-left:17%;\">Enable POSIX operation mode. In\nthat mode allocation operation always completes, but it may\ntake longer time when fast allocation is not supported by\nthe underlying filesystem.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-z</b>,\n<b>--zero-range</b></p>\n\n<p style=\"margin-left:17%;\">Zeroes space in the byte range\nstarting at <i>offset</i> and continuing for <i>length</i>\nbytes. Within the specified range, blocks are preallocated\nfor the regions that span the holes in the file. After a\nsuccessful call, subsequent reads from this range will\nreturn zeroes.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Zeroing is done\nwithin the filesystem preferably by converting the range\ninto unwritten extents. This approach means that the\nspecified range will not be physically zeroed out on the\ndevice (except for partial blocks at the either end of the\nrange), and I/O is (otherwise) required only to update\nmetadata.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Option\n<b>--keep-size</b> can be specified to prevent file length\nmodification.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Available since\nLinux 3.14 for ext4 (only for extent-based files) and\nXFS.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-V</b>,\n<b>--version</b></p>\n\n<p style=\"margin-left:17%;\">Display version information and\nexit.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-h</b>,\n<b>--help</b></p>\n\n<p style=\"margin-left:17%;\">Display help text and exit.</p>\n\n<h2>AUTHORS\n<a name=\"AUTHORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>Eric\nSandeen</i> &lt;sandeen@redhat.com&gt;, <i>Karel Zak</i>\n&lt;kzak@redhat.com&gt;</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/truncate\">truncate(1)</a>,\n<a href=\"https://man.page/2/fallocate\">fallocate(2)</a>, <a href=\"https://man.page/3/posix_fallocate\">posix_fallocate(3)</a></p>\n\n<h2>REPORTING BUGS\n<a name=\"REPORTING BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For bug\nreports, use the issue tracker at\n&lt;https://github.com/karelzak/util-linux/issues&gt;.</p>\n\n<h2>AVAILABILITY\n<a name=\"AVAILABILITY\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>fallocate</b> command is part of the util-linux package\nwhich can be downloaded from <i>Linux Kernel Archive</i>\n&lt;https://www.kernel.org/pub/linux/utils/util-linux/&gt;.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#AUTHORS\">AUTHORS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#REPORTING BUGS\">REPORTING BUGS</a>","<a href=\"#AVAILABILITY\">AVAILABILITY</a>"]}