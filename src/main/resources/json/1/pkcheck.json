{"name":"pkcheck","description":"pkcheck - Check\nwhether a process is authorized","body":"\n\n<h1 align=\"center\">PKCHECK</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">pkcheck - Check\nwhether a process is authorized</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"89%\">\n\n\n<p style=\"margin-top: 1em\"><b>pkcheck</b>\n[<b>--version</b>] [<b>--help</b>]</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"89%\">\n\n\n<p style=\"margin-top: 1em\"><b>pkcheck</b>\n[<b>--list-temp</b>]</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"89%\">\n\n\n<p style=\"margin-top: 1em\"><b>pkcheck</b>\n[<b>--revoke-temp</b>]</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"89%\">\n\n\n<p style=\"margin-top: 1em\"><b>pkcheck\n--action-id&nbsp;</b><i>action</i>\n{<b>--process&nbsp;</b>{&nbsp;<i>pid&nbsp;</i>|&nbsp;<i>pid,pid-start-time&nbsp;</i>|&nbsp;<i>pid,pid-start-time,uid&nbsp;</i>}\n| <b>--system-bus-name&nbsp;</b><i>busname</i>}\n[<b>--allow-user-interaction</b>]\n[<b>--enable-internal-agent</b>]\n[<b>--detail&nbsp;</b><i>key&nbsp;value</i>...]</p> </td></tr>\n</table>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>pkcheck</b>\nis used to check whether a process, specified by either\n<b>--process</b> (see below) or <b>--system-bus-name</b>, is\nauthorized for <i>action</i>. The <b>--detail</b> option can\nbe used zero or more times to pass details about\n<i>action</i>. If <b>--allow-user-interaction</b> is passed,\n<b>pkcheck</b> blocks while waiting for authentication.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The invocation\n<b>pkcheck --list-temp</b> will list all temporary\nauthorizations for the current session and <b>pkcheck\n--revoke-temp</b> will revoke all temporary authorizations\nfor the current session.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This command is\na simple wrapper around the PolicyKit D-Bus interface; see\nthe D-Bus interface documentation for details.</p>\n\n<h2>RETURN VALUE\n<a name=\"RETURN VALUE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the\nspecified process is authorized, <b>pkcheck</b> exits with a\nreturn value of 0. If the authorization result contains any\ndetails, these are printed on standard output as key/value\npairs using environment style reporting, e.g. first the key\nfollowed by a an equal sign, then the value followed by a\nnewline.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">KEY1=VALUE1\n<br>\nKEY2=VALUE2 <br>\nKEY3=VALUE3 <br>\n...</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Octects that\nare not in [a-zA-Z0-9_] are escaped using octal codes\nprefixed with <i>\\</i>. For example, the UTF-8 string\n<i>f&Atilde;&cedil;l,&auml;&frac12;&nbsp;&aring;&yen;&frac12;</i>\nwill be printed as\n<i>f\\303\\270l\\54\\344\\275\\240\\345\\245\\275</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the\nspecificied process is not authorized, <b>pkcheck</b> exits\nwith a return value of 1 and a diagnostic message is printed\non standard error. Details are printed on standard\noutput.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the\nspecificied process is not authorized because no suitable\nauthentication agent is available or if the\n<b>--allow-user-interaction</b> wasn't passed,\n<b>pkcheck</b> exits with a return value of 2 and a\ndiagnostic message is printed on standard error. Details are\nprinted on standard output.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the\nspecificied process is not authorized because the\nauthentication dialog / request was dismissed by the user,\n<b>pkcheck</b> exits with a return value of 3 and a\ndiagnostic message is printed on standard error. Details are\nprinted on standard output.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If an error\noccured while checking for authorization, <b>pkcheck</b>\nexits with a return value of 127 with a diagnostic message\nprinted on standard error.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If one or more\nof the options passed are malformed, <b>pkcheck</b> exits\nwith a return value of 126. If stdin is a tty, then this\nmanual page is also shown.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Do not use\neither the bare <i>pid</i> or <i>pid,start-time</i> syntax\nforms for <b>--process</b>. There are race conditions in\nboth. New code should always use\n<i>pid,pid-start-time,uid</i>. The value of\n<i>start-time</i> can be determined by consulting e.g. the\n<a href=\"https://man.page/5/proc\">proc(5)</a> file system depending on the operating\nsystem. If fewer than 3 arguments are passed, <b>pkcheck</b>\nwill attempt to look up them up internally, but note that\nthis may be racy.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If your program\nis a daemon with e.g. a custom Unix domain socket, you\nshould determine the <i>uid</i> parameter via operating\nsystem mechanisms such as PEERCRED.</p>\n\n<h2>AUTHENTICATION AGENT\n<a name=\"AUTHENTICATION AGENT\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>pkcheck</b>,\nlike any other PolicyKit application, will use the\nauthentication agent registered for the process in question.\nHowever, if no authentication agent is available, then\n<b>pkcheck</b> can register its own textual authentication\nagent if the option <b>--enable-internal-agent</b> is\npassed.</p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Written by\nDavid Zeuthen &lt;davidz@redhat.com&gt; with a lot of help\nfrom many others.</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Please send bug\nreports to either the distribution or the polkit-devel\nmailing list, see the link\n<b><font color=\"#0000FF\">http://lists.freedesktop.org/mailman/listinfo/polkit-devel</font></b>\n<font color=\"#000000\">on how to subscribe.</font></p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>polkit</b>(8),\n<a href=\"https://man.page/1/pkaction\">pkaction(1)</a>, <a href=\"https://man.page/1/pkexec\">pkexec(1)</a>,\n<a href=\"https://man.page/1/pkttyagent\">pkttyagent(1)</a></font></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#RETURN VALUE\">RETURN VALUE</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#AUTHENTICATION AGENT\">AUTHENTICATION AGENT</a>","<a href=\"#AUTHOR\">AUTHOR</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"]}