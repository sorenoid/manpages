{"name":"xsm","description":"xsm - X Session Manager","body":"\n\n<h1 align=\"center\">XSM</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">xsm - X Session\nManager</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>xsm</b>\n[-display <i>display</i>] [-session <i>sessionName</i>]\n[-verbose]</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>xsm</i> is a\nsession manager. A session is a group of applications, each\nof which has a particular state. <i>xsm</i> allows you to\ncreate arbitrary sessions - for example, you might have a\n&quot;light&quot; session, a &quot;development&quot;\nsession, or an &quot;xterminal&quot; session. Each session\ncan have its own set of applications. Within a session, you\ncan perform a &quot;checkpoint&quot; to save application\nstate, or a &quot;shutdown&quot; to save state and exit the\nsession. When you log back in to the system, you can load a\nspecific session, and you can delete sessions you no longer\nwant to keep.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Some session\nmanagers simply allow you to manually specify a list of\napplications to be started in a session. <i>xsm</i> is more\npowerful because it lets you run applications and have them\nautomatically become part of the session. On a simple level,\n<i>xsm</i> is useful because it gives you this ability to\neasily define which applications are in a session. The true\npower of <i>xsm</i>, however, can be taken advantage of when\nmore and more applications learn to save and restore their\nstate.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-display</b>\n<i>display</i></p>\n\n<p style=\"margin-left:23%;\">Causes <i>xsm</i> to connect to\nthe specified X display.</p>\n\n<p style=\"margin-left:11%;\"><b>-session</b>\n<i>sessionName</i></p>\n\n<p style=\"margin-left:23%;\">Causes <i>xsm</i> to load the\nspecified session, bypassing the session menu.</p>\n\n<p style=\"margin-left:11%;\"><b>-verbose</b></p>\n\n<p style=\"margin-left:23%;\">Turns on debugging\ninformation.</p>\n\n<h2>SETUP\n<a name=\"SETUP\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>.xsession\nfile</b> <br>\nUsing <i>xsm</i> requires a change to your <i>.xsession</i>\nfile:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The last\nprogram executed by your <i>.xsession</i> file should be\n<i>xsm</i>. With this configuration, when the user chooses\nto shut down the session using <i>xsm</i>, the session will\ntruly be over.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Since the goal\nof the session manager is to restart clients when logging\ninto a session, your .xsession file, in general, should not\ndirectly start up applications. Rather, the applications\nshould be started within a session. When <i>xsm</i> shuts\ndown the session, <i>xsm</i> will know to restart these\napplications. Note however that there are some types of\napplications that are not &quot;session aware&quot;.\n<i>xsm</i> allows you to manually add these applications to\nyour session (see the section titled <i>Client\nList</i>).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>SM_SAVE_DIR\nenvironment variable</b> <br>\nIf the <i>SM_SAVE_DIR</i> environment variable is defined,\n<i>xsm</i> will save all configuration files in this\ndirectory. Otherwise, they will be stored in the\nuser&rsquo;s home directory. Session aware applications are\nalso encouraged to save their checkpoint files in the\n<i>SM_SAVE_DIR</i> directory, although the user should not\ndepend on this convention.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Default\nStartup Applications</b> <br>\nThe first time <i>xsm</i> is started, it will need to locate\na list of applications to start up. For example, this list\nmight include a window manager, a session management proxy,\nand an xterm. <i>xsm</i> will first look for the file\n<i>.xsmstartup</i> in the user&rsquo;s home directory. If\nthat file does not exist, it will look for the\n<i>system.xsm</i> file that was set up at installation time.\nNote that <i>xsm</i> provides a &quot;fail safe&quot; option\nwhen the user chooses a session to start up. The fail safe\noption simply loads the default applications described\nabove.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Each line in\nthe startup file should contain a command to start an\napplication. A sample startup file might look this:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">&lt;start of\nfile&gt; <br>\ntwm <br>\nsmproxy <br>\nxterm <br>\n&lt;end of file&gt;</p>\n\n<h2>STARTING A SESSION\n<a name=\"STARTING A SESSION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">When <i>xsm</i>\nstarts up, it first checks to see if the user previously\nsaved any sessions. If no saved sessions exist, <i>xsm</i>\nstarts up a set of default applications (as described above\nin the section titled <i>Default Startup Applications</i>).\nIf at least one session exists, a session menu is presented.\nThe <b>-session</b> option forces the specified\n<i>sessionName</i> session to be loaded, bypassing the\nsession menu.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>The session\nmenu</b> <br>\nThe session menu presents the user with a list of sessions\nto choose from. The user can change the currently selected\nsession with the mouse, or by using the up and down arrows\non the keyboard. Note that sessions which are locked (i.e.\nrunning on a different display) can not be loaded or\ndeleted.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\noperations can be performed from the session menu:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"26%\">\n\n\n<p><b>Load Session</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"55%\">\n\n\n<p>Pressing this button will load the currently selected\nsession. Alternatively, hitting the Return key will also\nload the currently selected session, or the user can double\nclick a session from the list.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"26%\">\n\n\n<p><b>Delete Session</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"55%\">\n\n\n<p>This operation will delete the currently selected\nsession, along with all of the application checkpoint files\nassociated with the session. After pressing this button, the\nuser will be asked to press the button a second time in\norder to confirm the operation.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"26%\">\n\n\n<p><b>Default/Fail Safe</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"55%\">\n\n\n<p><i>xsm</i> will start up a set of default applications\n(as described above in the section titled <i>Default Startup\nApplications</i>). This is useful when the user wants to\nstart a fresh session, or if the session configuration files\nwere corrupted and the user wants a &quot;fail safe&quot;\nsession.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"26%\">\n\n\n<p><b>Cancel</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"55%\">\n\n\n<p>Pressing this button will cause <i>xsm</i> to exit. It\ncan also be used to cancel a &quot;Delete Session&quot;\noperation.</p> </td></tr>\n</table>\n\n<h2>CONTROLLING A SESSION\n<a name=\"CONTROLLING A SESSION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">After\n<i>xsm</i> determines which session to load, it brings up\nits main window, then starts up all applications that are\npart of the session. The title bar for the session\nmanager&rsquo;s main window will contain the name of the\nsession that was loaded.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\noptions are available from <i>xsm</i>&rsquo;s main\nwindow:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"17%\">\n\n\n<p style=\"margin-top: 1em\"><b>Client List</b></p></td>\n<td width=\"10%\"></td>\n<td width=\"62%\">\n\n\n<p style=\"margin-top: 1em\">Pressing this button brings up a\nwindow containing a list of all clients that are in the\ncurrent session. For each client, the host machine that the\nclient is running on is presented. As clients are added and\nremoved from the session, this list is updated to reflect\nthe changes. The user is able to control how these clients\nare restarted (see below).</p></td></tr>\n</table>\n\n<p style=\"margin-left:38%; margin-top: 1em\">By pressing the\n<b>View Properties</b> button, the user can view the session\nmanagement properties associated with the currently selected\nclient.</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\">By pressing the\n<b>Clone</b> button, the user can start a copy of the\nselected application.</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\">By pressing the\n<b>Kill Client</b> button, the user can remove a client from\nthe session.</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\">By selecting a\nrestart hint from the <b>Restart Hint</b> menu, the user can\ncontrol the restarting of a client. The following hints are\navailable:</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\"><b>-</b> The\n<b>Restart If Running</b> hint indicates that the client\nshould be restarted in the next session if it is connected\nto the session manager at the end of the current\nsession.</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\"><b>-</b> The\n<b>Restart Anyway</b> hint indicates that the client should\nbe restarted in the next session even if it exits before the\ncurrent session is terminated.</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\"><b>-</b> The\n<b>Restart Immediately</b> hint is similar to the <b>Restart\nAnyway</b> hint, but in addition, the client is meant to run\ncontinuously. If the client exits, the session manager will\ntry to restart it in the current session.</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\"><b>-</b> The\n<b>Restart Never</b> hint indicates that the client should\nnot be restarted in the next session.</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\">Note that all X\napplications may not be &quot;session aware&quot;.\nApplications that are not session aware are ones that do not\nsupport the X Session Management Protocol or they can not be\ndetected by the Session Management Proxy (see the section\ntitled <i>THE PROXY</i>). <i>xsm</i> allows the user to\nmanually add such applications to the session. The bottom of\nthe <i>Client List</i> window contains a text entry field in\nwhich application commands can be typed in. Each command\nshould go on its own line. This information will be saved\nwith the session at checkpoint or shutdown time. When the\nsession is restarted, <i>xsm</i> will restart these\napplications in addition to the regular &quot;session\naware&quot; applications.</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\">Pressing the\n<b>Done</b> button removes the <b>Client List</b>\nwindow.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"21%\">\n\n\n<p style=\"margin-top: 1em\"><b>Session Log...</b></p></td>\n<td width=\"6%\"></td>\n<td width=\"62%\">\n\n\n<p style=\"margin-top: 1em\">The Session Log window presents\nuseful information about the session. For example, when a\nsession is restarted, all of the restart commands will be\ndisplayed in the log window.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"21%\">\n\n\n<p><b>Checkpoint</b></p></td>\n<td width=\"6%\"></td>\n<td width=\"62%\">\n\n\n<p>By performing a checkpoint, all applications that are in\nthe session are asked to save their state. Not every\napplication will save its complete state, but at a minimum,\nthe session manager is guaranteed that it will receive the\ncommand required to restart the application (along with all\ncommand line options). A window manager participating in the\nsession should guarantee that the applications will come\nback up with the same window configurations.</p></td></tr>\n</table>\n\n<p style=\"margin-left:38%; margin-top: 1em\">If the session\nbeing checkpointed was never assigned a name, the user will\nbe required to specify a session name. Otherwise, the user\ncan perform the checkpoint using the current session name,\nor a new session name can be specified. If the session name\nspecified already exists, the user will be given the\nopportunity to specify a different name or to overwrite the\nalready existing session. Note that a session which is\nlocked can not be overwritten.</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\">When performing\na checkpoint, the user must specify a <b>Save Type</b> which\ninforms the applications in the session how much state they\nshould save.</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\">The\n<b>Local</b> type indicates that the application should save\nenough information to restore the state as seen by the user.\nIt should not affect the state as seen by other users. For\nexample, an editor would create a temporary file containing\nthe contents of its editing buffer, the location of the\ncursor, etc...</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\">The\n<b>Global</b> type indicates that the application should\ncommit all of its data to permanent, globally accessible\nstorage. For example, the editor would simply save the\nedited file.</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\">The <b>Both</b>\ntype indicates that the application should do both of these.\nFor example, the editor would save the edited file, then\ncreate a temporary file with information such as the\nlocation of the cursor, etc...</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\">In addition to\nthe <b>Save Type</b>, the user must specify an <b>Interact\nStyle</b>.</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\">The <b>None</b>\ntype indicates that the application should not interact with\nthe user while saving state.</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\">The\n<b>Errors</b> type indicates that the application may\ninteract with the user only if an error condition\narises.</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\">The <b>Any</b>\ntype indicates that the application may interact with the\nuser for any purpose. Note that <i>xsm</i> will only allow\none application to interact with the user at a time.</p>\n\n<p style=\"margin-left:38%; margin-top: 1em\">After the\ncheckpoint is completed, <i>xsm</i> will, if necessary,\ndisplay a window containing the list of applications which\ndid not report a successful save of state.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"12%\">\n\n\n<p style=\"margin-top: 1em\"><b>Shutdown</b></p></td>\n<td width=\"15%\"></td>\n<td width=\"62%\">\n\n\n<p style=\"margin-top: 1em\">A shutdown provides all of the\noptions found in a checkpoint, but in addition, can cause\nthe session to exit. Note that if the interaction style is\n<b>Errors</b> or <b>Any</b>, the user may cancel the\nshutdown. The user may also cancel the shutdown if any of\nthe applications report an unsuccessful save of state.</p></td></tr>\n</table>\n\n<p style=\"margin-left:38%; margin-top: 1em\">The user may\nchoose to shutdown the session with our without performing a\ncheckpoint.</p>\n\n<h2>HOW XSM RESPONDS TO SIGNALS\n<a name=\"HOW XSM RESPONDS TO SIGNALS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>xsm</i> will\nrespond to a SIGTERM signal by performing a shutdown with\nthe following options: fast, no interaction, save type\nlocal. This allows the user&rsquo;s session to be saved when\nthe system is being shutdown. It can also be used to perform\na remote shutdown of a session.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>xsm</i> will\nrespond to a SIGUSR1 signal by performing a checkpoint with\nthe following options: no interaction, save type local. This\nsignal can be used to perform a remote checkpoint of a\nsession.</p>\n\n<h2>THE PROXY\n<a name=\"THE PROXY\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Since not all\napplications have been ported to support the X Session\nManagement Protocol, a proxy service exists to allow\n&quot;old&quot; clients to work with the session manager. In\norder for the proxy to detect an application joining a\nsession, one of the following must be true:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">- The\napplication maps a top level window containing the\n<b>WM_CLIENT_LEADER</b> property. This property provides a\npointer to the client leader window which contains the\n<b>WM_CLASS</b>, <b>WM_NAME</b>, <b>WM_COMMAND</b>, and\n<b>WM_CLIENT_MACHINE</b> properties.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">or ...</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">- The\napplication maps a top level window which does not contain\nthe <b>WM_CLIENT_LEADER</b> property. However, this top\nlevel window contains the <b>WM_CLASS</b>, <b>WM_NAME</b>,\n<b>WM_COMMAND</b>, and <b>WM_CLIENT_MACHINE</b>\nproperties.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">An application\nthat support the <b>WM_SAVE_YOURSELF</b> protocol will\nreceive a <b>WM_SAVE_YOURSELF</b> client message each time\nthe session manager issues a checkpoint or shutdown. This\nallows the application to save state. If an application does\nnot support the <b>WM_SAVE_YOURSELF</b> protocol, then the\nproxy will provide enough information to the session manager\nto restart the application (using <b>WM_COMMAND</b>), but no\nstate will be restored.</p>\n\n<h2>REMOTE APPLICATIONS\n<a name=\"REMOTE APPLICATIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>xsm</i>\nrequires a remote execution protocol in order to restart\napplications on remote machines. Currently, <i>xsm</i>\nsupports the <i>rstart</i> protocol. In order to restart an\napplication on remote machine <b>X</b>, machine <b>X</b>\nmust have <i>rstart</i> installed. In the future, additional\nremote execution protocols may be supported.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">smproxy(1),\nrstart(1)</p>\n\n<h2>AUTHORS\n<a name=\"AUTHORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Ralph Mor, X\nConsortium <br>\nJordan Brown, Quarterdeck Office Systems</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#SETUP\">SETUP</a>","<a href=\"#STARTING A SESSION\">STARTING A SESSION</a>","<a href=\"#CONTROLLING A SESSION\">CONTROLLING A SESSION</a>","<a href=\"#HOW XSM RESPONDS TO SIGNALS\">HOW XSM RESPONDS TO SIGNALS</a>","<a href=\"#THE PROXY\">THE PROXY</a>","<a href=\"#REMOTE APPLICATIONS\">REMOTE APPLICATIONS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHORS\">AUTHORS</a>"]}