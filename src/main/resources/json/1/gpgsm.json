{"name":"gpgsm","body":"\n\n<h1 align=\"center\">GPGSM</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>gpgsm</b> -\nCMS encryption and signing tool</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>gpgsm</b>\n[<b>--homedir</b> <i>dir</i>] [<b>--options</b> <i>file</i>]\n[<i>options</i>] <i>command</i> [<i>args</i>]</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>gpgsm</b> is\na tool similar to <b>gpg</b> to provide digital encryption\nand signing services on X.509 certificates and the CMS\nprotocol. It is mainly used as a backend for S/MIME mail\nprocessing. <b>gpgsm</b> includes a full featured\ncertificate management and complies with all rules defined\nfor the German Sphinx project.</p>\n\n<h2>COMMANDS\n<a name=\"COMMANDS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Commands are\nnot distinguished from options except for the fact that only\none command is allowed.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Commands not\nspecific to the function &nbsp; <br>\n--version</b></p>\n\n<p style=\"margin-left:22%;\">Print the program version and\nlicensing information. Note that you cannot abbreviate this\ncommand.</p>\n\n<p style=\"margin-left:11%;\"><b>--help, -h</b></p>\n\n<p style=\"margin-left:22%;\">Print a usage message\nsummarizing the most useful command-line options. Note that\nyou cannot abbreviate this command.</p>\n\n<p style=\"margin-left:11%;\"><b>--warranty</b></p>\n\n<p style=\"margin-left:22%;\">Print warranty information.\nNote that you cannot abbreviate this command.</p>\n\n<p style=\"margin-left:11%;\"><b>--dump-options</b></p>\n\n<p style=\"margin-left:22%;\">Print a list of all available\noptions and commands. Note that you cannot abbreviate this\ncommand.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Commands to\nselect the type of operation &nbsp; <br>\n--encrypt</b></p>\n\n<p style=\"margin-left:22%;\">Perform an encryption. The keys\nthe data is encrypted to must be set using the option\n<b>--recipient</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>--decrypt</b></p>\n\n<p style=\"margin-left:22%;\">Perform a decryption; the type\nof input is automatically determined. It may either be in\nbinary form or PEM encoded; automatic determination of\nbase-64 encoding is not done.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>--sign</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Create a digital signature. The key used is either the\nfist one found in the keybox or those set with the\n<b>--local-user</b> option.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>--verify</b></p>\n\n<p style=\"margin-left:22%;\">Check a signature file for\nvalidity. Depending on the arguments a detached signature\nmay also be checked.</p>\n\n<p style=\"margin-left:11%;\"><b>--server</b></p>\n\n<p style=\"margin-left:22%;\">Run in server mode and wait for\ncommands on the <b>stdin</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>--call-dirmngr</b>\n<i>command</i> [<i>args</i>]</p>\n\n<p style=\"margin-left:22%;\">Behave as a Dirmngr client\nissuing the request <i>command</i> with the optional list of\n<i>args</i>. The output of the Dirmngr is printed stdout.\nPlease note that file names given as arguments should have\nan absolute file name (i.e. commencing with <b>/</b>)\nbecause they are passed verbatim to the Dirmngr and the\nworking directory of the Dirmngr might not be the same as\nthe one of this client. Currently it is not possible to pass\ndata via stdin to the Dirmngr. <i>command</i> should not\ncontain spaces.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This is command\nis required for certain maintaining tasks of the dirmngr\nwhere a dirmngr must be able to call back to <b>gpgsm</b>.\nSee the Dirmngr manual for details.</p>\n\n<p style=\"margin-left:11%;\"><b>--call-protect-tool</b>\n<i>arguments</i></p>\n\n<p style=\"margin-left:22%;\">Certain maintenance operations\nare done by an external program call\n<b>gpg-protect-tool</b>; this is usually not installed in a\ndirectory listed in the PATH variable. This command provides\na simple wrapper to access this tool. <i>arguments</i> are\npassed verbatim to this command; use &rsquo;--help&rsquo; to\nget a list of supported operations.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>How to\nmanage the certificates and keys &nbsp; <br>\n--generate-key <br>\n--gen-key</b></p>\n\n<p style=\"margin-left:22%;\">This command allows the\ncreation of a certificate signing request or a self-signed\ncertificate. It is commonly used along with the\n<b>--output</b> option to save the created CSR or\ncertificate into a file. If used with the <b>--batch</b> a\nparameter file is used to create the CSR or certificate and\nit is further possible to create non-self-signed\ncertificates.</p>\n\n<p style=\"margin-left:11%;\"><b>--list-keys</b></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-k</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p>List all available certificates stored in the local key\ndatabase. Note that the displayed data might be reformatted\nfor better human readability and illegal characters are\nreplaced by safe substitutes.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>--list-secret-keys</b></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-K</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p>List all available certificates for which a\ncorresponding a secret key is available.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>--list-external-keys</b>\n<i>pattern</i></p>\n\n<p style=\"margin-left:22%;\">List certificates matching\n<i>pattern</i> using an external server. This utilizes the\n<b>dirmngr</b> service.</p>\n\n<p style=\"margin-left:11%;\"><b>--list-chain</b></p>\n\n<p style=\"margin-left:22%;\">Same as <b>--list-keys</b> but\nalso prints all keys making up the chain.</p>\n\n<p style=\"margin-left:11%;\"><b>--dump-cert <br>\n--dump-keys</b></p>\n\n<p style=\"margin-left:22%;\">List all available certificates\nstored in the local key database using a format useful\nmainly for debugging.</p>\n\n<p style=\"margin-left:11%;\"><b>--dump-chain</b></p>\n\n<p style=\"margin-left:22%;\">Same as <b>--dump-keys</b> but\nalso prints all keys making up the chain.</p>\n\n<p style=\"margin-left:11%;\"><b>--dump-secret-keys</b></p>\n\n<p style=\"margin-left:22%;\">List all available certificates\nfor which a corresponding a secret key is available using a\nformat useful mainly for debugging.</p>\n\n<p style=\"margin-left:11%;\"><b>--dump-external-keys</b>\n<i>pattern</i></p>\n\n<p style=\"margin-left:22%;\">List certificates matching\n<i>pattern</i> using an external server. This utilizes the\n<b>dirmngr</b> service. It uses a format useful mainly for\ndebugging.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--keydb-clear-some-cert-flags</b></p>\n\n<p style=\"margin-left:22%;\">This is a debugging aid to\nreset certain flags in the key database which are used to\ncache certain certificate stati. It is especially useful if\na bad CRL or a weird running OCSP responder did accidentally\nrevoke certificate. There is no security issue with this\ncommand because <b>gpgsm</b> always make sure that the\nvalidity of a certificate is checked right before it is\nused.</p>\n\n<p style=\"margin-left:11%;\"><b>--delete-keys</b>\n<i>pattern</i></p>\n\n<p style=\"margin-left:22%;\">Delete the keys matching\n<i>pattern</i>. Note that there is no command to delete the\nsecret part of the key directly. In case you need to do\nthis, you should run the command <b>gpgsm --dump-secret-keys\nKEYID</b> before you delete the key, copy the string of\nhex-digits in the &rsquo;&rsquo;keygrip&rsquo;&rsquo; line\nand delete the file consisting of these hex-digits and the\nsuffix <b>.key</b> from the\n&rsquo;<i>private-keys-v1.d</i>&rsquo; directory below our\nGnuPG home directory (usually\n&rsquo;<i>~/.gnupg</i>&rsquo;).</p>\n\n<p style=\"margin-left:11%;\"><b>--export\n[</b><i>pattern</i>]</p>\n\n<p style=\"margin-left:22%;\">Export all certificates stored\nin the Keybox or those specified by the optional\n<i>pattern</i>. Those pattern consist of a list of user ids\n(see: [how-to-specify-a-user-id]). When used along with the\n<b>--armor</b> option a few informational lines are\nprepended before each block. There is one limitation: As\nthere is no commonly agreed upon way to pack more than one\ncertificate into an ASN.1 structure, the binary export (i.e.\nwithout using <b>armor</b>) works only for the export of one\ncertificate. Thus it is required to specify a <i>pattern</i>\nwhich yields exactly one certificate. Ephemeral certificate\nare only exported if all <i>pattern</i> are given as\nfingerprints or keygrips.</p>\n\n<p style=\"margin-left:11%;\"><b>--export-secret-key-p12</b>\n<i>key-id</i></p>\n\n<p style=\"margin-left:22%;\">Export the private key and the\ncertificate identified by <i>key-id</i> using the PKCS#12\nformat. When used with the <b>--armor</b> option a few\ninformational lines are prepended to the output. Note, that\nthe PKCS#12 format is not very secure and proper transport\nsecurity should be used to convey the exported key. (See:\n[option --p12-charset].)</p>\n\n<p style=\"margin-left:11%;\"><b>--export-secret-key-p8</b>\n<i>key-id</i> <b><br>\n--export-secret-key-raw</b> <i>key-id</i></p>\n\n<p style=\"margin-left:22%;\">Export the private key of the\ncertificate identified by <i>key-id</i> with any encryption\nstripped. The <b>...-raw</b> command exports in PKCS#1\nformat; the <b>...-p8</b> command exports in PKCS#8 format.\nWhen used with the <b>--armor</b> option a few informational\nlines are prepended to the output. These commands are useful\nto prepare a key for use on a TLS server.</p>\n\n<p style=\"margin-left:11%;\"><b>--import\n[</b><i>files</i>]</p>\n\n<p style=\"margin-left:22%;\">Import the certificates from\nthe PEM or binary encoded files as well as from signed-only\nmessages. This command may also be used to import a secret\nkey from a PKCS#12 file.</p>\n\n<p style=\"margin-left:11%;\"><b>--learn-card</b></p>\n\n<p style=\"margin-left:22%;\">Read information about the\nprivate keys from the smartcard and import the certificates\nfrom there. This command utilizes the <b>gpg-agent</b> and\nin turn the <b>scdaemon</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>--change-passphrase</b>\n<i>user_id</i> <b><br>\n--passwd</b> <i>user_id</i></p>\n\n<p style=\"margin-left:22%;\">Change the passphrase of the\nprivate key belonging to the certificate specified as\n<i>user_id</i>. Note, that changing the passphrase/PIN of a\nsmartcard is not yet supported.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>GPGSM</b>\nfeatures a bunch of options to control the exact behaviour\nand to change the default configuration.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>How to\nchange the configuration &nbsp;</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">These options\nare used to change the configuration and are usually found\nin the option file. <b><br>\n--options</b> <i>file</i></p>\n\n<p style=\"margin-left:22%;\">Reads configuration from\n<i>file</i> instead of from the default per-user\nconfiguration file. The default configuration file is named\n&rsquo;<i>gpgsm.conf</i>&rsquo; and expected in the\n&rsquo;<i>.gnupg</i>&rsquo; directory directly below the\nhome directory of the user.</p>\n\n<p style=\"margin-left:11%;\"><b>--homedir</b> <i>dir</i></p>\n\n<p style=\"margin-left:22%;\">Set the name of the home\ndirectory to <i>dir</i>. If this option is not used, the\nhome directory defaults to &rsquo;<i>~/.gnupg</i>&rsquo;. It\nis only recognized when given on the command line. It also\noverrides any home directory stated through the environment\nvariable &rsquo;<i>GNUPGHOME</i>&rsquo; or (on Windows\nsystems) by means of the Registry entry\n<i>HKCU\\Software\\GNU\\GnuPG:HomeDir</i>.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">On Windows\nsystems it is possible to install GnuPG as a portable\napplication. In this case only this command line option is\nconsidered, all other ways to set a home directory are\nignored.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">To install\nGnuPG as a portable application under Windows, create an\nempty file named &rsquo;<i>gpgconf.ctl</i>&rsquo; in the\nsame directory as the tool &rsquo;<i>gpgconf.exe</i>&rsquo;.\nThe root of the installation is then that directory; or, if\n&rsquo;<i>gpgconf.exe</i>&rsquo; has been installed directly\nbelow a directory named &rsquo;<i>bin</i>&rsquo;, its parent\ndirectory. You also need to make sure that the following\ndirectories exist and are writable:\n&rsquo;<i>ROOT/home</i>&rsquo; for the GnuPG home and\n&rsquo;<i>ROOT/var/cache/gnupg</i>&rsquo; for internal cache\nfiles.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-v</b></p></td>\n<td width=\"86%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>--verbose</b></p>\n\n<p style=\"margin-left:22%;\">Outputs additional information\nwhile running. You can increase the verbosity by giving\nseveral verbose commands to <b>gpgsm</b>, such as\n&rsquo;-vv&rsquo;.</p>\n\n<p style=\"margin-left:11%;\"><b>--policy-file</b>\n<i>filename</i></p>\n\n<p style=\"margin-left:22%;\">Change the default name of the\npolicy file to <i>filename</i>.</p>\n\n<p style=\"margin-left:11%;\"><b>--agent-program</b>\n<i>file</i></p>\n\n<p style=\"margin-left:22%;\">Specify an agent program to be\nused for secret key operations. The default value is\ndetermined by running the command <b>gpgconf</b>. Note that\nthe pipe symbol (<b>|</b>) is used for a regression test\nsuite hack and may thus not be used in the file name.</p>\n\n<p style=\"margin-left:11%;\"><b>--dirmngr-program</b>\n<i>file</i></p>\n\n<p style=\"margin-left:22%;\">Specify a dirmngr program to be\nused for CRL checks. The default value is\n&rsquo;<i>/usr/bin/dirmngr</i>&rsquo;.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--prefer-system-dirmngr</b></p>\n\n<p style=\"margin-left:22%;\">This option is obsolete and\nignored.</p>\n\n<p style=\"margin-left:11%;\"><b>--disable-dirmngr</b></p>\n\n<p style=\"margin-left:22%;\">Entirely disable the use of the\nDirmngr.</p>\n\n<p style=\"margin-left:11%;\"><b>--no-autostart</b></p>\n\n<p style=\"margin-left:22%;\">Do not start the gpg-agent or\nthe dirmngr if it has not yet been started and its service\nis required. This option is mostly useful on machines where\nthe connection to gpg-agent has been redirected to another\nmachines. If dirmngr is required on the remote machine, it\nmay be started manually using <b>gpgconf --launch\ndirmngr</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>--no-secmem-warning</b></p>\n\n<p style=\"margin-left:22%;\">Do not print a warning when the\nso called &quot;secure memory&quot; cannot be used.</p>\n\n<p style=\"margin-left:11%;\"><b>--log-file</b>\n<i>file</i></p>\n\n<p style=\"margin-left:22%;\">When running in server mode,\nappend all logging output to <i>file</i>. Use\n&rsquo;<i>socket://</i>&rsquo; to log to socket.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Certificate\nrelated options &nbsp; <br>\n--enable-policy-checks <br>\n--disable-policy-checks</b></p>\n\n<p style=\"margin-left:22%;\">By default policy checks are\nenabled. These options may be used to change it.</p>\n\n<p style=\"margin-left:11%;\"><b>--enable-crl-checks <br>\n--disable-crl-checks</b></p>\n\n<p style=\"margin-left:22%;\">By default the CRL checks are\nenabled and the DirMngr is used to check for revoked\ncertificates. The disable option is most useful with an\noff-line network connection to suppress this check and also\nto avoid that new certificates introduce a web bug by\nincluding a certificate specific CRL DP. The disable option\nalso disables an issuer certificate lookup via the\nauthorityInfoAccess property of the certificate; the\n<b>--enable-issuer-key-retrieve</b> can be used to make use\nof that property anyway.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--enable-trusted-cert-crl-check\n<br>\n--disable-trusted-cert-crl-check</b></p>\n\n<p style=\"margin-left:22%;\">By default the CRL for trusted\nroot certificates are checked like for any other\ncertificates. This allows a CA to revoke its own\ncertificates voluntary without the need of putting all ever\nissued certificates into a CRL. The disable option may be\nused to switch this extra check off. Due to the caching done\nby the Dirmngr, there will not be any noticeable performance\ngain. Note, that this also disables possible OCSP checks for\ntrusted root certificates. A more specific way of disabling\nthis check is by adding the\n&rsquo;&rsquo;relax&rsquo;&rsquo; keyword to the root CA\nline of the &rsquo;<i>trustlist.txt</i>&rsquo;</p>\n\n<p style=\"margin-left:11%;\"><b>--force-crl-refresh</b></p>\n\n<p style=\"margin-left:22%;\">Tell the dirmngr to reload the\nCRL for each request. For better performance, the dirmngr\nwill actually optimize this by suppressing the loading for\nshort time intervals (e.g. 30 minutes). This option is\nuseful to make sure that a fresh CRL is available for\ncertificates hold in the keybox. The suggested way of doing\nthis is by using it along with the option\n<b>--with-validation</b> for a key listing command. This\noption should not be used in a configuration file.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--enable-issuer-based-crl-check</b></p>\n\n<p style=\"margin-left:22%;\">Run a CRL check even for\ncertificates which do not have any CRL distribution point.\nThis requires that a suitable LDAP server has been\nconfigured in Dirmngr and that the CRL can be found using\nthe issuer. This option reverts to what GnuPG did up to\nversion 2.2.20. This option is in general not useful.</p>\n\n<p style=\"margin-left:11%;\"><b>--enable-ocsp <br>\n--disable-ocsp</b></p>\n\n<p style=\"margin-left:22%;\">By default OCSP checks are\ndisabled. The enable option may be used to enable OCSP\nchecks via Dirmngr. If CRL checks are also enabled, CRLs\nwill be used as a fallback if for some reason an OCSP\nrequest will not succeed. Note, that you have to allow OCSP\nrequests in Dirmngr&rsquo;s configuration too (option\n<b>--allow-ocsp</b>) and configure Dirmngr properly. If you\ndo not do so you will get the error code &rsquo;Not\nsupported&rsquo;.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--auto-issuer-key-retrieve</b></p>\n\n<p style=\"margin-left:22%;\">If a required certificate is\nmissing while validating the chain of certificates, try to\nload that certificate from an external location. This\nusually means that Dirmngr is employed to search for the\ncertificate. Note that this option makes a &quot;web\nbug&quot; like behavior possible. LDAP server operators can\nsee which keys you request, so by sending you a message\nsigned by a brand new key (which you naturally will not have\non your local keybox), the operator can tell both your IP\naddress and the time when you verified the signature.</p>\n\n<p style=\"margin-left:11%;\"><b>--validation-model</b>\n<i>name</i></p>\n\n<p style=\"margin-left:22%;\">This option changes the default\nvalidation model. The only possible values are\n&quot;shell&quot; (which is the default), &quot;chain&quot;\nwhich forces the use of the chain model and\n&quot;steed&quot; for a new simplified model. The chain\nmodel is also used if an option in the\n&rsquo;<i>trustlist.txt</i>&rsquo; or an attribute of the\ncertificate requests it. However the standard model (shell)\nis in that case always tried first.</p>\n\n<p style=\"margin-left:11%;\"><b>--ignore-cert-extension</b>\n<i>oid</i></p>\n\n<p style=\"margin-left:22%;\">Add <i>oid</i> to the list of\nignored certificate extensions. The <i>oid</i> is expected\nto be in dotted decimal form, like <b>2.5.29.3</b>. This\noption may be used more than once. Critical flagged\ncertificate extensions matching one of the OIDs in the list\nare treated as if they are actually handled and thus the\ncertificate will not be rejected due to an unknown critical\nextension. Use this option with care because extensions are\nusually flagged as critical for a reason.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Input and\nOutput &nbsp; <br>\n--armor</b></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-a</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p>Create PEM encoded output. Default is binary output.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>--base64</b></p>\n\n<p style=\"margin-left:22%;\">Create Base-64 encoded output;\ni.e. PEM without the header lines.</p>\n\n<p style=\"margin-left:11%;\"><b>--assume-armor</b></p>\n\n<p style=\"margin-left:22%;\">Assume the input data is PEM\nencoded. Default is to autodetect the encoding but this is\nmay fail.</p>\n\n<p style=\"margin-left:11%;\"><b>--assume-base64</b></p>\n\n<p style=\"margin-left:22%;\">Assume the input data is plain\nbase-64 encoded.</p>\n\n<p style=\"margin-left:11%;\"><b>--assume-binary</b></p>\n\n<p style=\"margin-left:22%;\">Assume the input data is binary\nencoded.</p>\n\n<p style=\"margin-left:11%;\"><b>--p12-charset</b>\n<i>name</i></p>\n\n<p style=\"margin-left:22%;\"><b>gpgsm</b> uses the UTF-8\nencoding when encoding passphrases for PKCS#12 files. This\noption may be used to force the passphrase to be encoded in\nthe specified encoding <i>name</i>. This is useful if the\napplication used to import the key uses a different encoding\nand thus will not be able to import a file generated by\n<b>gpgsm</b>. Commonly used values for <i>name</i> are\n<b>Latin1</b> and <b>CP850</b>. Note that <b>gpgsm</b>\nitself automagically imports any file with a passphrase\nencoded to the most commonly used encodings.</p>\n\n<p style=\"margin-left:11%;\"><b>--default-key</b>\n<i>user_id</i></p>\n\n<p style=\"margin-left:22%;\">Use <i>user_id</i> as the\nstandard key for signing. This key is used if no other key\nhas been defined as a signing key. Note, that the first\n<b>--local-users</b> option also sets this key if it has not\nyet been set; however <b>--default-key</b> always overrides\nthis.</p>\n\n<p style=\"margin-left:11%;\"><b>--local-user</b>\n<i>user_id</i> <b><br>\n-u</b> <i>user_id</i></p>\n\n<p style=\"margin-left:22%;\">Set the user(s) to be used for\nsigning. The default is the first secret key found in the\ndatabase.</p>\n\n<p style=\"margin-left:11%;\"><b>--recipient</b>\n<i>name</i></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-r</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p>Encrypt to the user id <i>name</i>. There are several\nways a user id may be given (see:\n[how-to-specify-a-user-id]).</p> </td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>--output</b> <i>file</i>\n<b><br>\n-o</b> <i>file</i></p>\n\n<p style=\"margin-left:22%;\">Write output to <i>file</i>.\nThe default is to write it to stdout.</p>\n\n<p style=\"margin-left:11%;\"><b>--with-key-data</b></p>\n\n<p style=\"margin-left:22%;\">Displays extra information with\nthe <b>--list-keys</b> commands. Especially a line tagged\n<b>grp</b> is printed which tells you the keygrip of a key.\nThis string is for example used as the file name of the\nsecret key. Implies <b>--with-colons</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>--with-validation</b></p>\n\n<p style=\"margin-left:22%;\">When doing a key listing, do a\nfull validation check for each key and print the result.\nThis is usually a slow operation because it requires a CRL\nlookup and other operations.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">When used along\nwith <b>--import</b>, a validation of the certificate to\nimport is done and only imported if it succeeds the test.\nNote that this does not affect an already available\ncertificate in the DB. This option is therefore useful to\nsimply verify a certificate.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--with-md5-fingerprint</b></p>\n\n<p style=\"margin-left:22%;\">For standard key listings, also\nprint the MD5 fingerprint of the certificate.</p>\n\n<p style=\"margin-left:11%;\"><b>--with-keygrip</b></p>\n\n<p style=\"margin-left:22%;\">Include the keygrip in standard\nkey listings. Note that the keygrip is always listed in\n<b>--with-colons</b> mode.</p>\n\n<p style=\"margin-left:11%;\"><b>--with-secret</b></p>\n\n<p style=\"margin-left:22%;\">Include info about the presence\nof a secret key in public key listings done with\n<b>--with-colons</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>How to\nchange how the CMS is created &nbsp; <br>\n--include-certs</b> <i>n</i></p>\n\n<p style=\"margin-left:22%;\">Using <i>n</i> of -2 includes\nall certificate except for the root cert, -1 includes all\ncerts, 0 does not include any certs, 1 includes only the\nsigners cert and all other positive values include up to\n<i>n</i> certificates starting with the signer cert. The\ndefault is -2.</p>\n\n<p style=\"margin-left:11%;\"><b>--cipher-algo</b>\n<i>oid</i></p>\n\n<p style=\"margin-left:22%;\">Use the cipher algorithm with\nthe ASN.1 object identifier <i>oid</i> for encryption. For\nconvenience the strings <b>3DES</b>, <b>AES</b> and\n<b>AES256</b> may be used instead of their OIDs. The default\nis <b>AES</b> (2.16.840.1.101.3.4.1.2).</p>\n\n<p style=\"margin-left:11%;\"><b>--digest-algo name</b></p>\n\n<p style=\"margin-left:22%;\">Use <b>name</b> as the message\ndigest algorithm. Usually this algorithm is deduced from the\nrespective signing certificate. This option forces the use\nof the given algorithm and may lead to severe\ninteroperability problems.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Doing things\none usually do not want to do &nbsp; <br>\n--extra-digest-algo</b> <i>name</i></p>\n\n<p style=\"margin-left:22%;\">Sometimes signatures are broken\nin that they announce a different digest algorithm than\nactually used. <b>gpgsm</b> uses a one-pass data processing\nmodel and thus needs to rely on the announced digest\nalgorithms to properly hash the data. As a workaround this\noption may be used to tell <b>gpgsm</b> to also hash the\ndata using the algorithm <i>name</i>; this slows processing\ndown a little bit but allows verification of such broken\nsignatures. If <b>gpgsm</b> prints an error like\n&rsquo;&rsquo;digest algo 8 has not been\nenabled&rsquo;&rsquo; you may want to try this option, with\n&rsquo;SHA256&rsquo; for <i>name</i>.</p>\n\n<p style=\"margin-left:11%;\"><b>--faked-system-time</b>\n<i>epoch</i></p>\n\n<p style=\"margin-left:22%;\">This option is only useful for\ntesting; it sets the system time back or forth to\n<i>epoch</i> which is the number of seconds elapsed since\nthe year 1970. Alternatively <i>epoch</i> may be given as a\nfull ISO time string (e.g. &quot;20070924T154812&quot;).</p>\n\n\n<p style=\"margin-left:11%;\"><b>--with-ephemeral-keys</b></p>\n\n<p style=\"margin-left:22%;\">Include ephemeral flagged keys\nin the output of key listings. Note that they are included\nanyway if the key specification for a listing is given as\nfingerprint or keygrip.</p>\n\n<p style=\"margin-left:11%;\"><b>--debug-level</b>\n<i>level</i></p>\n\n<p style=\"margin-left:22%;\">Select the debug level for\ninvestigating problems. <i>level</i> may be a numeric value\nor by a keyword:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"7%\">\n\n\n<p><b>none</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"68%\">\n\n\n<p>No debugging at all. A value of less than 1 may be used\ninstead of the keyword.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"7%\">\n\n\n<p><b>basic</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"68%\">\n\n\n<p>Some basic debug messages. A value between 1 and 2 may\nbe used instead of the keyword.</p></td></tr>\n</table>\n\n<p style=\"margin-left:22%;\"><b>advanced</b></p>\n\n<p style=\"margin-left:32%;\">More verbose debug messages. A\nvalue between 3 and 5 may be used instead of the\nkeyword.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"9%\">\n\n\n<p><b>expert</b></p></td>\n<td width=\"1%\"></td>\n<td width=\"68%\">\n\n\n<p>Even more detailed messages. A value between 6 and 8 may\nbe used instead of the keyword.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"9%\">\n\n\n<p><b>guru</b></p></td>\n<td width=\"1%\"></td>\n<td width=\"68%\">\n\n\n<p>All of the debug messages you can get. A value greater\nthan 8 may be used instead of the keyword. The creation of\nhash tracing files is only enabled if the keyword is\nused.</p> </td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\">How these\nmessages are mapped to the actual debugging flags is not\nspecified and may change with newer releases of this\nprogram. They are however carefully selected to best aid in\ndebugging. <b><br>\n--debug</b> <i>flags</i></p>\n\n<p style=\"margin-left:22%;\">This option is only useful for\ndebugging and the behaviour may change at any time without\nnotice; using <b>--debug-levels</b> is the preferred method\nto select the debug verbosity. FLAGS are bit encoded and may\nbe given in usual C-Syntax. The currently defined bits\nare:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"9%\">\n\n\n<p><b>0 (1)</b></p></td>\n<td width=\"1%\"></td>\n<td width=\"59%\">\n\n\n<p>X.509 or OpenPGP protocol related data</p></td>\n<td width=\"9%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"9%\">\n\n\n<p><b>1 (2)</b></p></td>\n<td width=\"1%\"></td>\n<td width=\"59%\">\n\n\n<p>values of big number integers</p></td>\n<td width=\"9%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"9%\">\n\n\n<p><b>2 (4)</b></p></td>\n<td width=\"1%\"></td>\n<td width=\"59%\">\n\n\n<p>low level crypto operations</p></td>\n<td width=\"9%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"9%\">\n\n\n<p><b>5 (32)</b></p></td>\n<td width=\"1%\"></td>\n<td width=\"59%\">\n\n\n<p>memory allocation</p></td>\n<td width=\"9%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"9%\">\n\n\n<p><b>6 (64)</b></p></td>\n<td width=\"1%\"></td>\n<td width=\"59%\">\n\n\n<p>caching</p></td>\n<td width=\"9%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:22%;\"><b>7 (128)</b></p>\n\n<p style=\"margin-left:32%;\">show memory statistics</p>\n\n<p style=\"margin-left:22%;\"><b>9 (512)</b></p>\n\n<p style=\"margin-left:32%;\">write hashed data to files\nnamed <b>dbgmd-000*</b></p>\n\n<p style=\"margin-left:22%;\"><b>10 (1024)</b></p>\n\n<p style=\"margin-left:32%;\">trace Assuan protocol</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note, that all\nflags set using this option may get overridden by\n<b>--debug-level</b>. <b><br>\n--debug-all</b></p>\n\n<p style=\"margin-left:22%;\">Same as\n<b>--debug=0xffffffff</b></p>\n\n\n<p style=\"margin-left:11%;\"><b>--debug-allow-core-dump</b></p>\n\n<p style=\"margin-left:22%;\">Usually <b>gpgsm</b> tries to\navoid dumping core by well written code and by disabling\ncore dumps for security reasons. However, bugs are pretty\ndurable beasts and to squash them it is sometimes useful to\nhave a core dump. This option enables core dumps unless the\nBad Thing happened before the option parsing.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--debug-no-chain-validation</b></p>\n\n<p style=\"margin-left:22%;\">This is actually not a\ndebugging option but only useful as such. It lets\n<b>gpgsm</b> bypass all certificate chain validation\nchecks.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--debug-ignore-expiration</b></p>\n\n<p style=\"margin-left:22%;\">This is actually not a\ndebugging option but only useful as such. It lets\n<b>gpgsm</b> ignore all notAfter dates, this is used by the\nregression tests.</p>\n\n<p style=\"margin-left:11%;\"><b>--passphrase-fd n</b></p>\n\n<p style=\"margin-left:22%;\">Read the passphrase from file\ndescriptor <b>n</b>. Only the first line will be read from\nfile descriptor <b>n</b>. If you use 0 for <b>n</b>, the\npassphrase will be read from STDIN. This can only be used if\nonly one passphrase is supplied.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Note that this\npassphrase is only used if the option <b>--batch</b> has\nalso been given.</p>\n\n<p style=\"margin-left:11%;\"><b>--pinentry-mode mode</b></p>\n\n<p style=\"margin-left:22%;\">Set the pinentry mode to\n<b>mode</b>. Allowed values for <b>mode</b> are: <b><br>\ndefault</b></p>\n\n<p style=\"margin-left:32%;\">Use the default of the agent,\nwhich is <b>ask</b>.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"9%\">\n\n\n<p><b>ask</b></p></td>\n<td width=\"1%\"></td>\n<td width=\"65%\">\n\n\n<p>Force the use of the Pinentry.</p></td>\n<td width=\"3%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"9%\">\n\n\n<p><b>cancel</b></p></td>\n<td width=\"1%\"></td>\n<td width=\"65%\">\n\n\n<p>Emulate use of Pinentry&rsquo;s cancel button.</p></td>\n<td width=\"3%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"9%\">\n\n\n<p><b>error</b></p></td>\n<td width=\"1%\"></td>\n<td width=\"65%\">\n\n\n<p>Return a Pinentry error (&rsquo;&rsquo;No\nPinentry&rsquo;&rsquo;).</p> </td>\n<td width=\"3%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:22%;\"><b>loopback</b></p>\n\n<p style=\"margin-left:32%;\">Redirect Pinentry queries to\nthe caller. Note that in contrast to Pinentry the user is\nnot prompted again if he enters a bad password.</p>\n\n<p style=\"margin-left:11%;\"><b>--request-origin</b>\n<i>origin</i></p>\n\n<p style=\"margin-left:22%;\">Tell gpgsm to assume that the\noperation ultimately originated at <i>origin</i>. Depending\non the origin certain restrictions are applied and the\nPinentry may include an extra note on the origin. Supported\nvalues for <i>origin</i> are: <b>local</b> which is the\ndefault, <b>remote</b> to indicate a remote origin or\n<b>browser</b> for an operation requested by a web\nbrowser.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--no-common-certs-import</b></p>\n\n<p style=\"margin-left:22%;\">Suppress the import of common\ncertificates on keybox creation.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">All the long\noptions may also be given in the configuration file after\nstripping off the two leading dashes.</p>\n\n<h2>HOW TO SPECIFY A USER ID\n<a name=\"HOW TO SPECIFY A USER ID\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">There are\ndifferent ways to specify a user ID to GnuPG. Some of them\nare only valid for <b>gpg</b> others are only good for\n<b>gpgsm</b>. Here is the entire list of ways to specify a\nkey: <b><br>\nBy key Id.</b></p>\n\n<p style=\"margin-left:22%;\">This format is deduced from the\nlength of the string and its content or <b>0x</b> prefix.\nThe key Id of an X.509 certificate are the low 64 bits of\nits SHA-1 fingerprint. The use of key Ids is just a\nshortcut, for all automated processing the fingerprint\nshould be used.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">When using\n<b>gpg</b> an exclamation mark (!) may be appended to force\nusing the specified primary or secondary key and not to try\nand calculate which primary or secondary key to use.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">The last four\nlines of the example give the key ID in their long form as\ninternally used by the OpenPGP protocol. You can see the\nlong key ID using the option <b>--with-colons</b>.</p>\n\n<p style=\"margin-left:14%; margin-top: 1em\">234567C4 <br>\n0F34E556E <br>\n01347A56A <br>\n0xAB123456</p>\n\n\n<p style=\"margin-left:14%; margin-top: 1em\">234AABBCC34567C4\n<br>\n0F323456784E56EAB <br>\n01AB3FED1347A5612 <br>\n0x234AABBCC34567C4</p>\n\n<p style=\"margin-left:11%;\"><b>By fingerprint.</b></p>\n\n<p style=\"margin-left:22%;\">This format is deduced from the\nlength of the string and its content or the <b>0x</b>\nprefix. Note, that only the 20 byte version fingerprint is\navailable with <b>gpgsm</b> (i.e. the SHA-1 hash of the\ncertificate).</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">When using\n<b>gpg</b> an exclamation mark (!) may be appended to force\nusing the specified primary or secondary key and not to try\nand calculate which primary or secondary key to use.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">The best way to\nspecify a key Id is by using the fingerprint. This avoids\nany ambiguities in case that there are duplicated key\nIDs.</p>\n\n\n<p style=\"margin-left:14%; margin-top: 1em\">1234343434343434C434343434343434\n<br>\n123434343434343C3434343434343734349A3434 <br>\n0E12343434343434343434EAB3484343434343434 <br>\n0xE12343434343434343434EAB3484343434343434</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>gpgsm</b>\nalso accepts colons between each pair of hexadecimal digits\nbecause this is the de-facto standard on how to present\nX.509 fingerprints. <b>gpg</b> also allows the use of the\nspace separated SHA-1 fingerprint as printed by the key\nlisting commands. <b><br>\nBy exact match on OpenPGP user ID.</b></p>\n\n<p style=\"margin-left:22%;\">This is denoted by a leading\nequal sign. It does not make sense for X.509\ncertificates.</p>\n\n<p style=\"margin-left:14%; margin-top: 1em\">=Heinrich Heine\n&lt;heinrichh@uni-duesseldorf.de&gt;</p>\n\n<p style=\"margin-left:11%;\"><b>By exact match on an email\naddress.</b></p>\n\n<p style=\"margin-left:22%;\">This is indicated by enclosing\nthe email address in the usual way with left and right\nangles.</p>\n\n\n<p style=\"margin-left:14%; margin-top: 1em\">&lt;heinrichh@uni-duesseldorf.de&gt;</p>\n\n<p style=\"margin-left:11%;\"><b>By partial match on an email\naddress.</b></p>\n\n<p style=\"margin-left:22%;\">This is indicated by prefixing\nthe search string with an <b>@</b>. This uses a substring\nsearch but considers only the mail address (i.e. inside the\nangle brackets).</p>\n\n<p style=\"margin-left:14%; margin-top: 1em\">@heinrichh</p>\n\n<p style=\"margin-left:11%;\"><b>By exact match on the\nsubject&rsquo;s DN.</b></p>\n\n<p style=\"margin-left:22%;\">This is indicated by a leading\nslash, directly followed by the RFC-2253 encoded DN of the\nsubject. Note that you can&rsquo;t use the string printed by\n<b>gpgsm --list-keys</b> because that one has been reordered\nand modified for better readability; use\n<b>--with-colons</b> to print the raw (but standard escaped)\nRFC-2253 string.</p>\n\n<p style=\"margin-left:14%; margin-top: 1em\">/CN=Heinrich\nHeine,O=Poets,L=Paris,C=FR</p>\n\n<p style=\"margin-left:11%;\"><b>By exact match on the\nissuer&rsquo;s DN.</b></p>\n\n<p style=\"margin-left:22%;\">This is indicated by a leading\nhash mark, directly followed by a slash and then directly\nfollowed by the RFC-2253 encoded DN of the issuer. This\nshould return the Root cert of the issuer. See note\nabove.</p>\n\n<p style=\"margin-left:14%; margin-top: 1em\">#/CN=Root\nCert,O=Poets,L=Paris,C=FR</p>\n\n<p style=\"margin-left:11%;\"><b>By exact match on serial\nnumber and issuer&rsquo;s DN.</b></p>\n\n<p style=\"margin-left:22%;\">This is indicated by a hash\nmark, followed by the hexadecimal representation of the\nserial number, then followed by a slash and the RFC-2253\nencoded DN of the issuer. See note above.</p>\n\n<p style=\"margin-left:14%; margin-top: 1em\">#4F03/CN=Root\nCert,O=Poets,L=Paris,C=FR</p>\n\n<p style=\"margin-left:11%;\"><b>By keygrip.</b></p>\n\n<p style=\"margin-left:22%;\">This is indicated by an\nampersand followed by the 40 hex digits of a keygrip.\n<b>gpgsm</b> prints the keygrip when using the command\n<b>--dump-cert</b>.</p>\n\n\n<p style=\"margin-left:14%; margin-top: 1em\">&amp;D75F22C3F86E355877348498CDC92BD21010A480</p>\n\n<p style=\"margin-left:11%;\"><b>By substring match.</b></p>\n\n<p style=\"margin-left:22%;\">This is the default mode but\napplications may want to explicitly indicate this by putting\nthe asterisk in front. Match is not case sensitive.</p>\n\n<p style=\"margin-left:14%; margin-top: 1em\">Heine <br>\n*Heine</p>\n\n<p style=\"margin-left:11%;\"><b>. and + prefixes</b></p>\n\n<p style=\"margin-left:22%;\">These prefixes are reserved for\nlooking up mails anchored at the end and for a word search\nmode. They are not yet implemented and using them is\nundefined.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Please note\nthat we have reused the hash mark identifier which was used\nin old GnuPG versions to indicate the so called local-id. It\nis not anymore used and there should be no conflict when\nused with X.509 stuff.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Using the\nRFC-2253 format of DNs has the drawback that it is not\npossible to map them back to the original encoding, however\nwe don&rsquo;t have to do this because our key database\nstores this encoding as meta data.</p>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n<p style=\"margin-left:14%; margin-top: 1em\">$ gpgsm -er\ngoo@bar.net &lt;plaintext &gt;ciphertext</p>\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">There are a few\nconfiguration files to control certain aspects of\n<b>gpgsm</b>&rsquo;s operation. Unless noted, they are\nexpected in the current home directory (see: [option\n--homedir]). <b><br>\ngpgsm.conf</b></p>\n\n<p style=\"margin-left:22%;\">This is the standard\nconfiguration file read by <b>gpgsm</b> on startup. It may\ncontain any valid long option; the leading two dashes may\nnot be entered and the option may not be abbreviated. This\ndefault name may be changed on the command line (see:\n[gpgsm-option --options]). You should backup this file.</p>\n\n<p style=\"margin-left:11%;\"><b>policies.txt</b></p>\n\n<p style=\"margin-left:22%;\">This is a list of allowed CA\npolicies. This file should list the object identifiers of\nthe policies line by line. Empty lines and lines starting\nwith a hash mark are ignored. Policies missing in this file\nand not marked as critical in the certificate will print\nonly a warning; certificates with policies marked as\ncritical and not listed in this file will fail the signature\nverification. You should backup this file.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">For example, to\nallow only the policy 2.289.9.9, the file should look like\nthis:</p>\n\n<p style=\"margin-left:25%; margin-top: 1em\"># Allowed\npolicies <br>\n2.289.9.9</p>\n\n<p style=\"margin-left:11%;\"><b>qualified.txt</b></p>\n\n<p style=\"margin-left:22%;\">This is the list of root\ncertificates used for qualified certificates. They are\ndefined as certificates capable of creating legally binding\nsignatures in the same way as handwritten signatures are.\nComments start with a hash mark and empty lines are ignored.\nLines do have a length limit but this is not a serious\nlimitation as the format of the entries is fixed and checked\nby <b>gpgsm</b>: A non-comment line starts with optional\nwhitespace, followed by exactly 40 hex characters, white\nspace and a lowercased 2 letter country code. Additional\ndata delimited with by a white space is current ignored but\nmight late be used for other purposes.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Note that even\nif a certificate is listed in this file, this does not mean\nthat the certificate is trusted; in general the certificates\nlisted in this file need to be listed also in\n&rsquo;<i>trustlist.txt</i>&rsquo;.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This is a\nglobal file an installed in the data directory (e.g.\n&rsquo;<i>/usr/share/gnupg/qualified.txt</i>&rsquo;). GnuPG\ninstalls a suitable file with root certificates as used in\nGermany. As new Root-CA certificates may be issued over\ntime, these entries may need to be updated; new\ndistributions of this software should come with an updated\nlist but it is still the responsibility of the Administrator\nto check that this list is correct.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Every time\n<b>gpgsm</b> uses a certificate for signing or verification\nthis file will be consulted to check whether the certificate\nunder question has ultimately been issued by one of these\nCAs. If this is the case the user will be informed that the\nverified signature represents a legally binding\n(&rsquo;&rsquo;qualified&rsquo;&rsquo;) signature. When\ncreating a signature using such a certificate an extra\nprompt will be issued to let the user confirm that such a\nlegally binding signature shall really be created.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Because this\nsoftware has not yet been approved for use with such\ncertificates, appropriate notices will be shown to indicate\nthis fact.</p>\n\n<p style=\"margin-left:11%;\"><b>help.txt</b></p>\n\n<p style=\"margin-left:22%;\">This is plain text file with a\nfew help entries used with <b>pinentry</b> as well as a\nlarge list of help items for <b>gpg</b> and <b>gpgsm</b>.\nThe standard file has English help texts; to install\nlocalized versions use filenames like\n&rsquo;<i>help.LL.txt</i>&rsquo; with LL denoting the\nlocale. GnuPG comes with a set of predefined help files in\nthe data directory (e.g.\n&rsquo;<i>/usr/share/gnupg/gnupg/help.de.txt</i>&rsquo;) and\nallows overriding of any help item by help files stored in\nthe system configuration directory (e.g.\n&rsquo;<i>/etc/gnupg/help.de.txt</i>&rsquo;). For a\nreference of the help file&rsquo;s syntax, please see the\ninstalled &rsquo;<i>help.txt</i>&rsquo; file.</p>\n\n<p style=\"margin-left:11%;\"><b>com-certs.pem</b></p>\n\n<p style=\"margin-left:22%;\">This file is a collection of\ncommon certificates used to populated a newly created\n&rsquo;<i>pubring.kbx</i>&rsquo;. An administrator may\nreplace this file with a custom one. The format is a\nconcatenation of PEM encoded X.509 certificates. This global\nfile is installed in the data directory (e.g.\n&rsquo;<i>/usr/share/gnupg/com-certs.pem</i>&rsquo;).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that on\nlarger installations, it is useful to put predefined files\ninto the directory &rsquo;<i>/etc/skel/.gnupg/</i>&rsquo; so\nthat newly created users start up with a working\nconfiguration. For existing users a small helper script is\nprovided to create these files (see: [addgnupghome]).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For internal\npurposes <b>gpgsm</b> creates and maintains a few other\nfiles; they all live in the current home directory (see:\n[option --homedir]). Only <b>gpgsm</b> may modify these\nfiles. <b><br>\npubring.kbx</b></p>\n\n<p style=\"margin-left:22%;\">This a database file storing\nthe certificates as well as meta information. For debugging\npurposes the tool <b>kbxutil</b> may be used to show the\ninternal structure of this file. You should backup this\nfile.</p>\n\n<p style=\"margin-left:11%;\"><b>random_seed</b></p>\n\n<p style=\"margin-left:22%;\">This content of this file is\nused to maintain the internal state of the random number\ngenerator across invocations. The same file is used by other\nprograms of this software too.</p>\n\n<p style=\"margin-left:11%;\"><b>S.gpg-agent</b></p>\n\n<p style=\"margin-left:22%;\">If this file exists\n<b>gpgsm</b> will first try to connect to this socket for\naccessing <b>gpg-agent</b> before starting a new\n<b>gpg-agent</b> instance. Under Windows this socket (which\nin reality be a plain file describing a regular TCP\nlistening port) is the standard way of connecting the\n<b>gpg-agent</b>.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/gpg2\">gpg2(1)</a>,\n<a href=\"https://man.page/1/gpg-agent\">gpg-agent(1)</a></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The full\ndocumentation for this tool is maintained as a Texinfo\nmanual. If GnuPG and the info program are properly installed\nat your site, the command</p>\n\n<p style=\"margin-left:14%; margin-top: 1em\">info gnupg</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">should give you\naccess to the complete manual including a menu structure and\nan index.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#COMMANDS\">COMMANDS</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#HOW TO SPECIFY A USER ID\">HOW TO SPECIFY A USER ID</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>","<a href=\"#FILES\">FILES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"]}