{"name":"delv","description":"delv - DNS\nlookup and validation utility","body":"\n\n<h1 align=\"center\">DELV</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">delv - DNS\nlookup and validation utility</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>delv</b>\n[@server] [ [<b>-4</b>] | [<b>-6</b>] ] [<b>-a</b>\nanchor-file] [<b>-b</b> address] [<b>-c</b> class]\n[<b>-d</b> level] [<b>-i</b>] [<b>-m</b>] [<b>-p</b> port#]\n[<b>-q</b> name] [<b>-t</b> type] [<b>-x</b> addr] [name]\n[type] [class] [queryopt...]</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>delv</b>\n[<b>-h</b>]</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>delv</b>\n[<b>-v</b>]</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>delv</b>\n[queryopt...] [query...]</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>delv</b> is\na tool for sending DNS queries and validating the results,\nusing the same internal resolver and validator logic as\n<b>named</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>delv</b>\nsends to a specified name server all queries needed to fetch\nand validate the requested data; this includes the original\nrequested query, subsequent queries to follow CNAME or DNAME\nchains, queries for DNSKEY, and DS records to establish a\nchain of trust for DNSSEC validation. It does not perform\niterative resolution, but simulates the behavior of a name\nserver configured for DNSSEC validating and forwarding.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">By default,\nresponses are validated using the built-in DNSSEC trust\nanchor for the root zone (&quot;.&quot;). Records returned\nby <b>delv</b> are either fully validated or were not\nsigned. If validation fails, an explanation of the failure\nis included in the output; the validation process can be\ntraced in detail. Because <b>delv</b> does not rely on an\nexternal server to carry out validation, it can be used to\ncheck the validity of DNS responses in environments where\nlocal name servers may not be trustworthy.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Unless it is\ntold to query a specific name server, <b>delv</b> tries each\nof the servers listed in <b>/etc/resolv.conf</b>. If no\nusable server addresses are found, <b>delv</b> sends queries\nto the localhost addresses (127.0.0.1 for IPv4, ::1 for\nIPv6).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">When no\ncommand-line arguments or options are given, <b>delv</b>\nperforms an NS query for &quot;.&quot; (the root zone).</p>\n\n<h2>SIMPLE USAGE\n<a name=\"SIMPLE USAGE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">A typical\ninvocation of <b>delv</b> looks like:</p>\n\n<pre style=\"margin-left:15%; margin-top: 1em\">delv @server name type</pre>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">where:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>server</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>is the name or IP address of the name server to query.\nThis can be an IPv4 address in dotted-decimal notation or an\nIPv6 address in colon-delimited notation. When the supplied\n<b>server</b> argument is a hostname, <b>delv</b> resolves\nthat name before querying that name server (note, however,\nthat this initial lookup is <i>not</i> validated by\nDNSSEC).</p> </td></tr>\n</table>\n\n<p style=\"margin-left:22%; margin-top: 1em\">If no\n<b>server</b> argument is provided, <b>delv</b> consults\n<b>/etc/resolv.conf</b>; if an address is found there, it\nqueries the name server at that address. If either of the\n<b>-4</b> or <b>-6</b> options is in use, then only\naddresses for the corresponding transport are tried. If no\nusable addresses are found, <b>delv</b> sends queries to the\nlocalhost addresses (127.0.0.1 for IPv4, ::1 for IPv6).</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"6%\">\n\n\n<p style=\"margin-top: 1em\"><b>name</b></p></td>\n<td width=\"5%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">is the domain name to be looked\nup.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"6%\">\n\n\n<p><b>type</b></p></td>\n<td width=\"5%\"></td>\n<td width=\"78%\">\n\n\n<p>indicates what type of query is required - ANY, A, MX,\netc. <b>type</b> can be any valid query type. If no\n<b>type</b> argument is supplied, <b>delv</b> performs a\nlookup for an A record.</p></td></tr>\n</table>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-a\nanchor-file</b></p>\n\n<p style=\"margin-left:22%;\">This option specifies a file\nfrom which to read DNSSEC trust anchors. The default is\n<b>/etc/bind/bind.keys</b>, which is included with BIND 9\nand contains one or more trust anchors for the root zone\n(&quot;.&quot;).</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Keys that do\nnot match the root zone name are ignored. An alternate key\nname can be specified using the <b>+root=NAME</b>\noptions.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Note: When\nreading the trust anchor file, <b>delv</b> treats\n<b>trust-anchors</b>, <b>initial-key</b>, and\n<b>static-key</b> identically. That is, for a managed key,\nit is the <i>initial</i> key that is trusted; <i>RFC\n5011</i> key management is not supported. <b>delv</b> does\nnot consult the managed-keys database maintained by\n<b>named</b>, which means that if either of the keys in\n<b>/etc/bind/bind.keys</b> is revoked and rolled over,\n<b>/etc/bind/bind.keys</b> must be updated to use DNSSEC\nvalidation in <b>delv</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>-b address</b></p>\n\n<p style=\"margin-left:22%;\">This option sets the source IP\naddress of the query to <b>address</b>. This must be a valid\naddress on one of the host's network interfaces, or\n<b>0.0.0.0</b>, or <b>::</b>. An optional source port may be\nspecified by appending <b>#&lt;port&gt;</b></p>\n\n<p style=\"margin-left:11%;\"><b>-c class</b></p>\n\n<p style=\"margin-left:22%;\">This option sets the query\nclass for the requested data. Currently, only class\n&quot;IN&quot; is supported in <b>delv</b> and any other\nvalue is ignored.</p>\n\n<p style=\"margin-left:11%;\"><b>-d level</b></p>\n\n<p style=\"margin-left:22%;\">This option sets the systemwide\ndebug level to <b>level</b>. The allowed range is from 0 to\n99. The default is 0 (no debugging). Debugging traces from\n<b>delv</b> become more verbose as the debug level\nincreases. See the <b>+mtrace</b>, <b>+rtrace</b>, and\n<b>+vtrace</b> options below for additional debugging\ndetails.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-h</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p>This option displays the <b>delv</b> help usage output\nand exits.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-i</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p>This option sets insecure mode, which disables internal\nDNSSEC validation. (Note, however, that this does not set\nthe CD bit on upstream queries. If the server being queried\nis performing DNSSEC validation, then it does not return\ninvalid data; this can cause <b>delv</b> to time out. When\nit is necessary to examine invalid data to debug a DNSSEC\nproblem, use <b>dig +cd</b>.)</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-m</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p>This option enables memory usage debugging.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>-p port#</b></p>\n\n<p style=\"margin-left:22%;\">This option specifies a\ndestination port to use for queries, instead of the standard\nDNS port number 53. This option is used with a name server\nthat has been configured to listen for queries on a\nnon-standard port number.</p>\n\n<p style=\"margin-left:11%;\"><b>-q name</b></p>\n\n<p style=\"margin-left:22%;\">This option sets the query name\nto <b>name</b>. While the query name can be specified\nwithout using the <b>-q</b> option, it is sometimes\nnecessary to disambiguate names from types or classes (for\nexample, when looking up the name &quot;ns&quot;, which\ncould be misinterpreted as the type NS, or &quot;ch&quot;,\nwhich could be misinterpreted as class CH).</p>\n\n<p style=\"margin-left:11%;\"><b>-t type</b></p>\n\n<p style=\"margin-left:22%;\">This option sets the query type\nto <b>type</b>, which can be any valid query type supported\nin BIND 9 except for zone transfer types AXFR and IXFR. As\nwith <b>-q</b>, this is useful to distinguish query-name\ntypes or classes when they are ambiguous. It is sometimes\nnecessary to disambiguate names from types.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">The default\nquery type is &quot;A&quot;, unless the <b>-x</b> option is\nsupplied to indicate a reverse lookup, in which case it is\n&quot;PTR&quot;.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-v</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"70%\">\n\n\n<p>This option prints the <b>delv</b> version and\nexits.</p> </td>\n<td width=\"8%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>-x addr</b></p>\n\n<p style=\"margin-left:22%;\">This option performs a reverse\nlookup, mapping an address to a name. <b>addr</b> is an IPv4\naddress in dotted-decimal notation, or a colon-delimited\nIPv6 address. When <b>-x</b> is used, there is no need to\nprovide the <b>name</b> or <b>type</b> arguments;\n<b>delv</b> automatically performs a lookup for a name like\n<b>11.12.13.10.in-addr.arpa</b> and sets the query type to\nPTR. IPv6 addresses are looked up using nibble format under\nthe IP6.ARPA domain.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-4</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"63%\">\n\n\n<p>This option forces <b>delv</b> to only use IPv4.</p></td>\n<td width=\"15%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-6</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"63%\">\n\n\n<p>This option forces <b>delv</b> to only use IPv6.</p></td>\n<td width=\"15%\">\n</td></tr>\n</table>\n\n<h2>QUERY OPTIONS\n<a name=\"QUERY OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>delv</b>\nprovides a number of query options which affect the way\nresults are displayed, and in some cases the way lookups are\nperformed.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Each query\noption is identified by a keyword preceded by a plus sign\n(<b>+</b>). Some keywords set or reset an option. These may\nbe preceded by the string <b>no</b> to negate the meaning of\nthat keyword. Other keywords assign values to options like\nthe timeout interval. They have the form\n<b>+keyword=value</b>. The query options are: <b><br>\n+[no]cdflag</b></p>\n\n<p style=\"margin-left:22%;\">This option controls whether to\nset the CD (checking disabled) bit in queries sent by\n<b>delv</b>. This may be useful when troubleshooting DNSSEC\nproblems from behind a validating resolver. A validating\nresolver blocks invalid responses, making it difficult to\nretrieve them for analysis. Setting the CD flag on queries\ncauses the resolver to return invalid responses, which\n<b>delv</b> can then validate internally and report the\nerrors in detail.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]class</b></p>\n\n<p style=\"margin-left:22%;\">This option controls whether to\ndisplay the CLASS when printing a record. The default is to\ndisplay the CLASS.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]ttl</b></p>\n\n<p style=\"margin-left:22%;\">This option controls whether to\ndisplay the TTL when printing a record. The default is to\ndisplay the TTL.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]rtrace</b></p>\n\n<p style=\"margin-left:22%;\">This option toggles resolver\nfetch logging. This reports the name and type of each query\nsent by <b>delv</b> in the process of carrying out the\nresolution and validation process, including the original\nquery and all subsequent queries to follow CNAMEs and to\nestablish a chain of trust for DNSSEC validation.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This is\nequivalent to setting the debug level to 1 in the\n&quot;resolver&quot; logging category. Setting the\nsystemwide debug level to 1 using the <b>-d</b> option\nproduces the same output, but affects other logging\ncategories as well.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]mtrace</b></p>\n\n<p style=\"margin-left:22%;\">This option toggles message\nlogging. This produces a detailed dump of the responses\nreceived by <b>delv</b> in the process of carrying out the\nresolution and validation process.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This is\nequivalent to setting the debug level to 10 for the\n&quot;packets&quot; module of the &quot;resolver&quot;\nlogging category. Setting the systemwide debug level to 10\nusing the <b>-d</b> option produces the same output, but\naffects other logging categories as well.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]vtrace</b></p>\n\n<p style=\"margin-left:22%;\">This option toggles validation\nlogging. This shows the internal process of the validator as\nit determines whether an answer is validly signed, unsigned,\nor invalid.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This is\nequivalent to setting the debug level to 3 for the\n&quot;validator&quot; module of the &quot;dnssec&quot;\nlogging category. Setting the systemwide debug level to 3\nusing the <b>-d</b> option produces the same output, but\naffects other logging categories as well.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]short</b></p>\n\n<p style=\"margin-left:22%;\">This option toggles between\nverbose and terse answers. The default is to print the\nanswer in a verbose form.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]comments</b></p>\n\n<p style=\"margin-left:22%;\">This option toggles the display\nof comment lines in the output. The default is to print\ncomments.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]rrcomments</b></p>\n\n<p style=\"margin-left:22%;\">This option toggles the display\nof per-record comments in the output (for example,\nhuman-readable key information about DNSKEY records). The\ndefault is to print per-record comments.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]crypto</b></p>\n\n<p style=\"margin-left:22%;\">This option toggles the display\nof cryptographic fields in DNSSEC records. The contents of\nthese fields are unnecessary to debug most DNSSEC validation\nfailures and removing them makes it easier to see the common\nfailures. The default is to display the fields. When\nomitted, they are replaced by the string <b>[omitted]</b>\nor, in the DNSKEY case, the key ID is displayed as the\nreplacement, e.g. <b>[ key id = value ]</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]trust</b></p>\n\n<p style=\"margin-left:22%;\">This option controls whether to\ndisplay the trust level when printing a record. The default\nis to display the trust level.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]split[=W]</b></p>\n\n<p style=\"margin-left:22%;\">This option splits long hex- or\nbase64-formatted fields in resource records into chunks of\n<b>W</b> characters (where <b>W</b> is rounded up to the\nnearest multiple of 4). <b>+nosplit</b> or <b>+split=0</b>\ncauses fields not to be split at all. The default is 56\ncharacters, or 44 characters when multiline mode is\nactive.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]all</b></p>\n\n<p style=\"margin-left:22%;\">This option sets or clears the\ndisplay options <b>+[no]comments</b>,\n<b>+[no]rrcomments</b>, and <b>+[no]trust</b> as a\ngroup.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]multiline</b></p>\n\n<p style=\"margin-left:22%;\">This option prints long records\n(such as RRSIG, DNSKEY, and SOA records) in a verbose\nmulti-line format with human-readable comments. The default\nis to print each record on a single line, to facilitate\nmachine parsing of the <b>delv</b> output.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]dnssec</b></p>\n\n<p style=\"margin-left:22%;\">This option indicates whether\nto display RRSIG records in the <b>delv</b> output. The\ndefault is to do so. Note that (unlike in <b>dig</b>) this\ndoes <i>not</i> control whether to request DNSSEC records or\nto validate them. DNSSEC records are always requested, and\nvalidation always occurs unless suppressed by the use of\n<b>-i</b> or <b>+noroot</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]root[=ROOT]</b></p>\n\n<p style=\"margin-left:22%;\">This option indicates whether\nto perform conventional DNSSEC validation, and if so,\nspecifies the name of a trust anchor. The default is to\nvalidate using a trust anchor of &quot;.&quot; (the root\nzone), for which there is a built-in key. If specifying a\ndifferent trust anchor, then <b>-a</b> must be used to\nspecify a file containing the key.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]tcp</b></p>\n\n<p style=\"margin-left:22%;\">This option controls whether to\nuse TCP when sending queries. The default is to use UDP\nunless a truncated response has been received.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]unknownformat</b></p>\n\n<p style=\"margin-left:22%;\">This option prints all RDATA in\nunknown RR-type presentation format (<i>RFC 3597</i>). The\ndefault is to print RDATA for known types in the type's\npresentation format.</p>\n\n<p style=\"margin-left:11%;\"><b>+[no]yaml</b></p>\n\n<p style=\"margin-left:22%;\">This option prints response\ndata in YAML format.</p>\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>/etc/bind/bind.keys</b></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>/etc/resolv.conf</b></p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>dig(1)</b>,\n<b>named(8)</b>, <i>RFC 4034</i>, <i>RFC 4035</i>, <i>RFC\n4431</i>, <i>RFC 5074</i>, <i>RFC 5155</i>.</p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Internet\nSystems Consortium</p>\n\n<h2>COPYRIGHT\n<a name=\"COPYRIGHT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">2022, Internet\nSystems Consortium</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#SIMPLE USAGE\">SIMPLE USAGE</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#QUERY OPTIONS\">QUERY OPTIONS</a>","<a href=\"#FILES\">FILES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHOR\">AUTHOR</a>","<a href=\"#COPYRIGHT\">COPYRIGHT</a>"]}