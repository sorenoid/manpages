{"name":"migrate-pubring-from-classic-gpg","description":"migrate-pubring-from-classic-gpg - Migrate a public keyring from &quot;classic&quot; to &quot;modern&quot; GnuPG","body":"\n\n<h1 align=\"center\">MIGRATE-PUBRING-FROM-CLASSIC-GPG</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">migrate-pubring-from-classic-gpg\n- Migrate a public keyring from &quot;classic&quot; to\n&quot;modern&quot; GnuPG</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>migrate-pubring-from-classic-gpg</b>\n[ <b>GPGHOMEDIR</b> | <i>--default</i> ]</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>migrate-pubring-from-classic-gpg</b>\nmigrates the public keyring in GnuPG home directory\nGPGHOMEDIR from the &quot;classic&quot; keyring format\n(pubring.gpg) to the &quot;modern&quot; keybox format using\nGnuPG versions 2.1 or 2.2 (pubring.kbx).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Specifying\n<b>--default</b> selects the standard GnuPG home directory\n(looking at $GNUPGHOME first, and falling back to ~/.gnupg\nif unset.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-h</b>,\n<b>--help</b>, <b>--usage</b> Output a short usage\ninformation.</p>\n\n<h2>DIAGNOSTICS\n<a name=\"DIAGNOSTICS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The program\nsends quite a bit of text (perhaps too much) to stderr.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">During a\nmigration, the tool backs up several pieces of data in a\ntimestamped subdirectory of the GPGHOMEDIR.</p>\n\n<h2>LIMITATIONS\n<a name=\"LIMITATIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The keybox\nformat rejects a number of OpenPGP certificates that the\n&quot;classic&quot; keyring format used to accept. These\nfilters are defensive, since the certificates rejected are\nunsafe -- either cryptographically unsound, or dangerously\nnon-performant. This means that some migrations may produce\nwarning messages about the migration being incomplete. This\nis generally a good thing!</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Known\nlimitations:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Flooded\ncertificates</b></p>\n\n<p style=\"margin-left:17%;\">Some OpenPGP certificates have\nbeen flooded with bogus certifications as part of an attack\non the SKS keyserver network (see\nhttps://tools.ietf.org/html/draft-dkg-openpgp-abuse-resistant-keystore-03#section-2.1).</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The keybox\nformat rejects import of any OpenPGP certificate larger than\n5MiB. As of GnuPG 2.2.17, if gpg encounters such a flooded\ncertificate will retry the import while stripping all\nthird-party certifications (see &quot;self-sigs-only&quot;\nin gpg(1)).</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The typical\nerror message when migrating a keyring with a flooded\ncertificate will be something like:</p>\n\n<p style=\"margin-left:23%; margin-top: 1em\">error writing\nkeyring &rsquo;pubring.kbx&rsquo;: Provided object is too\nlarge</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>OpenPGPv3\npublic keys (a.k.a. PGP-2 keys)</b></p>\n\n<p style=\"margin-left:17%;\">Modern OpenPGP implementations\nuse so-called &quot;OpenPGP v4&quot; public keys. Older\nversions of the public key format have serious known\nproblems. See\nhttps://tools.ietf.org/html/rfc4880#section-5.5.2 for more\ndetails about and reasons for v3 key deprecation.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The keybox\nformat skips v3 keys entirely during migration, and GnuPG\nwill produce a message like:</p>\n\n<p style=\"margin-left:23%; margin-top: 1em\">skipped PGP-2\nkeys: 1</p>\n\n<h2>ENVIRONMENT VARIABLES\n<a name=\"ENVIRONMENT VARIABLES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>GNUPGHOME</b>\nSelects the GnuPG home directory when set and --default is\ngiven.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>GPG</b> The\nname of the <b>gpg</b> executable (defaults to <b>gpg</b>\n).</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/gpg\">gpg(1)</a></p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Copyright (C)\n2016 Daniel Kahn Gillmor for the Debian project. Please\nreport bugs via the Debian BTS.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#DIAGNOSTICS\">DIAGNOSTICS</a>","<a href=\"#LIMITATIONS\">LIMITATIONS</a>","<a href=\"#ENVIRONMENT VARIABLES\">ENVIRONMENT VARIABLES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHOR\">AUTHOR</a>"]}