{"name":"systemd-inhibit","description":"systemd-inhibit\n- Execute a program with an inhibition lock taken","body":"\n\n<h1 align=\"center\">SYSTEMD-INHIBIT</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">systemd-inhibit\n- Execute a program with an inhibition lock taken</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"81%\">\n\n\n<p style=\"margin-top: 1em\"><b>systemd-inhibit [OPTIONS...]\n[COMMAND] [ARGUMENTS...]</b></p></td>\n<td width=\"8%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"81%\">\n\n\n<p style=\"margin-top: 1em\"><b>systemd-inhibit [OPTIONS...]\n--list</b></p> </td>\n<td width=\"8%\">\n</td></tr>\n</table>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>systemd-inhibit</b>\nmay be used to execute a program with a shutdown, sleep, or\nidle inhibitor lock taken. The lock will be acquired before\nthe specified command line is executed and released\nafterwards.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Inhibitor locks\nmay be used to block or delay system sleep and shutdown\nrequests from the user, as well as automatic idle handling\nof the OS. This is useful to avoid system suspends while an\noptical disc is being recorded, or similar operations that\nshould not be interrupted.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For more\ninformation see the <b><font color=\"#0000FF\">Inhibitor Lock\nDeveloper Documentation</font></b>\n<small><font color=\"#000000\">[1]</font></small>\n<font color=\"#000000\">.</font></p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">The\nfollowing options are understood:</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--what=</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\ncolon-separated list of one or more operations to inhibit:\n&quot;shutdown&quot;, &quot;sleep&quot;, &quot;idle&quot;,\n&quot;handle-power-key&quot;,\n&quot;handle-suspend-key&quot;,\n&quot;handle-hibernate-key&quot;,\n&quot;handle-lid-switch&quot;, for inhibiting\nreboot/power-off/halt/kexec, suspending/hibernating, the\nautomatic idle detection, or the low-level handling of the\npower/sleep key and the lid switch, respectively. If\nomitted, defaults to\n&quot;idle:sleep:shutdown&quot;.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--who=</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nshort, human-readable descriptive string for the program\ntaking the lock. If not passed, defaults to the command line\nstring.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--why=</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nshort, human-readable descriptive string for the reason for\ntaking the lock. Defaults to &quot;Unknown\nreason&quot;.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--mode=</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes\neither &quot;block&quot; or &quot;delay&quot; and describes\nhow the lock is applied. If &quot;block&quot; is used (the\ndefault), the lock prohibits any of the requested operations\nwithout time limit, and only privileged users may override\nit. If &quot;delay&quot; is used, the lock can only delay\nthe requested operations for a limited time. If the time\nelapses, the lock is ignored and the operation executed. The\ntime limit may be specified in <b>logind.conf</b>(5). Note\nthat &quot;delay&quot; is only available for\n&quot;sleep&quot; and &quot;shutdown&quot;.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--list</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Lists all\nactive inhibition locks instead of acquiring one.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--no-pager</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Do not\npipe output into a pager.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--no-legend</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Do not\nprint the legend, i.e. column headers and the footer with\nhints.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>-h</b>,\n<b>--help</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Print a\nshort help text and exit.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--version</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Print a\nshort version string and exit.</font></p>\n\n<h2>EXIT STATUS\n<a name=\"EXIT STATUS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Returns\nthe exit status of the executed program.</font></p>\n\n<h2>EXAMPLE\n<a name=\"EXAMPLE\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">#\nsystemd-inhibit wodim foobar.iso</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">This\nburns the ISO image foobar.iso on a CD using\n<a href=\"https://man.page/1/wodim\">wodim(1)</a>, and inhibits system sleeping, shutdown and\nidle while doing so.</font></p>\n\n<h2>ENVIRONMENT\n<a name=\"ENVIRONMENT\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>$SYSTEMD_LOG_LEVEL</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">The\nmaximum log level of emitted messages (messages with a\nhigher log level, i.e. less important ones, will be\nsuppressed). Either one of (in order of decreasing\nimportance) <b>emerg</b>, <b>alert</b>, <b>crit</b>,\n<b>err</b>, <b>warning</b>, <b>notice</b>, <b>info</b>,\n<b>debug</b>, or an integer in the range 0...7. See\n<a href=\"https://man.page/3/syslog\">syslog(3)</a> for more information.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>$SYSTEMD_LOG_COLOR</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">A\nboolean. If true, messages written to the tty will be\ncolored according to priority.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\nsetting is only useful when messages are written directly to\nthe terminal, because <a href=\"https://man.page/1/journalctl\">journalctl(1)</a> and other tools\nthat display logs will color messages based on the log level\non their own.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>$SYSTEMD_LOG_TIME</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">A\nboolean. If true, console log messages will be prefixed with\na timestamp.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">This\nsetting is only useful when messages are written directly to\nthe terminal or a file, because <a href=\"https://man.page/1/journalctl\">journalctl(1)</a> and\nother tools that display logs will attach timestamps based\non the entry metadata on their own.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>$SYSTEMD_LOG_LOCATION</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">A\nboolean. If true, messages will be prefixed with a filename\nand line number in the source code where the message\noriginates.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Note\nthat the log location is often attached as metadata to\njournal entries anyway. Including it directly in the message\ntext can nevertheless be convenient when debugging\nprograms.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>$SYSTEMD_LOG_TID</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">A\nboolean. If true, messages will be prefixed with the current\nnumerical thread ID (TID).</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Note\nthat the this information is attached as metadata to journal\nentries anyway. Including it directly in the message text\ncan nevertheless be convenient when debugging\nprograms.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>$SYSTEMD_LOG_TARGET</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">The\ndestination for log messages. One of <b>console</b> (log to\nthe attached tty), <b>console-prefixed</b> (log to the\nattached tty but with prefixes encoding the log level and\n&quot;facility&quot;, see <a href=\"https://man.page/3/syslog\">syslog(3)</a>, <b>kmsg</b> (log\nto the kernel circular log buffer), <b>journal</b> (log to\nthe journal), <b>journal-or-kmsg</b> (log to the journal if\navailable, and to kmsg otherwise), <b>auto</b> (determine\nthe appropriate log target automatically, the default),\n<b>null</b> (disable log output).</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>$SYSTEMD_PAGER</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Pager to\nuse when <b>--no-pager</b> is not given; overrides\n<i>$PAGER</i>. If neither <i>$SYSTEMD_PAGER</i> nor\n<i>$PAGER</i> are set, a set of well-known pager\nimplementations are tried in turn, including <a href=\"https://man.page/1/less\">less(1)</a>\nand <a href=\"https://man.page/1/more\">more(1)</a>, until one is found. If no pager\nimplementation is discovered no pager is invoked. Setting\nthis environment variable to an empty string or the value\n&quot;cat&quot; is equivalent to passing\n<b>--no-pager</b>.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>$SYSTEMD_LESS</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Override\nthe options passed to <b>less</b> (by default\n&quot;FRSXMK&quot;).</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Users\nmight want to change two options in particular:</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\"><b>K</b></font></p>\n\n<p style=\"margin-left:23%;\"><font color=\"#000000\">This\noption instructs the pager to exit immediately when Ctrl+C\nis pressed. To allow <b>less</b> to handle Ctrl+C itself to\nswitch back to the pager command prompt, unset this\noption.</font></p>\n\n\n<p style=\"margin-left:23%; margin-top: 1em\"><font color=\"#000000\">If\nthe value of <i>$SYSTEMD_LESS</i> does not include\n&quot;K&quot;, and the pager that is invoked is <b>less</b>,\nCtrl+C will be ignored by the executable, and needs to be\nhandled by the pager.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\"><b>X</b></font></p>\n\n<p style=\"margin-left:23%;\"><font color=\"#000000\">This\noption instructs the pager to not send termcap\ninitialization and deinitialization strings to the terminal.\nIt is set by default to allow command output to remain\nvisible in the terminal even after the pager exits.\nNevertheless, this prevents some pager functionality from\nworking, in particular paged output cannot be scrolled with\nthe mouse.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">See\n<a href=\"https://man.page/1/less\">less(1)</a> for more discussion.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>$SYSTEMD_LESSCHARSET</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Override\nthe charset passed to <b>less</b> (by default\n&quot;utf-8&quot;, if the invoking terminal is determined to\nbe UTF-8 compatible).</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>$SYSTEMD_PAGERSECURE</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nboolean argument. When true, the &quot;secure&quot; mode of\nthe pager is enabled; if false, disabled. If\n<i>$SYSTEMD_PAGERSECURE</i> is not set at all, secure mode\nis enabled if the effective UID is not the same as the owner\nof the login session, see <a href=\"https://man.page/2/geteuid\">geteuid(2)</a> and\n<a href=\"https://man.page/3/sd_pid_get_owner_uid\">sd_pid_get_owner_uid(3)</a>. In secure mode,\n<b>LESSSECURE=1</b> will be set when invoking the pager, and\nthe pager shall disable commands that open or create new\nfiles or start new subprocesses. When\n<i>$SYSTEMD_PAGERSECURE</i> is not set at all, pagers which\nare not known to implement secure mode will not be used.\n(Currently only <a href=\"https://man.page/1/less\">less(1)</a> implements secure\nmode.)</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Note:\nwhen commands are invoked with elevated privileges, for\nexample under <b>sudo</b>(8) or <a href=\"https://man.page/1/pkexec\">pkexec(1)</a>, care must\nbe taken to ensure that unintended interactive features are\nnot enabled. &quot;Secure&quot; mode for the pager may be\nenabled automatically as describe above. Setting\n<i>SYSTEMD_PAGERSECURE=0</i> or not removing it from the\ninherited environment allows the user to invoke arbitrary\ncommands. Note that if the <i>$SYSTEMD_PAGER</i> or\n<i>$PAGER</i> variables are to be honoured,\n<i>$SYSTEMD_PAGERSECURE</i> must be set too. It might be\nreasonable to completely disable the pager using\n<b>--no-pager</b> instead.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>$SYSTEMD_COLORS</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nboolean argument. When true, <b>systemd</b> and related\nutilities will use colors in their output, otherwise the\noutput will be monochrome. Additionally, the variable can\ntake one of the following special values: &quot;16&quot;,\n&quot;256&quot; to restrict the use of colors to the base 16\nor 256 ANSI colors, respectively. This can be specified to\noverride the automatic decision based on <i>$TERM</i> and\nwhat the console is connected to.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><i>$SYSTEMD_URLIFY</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">The value\nmust be a boolean. Controls whether clickable links should\nbe generated in the output for terminal emulators supporting\nthis. This can be specified to override the decision that\n<b>systemd</b> makes based on <i>$TERM</i> and other\nconditions.</font></p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><a href=\"https://man.page/1/systemd\">systemd(1)</a>,\n<b>logind.conf</b>(5)</font></p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">1.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"58%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">Inhibitor\nLock Developer Documentation</font></p></td>\n<td width=\"25%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://www.freedesktop.org/wiki/Software/systemd/inhibit</font></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#EXIT STATUS\">EXIT STATUS</a>","<a href=\"#EXAMPLE\">EXAMPLE</a>","<a href=\"#ENVIRONMENT\">ENVIRONMENT</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#NOTES\">NOTES</a>"]}