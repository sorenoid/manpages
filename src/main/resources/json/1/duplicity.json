{"name":"duplicity","body":"\n\n<h1 align=\"center\">DUPLICITY</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">duplicity -\nEncrypted incremental backup to local or remote storage.</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">For detailed\ndescriptions for each command see chapter\n<b>ACTIONS</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>duplicity\n[full|incremental]</b> <i>[options]</i> source_directory\ntarget_url</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>duplicity\nverify</b> <i>[options] [--compare-data] [--file-to-restore\n&lt;relpath&gt;] [--time time]</i> source_url\ntarget_directory</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>duplicity\ncollection-status</b> <i>[options] [--file-changed\n&lt;relpath&gt;]</i> target_url</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>duplicity\nlist-current-files</b> <i>[options] [--time time]</i>\ntarget_url</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>duplicity\n[restore]</b> <i>[options] [--file-to-restore\n&lt;relpath&gt;] [--time time]</i> source_url\ntarget_directory</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>duplicity\nremove-older-than &lt;time&gt;</b> <i>[options]\n[--force]</i> target_url</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>duplicity\nremove-all-but-n-full &lt;count&gt;</b> <i>[options]\n[--force]</i> target_url</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>duplicity\nremove-all-inc-of-but-n-full &lt;count&gt;</b> <i>[options]\n[--force]</i> target_url</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>duplicity\ncleanup</b> <i>[options] [--force]</i> target_url</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>duplicity\nreplicate</b> <i>[options] [--time time]</i> source_url\ntarget_url</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Duplicity\nincrementally backs up files and folders into tar-format\nvolumes encrypted with GnuPG and places them to a remote (or\nlocal) storage backend. See chapter <b>URL FORMAT</b> for a\nlist of all supported backends and how to address them.\nBecause duplicity uses librsync, incremental backups are\nspace efficient and only record the parts of files that have\nchanged since the last backup. Currently duplicity supports\ndeleted files, full Unix permissions, uid/gid, directories,\nsymbolic links, fifos, etc., but not hard links.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If you are\nbacking up the root directory /, remember to --exclude\n/proc, or else duplicity will probably crash on the weird\nstuff in there.</p>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Here is an\nexample of a backup, using sftp to back up /home/me to\nsome_dir on the other.host machine:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity\n/home/me sftp://uid@other.host/some_dir</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the above is\nrun repeatedly, the first will be a full backup, and\nsubsequent ones will be incremental. To force a full backup,\nuse the <i>full</i> action:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity full\n/home/me sftp://uid@other.host/some_dir</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">or enforcing a\nfull every other time via <i>--full-if-older-than\n&lt;time&gt;</i> , e.g. a full every month:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity\n--full-if-older-than 1M /home/me\nsftp://uid@other.host/some_dir</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Now suppose we\naccidentally delete /home/me and want to restore it the way\nit was at the time of last backup:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity\nsftp://uid@other.host/some_dir /home/me</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Duplicity\nenters restore mode because the URL comes before the local\ndirectory. If we wanted to restore just the file\n&quot;Mail/article&quot; in /home/me as it was three days\nago into /home/me/restored_file:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity -t 3D\n--file-to-restore Mail/article\nsftp://uid@other.host/some_dir /home/me/restored_file</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\ncommand compares the latest backup with the current\nfiles:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity\nverify sftp://uid@other.host/some_dir /home/me</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Finally,\nduplicity recognizes several include/exclude options. For\ninstance, the following will backup the root directory, but\nexclude /mnt, /tmp, and /proc:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity\n--exclude /mnt --exclude /tmp --exclude /proc /\nfile:///usr/local/backup</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that in\nthis case the destination is the local directory\n/usr/local/backup. The following will backup only the /home\nand /etc directories under root:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity\n--include /home --include /etc --exclude &rsquo;**&rsquo; /\nfile:///usr/local/backup</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Duplicity can\nalso access a repository via ftp. If a user name is given,\nthe environment variable FTP_PASSWORD is read to determine\nthe password:</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">FTP_PASSWORD=mypassword\nduplicity /local/dir ftp://user@other.host/some_dir</p>\n\n<h2>ACTIONS\n<a name=\"ACTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Duplicity knows\naction commands, which can be finetuned with options. <br>\nThe actions for backup (full,incr) and restoration (restore)\ncan as well be left out as duplicity detects in what mode it\nshould switch to by the order of target URL and local\nfolder. If the target URL comes before the local folder a\nrestore is in order, is the local folder before target URL\nthen this folder is about to be backed up to the target URL.\n<br>\nIf a backup is in order and old signatures can be found\nduplicity automatically performs an incremental backup.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Note:</b>\nThe following explanations explain some but <b>not</b> all\noptions that can be used in connection with that action\ncommand. Consult the OPTIONS section for more detailed\ninformations. <b><br>\nfull</b> <i>&lt;folder&gt; &lt;url&gt;</i></p>\n\n<p style=\"margin-left:22%;\">Perform a full backup. A new\nbackup chain is started even if signatures are available for\nan incremental backup.</p>\n\n<p style=\"margin-left:11%;\"><b>incr</b> <i>&lt;folder&gt;\n&lt;url&gt;</i></p>\n\n<p style=\"margin-left:22%;\">If this is requested an\nincremental backup will be performed. Duplicity will abort\nif no old signatures can be found.</p>\n\n<p style=\"margin-left:11%;\"><b>verify</b>\n<i>[--compare-data] [--time &lt;time&gt;] [--file-to-restore\n&lt;rel_path&gt;] <br>\n&lt;url&gt; &lt;local_path&gt;</i></p>\n\n<p style=\"margin-left:22%;\">Verify tests the integrity of\nthe backup archives at the remote location by downloading\neach file and checking both that it can restore the archive\nand that the restored file matches the signature of that\nfile stored in the backup, i.e. compares the archived file\nwith its hash value from archival time. Verify does not\nactually restore and will not overwrite any local files.\nDuplicity will exit with a non-zero error level if any files\ndo not match the signature stored in the archive for that\nfile. On verbosity level 4 or higher, it will log a message\nfor each file that differs from the stored signature. Files\nmust be downloaded to the local machine in order to compare\nthem. Verify does not compare the backed-up version of the\nfile to the current local copy of the files unless the\n--compare-data option is used (see below). <br>\nThe <i>--file-to-restore</i> option restricts verify to that\nfile or folder. The <i>--time</i> option allows to select a\nbackup to verify. The <i>--compare-data</i> option enables\ndata comparison (see below).</p>\n\n<p style=\"margin-left:11%;\"><b>collection-status</b>\n<i>[--file-changed\n&lt;relpath&gt;]</i><b>&lt;url&gt;</b></p>\n\n<p style=\"margin-left:22%;\">Summarize the status of the\nbackup repository by printing the chains and sets found, and\nthe number of volumes in each.</p>\n\n<p style=\"margin-left:11%;\"><b>list-current-files</b>\n<i>[--time &lt;time&gt;] &lt;url&gt;</i></p>\n\n<p style=\"margin-left:22%;\">Lists the files contained in\nthe most current backup or backup at time. The information\nwill be extracted from the signature files, not the archive\ndata itself. Thus the whole archive does not have to be\ndownloaded, but on the other hand if the archive has been\ndeleted or corrupted, this command will not detect it.</p>\n\n<p style=\"margin-left:11%;\"><b>restore</b>\n<i>[--file-to-restore &lt;relpath&gt;] [--time &lt;time&gt;]\n&lt;url&gt; <br>\n&lt;target_folder&gt;</i></p>\n\n<p style=\"margin-left:22%;\">You can restore the full monty\nor selected folders/files from a specific time. Use the\nrelative path as it is printed by <b>list-current-files</b>.\nUsually not needed as duplicity enters restore mode when it\ndetects that the URL comes before the local folder.</p>\n\n<p style=\"margin-left:11%;\"><b>remove-older-than</b>\n<i>&lt;time&gt; [--force] &lt;url&gt;</i></p>\n\n<p style=\"margin-left:22%;\">Delete all backup sets older\nthan the given time. Old backup sets will not be deleted if\nbackup sets newer than <i>time</i> depend on them. See the\n<b>TIME FORMATS</b> section for more information. Note, this\naction cannot be combined with backup or other actions, such\nas cleanup. Note also that <i>--force</i> will be needed to\ndelete the files instead of just listing them.</p>\n\n<p style=\"margin-left:11%;\"><b>remove-all-but-n-full</b>\n<i>&lt;count&gt; [--force] &lt;url&gt;</i></p>\n\n<p style=\"margin-left:22%;\">Delete all backups sets that\nare older than the count:th last full backup (in other\nwords, keep the last <i>count</i> full backups and\nassociated incremental sets). <i>count</i> must be larger\nthan zero. A value of 1 means that only the single most\nrecent backup chain will be kept. Note that <i>--force</i>\nwill be needed to delete the files instead of just listing\nthem.</p>\n\n\n<p style=\"margin-left:11%;\"><b>remove-all-inc-of-but-n-full</b>\n<i>&lt;count&gt; [--force] &lt;url&gt;</i></p>\n\n<p style=\"margin-left:22%;\">Delete incremental sets of all\nbackups sets that are older than the count:th last full\nbackup (in other words, keep only old full backups and not\ntheir increments). <i>count</i> must be larger than zero. A\nvalue of 1 means that only the single most recent backup\nchain will be kept intact. Note that <i>--force</i> will be\nneeded to delete the files instead of just listing them.</p>\n\n<p style=\"margin-left:11%;\"><b>cleanup</b> <i>[--force]\n&lt;url&gt;</i></p>\n\n<p style=\"margin-left:22%;\">Delete the extraneous duplicity\nfiles on the given backend. Non-duplicity files, or files in\ncomplete data sets will not be deleted. This should only be\nnecessary after a duplicity session fails or is aborted\nprematurely. Note that <i>--force</i> will be needed to\ndelete the files instead of just listing them.</p>\n\n<p style=\"margin-left:11%;\"><b>replicate</b> <i>[--time\ntime] &lt;source_url&gt; &lt;target_url&gt;</i></p>\n\n<p style=\"margin-left:22%;\">Replicate backup sets from\nsource to target backend. Files will be (re)-encrypted and\n(re)-compressed depending on normal backend options.\nSignatures and volumes will not get recomputed, thus options\nlike <b>--volsize</b> or <b>--max-blocksize</b> have no\neffect. When <i>--time time</i> is given, only backup sets\nolder than time will be replicated.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--allow-source-mismatch</b></p>\n\n<p style=\"margin-left:22%;\">Do not abort on attempts to use\nthe same archive dir or remote backend to back up different\ndirectories. duplicity will tell you if you need this\nswitch.</p>\n\n<p style=\"margin-left:11%;\"><b>--archive-dir</b>\n<i>path</i></p>\n\n<p style=\"margin-left:22%;\">The archive directory.\n<b>NOTE:</b> This option changed in 0.6.0. The archive\ndirectory is now necessary in order to manage persistence\nfor current and future enhancements. As such, this option is\nnow used only to change the location of the archive\ndirectory. The archive directory should <b>not</b> be\ndeleted, or duplicity will have to recreate it from the\nremote repository (which may require decrypting the backup\ncontents).</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">When backing up\nor restoring, this option specifies that the local archive\ndirectory is to be created in <i>path</i>. If the archive\ndirectory is not specified, the default will be to create\nthe archive directory in <i>~/.cache/duplicity/</i>.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">The archive\ndirectory can be shared between backups to multiple targets,\nbecause a subdirectory of the archive dir is used for\nindividual backups (see <b>--name</b> ).</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">The combination\nof archive directory and backup name must be unique in order\nto separate the data of different backups.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">The interaction\nbetween the <b>--archive-dir</b> and the <b>--name</b>\noptions allows for four possible combinations for the\nlocation of the archive dir:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"3%\">\n\n\n<p>1.</p></td>\n<td width=\"7%\"></td>\n<td width=\"42%\">\n\n\n<p>neither specified (default)</p></td>\n<td width=\"26%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:32%;\">~/.cache/duplicity/<i>hash-of-url</i></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\">2.</p></td>\n<td width=\"7%\"></td>\n<td width=\"46%\">\n\n\n<p style=\"margin-top: 1em\">--archive-dir=/arch, no\n--name</p> </td>\n<td width=\"22%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:32%;\">/arch/<i>hash-of-url</i></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\">3.</p></td>\n<td width=\"7%\"></td>\n<td width=\"43%\">\n\n\n<p style=\"margin-top: 1em\">no --archive-dir, --name=foo</p></td>\n<td width=\"25%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:32%;\">~/.cache/duplicity/foo</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\">4.</p></td>\n<td width=\"7%\"></td>\n<td width=\"48%\">\n\n\n<p style=\"margin-top: 1em\">--archive-dir=/arch,\n--name=foo</p> </td>\n<td width=\"20%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:32%;\">/arch/foo</p>\n\n\n<p style=\"margin-left:11%;\"><b>--asynchronous-upload</b></p>\n\n<p style=\"margin-left:22%;\">(EXPERIMENTAL) Perform file\nuploads asynchronously in the background, with respect to\nvolume creation. This means that duplicity can upload a\nvolume while, at the same time, preparing the next volume\nfor upload. The intended end-result is a faster backup,\nbecause the local CPU and your bandwidth can be more\nconsistently utilized. Use of this option implies additional\nneed for disk space in the temporary storage location;\nrather than needing to store only one volume at a time,\nenough storage space is required to store two volumes.</p>\n\n<p style=\"margin-left:11%;\"><b>--backend-retry-delay</b>\n<i>number</i></p>\n\n<p style=\"margin-left:22%;\">Specifies the number of seconds\nthat duplicity waits after an error has occured before\nattempting to repeat the operation.</p>\n\n<p style=\"margin-left:11%;\"><b>--cf-backend</b>\n<i>backend</i></p>\n\n<p style=\"margin-left:22%;\">Allows the explicit selection\nof a cloudfiles backend. Defaults to <b>pyrax</b>.\nAlternatively you might choose <b>cloudfiles</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>--b2-hide-files</b></p>\n\n<p style=\"margin-left:22%;\">Causes Duplicity to hide files\nin B2 instead of deleting them. Useful in combination with\nB2&rsquo;s lifecycle rules.</p>\n\n<p style=\"margin-left:11%;\"><b>--compare-data</b></p>\n\n<p style=\"margin-left:22%;\">Enable data comparison of\nregular files on action verify. This conducts a verify as\ndescribed above to verify the integrity of the backup\narchives, but additionally compares restored files to those\nin target_directory. Duplicity will not replace any files in\ntarget_directory. Duplicity will exit with a non-zero error\nlevel if the files do not correctly verify or if any files\nfrom the archive differ from those in target_directory. On\nverbosity level 4 or higher, it will log a message for each\nfile that differs from its equivalent in\ntarget_directory.</p>\n\n<p style=\"margin-left:11%;\"><b>--copy-links</b></p>\n\n<p style=\"margin-left:22%;\">Resolve symlinks during backup.\nEnabling this will resolve &amp; back up the symlink&rsquo;s\nfile/folder data instead of the symlink itself, potentially\nincreasing the size of the backup.</p>\n\n<p style=\"margin-left:11%;\"><b>--dry-run</b></p>\n\n<p style=\"margin-left:22%;\">Calculate what would be done,\nbut do not perform any backend actions</p>\n\n<p style=\"margin-left:11%;\"><b>--encrypt-key</b>\n<i>key-id</i></p>\n\n<p style=\"margin-left:22%;\">When backing up, encrypt to the\ngiven public key, instead of using symmetric (traditional)\nencryption. Can be specified multiple times. The key-id can\nbe given in any of the formats supported by GnuPG; see\n<a href=\"https://man.page/1/gpg\">gpg(1)</a>, section &quot;HOW TO SPECIFY A USER ID&quot;\nfor details.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--encrypt-secret-keyring</b>\n<i>filename</i></p>\n\n<p style=\"margin-left:22%;\">This option can only be used\nwith <b>--encrypt-key</b>, and changes the path to the\nsecret keyring for the encrypt key to <i>filename</i> This\nkeyring is not used when creating a backup. If not\nspecified, the default secret keyring is used which is\nusually located at .gnupg/secring.gpg</p>\n\n<p style=\"margin-left:11%;\"><b>--encrypt-sign-key</b>\n<i>key-id</i></p>\n\n<p style=\"margin-left:22%;\">Convenience parameter. Same as\n<b>--encrypt-key</b> <i>key-id</i> <b>--sign-key</b>\n<i>key-id</i>.</p>\n\n<p style=\"margin-left:11%;\"><b>--exclude</b>\n<i>shell_pattern</i></p>\n\n<p style=\"margin-left:22%;\">Exclude the file or files\nmatched by <i>shell_pattern</i>. If a directory is matched,\nthen files under that directory will also be matched. See\nthe <b>FILE SELECTION</b> section for more information.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--exclude-device-files</b></p>\n\n<p style=\"margin-left:22%;\">Exclude all device files. This\ncan be useful for security/permissions reasons or if\nduplicity is not handling device files correctly.</p>\n\n<p style=\"margin-left:11%;\"><b>--exclude-filelist</b>\n<i>filename</i></p>\n\n<p style=\"margin-left:22%;\">Excludes the files listed in\n<i>filename,</i> with each line of the filelist interpreted\naccording to the same rules as <b>--include</b> and\n<b>--exclude.</b> See the <b>FILE SELECTION</b> section for\nmore information.</p>\n\n<p style=\"margin-left:11%;\"><b>--exclude-if-present</b>\nfilename</p>\n\n<p style=\"margin-left:22%;\">Exclude directories if filename\nis present. Allows the user to specify folders that they do\nnot wish to backup by adding a specified file (e.g.\n&quot;.nobackup&quot;) instead of maintaining a\ncomprehensive exclude/include list.</p>\n\n<p style=\"margin-left:11%;\"><b>--exclude-older-than</b>\ntime</p>\n\n<p style=\"margin-left:22%;\">Exclude any files whose\nmodification date is earlier than the specified <i>time</i>.\nThis can be used to produce a partial backup that contains\nonly recently changed files. See the <b>TIME FORMATS</b>\nsection for more information.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--exclude-other-filesystems</b></p>\n\n<p style=\"margin-left:22%;\">Exclude files on file systems\n(identified by device number) other than the file system the\nroot of the source directory is on.</p>\n\n<p style=\"margin-left:11%;\"><b>--exclude-regexp</b>\n<i>regexp</i></p>\n\n<p style=\"margin-left:22%;\">Exclude files matching the\ngiven regexp. Unlike the <b>--exclude</b> option, this\noption does not match files in a directory it matches. See\nthe <b>FILE SELECTION</b> section for more information.</p>\n\n<p style=\"margin-left:11%;\"><b>--file-prefix,\n--file-prefix-manifest, --file-prefix-archive, <br>\n--file-prefix-signature</b></p>\n\n<p style=\"margin-left:22%;\">Adds a prefix to all files,\nmanifest files, archive files, and/or signature files.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">The same set of\nprefixes must be passed in on backup and restore.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">If both global\nand type-specific prefixes are set, global prefix will go\nbefore type-specific prefixes.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON FILENAME PREFIXES</b></p>\n\n<p style=\"margin-left:11%;\"><b>--file-to-restore</b>\n<i>path</i></p>\n\n<p style=\"margin-left:22%;\">This option may be given in\nrestore mode, causing only <i>path</i> to be restored\ninstead of the entire contents of the backup archive.\n<i>path</i> should be given relative to the root of the\ndirectory backed up.</p>\n\n<p style=\"margin-left:11%;\"><b>--full-if-older-than</b>\n<i>time</i></p>\n\n<p style=\"margin-left:22%;\">Perform a full backup if an\nincremental backup is requested, but the latest full backup\nin the collection is older than the given <i>time</i>. See\nthe <b>TIME FORMATS</b> section for more information.</p>\n\n<p style=\"margin-left:11%;\"><b>--force</b></p>\n\n<p style=\"margin-left:22%;\">Proceed even if data loss might\nresult. Duplicity will let the user know when this option is\nrequired.</p>\n\n<p style=\"margin-left:11%;\"><b>--ftp-passive</b></p>\n\n<p style=\"margin-left:22%;\">Use passive (PASV) data\nconnections. The default is to use passive, but to fallback\nto regular if the passive connection fails or times out.</p>\n\n<p style=\"margin-left:11%;\"><b>--ftp-regular</b></p>\n\n<p style=\"margin-left:22%;\">Use regular (PORT) data\nconnections.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p><b>--gio</b></p></td>\n<td width=\"4%\"></td>\n<td width=\"78%\">\n\n\n<p>Use the GIO backend and interpret any URLs as GIO\nwould.</p> </td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>--hidden-encrypt-key</b>\n<i>key-id</i></p>\n\n<p style=\"margin-left:22%;\">Same as <b>--encrypt-key</b>,\nbut it hides user&rsquo;s key id from encrypted file. It\nuses the gpg&rsquo;s <b>--hidden-recipient</b> command to\nobfuscate the owner of the backup. On restore, gpg will\nautomatically try all available secret keys in order to\ndecrypt the backup. See gpg(1) for more details.</p>\n\n<p style=\"margin-left:11%;\"><b>--ignore-errors</b></p>\n\n<p style=\"margin-left:22%;\">Try to ignore certain errors if\nthey happen. This option is only intended to allow the\nrestoration of a backup in the face of certain problems that\nwould otherwise cause the backup to fail. It is not ever\nrecommended to use this option unless you have a situation\nwhere you are trying to restore from backup and it is\nfailing because of an issue which you want duplicity to\nignore. Even then, depending on the issue, this option may\nnot have an effect.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Please note\nthat while ignored errors will be logged, there will be no\nsummary at the end of the operation to tell you what was\nignored, if anything. If this is used for emergency\nrestoration of data, it is recommended that you run the\nbackup in such a way that you can revisit the backup log\n(look for lines containing the string IGNORED_ERROR).</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">If you ever\nhave to use this option for reasons that are not understood\nor understood but not your own responsibility, please\ncontact duplicity maintainers. The need to use this option\nunder production circumstances would normally be considered\na bug.</p>\n\n<p style=\"margin-left:11%;\"><b>--imap-full-address</b>\n<i>email_address</i></p>\n\n<p style=\"margin-left:22%;\">The full email address of the\nuser name when logging into an imap server. If not supplied\njust the user name part of the email address is used.</p>\n\n<p style=\"margin-left:11%;\"><b>--imap-mailbox</b>\n<i>option</i></p>\n\n<p style=\"margin-left:22%;\">Allows you to specify a\ndifferent mailbox. The default is &quot;INBOX&quot;. Other\nlanguages may require a different mailbox than the\ndefault.</p>\n\n<p style=\"margin-left:11%;\"><b>--gpg-binary</b>\n<i>file_path</i></p>\n\n<p style=\"margin-left:22%;\">Allows you to force duplicity\nto use <i>file_path</i> as gpg command line binary. Can be\nan absolute or relative file path or a file name. Default\nvalue is &rsquo;gpg&rsquo;. The binary will be localized via\nthe PATH environment variable.</p>\n\n<p style=\"margin-left:11%;\"><b>--gpg-options</b>\n<i>options</i></p>\n\n<p style=\"margin-left:22%;\">Allows you to pass options to\ngpg encryption. The <i>options</i> list should be of the\nform &quot;--opt1 --opt2=parm&quot; where the string is\nquoted and the only spaces allowed are between options.</p>\n\n<p style=\"margin-left:11%;\"><b>--include</b>\n<i>shell_pattern</i></p>\n\n<p style=\"margin-left:22%;\">Similar to <b>--exclude</b> but\ninclude matched files instead. Unlike <b>--exclude</b>, this\noption will also match parent directories of matched files\n(although not necessarily their contents). See the <b>FILE\nSELECTION</b> section for more information.</p>\n\n<p style=\"margin-left:11%;\"><b>--include-filelist</b>\n<i>filename</i></p>\n\n<p style=\"margin-left:22%;\">Like <b>--exclude-filelist</b>,\nbut include the listed files instead. See the <b>FILE\nSELECTION</b> section for more information.</p>\n\n<p style=\"margin-left:11%;\"><b>--include-regexp</b>\n<i>regexp</i></p>\n\n<p style=\"margin-left:22%;\">Include files matching the\nregular expression <i>regexp</i>. Only files explicitly\nmatched by <i>regexp</i> will be included by this option.\nSee the <b>FILE SELECTION</b> section for more\ninformation.</p>\n\n<p style=\"margin-left:11%;\"><b>--log-fd</b>\n<i>number</i></p>\n\n<p style=\"margin-left:22%;\">Write specially-formatted\nversions of output messages to the specified file\ndescriptor. The format used is designed to be easily\nconsumable by other programs.</p>\n\n<p style=\"margin-left:11%;\"><b>--log-file</b>\n<i>filename</i></p>\n\n<p style=\"margin-left:22%;\">Write specially-formatted\nversions of output messages to the specified file. The\nformat used is designed to be easily consumable by other\nprograms.</p>\n\n<p style=\"margin-left:11%;\"><b>--max-blocksize</b>\n<i>number</i></p>\n\n<p style=\"margin-left:22%;\">determines the number of the\nblocks examined for changes during the diff process. For\nfiles &lt; 1MB the blocksize is a constant of 512. For files\nover 1MB the size is given by:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">file_blocksize\n= int((file_len / (2000 * 512)) * 512) <br>\nreturn min(file_blocksize, config.max_blocksize)</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">where\nconfig.max_blocksize defaults to 2048. If you specify a\nlarger max_blocksize, your difftar files will be larger, but\nyour sigtar files will be smaller. If you specify a smaller\nmax_blocksize, the reverse occurs. The --max-blocksize\noption should be in multiples of 512.</p>\n\n<p style=\"margin-left:11%;\"><b>--name</b>\n<i>symbolicname</i></p>\n\n<p style=\"margin-left:22%;\">Set the symbolic name of the\nbackup being operated on. The intent is to use a separate\nname for each logically distinct backup. For example,\nsomeone may use &quot;home_daily_s3&quot; for the daily\nbackup of a home directory to Amazon S3. The structure of\nthe name is up to the user, it is only important that the\nnames be distinct. The symbolic name is currently only used\nto affect the expansion of <b>--archive-dir</b> , but may be\nused for additional features in the future. Users running\nmore than one distinct backup are encouraged to use this\noption.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">If not\nspecified, the default value is a hash of the backend\nURL.</p>\n\n<p style=\"margin-left:11%;\"><b>--no-compression</b></p>\n\n<p style=\"margin-left:22%;\">Do not use GZip to compress\nfiles on remote system.</p>\n\n<p style=\"margin-left:11%;\"><b>--no-encryption</b></p>\n\n<p style=\"margin-left:22%;\">Do not use GnuPG to encrypt\nfiles on remote system.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--no-print-statistics</b></p>\n\n<p style=\"margin-left:22%;\">By default duplicity will print\nstatistics about the current session after a successful\nbackup. This switch disables that behavior.</p>\n\n<p style=\"margin-left:11%;\"><b>--null-separator</b></p>\n\n<p style=\"margin-left:22%;\">Use nulls (\\0) instead of\nnewlines (\\n) as line separators, which may help when\ndealing with filenames containing newlines. This affects the\nexpected format of the files specified by the\n--{include|exclude}-filelist switches as well as the format\nof the directory statistics file.</p>\n\n<p style=\"margin-left:11%;\"><b>--numeric-owner</b></p>\n\n<p style=\"margin-left:22%;\">On restore always use the\nnumeric uid/gid from the archive and not the archived\nuser/group names, which is the default behaviour.\nRecommended for restoring from live cds which might have the\nusers with identical names but different uids/gids.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--do-not-restore-ownership</b></p>\n\n<p style=\"margin-left:22%;\">Ignores the uid/gid from the\narchive and keeps the current user&rsquo;s one. Recommended\nfor restoring data to mounted filesystem which do not\nsupport Unix ownership or when root privileges are not\navailable.</p>\n\n<p style=\"margin-left:11%;\"><b>--num-retries</b>\n<i>number</i></p>\n\n<p style=\"margin-left:22%;\">Number of retries to make on\nerrors before giving up.</p>\n\n<p style=\"margin-left:11%;\"><b>--old-filenames</b></p>\n\n<p style=\"margin-left:22%;\">Use the old filename format\n(incompatible with Windows/Samba) rather than the new\nfilename format.</p>\n\n<p style=\"margin-left:11%;\"><b>--par2-options</b>\n<i>options</i></p>\n\n<p style=\"margin-left:22%;\">Verbatim options to pass to\npar2.</p>\n\n<p style=\"margin-left:11%;\"><b>--par2-redundancy</b>\n<i>percent</i></p>\n\n<p style=\"margin-left:22%;\">Adjust the level of redundancy\nin <i>percent</i> for Par2 recovery files (default 10%).</p>\n\n<p style=\"margin-left:11%;\"><b>--progress</b></p>\n\n<p style=\"margin-left:22%;\">When selected, duplicity will\noutput the current upload progress and estimated upload\ntime. To annotate changes, it will perform a first dry-run\nbefore a full or incremental, and then runs the real\noperation estimating the real upload progress.</p>\n\n<p style=\"margin-left:11%;\"><b>--progress-rate</b>\n<i>number</i></p>\n\n<p style=\"margin-left:22%;\">Sets the update rate at which\nduplicity will output the upload progress messages (requires\n<b>--progress</b> option). Default is to print the status\neach 3 seconds.</p>\n\n<p style=\"margin-left:11%;\"><b>--rename</b> <i>&lt;original\npath&gt; &lt;new path&gt;</i></p>\n\n<p style=\"margin-left:22%;\">Treats the path <i>orig</i> in\nthe backup as if it were the path <i>new.</i> Can be passed\nmultiple times. An example:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity\nrestore --rename Documents/metal Music/metal\nsftp://uid@other.host/some_dir /home/me</p>\n\n<p style=\"margin-left:11%;\"><b>--rsync-options</b>\n<i>options</i></p>\n\n<p style=\"margin-left:22%;\">Allows you to pass options to\nthe rsync backend. The <i>options</i> list should be of the\nform &quot;opt1=parm1 opt2=parm2&quot; where the option\nstring is quoted and the only spaces allowed are between\noptions. The option string will be passed verbatim to rsync,\nafter any internally generated option designating the remote\nport to use. Here is a possibly useful example:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity\n--rsync-options=&quot;--partial-dir=.rsync-partial&quot;\n/home/me rsync://uid@other.host/some_dir</p>\n\n\n<p style=\"margin-left:11%;\"><b>--s3-european-buckets</b></p>\n\n<p style=\"margin-left:22%;\">When using the Amazon S3\nbackend, create buckets in Europe instead of the default\n(requires <b>--s3-use-new-style</b> ). Also see the\n<b>EUROPEAN S3 BUCKETS</b> section.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This option\ndoes not apply when using the newer boto3 backend, which\ndoes not create buckets.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON AMAZON S3</b> below.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--s3-unencrypted-connection</b></p>\n\n<p style=\"margin-left:22%;\">Don&rsquo;t use SSL for\nconnections to S3.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This may be\nmuch faster, at some cost to confidentiality.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">With this\noption, anyone who can observe traffic between your computer\nand S3 will be able to tell: that you are using Duplicity,\nthe name of the bucket, your AWS Access Key ID, the\nincrement dates and the amount of data in each\nincrement.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This option\naffects only the connection, not the GPG encryption of the\nbackup increment files. Unless that is disabled, an observer\nwill not be able to see the file names or contents.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This option is\nnot available when using the newer boto3 backend.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON AMAZON S3</b> below.</p>\n\n<p style=\"margin-left:11%;\"><b>--s3-use-new-style</b></p>\n\n<p style=\"margin-left:22%;\">When operating on Amazon S3\nbuckets, use new-style subdomain bucket addressing. This is\nnow the preferred method to access Amazon S3, but is not\nbackwards compatible if your bucket name contains upper-case\ncharacters or other characters that are not valid in a\nhostname.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This option has\nno effect when using the newer boto3 backend, which will\nalways use new style subdomain bucket naming.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON AMAZON S3</b> below.</p>\n\n<p style=\"margin-left:11%;\"><b>--s3-use-rrs</b></p>\n\n<p style=\"margin-left:22%;\">Store volumes using Reduced\nRedundancy Storage when uploading to Amazon S3. This will\nlower the cost of storage but also lower the durability of\nstored volumes to 99.99% instead the 99.999999999%\ndurability offered by Standard Storage on S3.</p>\n\n<p style=\"margin-left:11%;\"><b>--s3-use-ia</b></p>\n\n<p style=\"margin-left:22%;\">Store volumes using Standard -\nInfrequent Access when uploading to Amazon S3. This storage\nclass has a lower storage cost but a higher per-request\ncost, and the storage cost is calculated against a 30-day\nstorage minimum. According to Amazon, this storage is ideal\nfor long-term file storage, backups, and disaster\nrecovery.</p>\n\n<p style=\"margin-left:11%;\"><b>--s3-use-onezone-ia</b></p>\n\n<p style=\"margin-left:22%;\">Store volumes using One Zone -\nInfrequent Access when uploading to Amazon S3. This storage\nis similar to Standard - Infrequent Access, but only stores\nobject data in one Availability Zone.</p>\n\n<p style=\"margin-left:11%;\"><b>--s3-use-glacier</b></p>\n\n<p style=\"margin-left:22%;\">Store volumes using Glacier S3\nwhen uploading to Amazon S3. This storage class has a lower\ncost of storage but a higher per-request cost along with\ndelays of up to 12 hours from the time of retrieval request.\nThis storage cost is calculated against a 90-day storage\nminimum. According to Amazon this storage is ideal for data\narchiving and long-term backup offering 99.999999999%\ndurability. To restore a backup you will have to manually\nmigrate all data stored on AWS Glacier back to Standard S3\nand wait for AWS to complete the migration. <b>Notice:</b>\nDuplicity will store the manifest.gpg files from full and\nincremental backups on AWS S3 standard storage to allow\nquick retrieval for later incremental backups, all other\ndata is stored in S3 Glacier.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--s3-use-deep-archive</b></p>\n\n<p style=\"margin-left:22%;\">Store volumes using Glacier\nDeep Archive S3 when uploading to Amazon S3. This storage\nclass has a lower cost of storage but a higher per-request\ncost along with delays of up to 48 hours from the time of\nretrieval request. This storage cost is calculated against a\n180-day storage minimum. According to Amazon this storage is\nideal for data archiving and long-term backup offering\n99.999999999% durability. To restore a backup you will have\nto manually migrate all data stored on AWS Glacier Deep\nArchive back to Standard S3 and wait for AWS to complete the\nmigration. <b>Notice:</b> Duplicity will store the\nmanifest.gpg files from full and incremental backups on AWS\nS3 standard storage to allow quick retrieval for later\nincremental backups, all other data is stored in S3 Glacier\nDeep Archive.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Glacier Deep\nArchive is only available when using the newer boto3\nbackend.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--s3-use-multiprocessing</b></p>\n\n<p style=\"margin-left:22%;\">Allow multipart volumne uploads\nto S3 through multiprocessing. This option requires Python\n2.6 and can be used to make uploads to S3 more efficient. If\nenabled, files duplicity uploads to S3 will be split into\nchunks and uploaded in parallel. Useful if you want to\nsaturate your bandwidth or if large files are failing during\nupload.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This has no\neffect when using the newer boto3 backend. Boto3 always\nattempts to multiprocessing when it is believed it will be\nmore efficient.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON AMAZON S3</b> below.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--s3-use-server-side-encryption</b></p>\n\n<p style=\"margin-left:22%;\">Allow use of server side\nencryption in S3</p>\n\n\n<p style=\"margin-left:11%;\"><b>--s3-multipart-chunk-size</b></p>\n\n<p style=\"margin-left:22%;\">Chunk size (in MB) used for S3\nmultipart uploads. Make this smaller than <b>--volsize</b>\nto maximize the use of your bandwidth. For example, a chunk\nsize of 10MB with a volsize of 30MB will result in 3 chunks\nper volume upload.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON AMAZON S3</b> below.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--s3-multipart-max-procs</b></p>\n\n<p style=\"margin-left:22%;\">Specify the maximum number of\nprocesses to spawn when performing a multipart upload to S3.\nBy default, this will choose the number of processors\ndetected on your system (e.g. 4 for a 4-core system). You\ncan adjust this number as required to ensure you don&rsquo;t\noverload your system while maximizing the use of your\nbandwidth.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This has no\neffect when using the newer boto3 backend.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON AMAZON S3</b> below.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--s3-multipart-max-timeout</b></p>\n\n<p style=\"margin-left:22%;\">You can control the maximum\ntime (in seconds) a multipart upload can spend on uploading\na single chunk to S3. This may be useful if you find your\nsystem hanging on multipart uploads or if you&rsquo;d like\nto control the time variance when uploading to S3 to ensure\nyou kill connections to slow S3 endpoints.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This has no\neffect when using the newer boto3 backend.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON AMAZON S3</b> below.</p>\n\n<p style=\"margin-left:11%;\"><b>--s3-region-name</b></p>\n\n<p style=\"margin-left:22%;\">Specifies the region of the S3\nstorage.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This is\ncurrently only used in the newer boto3 backend.</p>\n\n<p style=\"margin-left:11%;\"><b>--s3-endpoint-url</b></p>\n\n<p style=\"margin-left:22%;\">Specifies the endpoint URL of\nthe S3 storage.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">This is\ncurrently only used in the newer boto3 backend.</p>\n\n<p style=\"margin-left:11%;\"><b>--azure-blob-tier</b></p>\n\n<p style=\"margin-left:22%;\">Standard storage tier used for\nbackup files (Hot|Cool|Archive).</p>\n\n\n<p style=\"margin-left:11%;\"><b>--azure-max-single-put-size</b></p>\n\n<p style=\"margin-left:22%;\">Specify the number of the\nlargest supported upload size where the Azure library makes\nonly one put call. If the content size is known and below\nthis value the Azure library will only perform one put\nrequest to upload one block. The number is expected to be in\nbytes.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--azure-max-block-size</b></p>\n\n<p style=\"margin-left:22%;\">Specify the number for the\nblock size used by the Azure library to upload blobs if it\nis split into multiple blocks. The maximum block size the\nservice supports is 104857600 (100MiB) and the default is\n4194304 (4MiB)</p>\n\n\n<p style=\"margin-left:11%;\"><b>--azure-max-connections</b></p>\n\n<p style=\"margin-left:22%;\">Specify the number of maximum\nconnections to transfer one blob to Azure blob size exceeds\n64MB. The default values is 2.</p>\n\n<p style=\"margin-left:11%;\"><b>--scp-command</b>\n<i>command</i></p>\n\n<p style=\"margin-left:22%;\"><b>(only ssh pexpect backend\nwith --use-scp enabled)</b> The <i>command</i> will be used\ninstead of &quot;scp&quot; to send or receive files. To list\nand delete existing files, the sftp command is used. <br>\nSee also <b>A NOTE ON SSH BACKENDS</b> section <b>SSH\npexpect backend</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>--sftp-command</b>\n<i>command</i></p>\n\n<p style=\"margin-left:22%;\"><b>(only ssh pexpect\nbackend)</b> The <i>command</i> will be used instead of\n&quot;sftp&quot;. <br>\nSee also <b>A NOTE ON SSH BACKENDS</b> section <b>SSH\npexpect backend</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>--short-filenames</b></p>\n\n<p style=\"margin-left:22%;\">If this option is specified,\nthe names of the files duplicity writes will be shorter\n(about 30 chars) but less understandable. This may be useful\nwhen backing up to MacOS or another OS or FS that\ndoesn&rsquo;t support long filenames.</p>\n\n<p style=\"margin-left:11%;\"><b>--sign-key</b>\n<i>key-id</i></p>\n\n<p style=\"margin-left:22%;\">This option can be used when\nbacking up, restoring or verifying. When backing up, all\nbackup files will be signed with keyid <i>key</i>. When\nrestoring, duplicity will signal an error if any remote file\nis not signed with the given key-id. The key-id can be given\nin any of the formats supported by GnuPG; see <a href=\"https://man.page/1/gpg\">gpg(1)</a>,\nsection &quot;HOW TO SPECIFY A USER ID&quot; for details.\nShould be specified only once because currently only\n<b>one</b> signing key is supported. Last entry overrides\nall other entries. <br>\nSee also <b>A NOTE ON SYMMETRIC ENCRYPTION AND\nSIGNING</b></p>\n\n<p style=\"margin-left:11%;\"><b>--ssh-askpass</b></p>\n\n<p style=\"margin-left:22%;\">Tells the ssh backend to prompt\nthe user for the remote system password, if it was not\ndefined in target url and no FTP_PASSWORD env var is set.\nThis password is also used for passphrase-protected ssh\nkeys.</p>\n\n<p style=\"margin-left:11%;\"><b>--ssh-options</b>\n<i>options</i></p>\n\n<p style=\"margin-left:22%;\">Allows you to pass options to\nthe ssh backend. Can be specified multiple times or as a\nspace separated options list. The <i>options</i> list should\nbe of the form &quot;-oOpt1=&rsquo;parm1&rsquo;\n-oOpt2=&rsquo;parm2&rsquo;&quot; where the option string is\nquoted and the only spaces allowed are between options. The\noption string will be passed verbatim to both scp and sftp,\nwhose command line syntax differs slightly hence the options\nshould therefore be given in the long option format\ndescribed in <b>ssh_config(5).</b></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">example of a\nlist:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity\n--ssh-options=&quot;-oProtocol=2\n-oIdentityFile=&rsquo;/my/backup/id&rsquo;&quot; /home/me\nscp://user@host/some_dir</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">example with\nmultiple parameters:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity\n--ssh-options=&quot;-oProtocol=2&quot;\n--ssh-options=&quot;-oIdentityFile=&rsquo;/my/backup/id&rsquo;&quot;\n/home/me scp://user@host/some_dir</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>NOTE:</b>\nThe <i>ssh paramiko backend</i> currently supports only the\n<b>-i</b> or <b>-oIdentityFile</b> or\n<b>-oUserKnownHostsFile</b> or <b>-oGlobalKnownHostsFile</b>\nsettings. If needed provide more host specific options via\nssh_config file.</p>\n\n<p style=\"margin-left:11%;\"><b>--ssl-cacert-file</b>\n<i>file</i></p>\n\n<p style=\"margin-left:22%;\"><b>(only webdav &amp; lftp\nbackend)</b> Provide a cacert file for ssl certificate\nverification. <br>\nSee also <b>A NOTE ON SSL CERTIFICATE VERIFICATION</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>--ssl-cacert-path</b>\n<i>path/to/certs/</i></p>\n\n<p style=\"margin-left:22%;\"><b>(only webdav backend and\npython 2.7.9+ OR lftp+webdavs and a recent lftp)</b> Provide\na path to a folder containing cacert files for ssl\ncertificate verification. <br>\nSee also <b>A NOTE ON SSL CERTIFICATE VERIFICATION</b>.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--ssl-no-check-certificate</b></p>\n\n<p style=\"margin-left:22%;\"><b>(only webdav &amp; lftp\nbackend)</b> Disable ssl certificate verification. <br>\nSee also <b>A NOTE ON SSL CERTIFICATE VERIFICATION</b>.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--swift-storage-policy</b></p>\n\n<p style=\"margin-left:22%;\">Use this storage policy when\noperating on Swift containers. <br>\nSee also <b>A NOTE ON SWIFT (OPENSTACK OBJECT STORAGE)\nACCESS</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>--metadata-sync-mode</b>\n<i>mode</i></p>\n\n<p style=\"margin-left:22%;\">This option defaults to\n&rsquo;partial&rsquo;, but you can set it to\n&rsquo;full&rsquo; <br>\nUse &rsquo;partial&rsquo; to avoid syncing metadata for\nbackup chains that you are not going to use. This saves time\nwhen restoring for the first time, and lets you restore an\nold backup that was encrypted with a different passphrase by\nsupplying only the target passphrase. <br>\nUse &rsquo;full&rsquo; to sync metadata for all backup\nchains on the remote.</p>\n\n<p style=\"margin-left:11%;\"><b>--tempdir</b>\n<i>directory</i></p>\n\n<p style=\"margin-left:22%;\">Use this existing directory for\nduplicity temporary files instead of the system default,\nwhich is usually the /tmp directory. This option supersedes\nany environment variable. <br>\nSee also <b>ENVIRONMENT VARIABLES</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>-t</b><i>time</i><b>,\n--time</b> <i>time</i><b>, --restore-time</b>\n<i>time</i></p>\n\n<p style=\"margin-left:22%;\">Specify the time from which to\nrestore or list files.</p>\n\n<p style=\"margin-left:11%;\"><b>--time-separator</b>\n<i>char</i></p>\n\n<p style=\"margin-left:22%;\">Use <i>char</i> as the time\nseparator in filenames instead of colon (&quot;:&quot;).</p>\n\n<p style=\"margin-left:11%;\"><b>--timeout</b>\n<i>seconds</i></p>\n\n<p style=\"margin-left:22%;\">Use <i>seconds</i> as the\nsocket timeout value if duplicity begins to timeout during\nnetwork operations. The default is 30 seconds.</p>\n\n<p style=\"margin-left:11%;\"><b>--use-agent</b></p>\n\n<p style=\"margin-left:22%;\">If this option is specified,\nthen <i>--use-agent</i> is passed to the GnuPG encryption\nprocess and it will try to connect to <b>gpg-agent</b>\nbefore it asks for a passphrase for <i>--encrypt-key</i> or\n<i>--sign-key</i> if needed. <b><br>\nNote:</b> Contrary to previous versions of duplicity, this\noption will also be honored by GnuPG 2 and newer versions.\nIf GnuPG 2 is in use, duplicity passes the option\n<i>--pinentry-mode=loopback</i> to the the gpg process\nunless <i>--use-agent</i> is specified on the duplicity\ncommand line. This has the effect that GnuPG 2 uses the\nagent only if <i>--use-agent</i> is given, just like GnuPG\n1.</p>\n\n<p style=\"margin-left:11%;\"><b>--verbosity</b>\n<i>level</i><b>, -v</b><i>level</i></p>\n\n<p style=\"margin-left:22%;\">Specify output verbosity level\n(log level). Named levels and corresponding values are 0\nError, 2 Warning, 4 Notice (default), 8 Info, 9 Debug\n(noisiest). <i><br>\nlevel</i> may also be <b><br>\na character:</b> e, w, n, i, d <b><br>\na word:</b> error, warning, notice, info, debug</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">The options\n-v4, -vn and -vnotice are functionally equivalent, as are\nthe mixed/upper-case versions -vN, -vNotice and\n-vNOTICE.</p>\n\n<p style=\"margin-left:11%;\"><b>--version</b></p>\n\n<p style=\"margin-left:22%;\">Print duplicity&rsquo;s version\nand quit.</p>\n\n<p style=\"margin-left:11%;\"><b>--volsize</b>\n<i>number</i></p>\n\n<p style=\"margin-left:22%;\">Change the volume size to\n<i>number</i> MB. Default is 200MB.</p>\n\n<h2>ENVIRONMENT VARIABLES\n<a name=\"ENVIRONMENT VARIABLES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>TMPDIR,\nTEMP, TMP</b></p>\n\n<p style=\"margin-left:22%;\">In decreasing order of\nimportance, specifies the directory to use for temporary\nfiles (inherited from Python&rsquo;s tempfile module).\nEventually the option <b>--tempdir</b> supercedes any of\nthese.</p>\n\n<p style=\"margin-left:11%;\"><b>FTP_PASSWORD</b></p>\n\n<p style=\"margin-left:22%;\">Supported by most backends\nwhich are password capable. More secure than setting it in\nthe backend url (which might be readable in the operating\nsystems process listing to other users on the same\nmachine).</p>\n\n<p style=\"margin-left:11%;\"><b>PASSPHRASE</b></p>\n\n<p style=\"margin-left:22%;\">This passphrase is passed to\nGnuPG. If this is not set, the user will be prompted for the\npassphrase.</p>\n\n<p style=\"margin-left:11%;\"><b>SIGN_PASSPHRASE</b></p>\n\n<p style=\"margin-left:22%;\">The passphrase to be used for\n<b>--sign-key</b>. If ommitted <b>and</b> sign key is also\none of the keys to encrypt against <b>PASSPHRASE</b> will be\nreused instead. Otherwise, if passphrase is needed but not\nset the user will be prompted for it.</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Other\nenvironment variables may be used to configure specific\nbackends. See the notes for the particular backend.</p>\n\n<h2>URL FORMAT\n<a name=\"URL FORMAT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Duplicity uses\nthe URL format (as standard as possible) to define data\nlocations. The generic format for a URL is:</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">scheme://[user[:password]@]host[:port]/[/]path</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">It is not\nrecommended to expose the password on the command line since\nit could be revealed to anyone with permissions to do\nprocess listings, it is permitted however. Consider setting\nthe environment variable <b>FTP_PASSWORD</b> instead, which\nis used by most, if not all backends, regardless of\nit&rsquo;s name.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In protocols\nthat support it, the path may be preceded by a single slash,\n&rsquo;/path&rsquo;, to represent a relative path to the\ntarget home directory, or preceded by a double slash,\n&rsquo;//path&rsquo;, to represent an absolute filesystem\npath.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Note:</b></p>\n\n<p style=\"margin-left:22%;\">Scheme (protocol) access may be\nprovided by more than one backend. In case the default\nbackend is buggy or simply not working in a specific case it\nmight be worth trying an alternative implementation.\nAlternative backends can be selected by prefixing the scheme\nwith the name of the alternative backend e.g.\n<b>ncftp+ftp://</b> and are mentioned below the\nscheme&rsquo;s syntax summary.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Formats of each\nof the URL schemes follow:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Amazon Drive\nBackend</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">ad://some_dir</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON AMAZON DRIVE</b></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Azure</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">azure://container-name</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON AZURE ACCESS</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>B2</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">b2://account_id[:application_key]@bucket_name/[folder/]</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Box</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">box:///some_dir[?config=path_to_config]</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON BOX ACCESS</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Cloud\nFiles</b> (Rackspace)</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">cf+http://container_name</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON CLOUD FILES ACCESS</b></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Dropbox</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">dpbx:///some_dir</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">Make sure to\nread <b>A NOTE ON DROPBOX ACCESS</b> first!</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Local file\npath</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">file://[relative|/absolute]/local/path</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>FISH</b>\n(Files transferred over Shell protocol) over ssh</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">fish://user[:pwd]@other.host[:port]/[relative|/absolute]_path</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>FTP</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">ftp[s]://user[:password]@other.host[:port]/some_dir</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>NOTE:</b>\nuse lftp+, ncftp+ prefixes to enforce a specific backend,\ndefault is lftp+ftp://...</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Google\nDocs</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">gdocs://user[:password]@other.host/some_dir</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>NOTE:</b>\nuse pydrive+, gdata+ prefixes to enforce a specific backend,\ndefault is pydrive+gdocs://...</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Google Cloud\nStorage</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">gs://bucket[/prefix]</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>HSI</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">hsi://user[:password]@other.host/some_dir</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>hubiC</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">cf+hubic://container_name</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON HUBIC</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>IMAP email\nstorage</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">imap[s]://user[:password]@host.com[/from_address_prefix]</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON IMAP</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>MEGA.nz\ncloud storage (only works for accounts created prior to\nNovember 2018, uses &quot;megatools&quot;)</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">mega://user[:password]@mega.nz/some_dir</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>NOTE:</b> if\nnot given in the URL, relies on password being stored within\n$HOME/.megarc (as used by the &quot;megatools&quot;\nutilities)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>MEGA.nz\ncloud storage (works for all MEGA accounts, uses\n&quot;MEGAcmd&quot; tools)</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">megav2://user[:password]@mega.nz/some_dir\nmegav3://user[:password]@mega.nz/some_dir[?no_logout=1] (For\nlatest MEGAcmd)</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>NOTE:</b>\ndespite &quot;MEGAcmd&quot; no longer uses a configuration\nfile, for convenience storing the user password this backend\nsearches it in the $HOME/.megav2rc file (same syntax as the\nold $HOME/.megarc) <br>\n[Login] <br>\nUsername = MEGA_USERNAME <br>\nPassword = MEGA_PASSWORD</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>OneDrive\nBackend</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">onedrive://some_dir</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Par2 Wrapper\nBackend</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">par2+scheme://[user[:password]@]host[:port]/[/]path</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON PAR2 WRAPPER BACKEND</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Rclone\nBackend</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">rclone://remote:/some_dir</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">See also <b>A\nNOTE ON RCLONE BACKEND</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Rsync via\ndaemon</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">rsync://user[:password]@host.com[:port]::[/]module/some_dir</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Rsync over\nssh (only key auth)</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">rsync://user@host.com[:port]/[relative|/absolute]_path</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>S3\nstorage</b> (Amazon)</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">s3://host[:port]/bucket_name[/prefix]\n<br>\ns3+http://bucket_name[/prefix] <b><br>\ndefaults</b> to the legacy boto backend based on boto v2\n(last update 2018/07) <b><br>\nalternatively</b> try the newer\nboto3+s3://bucket_name[/prefix]</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">For details see\n<b>A NOTE ON AMAZON S3</b> and see also <b>A NOTE ON\nEUROPEAN S3 BUCKETS</b> below.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>SCP/SFTP\naccess</b></p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">scp://.. or\n<br>\n\nsftp://user[:pwd]@other.host[:port]/[relative|/absolute]_path</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>defaults</b>\nare paramiko+scp:// and paramiko+sftp:// <b><br>\nalternatively</b> try pexpect+scp://, pexpect+sftp://,\nlftp+sftp:// <br>\nSee also <b>--ssh-askpass</b>, <b>--ssh-options</b> and <b>A\nNOTE ON SSH BACKENDS</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Swift</b>\n(Openstack)</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">swift://container_name[/prefix]</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON SWIFT (OPENSTACK OBJECT STORAGE) ACCESS</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Public Cloud\nArchive</b> (OVH)</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">pca://container_name[/prefix]</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON PCA ACCESS</b></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Tahoe-LAFS</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">tahoe://alias/directory</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>WebDAV</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">webdav[s]://user[:password]@other.host[:port]/some_dir</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>alternatively</b>\ntry lftp+webdav[s]://</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>pydrive</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">pydrive://&lt;service\naccount&rsquo; email\naddress&gt;@developer.gserviceaccount.com/some_dir</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON PYDRIVE BACKEND</b> below.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>gdrive</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">gdrive://&lt;service\naccount&rsquo; email\naddress&gt;@developer.gserviceaccount.com/some_dir</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON GDRIVE BACKEND</b> below.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>multi</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">multi:///path/to/config.json</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON MULTI BACKEND</b> below.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>MediaFire</b></p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">mf://user[:password]@mediafire.com/some_dir</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">See also <b>A\nNOTE ON MEDIAFIRE BACKEND</b> below.</p>\n\n<h2>TIME FORMATS\n<a name=\"TIME FORMATS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">duplicity uses\ntime strings in two places. Firstly, many of the files\nduplicity creates will have the time in their filenames in\nthe w3 datetime format as described in a w3 note at\nhttp://www.w3.org/TR/NOTE-datetime. Basically they look like\n&quot;2001-07-15T04:09:38-07:00&quot;, which means what it\nlooks like. The &quot;-07:00&quot; section means the time\nzone is 7 hours behind UTC.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Secondly, the\n<b>-t</b>, <b>--time</b>, and <b>--restore-time</b> options\ntake a time string, which can be given in any of several\nformats:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p>1.</p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p>the string &quot;now&quot; (refers to the current\ntime)</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p>2.</p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p>a sequences of digits, like &quot;123456890&quot;\n(indicating the time in seconds after the epoch)</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p>3.</p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p>A string like &quot;2002-01-25T07:00:00+02:00&quot; in\ndatetime format</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p>4.</p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p>An interval, which is a number followed by one of the\ncharacters s, m, h, D, W, M, or Y (indicating seconds,\nminutes, hours, days, weeks, months, or years respectively),\nor a series of such pairs. In this case the string refers to\nthe time that preceded the current time by the length of the\ninterval. For instance, &quot;1h78m&quot; indicates the time\nthat was one hour and 78 minutes ago. The calendar here is\nunsophisticated: a month is always 30 days, a year is always\n365 days, and a day is always 86400 seconds.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p>5.</p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p>A date format of the form YYYY/MM/DD, YYYY-MM-DD,\nMM/DD/YYYY, or MM-DD-YYYY, which indicates midnight on the\nday in question, relative to the current time zone settings.\nFor instance, &quot;2002/3/5&quot;, &quot;03-05-2002&quot;,\nand &quot;2002-3-05&quot; all mean March 5th, 2002.</p></td></tr>\n</table>\n\n<h2>FILE SELECTION\n<a name=\"FILE SELECTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">When duplicity\nis run, it searches through the given source directory and\nbacks up all the files specified by the file selection\nsystem. The file selection system comprises a number of file\nselection conditions, which are set using one of the\nfollowing command line options:</p>\n\n<p style=\"margin-left:22%;\">--exclude <br>\n--exclude-device-files <br>\n--exclude-if-present <br>\n--exclude-filelist <br>\n--exclude-regexp <br>\n--include <br>\n--include-filelist <br>\n--include-regexp</p>\n\n<p style=\"margin-left:11%;\">Each file selection condition\neither matches or doesn&rsquo;t match a given file. A given\nfile is excluded by the file selection system exactly when\nthe first matching file selection condition specifies that\nthe file be excluded; otherwise the file is included.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For\ninstance,</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity\n--include /usr --exclude /usr /usr\nscp://user@host/backup</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">is exactly the\nsame as</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity /usr\nscp://user@host/backup</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">because the\ninclude and exclude directives match exactly the same files,\nand the <b>--include</b> comes first, giving it precedence.\nSimilarly,</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity\n--include /usr/local/bin --exclude /usr/local /usr\nscp://user@host/backup</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">would backup\nthe /usr/local/bin directory (and its contents), but not\n/usr/local/doc.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>include</b>, <b>exclude</b>, <b>include-filelist</b>, and\n<b>exclude-filelist</b> options accept some <i>extended\nshell globbing patterns</i>. These patterns can contain\n<b>*</b>, <b>**</b>, <b>?</b>, and <b>[...]</b> (character\nranges). As in a normal shell, <b>*</b> can be expanded to\nany string of characters not containing &quot;/&quot;,\n<b>?</b> expands to any character except &quot;/&quot;, and\n<b>[...]</b> expands to a single character of those\ncharacters specified (ranges are acceptable). The new\nspecial pattern, <b>**</b>, expands to any string of\ncharacters whether or not it contains &quot;/&quot;.\nFurthermore, if the pattern starts with\n&quot;ignorecase:&quot; (case insensitive), then this prefix\nwill be removed and any character in the string can be\nreplaced with an upper- or lowercase version of itself.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Remember that\nyou may need to quote these characters when typing them into\na shell, so the shell does not interpret the globbing\npatterns before duplicity sees them.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>--exclude</b> pattern option matches a file if:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>1.</b>\n<i>pattern</i> can be expanded into the file&rsquo;s\nfilename, or <b><br>\n2.</b> the file is inside a directory matched by the\noption.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Conversely, the\n<b>--include</b> pattern matches a file if:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>1.</b>\n<i>pattern</i> can be expanded into the file&rsquo;s\nfilename, or <b><br>\n2.</b> the file is inside a directory matched by the option,\nor <b><br>\n3.</b> the file is a directory which contains a file matched\nby the option.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For\nexample,</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>--exclude</b>\n/usr/local</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">matches e.g.\n/usr/local, /usr/local/lib, and /usr/local/lib/netscape. It\nis the same as --exclude /usr/local --exclude\n&rsquo;/usr/local/**&rsquo;.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">On the other\nhand</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>--include</b>\n/usr/local</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">specifies that\n/usr, /usr/local, /usr/local/lib, and\n/usr/local/lib/netscape (but not /usr/doc) all be backed up.\nThus you don&rsquo;t have to worry about including parent\ndirectories to make sure that included subdirectories have\nsomewhere to go.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Finally,</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\"><b>--include</b>\nignorecase:&rsquo;/usr/[a-z0-9]foo/*/**.py&rsquo;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">would match a\nfile like /usR/5fOO/hello/there/world.py. If it did match\nanything, it would also match /usr. If there is no existing\nfile that the given pattern can be expanded into, the option\nwill not match /usr alone.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>--include-filelist</b>, and\n<b>--exclude-filelist</b><i>,</i> options also introduce\nfile selection conditions. They direct duplicity to read in\na text file (either ASCII or UTF-8), each line of which is a\nfile specification, and to include or exclude the matching\nfiles. Lines are separated by newlines or nulls, depending\non whether the --null-separator switch was given. Each line\nin the filelist will be interpreted as a globbing pattern\nthe way <b>--include</b> and <b>--exclude</b> options are\ninterpreted, except that lines starting with &quot;+ &quot;\nare interpreted as include directives, even if found in a\nfilelist referenced by <b>--exclude-filelist</b>. Similarly,\nlines starting with &quot;- &quot; exclude files even if\nthey are found within an include filelist.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For example, if\nfile &quot;list.txt&quot; contains the lines:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">/usr/local <br>\n- /usr/local/doc <br>\n/usr/local/bin <br>\n+ /var <br>\n- /var</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">then\n<b>--include-filelist list.txt</b> would include /usr,\n/usr/local, and /usr/local/bin. It would exclude\n/usr/local/doc, /usr/local/doc/python, etc. It would also\ninclude /usr/local/man, as this is included within\n/user/local. Finally, it is undefined what happens with\n/var. A single file list should not contain conflicting file\nspecifications.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Each line in\nthe filelist will also be interpreted as a globbing pattern\nthe way <b>--include</b> and <b>--exclude</b> options are\ninterpreted. For instance, if the file &quot;list.txt&quot;\ncontains the lines:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">dir/foo <br>\n+ dir/bar <br>\n- **</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Then\n<b>--include-filelist list.txt</b> would be exactly the same\nas specifying <b>--include dir/foo --include dir/bar\n--exclude **</b> on the command line.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Finally, the\n<b>--include-regexp</b> and <b>--exclude-regexp</b> options\nallow files to be included and excluded if their filenames\nmatch a python regular expression. Regular expression syntax\nis too complicated to explain here, but is covered in\nPython&rsquo;s library reference. Unlike the\n<b>--include</b> and <b>--exclude</b> options, the regular\nexpression options don&rsquo;t match files containing or\ncontained in matched files. So for instance</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">--include\n&rsquo;[0-9]{7}(?!foo)&rsquo;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">matches any\nfiles whose full pathnames contain 7 consecutive digits\nwhich aren&rsquo;t followed by &rsquo;foo&rsquo;. However,\nit wouldn&rsquo;t match /home even if /home/ben/1234567\nexisted.</p>\n\n<h2>A NOTE ON AMAZON DRIVE\n<a name=\"A NOTE ON AMAZON DRIVE\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\">1.</p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">The API Keys used for Amazon\nDrive have not been granted production limits. Amazon do not\nsay what the development limits are and are not replying to\nto requests to whitelist duplicity. A related tool, acd_cli,\nwas demoted to development limits, but continues to work\nfine except for cases of excessive usage. If you experience\nthrottling and similar issues with Amazon Drive using this\nbackend, please report them to the mailing list.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p>2.</p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p>If you previously used the <b>acd+acdcli</b> backend, it\nis strongly recommended to update to the <b>ad</b> backend\ninstead, since it interfaces directly with Amazon Drive. You\nwill need to setup the OAuth once again, but can otherwise\nkeep your backups and config.</p></td></tr>\n</table>\n\n<h2>A NOTE ON AMAZON S3\n<a name=\"A NOTE ON AMAZON S3\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">When backing up\nto Amazon S3, two backend implementations are available. The\nschemes &quot;s3&quot; and &quot;s3+http&quot; are\nimplemented using the older boto library, which has been\ndeprecated and is no longer supported. The\n&quot;boto3+s3&quot; scheme is based on the newer boto3\nlibrary. This new backend fixes several known limitations in\nthe older backend, which have crept in as Amazon S3 has\nevolved while the deprecated boto library has not kept\nup.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The boto3\nbackend should behave largely the same as the older S3\nbackend, but there are some differences in the handling of\nsome of the &quot;S3&quot; options. Additionally, there are\nsome compatibility differences with the new backed. Because\nof these reasons, both backends have been retained for the\ntime being. See the documentation for specific options\nregarding differences related to each backend.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The boto3\nbackend does not support bucket creation. This is a\ndeliberate choice which simplifies the code, and side steps\nproblems related to region selection. Additionally, it is\nprobably not a good practice to give your backup role bucket\ncreation rights. In most cases the role used for backups\nshould probably be limited to specific buckets.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The boto3\nbackend only supports newer domain style buckets. Amazon is\nmoving to deprecate the older bucket style, so migration is\nrecommended. Use the older s3 backend for compatibility with\nbackups stored in buckets using older naming\nconventions.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The boto3\nbackend does not currently support initiating restores from\nthe glacier storage class. When restoring a backup from\nglacier or glacier deep archive, the backup files must first\nbe restored out of band. There are multiple options when\nrestoring backups from cold storage, which vary in both cost\nand speed. See Amazon&rsquo;s documentation for details.</p>\n\n<h2>A NOTE ON AZURE ACCESS\n<a name=\"A NOTE ON AZURE ACCESS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The Azure\nbackend requires the Microsoft Azure Storage Blobs client\nlibrary for Python to be installed on the system. See\n<b>REQUIREMENTS</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">It uses the\nenvironment variable <b>AZURE_CONNECTION_STRING</b>\n(required). This string contains all necessary information\nsuch as Storage Account name and the key for authentication.\nYou can find it under Access Keys for the storage\naccount.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Duplicity will\ntake care to create the container when performing the\nbackup. Do not create it manually before.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">A container\nname (as given as the backup url) must be a valid DNS name,\nconforming to the following naming rules:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\">1.</p></td>\n<td width=\"7%\"></td>\n<td width=\"68%\">\n\n\n<p style=\"margin-top: 1em\">Container names must start with\na letter or number, and can contain only letters, numbers,\nand the dash (-) character.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"3%\">\n\n\n<p>2.</p></td>\n<td width=\"7%\"></td>\n<td width=\"68%\">\n\n\n<p>Every dash (-) character must be immediately preceded\nand followed by a letter or number; consecutive dashes are\nnot permitted in container names.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"3%\">\n\n\n<p>3.</p></td>\n<td width=\"7%\"></td>\n<td width=\"68%\">\n\n\n<p>All letters in a container name must be lowercase.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"3%\">\n\n\n<p>4.</p></td>\n<td width=\"7%\"></td>\n<td width=\"68%\">\n\n\n<p>Container names must be from 3 through 63 characters\nlong.</p> </td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\">These rules\ncome from Azure; see\nhttps://docs.microsoft.com/en-us/rest/api/storageservices/naming-and-referencing-containers--blobs--and-metadata</p>\n\n<h2>A NOTE ON BOX ACCESS\n<a name=\"A NOTE ON BOX ACCESS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The box backend\nrequires boxsdk with jwt support to be installed on the\nsystem. See <b>REQUIREMENTS</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">It uses the\nenvironment variable <b>BOX_CONFIG_PATH</b> (optional). This\nstring contains the path to box custom app&rsquo;s\nconfig.json. Either this environment variable or the\n<b>config</b> query parameter in the url need to be\nspecified, if both are specified, query paramter takes\nprecedence.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Create a Box\ncustom app</b> <br>\nIn order to use box backend, user need to create a box\ncustom app in the box developer console\n(https://app.box.com/developers/console).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">After create a\nnew custom app, please make sure it is configured as\nfollow:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\">1.</p></td>\n<td width=\"7%\"></td>\n<td width=\"68%\">\n\n\n<p style=\"margin-top: 1em\">Choose &quot;App Access\nOnly&quot; for &quot;App Access Level&quot;</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"3%\">\n\n\n<p>2.</p></td>\n<td width=\"7%\"></td>\n<td width=\"68%\">\n\n\n<p>Check &quot;Write all files and folders stored in\nBox&quot;</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"22%\"></td>\n<td width=\"3%\">\n\n\n<p>3.</p></td>\n<td width=\"7%\"></td>\n<td width=\"68%\">\n\n\n<p>Generate a Public/Private Keypair</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The user also\nneed to grant the created custom app permission in the admin\nconsole (https://app.box.com/master/custom-apps) by clicking\nthe &quot;+&quot; button and enter the client_id which can\nbe found on the custom app&rsquo;s configuration page.</p>\n\n<h2>A NOTE ON CLOUD FILES ACCESS\n<a name=\"A NOTE ON CLOUD FILES ACCESS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Pyrax is\nRackspace&rsquo;s next-generation Cloud management API,\nincluding Cloud Files access. The cfpyrax backend requires\nthe pyrax library to be installed on the system. See\n<b>REQUIREMENTS</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Cloudfiles is\nRackspace&rsquo;s now deprecated implementation of OpenStack\nObject Storage protocol. Users wishing to use Duplicity with\nRackspace Cloud Files should migrate to the new Pyrax plugin\nto ensure support.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The backend\nrequires python-cloudfiles to be installed on the system.\nSee <b>REQUIREMENTS</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">It uses three\nenvironment variables for authentification:\n<b>CLOUDFILES_USERNAME</b> (required),\n<b>CLOUDFILES_APIKEY</b> (required),\n<b>CLOUDFILES_AUTHURL</b> (optional)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If\n<b>CLOUDFILES_AUTHURL</b> is unspecified it will default to\nthe value provided by python-cloudfiles, which points to\nrackspace, hence this value <i>must</i> be set in order to\nuse other cloud files providers.</p>\n\n<h2>A NOTE ON DROPBOX ACCESS\n<a name=\"A NOTE ON DROPBOX ACCESS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\">1.</p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">First of all Dropbox backend\nrequires valid authentication token. It should be passed via\n<b>DPBX_ACCESS_TOKEN</b> environment variable.</p></td></tr>\n</table>\n\n<p style=\"margin-left:22%;\">To obtain it please create\n&rsquo;Dropbox API&rsquo; application at:\nhttps://www.dropbox.com/developers/apps/create <br>\nThen visit app settings and just use &rsquo;Generated access\ntoken&rsquo; under OAuth2 section. <br>\nAlternatively you can let duplicity generate access token\nitself. In such case temporary export <b>DPBX_APP_KEY ,\nDPBX_APP_SECRET</b> using values from app settings page and\nrun duplicity interactively. <br>\nIt will print the URL that you need to open in the browser\nto obtain OAuth2 token for the application. Just follow\non-screen instructions and then put generated token to\n<b>DPBX_ACCESS_TOKEN</b> variable. Once done, feel free to\nunset <b>DPBX_APP_KEY and DPBX_APP_SECRET</b></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\">2.</p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">&quot;some_dir&quot; must\nalready exist in the Dropbox folder. Depending on access\ntoken kind it may be:</p></td></tr>\n</table>\n\n<p style=\"margin-left:32%;\"><b>Full Dropbox:</b> path is\nabsolute and starts from &rsquo;Dropbox&rsquo; root folder.\n<b><br>\nApp Folder:</b> path is related to application folder.\nDropbox client will show it in\n<b>~/Dropbox/Apps/&lt;app-name&gt;</b></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\">3.</p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">When using Dropbox for storage,\nbe aware that all files, including the ones in the Apps\nfolder, will be synced to all connected computers. You may\nprefer to use a separate Dropbox account specially for the\nbackups, and not connect any computers to that account.\nAlternatively you can configure selective sync on all\ncomputers to avoid syncing of backup files</p></td></tr>\n</table>\n\n<h2>A NOTE ON EUROPEAN S3 BUCKETS\n<a name=\"A NOTE ON EUROPEAN S3 BUCKETS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Amazon S3\nprovides the ability to choose the location of a bucket upon\nits creation. The purpose is to enable the user to choose a\nlocation which is better located network topologically\nrelative to the user, because it may allow for faster data\ntransfers.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">duplicity will\ncreate a new bucket the first time a bucket access is\nattempted. At this point, the bucket will be created in\nEurope if <b>--s3-european-buckets</b> was given. For\nreasons having to do with how the Amazon S3 service works,\nthis also requires the use of the <b>--s3-use-new-style</b>\noption. This option turns on subdomain based bucket\naddressing in S3. The details are beyond the scope of this\nman page, but it is important to know that your bucket must\nnot contain upper case letters or any other characters that\nare not valid parts of a hostname. Consequently, for reasons\nof backwards compatibility, use of subdomain based bucket\naddressing is not enabled by default.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that you\nwill need to use <b>--s3-use-new-style</b> for all\noperations on European buckets; not just upon initial\ncreation.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">You only need\nto use <b>--s3-european-buckets</b> upon initial creation,\nbut you may may use it at all times for consistency.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Further note\nthat when creating a new European bucket, it can take a\nwhile before the bucket is fully accessible. At the time of\nthis writing it is unclear to what extent this is an\nexpected feature of Amazon S3, but in practice you may\nexperience timeouts, socket errors or HTTP errors when\ntrying to upload files to your newly created bucket. Give it\na few minutes and the bucket should function normally.</p>\n\n<h2>A NOTE ON FILENAME PREFIXES\n<a name=\"A NOTE ON FILENAME PREFIXES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Filename\nprefixes can be used in <b>multi backend</b> with\n<b>mirror</b> mode to define affinity rules. They can also\nbe used in conjunction with S3 lifecycle rules to transition\narchive files to Glacier, while keeping metadata (signature\nand manifest files) on S3.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Duplicity does\nnot require access to archive files except when restoring\nfrom backup.</p>\n\n<h2>A NOTE ON GOOGLE CLOUD STORAGE\n<a name=\"A NOTE ON GOOGLE CLOUD STORAGE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Support for\nGoogle Cloud Storage relies on its Interoperable Access,\nwhich must be enabled for your account. Once enabled, you\ncan generate Interoperable Storage Access Keys and pass them\nto duplicity via the <b>GS_ACCESS_KEY_ID</b> and\n<b>GS_SECRET_ACCESS_KEY</b> environment variables.\nAlternatively, you can run <b>gsutil config -a</b> to have\nthe Google Cloud Storage utility populate the <b>~/.boto</b>\nconfiguration file.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Enable\nInteroperable Access:\nhttps://code.google.com/apis/console#:storage <br>\nCreate Access Keys:\nhttps://code.google.com/apis/console#:storage:legacy</p>\n\n<h2>A NOTE ON HUBIC\n<a name=\"A NOTE ON HUBIC\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The hubic\nbackend requires the pyrax library to be installed on the\nsystem. See <b>REQUIREMENTS</b>. You will need to set your\ncredentials for hubiC in a file called ~/.hubic_credentials,\nfollowing this pattern:</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">[hubic] <br>\nemail = your_email <br>\npassword = your_password <br>\nclient_id = api_client_id <br>\nclient_secret = api_secret_key <br>\nredirect_uri = http://localhost/</p>\n\n<h2>A NOTE ON IMAP\n<a name=\"A NOTE ON IMAP\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">An IMAP account\ncan be used as a target for the upload. The userid may be\nspecified and the password will be requested.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>from_address_prefix</b> may be specified (and probably\nshould be). The text will be used as the &quot;From&quot;\naddress in the IMAP server. Then on a restore (or list)\ncommand the <b>from_address_prefix</b> will distinguish\nbetween different backups.</p>\n\n<h2>A NOTE ON MULTI BACKEND\n<a name=\"A NOTE ON MULTI BACKEND\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The multi\nbackend allows duplicity to combine the storage available in\nmore than one backend store (e.g., you can store across a\ngoogle drive account and a onedrive account to get\neffectively the combined storage available in both). The URL\npath specifies a JSON formated config file containing a list\nof the backends it will use. The URL may also specify\n&quot;query&quot; parameters to configure overall behavior.\nEach element of the list must have a &quot;url&quot;\nelement, and may also contain an optional\n&quot;description&quot; and an optional &quot;env&quot; list\nof environment variables used to configure that backend.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Query\nParameters</b> <br>\nQuery parameters come after the file URL in standard HTTP\nformat for example:</p>\n\n\n<p style=\"margin-left:22%;\">multi:///path/to/config.json?mode=mirror&amp;onfail=abort\n<br>\n\nmulti:///path/to/config.json?mode=stripe&amp;onfail=continue\n<br>\nmulti:///path/to/config.json?onfail=abort&amp;mode=stripe\n<br>\nmulti:///path/to/config.json?onfail=abort</p>\n\n<p style=\"margin-left:11%;\">Order does not matter, however\nunrecognized parameters are considered an error. <b><br>\nmode=</b><i>stripe</i></p>\n\n<p style=\"margin-left:22%;\">This mode (the default)\nperforms round-robin access to the list of backends. In this\nmode, all backends must be reliable as a loss of one means a\nloss of one of the archive files.</p>\n\n<p style=\"margin-left:11%;\"><b>mode=</b><i>mirror</i></p>\n\n<p style=\"margin-left:22%;\">This mode accesses backends as\na RAID1-store, storing every file in every backend and\nreading files from the first-successful backend. A loss of\nany backend should result in no failure. Note that backends\nadded later will only get new files and may require a manual\nsync with one of the other operating ones.</p>\n\n\n<p style=\"margin-left:11%;\"><b>onfail=</b><i>continue</i></p>\n\n<p style=\"margin-left:22%;\">This setting (the default)\ncontinues all write operations in as best-effort. Any\nfailure results in the next backend tried. Failure is\nreported only when all backends fail a given operation with\nthe error result from the last failure.</p>\n\n<p style=\"margin-left:11%;\"><b>onfail=</b><i>abort</i></p>\n\n<p style=\"margin-left:22%;\">This setting considers any\nbackend write failure as a terminating condition and reports\nthe error. Data reading and listing operations are\nindependent of this and will try with the next backend on\nfailure.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>JSON File\nExample</b></p>\n\n<p style=\"margin-left:22%;\">[ <br>\n{ <br>\n&quot;description&quot;: &quot;a comment about the\nbackend&quot; <br>\n&quot;url&quot;:\n&quot;abackend://myuser@domain.com/backup&quot;, <br>\n&quot;env&quot;: [ <br>\n{ <br>\n&quot;name&quot; : &quot;MYENV&quot;, <br>\n&quot;value&quot; : &quot;xyz&quot; <br>\n}, <br>\n{ <br>\n&quot;name&quot; : &quot;FOO&quot;, <br>\n&quot;value&quot; : &quot;bar&quot; <br>\n} <br>\n], <br>\n&quot;prefixes&quot;: [&quot;prefix1_&quot;,\n&quot;prefix2_&quot;] <br>\n}, <br>\n{ <br>\n&quot;url&quot;: &quot;file:///path/to/dir&quot; <br>\n} <br>\n]</p>\n\n<h2>A NOTE ON PAR2 WRAPPER BACKEND\n<a name=\"A NOTE ON PAR2 WRAPPER BACKEND\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Par2 Wrapper\nBackend can be used in combination with all other backends\nto create recovery files. Just add <b>par2+</b> before a\nregular scheme (e.g. <i>par2+ftp://user@host/dir</i> or\n<i>par2+s3+http://bucket_name</i> ). This will create par2\nrecovery files for each archive and upload them all to the\nwrapped backend.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Before\nrestoring, archives will be verified. Corrupt archives will\nbe repaired on the fly if there are enough recovery blocks\navailable.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Use\n<b>--par2-redundancy</b> <i>percent</i> to adjust the size\n(and redundancy) of recovery files in <i>percent.</i></p>\n\n<h2>A NOTE ON PYDRIVE BACKEND\n<a name=\"A NOTE ON PYDRIVE BACKEND\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The pydrive\nbackend requires Python PyDrive package to be installed on\nthe system. See <b>REQUIREMENTS</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">There are two\nways to use PyDrive: with a regular account or with a\n&quot;service account&quot;. With a service account, a\nseparate account is created, that is only accessible with\nGoogle APIs and not a web login. With a regular account, you\ncan store backups in your normal Google Drive.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">To use a\nservice account, go to the Google developers console at\nhttps://console.developers.google.com. Create a project, and\nmake sure Drive API is enabled for the project. Under\n&quot;APIs and auth&quot;, click Create New Client ID, then\nselect Service Account with P12 key.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Download the\n.p12 key file of the account and convert it to the .pem\nformat: <br>\nopenssl pkcs12 -in XXX.p12 -nodes -nocerts &gt;\npydriveprivatekey.pem</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The content of\n.pem file should be passed to\n<b>GOOGLE_DRIVE_ACCOUNT_KEY</b> environment variable for\nauthentification.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The email\naddress of the account will be used as part of URL. See\n<b>URL FORMAT</b> above.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The alternative\nis to use a regular account. To do this, start as above, but\nwhen creating a new Client ID, select &quot;Installed\napplication&quot; of type &quot;Other&quot;. Create a file\nwith the following content, and pass its filename in the\n<b>GOOGLE_DRIVE_SETTINGS</b> environment variable:</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">client_config_backend:\nsettings <br>\nclient_config: <br>\nclient_id: &lt;Client ID from developers&rsquo; console&gt;\n<br>\nclient_secret: &lt;Client secret from developers&rsquo;\nconsole&gt; <br>\nsave_credentials: True <br>\nsave_credentials_backend: file <br>\nsave_credentials_file: &lt;filename to cache credentials&gt;\n<br>\nget_refresh_token: True</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In this\nscenario, the username and host parts of the URL play no\nrole; only the path matters. During the first run, you will\nbe prompted to visit an URL in your browser to grant access\nto your drive. Once granted, you will receive a verification\ncode to paste back into Duplicity. The credentials are then\ncached in the file references above for future use.</p>\n\n<h2>A NOTE ON GDRIVE BACKEND\n<a name=\"A NOTE ON GDRIVE BACKEND\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">GDrive: is a\nrewritten PyDrive: backend with less dependencies, and a\nsimpler setup - it uses the JSON keys downloaded directly\nfrom Google Cloud Console.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note Google has\n2 drive methods, &rsquo;Shared(previously Team)\nDrives&rsquo; and &rsquo;My Drive&rsquo;, both can be shared\nbut require different addressing</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>For a Google\nShared Drives folder</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Share Drive ID\nspecified as a query parameter, driveID, in the backend URL.\nExample: <br>\n\ngdrive://developer.gserviceaccount.com/target-folder/?driveID=&lt;SHARED\nDRIVE ID&gt;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>For a Google\nMy Drive based shared folder</b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">MyDrive folder\nID specified as a query parameter, myDriveFolderID, in the\nbackend URL Example <br>\nexport\nGOOGLE_SERVICE_ACCOUNT_URL=&lt;serviceaccount-name&gt;@&lt;serviceaccount-name&gt;.iam.gserviceaccount.com\n<br>\n\ngdrive://${GOOGLE_SERVICE_ACCOUNT_URL}/&lt;target-folder-name-in-myDriveFolder&gt;?myDriveFolderID=&lt;google-myDrive-folder-id&gt;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">There are also\ntwo ways to authenticate to use GDrive: with a regular\naccount or with a &quot;service account&quot;. With a\nservice account, a separate account is created, that is only\naccessible with Google APIs and not a web login. With a\nregular account, you can store backups in your normal Google\nDrive.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">To use a\nservice account, go to the Google developers console at\nhttps://console.developers.google.com. Create a project, and\nmake sure Drive API is enabled for the project. In the\n&quot;Credentials&quot; section, click &quot;Create\ncredentials&quot;, then select Service Account with JSON\nkey.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\nGOOGLE_SERVICE_JSON_FILE environment variable needs to\ncontain the path to the JSON file on duplicity\ninvocation.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">export\nGOOGLE_SERVICE_JSON_FILE=&lt;path-to-serviceaccount-credentials.json&gt;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The alternative\nis to use a regular account. To do this, start as above, but\nwhen creating a new Client ID, select &quot;Create OAuth\nclient ID&quot;, with application type of &quot;Desktop\napp&quot;. Download the client_secret.json file for the new\nclient, and set the GOOGLE_CLIENT_SECRET_JSON_FILE\nenvironment variable to the path to this file, and\nGOOGLE_CREDENTIALS_FILE to a path to a file where duplicity\nwill keep the authentication token - this location must be\nwritable.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">During the\nfirst run, you will be prompted to visit an URL in your\nbrowser to grant access to your drive. Once granted, you\nwill receive a verification code to paste back into\nDuplicity. The credentials are then cached in the file\nreferences above for future use.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">As a sanity\ncheck, GDrive checks the host and username from the URL\nagainst the JSON key, and refuses to proceed if the\naddresses do not match. Either the email (for the service\naccounts) or Client ID (for regular OAuth accounts) must be\npresent in the URL. See <b>URL FORMAT</b> above.</p>\n\n<h2>A NOTE ON RCLONE BACKEND\n<a name=\"A NOTE ON RCLONE BACKEND\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Rclone is a\npowerful command line program to sync files and directories\nto and from various cloud storage providers.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Once you have\nconfigured an rclone remote via</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">rclone\nconfig</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">and\nsuccessfully set up a remote (e.g. gdrive for Google Drive),\nassuming you can list your remote files with</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">rclone ls\ngdrive:mydocuments</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">you can start\nyour backup with</p>\n\n<p style=\"margin-left:22%; margin-top: 1em\">duplicity\n/mydocuments rclone://gdrive:/mydocuments</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Please note the\nslash after the second colon. Some storage provider will\nwork with or without slash after colon, but some other will\nnot. Since duplicity will complain about malformed URL if a\nslash is not present, always put it after the colon, and the\nbackend will handle it for you.</p>\n\n<h2>A NOTE ON SSH BACKENDS\n<a name=\"A NOTE ON SSH BACKENDS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The <i>ssh\nbackends</i> support <i>sftp</i> and <i>scp/ssh</i>\ntransport protocols. This is a known user-confusing issue as\nthese are fundamentally different. If you plan to access\nyour backend via one of those please inform yourself about\nthe requirements for a server to support <i>sftp</i> or\n<i>scp/ssh</i> access. To make it even more confusing the\nuser can choose between several ssh backends via a scheme\nprefix: paramiko+ (default), pexpect+, lftp+... . <br>\nparamiko &amp; pexpect support <b>--use-scp</b>,\n<b>--ssh-askpass</b> and <b>--ssh-options</b>. Only the\n<b>pexpect</b> backend allows to define <b>--scp-command</b>\nand <b>--sftp-command</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>SSH paramiko\nbackend</b> (default) is a complete reimplementation of ssh\nprotocols natively in python. Advantages are speed and\nmaintainability. Minor disadvantage is that extra packages\nare needed as listed in <b>REQUIREMENTS</b>. In <i>sftp</i>\n(default) mode all operations are done via the according\nsftp commands. In <i>scp</i> mode ( <i>--use-scp</i> )\nthough scp access is used for put/get operations but listing\nis done via ssh remote shell.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>SSH pexpect\nbackend</b> is the legacy ssh backend using the command line\nssh binaries via pexpect. Older versions used <i>scp</i> for\nget and put operations and <i>sftp</i> for list and delete\noperations. The current version uses <i>sftp</i> for all\nfour supported operations, unless the <i>--use-scp</i>\noption is used to revert to old behavior.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>SSH lftp\nbackend</b> is simply there because lftp can interact with\nthe ssh cmd line binaries. It is meant as a last resort in\ncase the above options fail for some reason.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Why use sftp\ninstead of scp?</b> The change to sftp was made in order to\nallow the remote system to chroot the backup, thus providing\nbetter security and because it does not suffer from shell\nquoting issues like scp. Scp also does not support any kind\nof file listing, so sftp or ssh access will always be needed\nin addition for this backend mode to work properly. Sftp\ndoes not have these limitations but needs an sftp service\nrunning on the backend server, which is sometimes not an\noption.</p>\n\n<h2>A NOTE ON SSL CERTIFICATE VERIFICATION\n<a name=\"A NOTE ON SSL CERTIFICATE VERIFICATION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Certificate\nverification as implemented right now [02.2016] only in the\nwebdav and lftp backends. older pythons 2.7.8- and older\nlftp binaries need a file based database of certification\nauthority certificates (cacert file). <br>\nNewer python 2.7.9+ and recent lftp versions however support\nthe system default certificates (usually in /etc/ssl/certs)\nand also giving an alternative ca cert folder via\n<b>--ssl-cacert-path</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The cacert file\nhas to be a <b>PEM</b> formatted text file as currently\nprovided by the <b>CURL</b> project. See</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">http://curl.haxx.se/docs/caextract.html</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">After\ncreating/retrieving a valid cacert file you should copy it\nto either</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">~/.duplicity/cacert.pem\n<br>\n~/duplicity_cacert.pem <br>\n/etc/duplicity/cacert.pem</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Duplicity\nsearches it there in the same order and will fail if it\ncan&rsquo;t find it. You can however specify the option\n<b>--ssl-cacert-file</b> <i>&lt;file&gt;</i> to point\nduplicity to a copy in a different location.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Finally there\nis the <b>--ssl-no-check-certificate</b> option to disable\ncertificate verification alltogether, in case some ssl\nlibrary is missing or verification is not wanted. Use it\nwith care, as even with self signed servers manually\nproviding the private ca certificate is definitely the safer\noption.</p>\n\n<h2>A NOTE ON SWIFT (OPENSTACK OBJECT STORAGE) ACCESS\n<a name=\"A NOTE ON SWIFT (OPENSTACK OBJECT STORAGE) ACCESS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Swift is the\nOpenStack Object Storage service. <br>\nThe backend requires python-switclient to be installed on\nthe system. python-keystoneclient is also needed to use\nOpenStack&rsquo;s Keystone Identity service. See\n<b>REQUIREMENTS</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">It uses\nfollowing environment variables for authentification:\n<b>SWIFT_USERNAME</b> (required), <b>SWIFT_PASSWORD</b>\n(required), <b>SWIFT_AUTHURL</b> (required),\n<b>SWIFT_USERID</b> (required, only for IBM Bluemix\nObjectStorage), <b>SWIFT_TENANTID</b> (required, only for\nIBM Bluemix ObjectStorage), <b>SWIFT_REGIONNAME</b>\n(required, only for IBM Bluemix ObjectStorage),\n<b>SWIFT_TENANTNAME</b> (optional, the tenant can be\nincluded in the username)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the user was\npreviously authenticated, the following environment\nvariables can be used instead: <b>SWIFT_PREAUTHURL</b>\n(required), <b>SWIFT_PREAUTHTOKEN</b> (required)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If\n<b>SWIFT_AUTHVERSION</b> is unspecified, it will default to\nversion 1.</p>\n\n<h2>A NOTE ON PCA ACCESS\n<a name=\"A NOTE ON PCA ACCESS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">PCA is a\nlong-term data archival solution by OVH. It runs a slightly\nmodified version of Openstack Swift introducing latency in\nthe data retrieval process. It is a good pick for a <b>multi\nbackend</b> configuration where receiving volumes while an\nother backend is used to store manifests and signatures.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The backend\nrequires python-switclient to be installed on the system.\npython-keystoneclient is also needed to interact with\nOpenStack&rsquo;s Keystone Identity service. See\n<b>REQUIREMENTS</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">It uses\nfollowing environment variables for authentification:\n<b>PCA_USERNAME</b> (required), <b>PCA_PASSWORD</b>\n(required), <b>PCA_AUTHURL</b> (required), <b>PCA_USERID</b>\n(optional), <b>PCA_TENANTID</b> (optional, but either the\ntenant name or tenant id must be supplied)\n<b>PCA_REGIONNAME</b> (optional), <b>PCA_TENANTNAME</b>\n(optional, but either the tenant name or tenant id must be\nsupplied)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the user was\npreviously authenticated, the following environment\nvariables can be used instead: <b>PCA_PREAUTHURL</b>\n(required), <b>PCA_PREAUTHTOKEN</b> (required)</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If\n<b>PCA_AUTHVERSION</b> is unspecified, it will default to\nversion 2.</p>\n\n<h2>A NOTE ON MEDIAFIRE BACKEND\n<a name=\"A NOTE ON MEDIAFIRE BACKEND\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This backend\nrequires <b>mediafire</b> python library to be installed on\nthe system. See <b>REQUIREMENTS</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Use URL\nescaping for username (and password, if provided via command\nline):</p>\n\n\n<p style=\"margin-left:22%; margin-top: 1em\">mf://duplicity%40example.com@mediafire.com/some_folder</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The destination\nfolder will be created for you if it does not exist.</p>\n\n<h2>A NOTE ON SYMMETRIC ENCRYPTION AND SIGNING\n<a name=\"A NOTE ON SYMMETRIC ENCRYPTION AND SIGNING\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Signing and\nsymmetrically encrypt at the same time with the gpg binary\non the command line, as used within duplicity, is a\nspecifically challenging issue. Tests showed that the\nfollowing combinations proved working.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">1. Setup\ngpg-agent properly. Use the option <b>--use-agent</b> and\nenter both passphrases (symmetric and sign key) in the\ngpg-agent&rsquo;s dialog.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">2. Use a\n<b>PASSPHRASE</b> for symmetric encryption of your choice\nbut the signing key has an <b>empty</b> passphrase.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">3. The used\n<b>PASSPHRASE</b> for symmetric encryption and the\npassphrase of the signing key are identical.</p>\n\n<h2>KNOWN ISSUES / BUGS\n<a name=\"KNOWN ISSUES / BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Hard links\ncurrently unsupported (they will be treated as non-linked\nregular files).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Bad signatures\nwill be treated as empty instead of logging appropriate\nerror message.</p>\n\n<h2>OPERATION AND DATA FORMATS\n<a name=\"OPERATION AND DATA FORMATS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This section\ndescribes duplicity&rsquo;s basic operation and the format\nof its data files. It should not be necessary to read this\nsection to use duplicity.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The files used\nby duplicity to store backup data are tarfiles in GNU tar\nformat. They can be produced independently by\n<a href=\"https://man.page/1/rdiffdir\">rdiffdir(1)</a>. For incremental backups, new files are\nsaved normally in the tarfile. But when a file changes,\ninstead of storing a complete copy of the file, only a diff\nis stored, as generated by <a href=\"https://man.page/1/rdiff\">rdiff(1)</a>. If a file is\ndeleted, a 0 length file is stored in the tar. It is\npossible to restore a duplicity archive &quot;manually&quot;\nby using <b>tar</b> and then <b>cp</b>, <b>rdiff</b>, and\n<b>rm</b> as necessary. These duplicity archives have the\nextension <b>difftar</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Both full and\nincremental backup sets have the same format. In effect, a\nfull backup set is an incremental one generated from an\nempty signature (see below). The files in full backup sets\nwill start with <b>duplicity-full</b> while the incremental\nsets start with <b>duplicity-inc</b>. When restoring,\nduplicity applies patches in order, so deleting, for\ninstance, a full backup set may make related incremental\nbackup sets unusable.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In order to\ndetermine which files have been deleted, and to calculate\ndiffs for changed files, duplicity needs to process\ninformation about previous sessions. It stores this\ninformation in the form of tarfiles where each entry&rsquo;s\ndata contains the signature (as produced by <b>rdiff</b>) of\nthe file instead of the file&rsquo;s contents. These\nsignature sets have the extension <b>sigtar</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Signature files\nare not required to restore a backup set, but without an\nup-to-date signature, duplicity cannot append an incremental\nbackup to an existing archive.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">To save\nbandwidth, duplicity generates full signature sets and\nincremental signature sets. A full signature set is\ngenerated for each full backup, and an incremental one for\neach incremental backup. These start with\n<b>duplicity-full-signatures</b> and\n<b>duplicity-new-signatures</b> respectively. These\nsignatures will be stored both locally and remotely. The\nremote signatures will be encrypted if encryption is\nenabled. The local signatures will not be encrypted and\nstored in the archive dir (see <b>--archive-dir</b> ).</p>\n\n<h2>REQUIREMENTS\n<a name=\"REQUIREMENTS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Duplicity\nrequires a POSIX-like operating system with a <b>python</b>\ninterpreter version 2.6+ installed. It is best used under\nGNU/Linux.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Some backends\nalso require additional components (probably available as\npackages for your specific platform): <b><br>\nAmazon Drive backend</b></p>\n\n<p style=\"margin-left:22%;\"><b>python-requests</b> -\nhttp://python-requests.org <b><br>\npython-requests-oauthlib</b> -\nhttps://github.com/requests/requests-oauthlib</p>\n\n<p style=\"margin-left:11%;\"><b>azure backend</b> (Azure\nStorage Blob Service)</p>\n\n<p style=\"margin-left:22%;\"><b>Microsoft Azure Storage\nBlobs client library for Python</b> -\nhttps://pypi.org/project/azure-storage-blob/</p>\n\n<p style=\"margin-left:11%;\"><b>boto backend</b> (S3 Amazon\nWeb Services, Google Cloud Storage)</p>\n\n<p style=\"margin-left:22%;\"><b>boto version 2.0+</b> -\nhttp://github.com/boto/boto</p>\n\n<p style=\"margin-left:11%;\"><b>box backend</b>\n(box.com)</p>\n\n<p style=\"margin-left:22%;\"><b>boxsdk</b> -\nhttps://github.com/box/box-python-sdk</p>\n\n<p style=\"margin-left:11%;\"><b>cfpyrax backend</b>\n(Rackspace Cloud) and <b>hubic backend</b> (hubic.com)</p>\n\n<p style=\"margin-left:22%;\"><b>Rackspace CloudFiles Pyrax\nAPI</b> -\nhttp://docs.rackspace.com/sdks/guide/content/python.html</p>\n\n<p style=\"margin-left:11%;\"><b>dpbx backend</b>\n(Dropbox)</p>\n\n<p style=\"margin-left:22%;\"><b>Dropbox Python SDK</b> -\nhttps://www.dropbox.com/developers/reference/sdk</p>\n\n<p style=\"margin-left:11%;\"><b>gdocs gdata backend</b>\n(legacy Google Docs backend)</p>\n\n<p style=\"margin-left:22%;\"><b>Google Data APIs Python\nClient Library</b> -\nhttp://code.google.com/p/gdata-python-client/</p>\n\n<p style=\"margin-left:11%;\"><b>gdocs pydrive\nbackend</b>(default)</p>\n\n<p style=\"margin-left:22%;\">see pydrive backend</p>\n\n<p style=\"margin-left:11%;\"><b>gio backend</b> (Gnome VFS\nAPI)</p>\n\n<p style=\"margin-left:22%;\"><b>PyGObject</b> -\nhttp://live.gnome.org/PyGObject <b><br>\nD-Bus</b> (dbus)-\nhttp://www.freedesktop.org/wiki/Software/dbus</p>\n\n<p style=\"margin-left:11%;\"><b>lftp backend</b> (needed for\nftp, ftps, fish [over ssh] - also supports <br>\nsftp, webdav[s])</p>\n\n<p style=\"margin-left:22%;\"><b>LFTP Client</b> -\nhttp://lftp.yar.ru/</p>\n\n<p style=\"margin-left:11%;\"><b>MEGA backend (only works for\naccounts created prior to November 2018)</b> <br>\n(mega.nz)</p>\n\n<p style=\"margin-left:22%;\"><b>megatools client</b> -\nhttps://github.com/megous/megatools</p>\n\n<p style=\"margin-left:11%;\"><b>MEGA v2 and v3 backend\n(works for all MEGA accounts)</b> (mega.nz)</p>\n\n<p style=\"margin-left:22%;\"><b>MEGAcmd client</b> -\nhttps://mega.nz/cmd</p>\n\n<p style=\"margin-left:11%;\"><b>multi backend</b></p>\n\n<p style=\"margin-left:22%;\"><b>Multi -- store to more than\none backend</b> <br>\n(also see <b>A NOTE ON MULTI BACKEND</b> ) below.</p>\n\n<p style=\"margin-left:11%;\"><b>ncftp backend</b> (ftp,\nselect via ncftp+ftp://)</p>\n\n<p style=\"margin-left:22%;\"><b>NcFTP</b> -\nhttp://www.ncftp.com/</p>\n\n<p style=\"margin-left:11%;\"><b>OneDrive backend</b>\n(Microsoft OneDrive)</p>\n\n\n<p style=\"margin-left:22%;\"><b>python-requests-oauthlib</b>\n- https://github.com/requests/requests-oauthlib</p>\n\n<p style=\"margin-left:11%;\"><b>Par2 Wrapper Backend</b></p>\n\n<p style=\"margin-left:22%;\"><b>par2cmdline</b> -\nhttp://parchive.sourceforge.net/</p>\n\n<p style=\"margin-left:11%;\"><b>pydrive backend</b></p>\n\n<p style=\"margin-left:22%;\"><b>PyDrive -- a wrapper library\nof google-api-python-client</b> -\nhttps://pypi.python.org/pypi/PyDrive <br>\n(also see <b>A NOTE ON PYDRIVE BACKEND</b> ) below.</p>\n\n<p style=\"margin-left:11%;\"><b>rclone backend</b></p>\n\n<p style=\"margin-left:22%;\"><b>rclone</b> -\nhttps://rclone.org/</p>\n\n<p style=\"margin-left:11%;\"><b>rsync backend</b></p>\n\n<p style=\"margin-left:22%;\"><b>rsync client binary</b> -\nhttp://rsync.samba.org/</p>\n\n<p style=\"margin-left:11%;\"><b>ssh paramiko backend</b>\n(default)</p>\n\n<p style=\"margin-left:22%;\"><b>paramiko</b> (SSH2 for\npython) - http://pypi.python.org/pypi/paramiko (downloads);\nhttp://github.com/paramiko/paramiko (project page) <b><br>\npycrypto</b> (Python Cryptography Toolkit) -\nhttp://www.dlitz.net/software/pycrypto/</p>\n\n<p style=\"margin-left:11%;\"><b>ssh pexpect backend</b></p>\n\n<p style=\"margin-left:22%;\"><b>sftp/scp client binaries</b>\nOpenSSH - http://www.openssh.com/ <b><br>\nPython pexpect module</b> -\nhttp://pexpect.sourceforge.net/pexpect.html</p>\n\n<p style=\"margin-left:11%;\"><b>swift backend (OpenStack\nObject Storage)</b></p>\n\n<p style=\"margin-left:22%;\"><b>Python swiftclient\nmodule</b> -\nhttps://github.com/openstack/python-swiftclient/ <b><br>\nPython keystoneclient module</b> -\nhttps://github.com/openstack/python-keystoneclient/</p>\n\n<p style=\"margin-left:11%;\"><b>webdav backend</b></p>\n\n<p style=\"margin-left:22%;\"><b>certificate authority\ndatabase file</b> for ssl certificate verification of HTTPS\nconnections - http://curl.haxx.se/docs/caextract.html <br>\n(also see <b>A NOTE ON SSL CERTIFICATE VERIFICATION</b>).\n<b><br>\nPython kerberos module</b> for kerberos authentication -\nhttps://github.com/02strich/pykerberos</p>\n\n<p style=\"margin-left:11%;\"><b>MediaFire backend</b></p>\n\n<p style=\"margin-left:22%;\"><b>MediaFire Python Open\nSDK</b> - https://pypi.python.org/pypi/mediafire/</p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Original\nAuthor</b> - Ben Escoto &lt;bescoto@stanford.edu&gt; <b><br>\nCurrent Maintainer</b> - Kenneth Loafman\n&lt;kenneth@loafman.com&gt; <b><br>\nContinuous Contributors</b></p>\n\n<p style=\"margin-left:22%;\">Edgar Soldin, Mike Terry</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Most backends\nwere contributed individually. Information about their\nauthorship may be found in the according file&rsquo;s\nheader.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Also we&rsquo;d\nlike to thank everybody posting issues to the mailing list\nor on launchpad, sending in patches or contributing\notherwise. Duplicity wouldn&rsquo;t be as stable and useful\nif it weren&rsquo;t for you.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">A special\nthanks goes to rsync.net, a Cloud Storage provider with\nexplicit support for duplicity, for several monetary\ndonations and for providing a special &quot;duplicity\nfriends&quot; rate for their offsite backup service. Email\ninfo@rsync.net for details.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/rdiffdir\">rdiffdir(1)</a>,\n<a href=\"https://man.page/1/python\">python(1)</a>, <a href=\"https://man.page/1/rdiff\">rdiff(1)</a>,\n<a href=\"https://man.page/1/rdiff-backup\">rdiff-backup(1)</a>.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>","<a href=\"#ACTIONS\">ACTIONS</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#ENVIRONMENT VARIABLES\">ENVIRONMENT VARIABLES</a>","<a href=\"#URL FORMAT\">URL FORMAT</a>","<a href=\"#TIME FORMATS\">TIME FORMATS</a>","<a href=\"#FILE SELECTION\">FILE SELECTION</a>","<a href=\"#A NOTE ON AMAZON DRIVE\">A NOTE ON AMAZON DRIVE</a>","<a href=\"#A NOTE ON AMAZON S3\">A NOTE ON AMAZON S3</a>","<a href=\"#A NOTE ON AZURE ACCESS\">A NOTE ON AZURE ACCESS</a>","<a href=\"#A NOTE ON BOX ACCESS\">A NOTE ON BOX ACCESS</a>","<a href=\"#A NOTE ON CLOUD FILES ACCESS\">A NOTE ON CLOUD FILES ACCESS</a>","<a href=\"#A NOTE ON DROPBOX ACCESS\">A NOTE ON DROPBOX ACCESS</a>","<a href=\"#A NOTE ON EUROPEAN S3 BUCKETS\">A NOTE ON EUROPEAN S3 BUCKETS</a>","<a href=\"#A NOTE ON FILENAME PREFIXES\">A NOTE ON FILENAME PREFIXES</a>","<a href=\"#A NOTE ON GOOGLE CLOUD STORAGE\">A NOTE ON GOOGLE CLOUD STORAGE</a>","<a href=\"#A NOTE ON HUBIC\">A NOTE ON HUBIC</a>","<a href=\"#A NOTE ON IMAP\">A NOTE ON IMAP</a>","<a href=\"#A NOTE ON MULTI BACKEND\">A NOTE ON MULTI BACKEND</a>","<a href=\"#A NOTE ON PAR2 WRAPPER BACKEND\">A NOTE ON PAR2 WRAPPER BACKEND</a>","<a href=\"#A NOTE ON PYDRIVE BACKEND\">A NOTE ON PYDRIVE BACKEND</a>","<a href=\"#A NOTE ON GDRIVE BACKEND\">A NOTE ON GDRIVE BACKEND</a>","<a href=\"#A NOTE ON RCLONE BACKEND\">A NOTE ON RCLONE BACKEND</a>","<a href=\"#A NOTE ON SSH BACKENDS\">A NOTE ON SSH BACKENDS</a>","<a href=\"#A NOTE ON SSL CERTIFICATE VERIFICATION\">A NOTE ON SSL CERTIFICATE VERIFICATION</a>","<a href=\"#A NOTE ON SWIFT (OPENSTACK OBJECT STORAGE) ACCESS\">A NOTE ON SWIFT (OPENSTACK OBJECT STORAGE) ACCESS</a>","<a href=\"#A NOTE ON PCA ACCESS\">A NOTE ON PCA ACCESS</a>","<a href=\"#A NOTE ON MEDIAFIRE BACKEND\">A NOTE ON MEDIAFIRE BACKEND</a>","<a href=\"#A NOTE ON SYMMETRIC ENCRYPTION AND SIGNING\">A NOTE ON SYMMETRIC ENCRYPTION AND SIGNING</a>","<a href=\"#KNOWN ISSUES / BUGS\">KNOWN ISSUES / BUGS</a>","<a href=\"#OPERATION AND DATA FORMATS\">OPERATION AND DATA FORMATS</a>","<a href=\"#REQUIREMENTS\">REQUIREMENTS</a>","<a href=\"#AUTHOR\">AUTHOR</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"]}