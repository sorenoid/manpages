{"name":"usb_modeswitch","description":"usb_modeswitch\n- control the mode of &rsquo;multi-state&rsquo; USB\ndevices","body":"\n\n<h1 align=\"center\">USB_MODESWITCH</h1>\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">usb_modeswitch\n- control the mode of &rsquo;multi-state&rsquo; USB\ndevices</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>usb_modeswitch</b>\n[<b>-heWQDIvpVPmM23rwKdHSOBGTNALnsRiuagft</b>] [<b>-c</b>\n<i>filename</i><b>]</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Several new USB\ndevices have their proprietary Windows drivers onboard, most\nof them WWAN and WLAN dongles. When plugged in for the first\ntime, they act like a flash storage and start installing the\nWindows driver from there. If the driver is installed, it\nmakes the storage device disappear and a new device, mainly\ncomposite (e.g. with modem ports), shows up.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">On Linux, in\nmost cases the drivers are available as kernel modules, such\nas &quot;usbserial&quot; or &quot;option&quot;. However, the\ndevice initially binds to &quot;usb-storage&quot; by\ndefault. <b>usb_modeswitch</b> can then send a provided bulk\nmessage (most likely a mass storage command) to the device;\nthis message has to be determined by analyzing the actions\nof the Windows driver.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In some cases,\nUSB control commands are used for switching. These cases are\nhandled by custom functions, and no bulk message needs to be\nprovided.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Usually, the\nprogram is distributed with a set of configurations for many\nknown devices, which allows a fully automatic handling of a\ndevice upon insertion, made possible by combining\nusb_modeswitch with the wrapper script\n<b>usb_modeswitch_dispatcher</b> which is launched by the\nudev daemon. This requires a Linux-flavoured system\nthough.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Note that\n<b>usb_modeswitch</b> itself has no specific Linux\ndependencies.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This program\nfollows the usual GNU command line syntax, with long options\nstarting with two dashes (&rsquo;--&rsquo;). A summary of\noptions is included below.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"14%\">\n\n\n<p><b>-h --help</b></p></td>\n<td width=\"1%\"></td>\n<td width=\"37%\">\n\n\n<p>Show summary of options.</p></td>\n<td width=\"37%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>-e --version</b></p>\n\n<p style=\"margin-left:26%;\">Print version information and\nexit</p>\n\n<p style=\"margin-left:11%;\"><b>-v --default-vendor\nNUM</b></p>\n\n<p style=\"margin-left:26%;\">Vendor ID to look for\n(mandatory), usually given as hex number (example: 0x12d1).\nEach USB device is identified by a number officially\nassigned to the vendor by the USB association and a number\nfor the respective model (product ID) chosen by the\nvendor</p>\n\n<p style=\"margin-left:11%;\"><b>-p --default-product\nNUM</b></p>\n\n<p style=\"margin-left:26%;\">Product ID to look for\n(mandatory)</p>\n\n<p style=\"margin-left:11%;\"><b>-V --target-vendor\nNUM</b></p>\n\n<p style=\"margin-left:26%;\">Target vendor ID. When given\nwill be searched for and detected initially for information\npurposes. If success checking (option -s) is active,\nproviding target IDs (vendor/product) or target class is\nrecommended</p>\n\n<p style=\"margin-left:11%;\"><b>-j --find-mbim</b></p>\n\n<p style=\"margin-left:26%;\">Return configuration number\nwith MBIM interface and exit.</p>\n\n<p style=\"margin-left:11%;\"><b>-P --target-product\nNUM</b></p>\n\n<p style=\"margin-left:26%;\">Target product ID</p>\n\n<p style=\"margin-left:11%;\"><b>-b --bus-num NUM <br>\n-g --device-num NUM</b></p>\n\n<p style=\"margin-left:26%;\">If bus and device number are\nprovided, the handling of a specific device on a specific\nUSB port is guaranteed, in contrast to using only the USB\nID. This is important if there are multiple similar devices\non a system</p>\n\n<p style=\"margin-left:11%;\"><b>-C --target-class\nNUM</b></p>\n\n<p style=\"margin-left:26%;\">Target Device Class according\nto the USB specification. Some devices keep their original\nvendor/product ID after successful switching. To prevent\nthem from being treated again, the device class can be\nchecked. For unswitched devices it is always 8 (storage\nclass), for switched modems it is often 0xff (vendor\nspecific). In composite modes, the class of the first\ninterface is watched</p>\n\n<p style=\"margin-left:11%;\"><b>-m --message-endpoint\nNUM</b></p>\n\n<p style=\"margin-left:26%;\">A specific endpoint to use for\ndata transfers. Only for testing purposes; usually endpoints\nare determined from the device attributes</p>\n\n<p style=\"margin-left:11%;\"><b>-M --message-content\nSTRING</b></p>\n\n<p style=\"margin-left:26%;\">A bulk message to send as a\nswitching command. Provided as a hexadecimal string</p>\n\n<p style=\"margin-left:11%;\"><b>-2 --message-content2 STRING\n<br>\n-3 --message-content3 STRING</b></p>\n\n<p style=\"margin-left:26%;\">Additional bulk messages to\nsend as switching commands. Provided as hexadecimal strings.\nWhen used with mass storage commands, setting\n<b>--need-response</b> is strongly advised to comply with\nspecifications and to avoid likely errors</p>\n\n<p style=\"margin-left:11%;\"><b>-w --release-delay\n&lt;milliseconds&gt;</b></p>\n\n<p style=\"margin-left:26%;\">After issuing all bulk\nmessages, wait for the given time before releasing the\ninterface. Required for some modems on older systems\n(especially after an EJECT message)</p>\n\n<p style=\"margin-left:11%;\"><b>-n --need-response</b></p>\n\n<p style=\"margin-left:26%;\">Obsolete. CSW is always\nattempted to being read after mass storage transfers. No\ndownside</p>\n\n<p style=\"margin-left:11%;\"><b>-r --response-endpoint\nNUM</b></p>\n\n<p style=\"margin-left:26%;\">Try to read the response to a\nstorage command from there. Only for testing purposes;\nusually endpoints are determined from the device\nattributes</p>\n\n<p style=\"margin-left:11%;\"><b>-K --std-eject</b></p>\n\n<p style=\"margin-left:26%;\">Apply the standard SCSI\nsequence of &quot;Allow Medium Removal&quot; and\n&quot;Eject&quot;. Implies <b>-n</b>. One\n&rsquo;Message&rsquo; can be added with <b>-M</b> that will\nbe transmitted after the eject sequence. Used by many\nmodems</p>\n\n<p style=\"margin-left:11%;\"><b>-d --detach-only</b></p>\n\n<p style=\"margin-left:26%;\">Just detach the current driver.\nThis is sufficient for some early devices to switch\nsuccessfully. Otherwise this feature can be used as a\n&rsquo;scalpel&rsquo; for special cases, like separating the\ndriver from individual interfaces</p>\n\n<p style=\"margin-left:11%;\"><b>-H --huawei-mode</b></p>\n\n<p style=\"margin-left:26%;\">Send a special control message\nused by older Huawei devices</p>\n\n<p style=\"margin-left:11%;\"><b>-J --huawei-new-mode</b></p>\n\n<p style=\"margin-left:26%;\">Send a specific bulk message\nused by all newer Huawei devices</p>\n\n<p style=\"margin-left:11%;\"><b>-X --huawei-alt-mode</b></p>\n\n<p style=\"margin-left:26%;\">Send an alternative bulk\nmessage to Huawei devices</p>\n\n<p style=\"margin-left:11%;\"><b>-S --sierra-mode</b></p>\n\n<p style=\"margin-left:26%;\">Send a special control message\nused by Sierra devices</p>\n\n<p style=\"margin-left:11%;\"><b>-G --gct-mode</b></p>\n\n<p style=\"margin-left:26%;\">Send a special control message\nused by GCT chipsets</p>\n\n<p style=\"margin-left:11%;\"><b>-T --kobil-mode</b></p>\n\n<p style=\"margin-left:26%;\">Send a special control message\nused by Kobil devices</p>\n\n<p style=\"margin-left:11%;\"><b>-N --sequans-mode</b></p>\n\n<p style=\"margin-left:26%;\">Send a special control message\nused by Sequans chipset</p>\n\n<p style=\"margin-left:11%;\"><b>-A\n--mobileaction-mode</b></p>\n\n<p style=\"margin-left:26%;\">Send a special control message\nused by the MobileAction device</p>\n\n<p style=\"margin-left:11%;\"><b>-B --qisda-mode</b></p>\n\n<p style=\"margin-left:26%;\">Send a special control message\nused by Qisda devices</p>\n\n<p style=\"margin-left:11%;\"><b>-E --quanta-mode</b></p>\n\n<p style=\"margin-left:26%;\">Send a special control message\nused by Quanta devices</p>\n\n<p style=\"margin-left:11%;\"><b>-F --pantech-mode\nNUM</b></p>\n\n<p style=\"margin-left:26%;\">Send a special control message\nused by Pantech devices. Value NUM will be used in control\nmessage as &rsquo;wValue&rsquo;</p>\n\n<p style=\"margin-left:11%;\"><b>-Z --blackberry-mode</b></p>\n\n<p style=\"margin-left:26%;\">Send a special control message\nused by some newer Blackberry devices</p>\n\n<p style=\"margin-left:11%;\"><b>-S --option-mode</b></p>\n\n<p style=\"margin-left:26%;\">Send a special control message\nused by all Option devices</p>\n\n<p style=\"margin-left:11%;\"><b>-O --sony-mode</b></p>\n\n<p style=\"margin-left:26%;\">Apply a special sequence used\nby Sony Ericsson devices. Implies option --check-success</p>\n\n<p style=\"margin-left:11%;\"><b>-L --cisco-mode</b></p>\n\n<p style=\"margin-left:26%;\">Send a sequence of bulk\nmessages used by Cisco devices</p>\n\n<p style=\"margin-left:11%;\"><b>-R --reset-usb</b></p>\n\n<p style=\"margin-left:26%;\">Send a USB reset command to the\ndevice. Can be combined with any switching method or stand\nalone. It is always done as the last step of all device\ninteractions. Few devices need it to complete the switching;\napart from that it may be useful during testing</p>\n\n<p style=\"margin-left:11%;\"><b>-c --config-file\nFILENAME</b></p>\n\n<p style=\"margin-left:26%;\">Use a specific config file. If\nany ID or switching options are given as command line\nparameters, this option is ignored. In that case all\nmandatory parameters have to be provided on the command\nline</p>\n\n<p style=\"margin-left:11%;\"><b>-f --long-config\nSTRING</b></p>\n\n<p style=\"margin-left:26%;\">Provide device details in\nconfig file syntax as a multiline string on the command\nline</p>\n\n<p style=\"margin-left:11%;\"><b>-t --stdinput</b></p>\n\n<p style=\"margin-left:26%;\">Read the device details in\nconfig file syntax from standard input, e.g. redirected from\na command pipe (multiline text)</p>\n\n<p style=\"margin-left:11%;\"><b>-Q --quiet</b></p>\n\n<p style=\"margin-left:26%;\">Don&rsquo;t show progress or\nerror messages</p>\n\n<p style=\"margin-left:11%;\"><b>-W --verbose</b></p>\n\n<p style=\"margin-left:26%;\">Print all settings before\nrunning and show libusb debug messages</p>\n\n<p style=\"margin-left:11%;\"><b>-D --sysmode</b></p>\n\n<p style=\"margin-left:26%;\">Changes the behaviour of the\nprogram slightly. A success message including the effective\ntarget device ID is put out and a syslog notice is issued.\nMainly for integration with a wrapper script</p>\n\n<p style=\"margin-left:11%;\"><b>-s --check-success\n&lt;seconds&gt;</b></p>\n\n<p style=\"margin-left:26%;\">After switching, keep checking\nfor the result up to the given time. If target IDs or target\nclass were provided, their appearance indicates certain\nsuccess. Otherwise the disconnection of the original device\nis rated as likely proof</p>\n\n<p style=\"margin-left:11%;\"><b>-I --inquire</b></p>\n\n<p style=\"margin-left:26%;\">Obsolete. Formerly obtained\nSCSI attributes, now ignored</p>\n\n<p style=\"margin-left:11%;\"><b>-i --interface NUM</b></p>\n\n<p style=\"margin-left:26%;\">Select initial USB interface\n(default: 0). Only for testing purposes</p>\n\n<p style=\"margin-left:11%;\"><b>-u --configuration\nNUM</b></p>\n\n<p style=\"margin-left:26%;\">Select USB configuration\n(applied after any other possible switching actions)</p>\n\n<p style=\"margin-left:11%;\"><b>-a --altsetting NUM</b></p>\n\n<p style=\"margin-left:26%;\">Select alternative USB\ninterface setting (applied after switching). Mainly for\ntesting</p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This manual\npage was originally written by Didier Raboud\n(didier@raboud.com) for the <b>Debian</b> system. Additions\nmade by Josua Dietze. Permission is granted to copy,\ndistribute and/or modify this document under the terms of\nthe GNU General Public License, Version 2 or any later\nversion published by the Free Software Foundation.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The complete\ntext of the current GNU General Public License can be found\nin http://www.gnu.org/licenses/gpl.txt</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#AUTHOR\">AUTHOR</a>"]}