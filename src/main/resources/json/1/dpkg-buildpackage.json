{"name":"dpkg-buildpackage","body":"\n\n<h1 align=\"center\">dpkg-buildpackage</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">dpkg-buildpackage\n- build binary or source packages from sources</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>dpkg-buildpackage</b>\n[<i>option</i>...]</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>dpkg-buildpackage</b>\nis a program that automates the process of building a Debian\npackage. It consists of the following steps:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>1.</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"83%\">\n\n\n<p>It prepares the build environment by setting various\nenvironment variables (see <b><small>ENVIRONMENT</small></b>\n), runs the <b>init</b> hook, and calls <b>dpkg-source\n--before-build</b> (unless <b>-T</b> or <b>--target</b> has\nbeen used).</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>2.</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"83%\">\n\n\n<p>It checks that the build-dependencies and\nbuild-conflicts are satisfied (unless <b>-d</b> or\n<b>--no-check-builddeps</b> is specified).</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>3.</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"83%\">\n\n\n<p>If one or more specific targets have been selected with\nthe <b>-T</b> or <b>--target</b> option, it calls those\ntargets and stops here. Otherwise it runs the\n<b>preclean</b> hook and calls <b>fakeroot debian/rules\nclean</b> to clean the build-tree (unless <b>-nc</b> or\n<b>--no-pre-clean</b> is specified).</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>4.</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"83%\">\n\n\n<p>It runs the <b>source</b> hook and calls <b>dpkg-source\n-b</b> to generate the source package (if a <b>source</b>\nbuild has been requested with <b>--build</b> or equivalent\noptions).</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>5.</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"83%\">\n\n\n<p>It runs the <b>build</b> hook and calls\n<b>debian/rules</b> <i>build-target</i>, then runs the\n<b>binary</b> hook followed by <b>fakeroot debian/rules</b>\n<i>binary-target</i> (unless a source-only build has been\nrequested with <b>--build=source</b> or equivalent options).\nNote that <i>build-target</i> and <i>binary-target</i> are\neither <b>build</b> and <b>binary</b> (default case, or if\nan <b>any</b> and <b>all</b> build has been requested with\n<b>--build</b> or equivalent options), or <b>build-arch</b>\nand <b>binary-arch</b> (if an <b>any</b> and not <b>all</b>\nbuild has been requested with <b>--build</b> or equivalent\noptions), or <b>build-indep</b> and <b>binary-indep</b> (if\nan <b>all</b> and not <b>any</b> build has been requested\nwith <b>--build</b> or equivalent options).</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>6.</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"83%\">\n\n\n<p>It runs the <b>buildinfo</b> hook and calls\n<b>dpkg-genbuildinfo</b> to generate a <b>.buildinfo</b>\nfile. Several <b>dpkg-buildpackage</b> options are forwarded\nto <b>dpkg-genbuildinfo</b>.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>7.</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"83%\">\n\n\n<p>It runs the <b>changes</b> hook and calls\n<b>dpkg-genchanges</b> to generate a <b>.changes</b> file.\nThe name of the <b>.changes</b> file will depend on the type\nof build and will be as specific as necessary but not more;\nfor a build that includes <b>any</b> the name will be\n<i>source-name</i><b>_</b><i>binary-version</i><b>_</b><i>arch</i><b>.changes</b>,\nor otherwise for a build that includes <b>all</b> the name\nwill be\n<i>source-name</i><b>_</b><i>binary-version</i><b>_all.changes</b>,\nor otherwise for a build that includes <b>source</b> the\nname will be\n<i>source-name</i><b>_</b><i>source-version</i><b>_source.changes</b>.\nMany <b>dpkg-buildpackage</b> options are forwarded to\n<b>dpkg-genchanges</b>.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>8.</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"83%\">\n\n\n<p>It runs the <b>postclean</b> hook and if <b>-tc</b> or\n<b>--post-clean</b> is specified, it will call <b>fakeroot\ndebian/rules clean</b> again.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>9.</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"83%\">\n\n\n<p>It calls <b>dpkg-source --after-build</b>.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>10.</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"83%\">\n\n\n<p>It runs the <b>check</b> hook and calls a package\nchecker for the <b>.changes</b> file (if a command is\nspecified in <b><small>DEB_CHECK_COMMAND</small></b> or with\n<b>--check-command</b>).</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>11.</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"83%\">\n\n\n<p>It runs the <b>sign</b> hook and calls <b>gpg</b> (as\nlong as it is not an <small>UNRELEASED</small> build, or\n<b>--no-sign</b> is specified) to sign the <b>.dsc</b> file\n(if any, unless <b>-us</b> or <b>--unsigned-source</b> is\nspecified), the <b>.buildinfo</b> file (unless <b>-ui</b>,\n<b>--unsigned-buildinfo</b>, <b>-uc</b> or\n<b>--unsigned-changes</b> is specified) and the\n<b>.changes</b> file (unless <b>-uc</b> or\n<b>--unsigned-changes</b> is specified).</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>12.</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"83%\">\n\n\n<p>It runs the <b>done</b> hook.</p></td></tr>\n</table>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">All long\noptions can be specified both on the command line and in the\n<b>dpkg-buildpackage</b> system and user configuration\nfiles. Each line in the configuration file is either an\noption (exactly the same as the command line option but\nwithout leading hyphens) or a comment (if it starts with a\n&rsquo;<b>#</b>&rsquo;). <b><br>\n--build=</b><i>type</i></p>\n\n<p style=\"margin-left:17%;\">Specifies the build <i>type</i>\nfrom a comma-separated list of components (since dpkg\n1.18.5). Passed to <b>dpkg-genchanges</b>.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The allowed\nvalues are: <b><br>\nsource</b></p>\n\n<p style=\"margin-left:23%;\">Builds the source package.</p>\n\n<p style=\"margin-left:23%; margin-top: 1em\"><b>Note:</b>\nWhen using this value standalone and if what you want is\nsimply to (re-)build the source package from a clean source\ntree, using <b>dpkg-source</b> directly is always a better\noption as it does not require any build dependencies to be\ninstalled which are otherwise needed to be able to call the\n<b>clean</b> target.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"5%\">\n\n\n<p><b>any</b></p></td>\n<td width=\"1%\"></td>\n<td width=\"77%\">\n\n\n<p>Builds the architecture specific binary packages.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"5%\">\n\n\n<p><b>all</b></p></td>\n<td width=\"1%\"></td>\n<td width=\"77%\">\n\n\n<p>Builds the architecture independent binary packages.</p></td></tr>\n</table>\n\n<p style=\"margin-left:17%;\"><b>binary</b></p>\n\n<p style=\"margin-left:23%;\">Builds the architecture\nspecific and independent binary packages. This is an alias\nfor <b>any,all</b>.</p>\n\n<p style=\"margin-left:17%;\"><b>full</b></p>\n\n<p style=\"margin-left:23%;\">Builds everything. This is an\nalias for <b>source,any,all</b>, and the same as the default\ncase when no build option is specified.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-g</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"83%\">\n\n\n<p>Equivalent to <b>--build=source,all</b> (since dpkg\n1.17.11).</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-G</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"83%\">\n\n\n<p>Equivalent to <b>--build=source,any</b> (since dpkg\n1.17.11).</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-b</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"83%\">\n\n\n<p>Equivalent to <b>--build=binary</b> or\n<b>--build=any,all</b>.</p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-B</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"83%\">\n\n\n<p>Equivalent to <b>--build=any</b>.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-A</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"83%\">\n\n\n<p>Equivalent to <b>--build=all</b>.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-S</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"83%\">\n\n\n<p>Equivalent to <b>--build=source</b>.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-F</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"83%\">\n\n\n<p>Equivalent to <b>--build=full</b>,\n<b>--build=source,binary</b> or\n<b>--build=source,any,all</b> (since dpkg 1.15.8).</p></td></tr>\n</table>\n\n\n<p style=\"margin-left:11%;\"><b>--target=</b><i>target</i>[,...]\n<b><br>\n--target</b> <i>target</i>[,...] <b><br>\n-T</b>, <b>--rules-target=</b><i>target</i>[,...]</p>\n\n<p style=\"margin-left:17%;\">Calls <b>debian/rules</b>\n<i>target</i> once per target specified, after having setup\nthe build environment (except for calling <b>dpkg-source\n--before-build</b>), and stops the package build process\nhere (since dpkg 1.15.0, long option since dpkg 1.18.8,\nmulti-target support since dpkg 1.18.16). If\n<b>--as-root</b> is also given, then the command is executed\nas root (see <b>--root-command</b>). Note that known targets\nthat are required to be run as root do not need this option\n(i.e. the <b>clean</b>, <b>binary</b>, <b>binary-arch</b>\nand <b>binary-indep</b> targets).</p>\n\n<p style=\"margin-left:11%;\"><b>--as-root</b></p>\n\n<p style=\"margin-left:17%;\">Only meaningful together with\n<b>--target</b> (since dpkg 1.15.0). Requires that the\ntarget be run with root rights.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>-si</b></p></td>\n<td width=\"85%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>-sa</b></p></td>\n<td width=\"85%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>-sd</b></p></td>\n<td width=\"85%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>-v</b><i>version</i> <b><br>\n-C</b><i>changes-description</i> <b><br>\n-m</b>, <b>--release-by=</b><i>maintainer-address</i>\n<b><br>\n-e</b>, <b>--build-by=</b><i>maintainer-address</i></p>\n\n<p style=\"margin-left:17%;\">Passed unchanged to\n<b>dpkg-genchanges</b>. See its manual page.</p>\n\n<p style=\"margin-left:11%;\"><b>-a</b>, <b>--host-arch</b>\n<i>architecture</i></p>\n\n<p style=\"margin-left:17%;\">Specify the Debian architecture\nwe build for (long option since dpkg 1.17.17). The\narchitecture of the machine we build on is determined\nautomatically, and is also the default for the host\nmachine.</p>\n\n<p style=\"margin-left:11%;\"><b>-t</b>, <b>--host-type</b>\n<i>gnu-system-type</i></p>\n\n<p style=\"margin-left:17%;\">Specify the <small>GNU</small>\nsystem type we build for (long option since dpkg 1.17.17).\nIt can be used in place of <b>--host-arch</b> or as a\ncomplement to override the default <small>GNU</small> system\ntype of the host Debian architecture.</p>\n\n<p style=\"margin-left:11%;\"><b>--target-arch</b>\n<i>architecture</i></p>\n\n<p style=\"margin-left:17%;\">Specify the Debian architecture\nthe binaries built will build for (since dpkg 1.17.17). The\ndefault value is the host machine.</p>\n\n<p style=\"margin-left:11%;\"><b>--target-type</b>\n<i>gnu-system-type</i></p>\n\n<p style=\"margin-left:17%;\">Specify the <small>GNU</small>\nsystem type the binaries built will build for (since dpkg\n1.17.17). It can be used in place of <b>--target-arch</b> or\nas a complement to override the default <small>GNU</small>\nsystem type of the target Debian architecture.</p>\n\n<p style=\"margin-left:11%;\"><b>-P</b>,\n<b>--build-profiles=</b><i>profile</i>[<b>,</b>...]</p>\n\n<p style=\"margin-left:17%;\">Specify the profile(s) we\nbuild, as a comma-separated list (since dpkg 1.17.2, long\noption since dpkg 1.18.8). The default behavior is to build\nfor no specific profile. Also sets them (as a space\nseparated list) as the\n<b><small>DEB_BUILD_PROFILES</small></b> environment\nvariable which allows, for example, <b>debian/rules</b>\nfiles to use this information for conditional builds.</p>\n\n<p style=\"margin-left:11%;\"><b>-j</b>,\n<b>--jobs</b>[=<i>jobs</i>|<b>auto</b>]</p>\n\n<p style=\"margin-left:17%;\">Number of jobs allowed to be\nrun simultaneously, number of jobs matching the number of\nonline processors if <b>auto</b> is specified (since dpkg\n1.17.10), or unlimited number if <i>jobs</i> is not\nspecified, equivalent to the <a href=\"https://man.page/1/make\">make(1)</a> option of the\nsame name (since dpkg 1.14.7, long option since dpkg\n1.18.8). Will add itself to the\n<b><small>MAKEFLAGS</small></b> environment variable, which\nshould cause all subsequent make invocations to inherit the\noption, thus forcing the parallel setting on the packaging\n(and possibly the upstream build system if that uses make)\nregardless of their support for parallel builds, which might\ncause build failures. Also adds <b>parallel=</b><i>jobs</i>\nor <b>parallel</b> to the\n<b><small>DEB_BUILD_OPTIONS</small></b> environment variable\nwhich allows debian/rules files to use this information for\ntheir own purposes. The <b>-j</b> value will override the\n<b>parallel=</b><i>jobs</i> or <b>parallel</b> option in the\n<b><small>DEB_BUILD_OPTIONS</small></b> environment\nvariable. Note that the <b>auto</b> value will get replaced\nby the actual number of currently active processors, and as\nsuch will not get propagated to any child process. If the\nnumber of online processors cannot be inferred then the code\nwill fallback to using serial execution (since dpkg\n1.18.15), although this should only happen on exotic and\nunsupported systems.</p>\n\n<p style=\"margin-left:11%;\"><b>-J</b>,\n<b>--jobs-try</b>[=<i>jobs</i>|<b>auto</b>]</p>\n\n<p style=\"margin-left:17%;\">This option (since dpkg 1.18.2,\nlong option since dpkg 1.18.8) is equivalent to the\n<b>-j</b> option except that it does not set the\n<b><small>MAKEFLAGS</small></b> environment variable, and as\nsuch it is safer to use with any package including those\nthat are not parallel-build safe.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>auto</b> is\nthe default behavior (since dpkg 1.18.11). Setting the\nnumber of jobs to 1 will restore a serial behavior.</p>\n\n<p style=\"margin-left:11%;\"><b>-D</b>,\n<b>--check-builddeps</b></p>\n\n<p style=\"margin-left:17%;\">Check build dependencies and\nconflicts; abort if unsatisfied (long option since dpkg\n1.18.8). This is the default behavior.</p>\n\n<p style=\"margin-left:11%;\"><b>-d</b>,\n<b>--no-check-builddeps</b></p>\n\n<p style=\"margin-left:17%;\">Do not check build dependencies\nand conflicts (long option since dpkg 1.18.8).</p>\n\n\n<p style=\"margin-left:11%;\"><b>--ignore-builtin-builddeps</b></p>\n\n<p style=\"margin-left:17%;\">Do not check built-in build\ndependencies and conflicts (since dpkg 1.18.2). These are\nthe distribution specific implicit build dependencies\nusually required in a build environment, the so called\nBuild-Essential package set.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--rules-requires-root</b></p>\n\n<p style=\"margin-left:17%;\">Do not honor the\n<b>Rules-Requires-Root</b> field, falling back to its legacy\ndefault value (since dpkg 1.19.1).</p>\n\n<p style=\"margin-left:11%;\"><b>-nc</b>,\n<b>--no-pre-clean</b></p>\n\n<p style=\"margin-left:17%;\">Do not clean the source tree\nbefore building (long option since dpkg 1.18.8). Implies\n<b>-b</b> if nothing else has been selected among <b>-F</b>,\n<b>-g</b>, <b>-G</b>, <b>-B</b>, <b>-A</b> or <b>-S</b>.\nImplies <b>-d</b> with <b>-S</b> (since dpkg 1.18.0).</p>\n\n<p style=\"margin-left:11%;\"><b>--pre-clean</b></p>\n\n<p style=\"margin-left:17%;\">Clean the source tree before\nbuilding (since dpkg 1.18.8). This is the default\nbehavior.</p>\n\n<p style=\"margin-left:11%;\"><b>-tc</b>,\n<b>--post-clean</b></p>\n\n<p style=\"margin-left:17%;\">Clean the source tree (using\n<i>gain-root-command</i> <b>debian/rules clean</b>) after\nthe package has been built (long option since dpkg\n1.18.8).</p>\n\n<p style=\"margin-left:11%;\"><b>--no-post-clean</b></p>\n\n<p style=\"margin-left:17%;\">Do not clean the source tree\nafter the package has been built (since dpkg 1.19.1). This\nis the default behavior.</p>\n\n<p style=\"margin-left:11%;\"><b>--sanitize-env</b></p>\n\n<p style=\"margin-left:17%;\">Sanitize the build environment\n(since dpkg 1.20.0). This will reset or remove environment\nvariables, umask, and any other process attributes that\nmight otherwise adversely affect the build of packages.\nBecause the official entry point to build packages is\n<b>debian/rules</b>, packages cannot rely on these settings\nbeing in place, and thus should work even when they are not.\nWhat to sanitize is vendor specific.</p>\n\n<p style=\"margin-left:11%;\"><b>-r</b>,\n<b>--root-command=</b><i>gain-root-command</i></p>\n\n<p style=\"margin-left:17%;\">When <b>dpkg-buildpackage</b>\nneeds to execute part of the build process as root, it\nprefixes the command it executes with\n<i>gain-root-command</i> if one has been specified (long\noption since dpkg 1.18.8). Otherwise, if none has been\nspecified, <b>fakeroot</b> will be used by default, if the\ncommand is present. <i>gain-root-command</i> should start\nwith the name of a program on the <b><small>PATH</small></b>\nand will get as arguments the name of the real command to\nrun and the arguments it should take.\n<i>gain-root-command</i> can include parameters (they must\nbe space-separated) but no shell metacharacters.\n<i>gain-root-command</i> might typically be <b>fakeroot</b>,\n<b>sudo</b>, <b>super</b> or <b>really</b>. <b>su</b> is not\nsuitable, since it can only invoke the user&rsquo;s shell\nwith <b>-c</b> instead of passing arguments individually to\nthe command to be run.</p>\n\n<p style=\"margin-left:11%;\"><b>-R</b>,\n<b>--rules-file=</b><i>rules-file</i></p>\n\n<p style=\"margin-left:17%;\">Building a Debian package\nusually involves invoking <b>debian/rules</b> as a command\nwith several standard parameters (since dpkg 1.14.17, long\noption since dpkg 1.18.8). With this option it&rsquo;s\npossible to use another program invocation to build the\npackage (it can include space separated parameters).\nAlternatively it can be used to execute the standard rules\nfile with another make program (for example by using\n<b>/usr/local/bin/make -f debian/rules</b> as\n<i>rules-file</i>).</p>\n\n\n<p style=\"margin-left:11%;\"><b>--check-command=</b><i>check-command</i></p>\n\n<p style=\"margin-left:17%;\">Command used to check the\n<b>.changes</b> file itself and any artifact built\nreferenced in the file (since dpkg 1.17.6). The command\nshould take the <b>.changes</b> pathname as an argument.\nThis command will usually be <b>lintian</b>.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--check-option=</b><i>opt</i></p>\n\n<p style=\"margin-left:17%;\">Pass option <i>opt</i> to the\n<i>check-command</i> specified with\n<b><small>DEB_CHECK_COMMAND</small></b> or\n<b>--check-command</b> (since dpkg 1.17.6). Can be used\nmultiple times.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--hook-</b><i>hook-name</i><b>=</b><i>hook-command</i></p>\n\n<p style=\"margin-left:17%;\">Set the specified shell code\n<i>hook-command</i> as the hook <i>hook-name</i>, which will\nrun at the times specified in the run steps (since dpkg\n1.17.6). The hooks will always be executed even if the\nfollowing action is not performed (except for the\n<b>binary</b> hook). All the hooks will run in the unpacked\nsource directory.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>Note:</b>\nHooks can affect the build process, and cause build failures\nif their commands fail, so watch out for unintended\nconsequences.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The current\n<i>hook-name</i> supported are:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>init\npreclean source build binary buildinfo changes postclean\ncheck sign done</b></p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The\n<i>hook-command</i> supports the following substitution\nformat string, which will get applied to it before\nexecution:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"3%\">\n\n\n<p><b>%%</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"77%\">\n\n\n<p>A single % character.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"3%\">\n\n\n<p><b>%a</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"77%\">\n\n\n<p>A boolean value (0 or 1), representing whether the\nfollowing action is being performed.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"3%\">\n\n\n<p><b>%p</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"77%\">\n\n\n<p>The source package name.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"3%\">\n\n\n<p><b>%v</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"77%\">\n\n\n<p>The source package version.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"3%\">\n\n\n<p><b>%s</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"77%\">\n\n\n<p>The source package version (without the epoch).</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"17%\"></td>\n<td width=\"3%\">\n\n\n<p><b>%u</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"77%\">\n\n\n<p>The upstream version.</p></td></tr>\n</table>\n\n\n<p style=\"margin-left:11%;\"><b>--buildinfo-file=</b><i>filename</i></p>\n\n<p style=\"margin-left:17%;\">Set the <i>filename</i> for the\ngenerated <b>.buildinfo</b> file (since dpkg 1.21.0).</p>\n\n\n<p style=\"margin-left:11%;\"><b>--buildinfo-option=</b><i>opt</i></p>\n\n<p style=\"margin-left:17%;\">Pass option <i>opt</i> to\n<b>dpkg-genbuildinfo</b> (since dpkg 1.18.11). Can be used\nmultiple times.</p>\n\n<p style=\"margin-left:11%;\"><b>-p</b>,\n<b>--sign-command=</b><i>sign-command</i></p>\n\n<p style=\"margin-left:17%;\">When <b>dpkg-buildpackage</b>\nneeds to execute <small>GPG</small> to sign a source control\n(<b>.dsc</b>) file or a <b>.changes</b> file it will run\n<i>sign-command</i> (searching the\n<b><small>PATH</small></b> if necessary) instead of\n<b>gpg</b> (long option since dpkg 1.18.8).\n<i>sign-command</i> will get all the arguments that\n<b>gpg</b> would have gotten. <i>sign-command</i> should not\ncontain spaces or any other shell metacharacters.</p>\n\n<p style=\"margin-left:11%;\"><b>-k</b>,\n<b>--sign-key=</b><i>key-id</i></p>\n\n<p style=\"margin-left:17%;\">Specify a key-ID to use when\nsigning packages (long option since dpkg 1.18.8).</p>\n\n<p style=\"margin-left:11%;\"><b>-us</b>,\n<b>--unsigned-source</b></p>\n\n<p style=\"margin-left:17%;\">Do not sign the source package\n(long option since dpkg 1.18.8).</p>\n\n<p style=\"margin-left:11%;\"><b>-ui</b>,\n<b>--unsigned-buildinfo</b></p>\n\n<p style=\"margin-left:17%;\">Do not sign the\n<b>.buildinfo</b> file (since dpkg 1.18.19).</p>\n\n<p style=\"margin-left:11%;\"><b>-uc</b>,\n<b>--unsigned-changes</b></p>\n\n<p style=\"margin-left:17%;\">Do not sign the\n<b>.buildinfo</b> and <b>.changes</b> files (long option\nsince dpkg 1.18.8).</p>\n\n<p style=\"margin-left:11%;\"><b>--no-sign</b></p>\n\n<p style=\"margin-left:17%;\">Do not sign any file, this\nincludes the source package, the <b>.buildinfo</b> file and\nthe <b>.changes</b> file (since dpkg 1.18.20).</p>\n\n<p style=\"margin-left:11%;\"><b>--force-sign</b></p>\n\n<p style=\"margin-left:17%;\">Force the signing of the\nresulting files (since dpkg 1.17.0), regardless of\n<b>-us</b>, <b>--unsigned-source</b>, <b>-ui</b>,\n<b>--unsigned-buildinfo</b>, <b>-uc</b>,\n<b>--unsigned-changes</b> or other internal heuristics.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>-sn</b></p></td>\n<td width=\"85%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>-ss</b></p></td>\n<td width=\"85%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>-sA</b></p></td>\n<td width=\"85%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>-sk</b></p></td>\n<td width=\"85%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>-su</b></p></td>\n<td width=\"85%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>-sr</b></p></td>\n<td width=\"85%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>-sK</b></p></td>\n<td width=\"85%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>-sU</b></p></td>\n<td width=\"85%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p><b>-sR</b></p></td>\n<td width=\"85%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>-i</b>,\n<b>--diff-ignore</b>[=<i>regex</i>] <b><br>\n-I</b>, <b>--tar-ignore</b>[=<i>pattern</i>] <b><br>\n-z</b>, <b>--compression-level=</b><i>level</i> <b><br>\n-Z</b>, <b>--compression=</b><i>compressor</i></p>\n\n<p style=\"margin-left:17%;\">Passed unchanged to\n<b>dpkg-source</b>. See its manual page.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--source-option=</b><i>opt</i></p>\n\n<p style=\"margin-left:17%;\">Pass option <i>opt</i> to\n<b>dpkg-source</b> (since dpkg 1.15.6). Can be used multiple\ntimes.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--changes-file=</b><i>filename</i></p>\n\n<p style=\"margin-left:17%;\">Set the <i>filename</i> for the\ngenerated <b>.changes</b> file (since dpkg 1.21.0).</p>\n\n\n<p style=\"margin-left:11%;\"><b>--changes-option=</b><i>opt</i></p>\n\n<p style=\"margin-left:17%;\">Pass option <i>opt</i> to\n<b>dpkg-genchanges</b> (since dpkg 1.15.6). Can be used\nmultiple times.</p>\n\n<p style=\"margin-left:11%;\"><b>--admindir=</b><i>dir</i>\n<b><br>\n--admindir</b> <i>dir</i></p>\n\n<p style=\"margin-left:17%;\">Change the location of the\n<b>dpkg</b> database (since dpkg 1.14.0). The default\nlocation is <i>/var/lib/dpkg</i>.</p>\n\n<p style=\"margin-left:11%;\"><b>-?</b>, <b>--help</b></p>\n\n<p style=\"margin-left:17%;\">Show the usage message and\nexit.</p>\n\n<p style=\"margin-left:11%;\"><b>--version</b></p>\n\n<p style=\"margin-left:17%;\">Show the version and exit.</p>\n\n<h2>ENVIRONMENT\n<a name=\"ENVIRONMENT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>External\nenvironment <small><br>\nDEB_CHECK_COMMAND</small></b></p>\n\n<p style=\"margin-left:17%;\">If set, it will be used as the\ncommand to check the <b>.changes</b> file (since dpkg\n1.17.6). Overridden by the <b>--check-command</b>\noption.</p>\n\n\n<p style=\"margin-left:11%;\"><b><small>DEB_SIGN_KEYID</small></b></p>\n\n<p style=\"margin-left:17%;\">If set, it will be used to sign\nthe <b>.changes</b> and <b>.dsc</b> files (since dpkg\n1.17.2). Overridden by the <b>--sign-key</b> option.</p>\n\n\n<p style=\"margin-left:11%;\"><b><small>DEB_BUILD_OPTIONS</small></b></p>\n\n<p style=\"margin-left:17%;\">If set, it will contain a\nspace-separated list of options that might affect the build\nprocess in <i>debian/rules</i>, and the behavior of some\ndpkg commands.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">With\n<b>nocheck</b> the <b><small>DEB_CHECK_COMMAND</small></b>\nvariable will be ignored. With <b>parallel=</b><i>N</i> the\nparallel jobs will be set to <i>N</i>, overridden by the\n<b>--jobs-try</b> option.</p>\n\n\n<p style=\"margin-left:11%;\"><b><small>DEB_BUILD_PROFILES</small></b></p>\n\n<p style=\"margin-left:17%;\">If set, it will be used as the\nactive build profile(s) for the package being built (since\ndpkg 1.17.2). It is a space separated list of profile names.\nOverridden by the <b>-P</b> option.</p>\n\n\n<p style=\"margin-left:11%;\"><b><small>DPKG_COLORS</small></b></p>\n\n<p style=\"margin-left:17%;\">Sets the color mode (since dpkg\n1.18.5). The currently accepted values are: <b>auto</b>\n(default), <b>always</b> and <b>never</b>.</p>\n\n\n<p style=\"margin-left:11%;\"><b><small>DPKG_NLS</small></b></p>\n\n<p style=\"margin-left:17%;\">If set, it will be used to\ndecide whether to activate Native Language Support, also\nknown as internationalization (or i18n) support (since dpkg\n1.19.0). The accepted values are: <b>0</b> and <b>1</b>\n(default).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Internal\nenvironment</b> <br>\nEven if <b>dpkg-buildpackage</b> exports some variables,\n<b>debian/rules</b> should not rely on their presence and\nshould instead use the respective interface to retrieve the\nneeded values, because that file is the main entry point to\nbuild packages and running it standalone should be\nsupported. <b><br>\nDEB_BUILD_* <br>\nDEB_HOST_* <br>\nDEB_TARGET_*</b></p>\n\n<p style=\"margin-left:17%;\"><b>dpkg-architecture</b> is\ncalled with the <b>-a</b> and <b>-t</b> parameters\nforwarded. Any variable that is output by its <b>-s</b>\noption is integrated in the build environment.</p>\n\n\n<p style=\"margin-left:11%;\"><b><small>DEB_RULES_REQUIRES_ROOT</small></b></p>\n\n<p style=\"margin-left:17%;\">This variable is set to the\nvalue obtained from the <b>Rules-Requires-Root</b> field or\nfrom the command-line. When set, it will be a valid value\nfor the <b>Rules-Requires-Root</b> field. It is used to\nnotify <b>debian/rules</b> whether the\n<b>rootless-builds.txt</b> specification is supported.</p>\n\n\n<p style=\"margin-left:11%;\"><b><small>DEB_GAIN_ROOT_CMD</small></b></p>\n\n<p style=\"margin-left:17%;\">This variable is set to\n<i>gain-root-command</i> when the field\n<b>Rules-Requires-Root</b> is set to a value different to\n<b>no</b> and <b>binary-targets</b>.</p>\n\n\n<p style=\"margin-left:11%;\"><b><small>SOURCE_DATE_EPOCH</small></b></p>\n\n<p style=\"margin-left:17%;\">This variable is set to the\nUnix timestamp since the epoch of the latest entry in\n<i>debian/changelog</i>, if it is not already defined.</p>\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>/etc/dpkg/buildpackage.conf</i></p>\n\n<p style=\"margin-left:17%;\">System wide configuration\nfile</p>\n\n\n<p style=\"margin-left:11%;\"><i>$XDG_CONFIG_HOME/dpkg/buildpackage.conf</i>\nor <i><br>\n$HOME/.config/dpkg/buildpackage.conf</i></p>\n\n<p style=\"margin-left:17%;\">User configuration file.</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Compiler\nflags are no longer exported</b> <br>\nBetween dpkg 1.14.17 and 1.16.1, <b>dpkg-buildpackage</b>\nexported compiler flags ( <b><small>CFLAGS</small></b> ,\n<b><small>CXXFLAGS</small></b> ,\n<b><small>FFLAGS</small></b> ,\n<b><small>CPPFLAGS</small></b> and\n<b><small>LDFLAGS</small></b> ) with values as returned by\n<b>dpkg-buildflags</b>. This is no longer the case.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Default\nbuild targets <br>\ndpkg-buildpackage</b> is using the <b>build-arch</b> and\n<b>build-indep</b> targets since dpkg 1.16.2. Those targets\nare thus mandatory. But to avoid breakages of existing\npackages, and ease the transition, if the source package\ndoes not build both architecture independent and dependent\nbinary packages (since dpkg 1.18.8) it will fallback to use\nthe <b>build</b> target if <b>make -f debian/rules -qn</b>\n<i>build-target</i> returns 2 as exit code.</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">It should be\npossible to specify spaces and shell metacharacters and\ninitial arguments for <i>gain-root-command</i> and\n<i>sign-command</i>.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/dpkg-source\">dpkg-source(1)</a>,\n<a href=\"https://man.page/1/dpkg-architecture\">dpkg-architecture(1)</a>, <a href=\"https://man.page/1/dpkg-buildflags\">dpkg-buildflags(1)</a>,\n<a href=\"https://man.page/1/dpkg-genbuildinfo\">dpkg-genbuildinfo(1)</a>, <a href=\"https://man.page/1/dpkg-genchanges\">dpkg-genchanges(1)</a>,\n<a href=\"https://man.page/1/fakeroot\">fakeroot(1)</a>, <a href=\"https://man.page/1/lintian\">lintian(1)</a>, <a href=\"https://man.page/1/gpg\">gpg(1)</a>.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#ENVIRONMENT\">ENVIRONMENT</a>","<a href=\"#FILES\">FILES</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"]}