{"name":"pbmmask","description":"pbmmask - create a mask bitmap from a regular bitmap","body":"\n\n<h1 align=\"center\">pbmmask</h1>\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">pbmmask -\ncreate a mask bitmap from a regular bitmap</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>pbmmask</b>\n[<b>-expand</b>] [<i>pbmfile</i>]</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Reads a\nportable bitmap as input. Creates a corresponding mask\nbitmap and writes it out.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The color to be\ninterpreted as &quot;background&quot; is determined\nautomatically. Regardless of which color is background, the\nmask will be white where the background is and black where\nthe figure is.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This lets you\ndo a masked paste like this, for objects with a black\nbackground: <br>\npbmmask obj &gt; objmask <br>\npnmpaste &lt; dest -and objmask &lt;x&gt; &lt;y&gt; |\npnmpaste -or obj &lt;x&gt; &lt;y&gt; <br>\nFor objects with a white background, you can either invert\nthem or add a step: <br>\npbmmask obj &gt; objmask <br>\npnminvert objmask | pnmpaste -and obj 0 0 &gt; blackback\n<br>\npnmpaste &lt; dest -and objmask &lt;x&gt; &lt;y&gt; |\npnmpaste -or blackback &lt;x&gt; &lt;y&gt; <br>\nNote that this three-step version works for objects with\nblack backgrounds too, if you don&rsquo;t care about the\nwasted time.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">You can also\nuse masks with graymaps and pixmaps, using the\n<i>pnmarith</i> tool. For instance: <br>\nppmtopgm obj.ppm | pgmtopbm -threshold | pbmmask &gt;\nobjmask.pbm <br>\npnmarith -multiply dest.ppm objmask.pbm &gt; t1.ppm <br>\npnminvert objmask.pbm | pnmarith -multiply obj.ppm - &gt;\nt2.ppm <br>\npnmarith -add t1.ppm t2.ppm <br>\nAn interesting variation on this is to pipe the mask through\nthe <i>pnmsmooth</i> script before using it. This makes the\nboundary between the two images less sharp.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-expand</b></p>\n\n<p style=\"margin-left:22%;\">Expands the mask by one pixel\nout from the image. This is useful if you want a little\nwhite border around your image. (A better solution might be\nto turn the <i>pbmlife</i> tool into a general cellular\nautomaton tool...)</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/ppmcolormask\">ppmcolormask(1)</a>,\n<a href=\"https://man.page/1/pnmpaste\">pnmpaste(1)</a>, <a href=\"https://man.page/1/pnminvert\">pnminvert(1)</a>, <a href=\"https://man.page/5/pbm\">pbm(5)</a>,\n<a href=\"https://man.page/1/pnmarith\">pnmarith(1)</a>, <a href=\"https://man.page/1/pnmsmooth\">pnmsmooth(1)</a></p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Copyright (C)\n1988 by Jef Poskanzer.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHOR\">AUTHOR</a>"]}