{"name":"systemd-detect-virt","description":"systemd-detect-virt\n- Detect execution in a virtualized environment","body":"\n\n<h1 align=\"center\">SYSTEMD-DETECT-VIRT</h1>\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">systemd-detect-virt\n- Detect execution in a virtualized environment</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"49%\">\n\n\n<p style=\"margin-top: 1em\"><b>systemd-detect-virt</b>\n[OPTIONS...]</p> </td>\n<td width=\"40%\">\n</td></tr>\n</table>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>systemd-detect-virt</b>\ndetects execution in a virtualized environment. It\nidentifies the virtualization technology and can distinguish\nfull machine virtualization from container virtualization.\nsystemd-detect-virt exits with a return value of 0 (success)\nif a virtualization technology is detected, and non-zero\n(error) otherwise. By default, any type of virtualization is\ndetected, and the options <b>--container</b> and <b>--vm</b>\ncan be used to limit what types of virtualization are\ndetected.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">When executed\nwithout <b>--quiet</b> will print a short identifier for the\ndetected virtualization technology. The following\ntechnologies are currently identified:</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Table&nbsp;1.&nbsp;Known\nvirtualization technologies (both VM, i.e. full hardware\nvirtualization, and container, i.e. shared kernel\nvirtualization) <br>\n&nbsp;</b></p></table>\n\n\n<p align=\"center\"><b><img src=\"grohtml-1422791.png\" alt=\"Image grohtml-1422791.png\"></b></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If multiple\nvirtualization solutions are used, only the\n&quot;innermost&quot; is detected and identified. That means\nif both machine and container virtualization are used in\nconjunction, only the latter will be identified (unless\n<b>--vm</b> is passed).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Windows\nSubsystem for Linux is not a Linux container, but an\nenvironment for running Linux userspace applications on top\nof the Windows kernel using a Linux-compatible interface.\nWSL is categorized as a container for practical purposes.\nMultiple WSL environments share the same kernel and services\nshould generally behave like when being run in a\ncontainer.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\noptions are understood:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-c</b>,\n<b>--container</b></p>\n\n<p style=\"margin-left:17%;\">Only detects container\nvirtualization (i.e. shared kernel virtualization).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-v</b>,\n<b>--vm</b></p>\n\n<p style=\"margin-left:17%;\">Only detects hardware\nvirtualization.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-r</b>,\n<b>--chroot</b></p>\n\n<p style=\"margin-left:17%;\">Detect whether invoked in a\n<a href=\"https://man.page/2/chroot\">chroot(2)</a> environment. In this mode, no output is\nwritten, but the return value indicates whether the process\nwas invoked in a <b>chroot()</b> environment or not.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--private-users</b></p>\n\n<p style=\"margin-left:17%;\">Detect whether invoked in a\nuser namespace. In this mode, no output is written, but the\nreturn value indicates whether the process was invoked\ninside of a user namespace or not. See\n<a href=\"https://man.page/7/user_namespaces\">user_namespaces(7)</a> for more information.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-q</b>,\n<b>--quiet</b></p>\n\n<p style=\"margin-left:17%;\">Suppress output of the\nvirtualization technology identifier.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--list</b></p>\n\n<p style=\"margin-left:17%;\">Output all currently known and\ndetectable container and VM environments.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-h</b>,\n<b>--help</b></p>\n\n<p style=\"margin-left:17%;\">Print a short help text and\nexit.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--version</b></p>\n\n<p style=\"margin-left:17%;\">Print a short version string\nand exit.</p>\n\n<h2>EXIT STATUS\n<a name=\"EXIT STATUS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">If a\nvirtualization technology is detected, 0 is returned, a\nnon-zero code otherwise.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/systemd\">systemd(1)</a>,\n<a href=\"https://man.page/1/systemd-nspawn\">systemd-nspawn(1)</a>, <a href=\"https://man.page/2/chroot\">chroot(2)</a>,\n<a href=\"https://man.page/7/namespaces\">namespaces(7)</a></p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\">1.</p></td>\n<td width=\"2%\"></td>\n<td width=\"23%\">\n\n\n<p style=\"margin-top: 1em\">ACRN hypervisor</p></td>\n<td width=\"60%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:17%;\">https://projectacrn.org</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\">2.</p></td>\n<td width=\"2%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\">Podman</p></td>\n<td width=\"74%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:17%;\">https://podman.io</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\">3.</p></td>\n<td width=\"2%\"></td>\n<td width=\"41%\">\n\n\n<p style=\"margin-top: 1em\">Windows Subsystem for Linux</p></td>\n<td width=\"42%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\">https://docs.microsoft.com/en-us/windows/wsl/about</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\">4.</p></td>\n<td width=\"2%\"></td>\n<td width=\"8%\">\n\n\n<p style=\"margin-top: 1em\">proot</p></td>\n<td width=\"75%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\">https://proot-me.github.io/</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n<p style=\"margin-top: 1em\">5.</p></td>\n<td width=\"2%\"></td>\n<td width=\"8%\">\n\n\n<p style=\"margin-top: 1em\">Pouch</p></td>\n<td width=\"75%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\">https://github.com/alibaba/pouch</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#EXIT STATUS\">EXIT STATUS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#NOTES\">NOTES</a>"]}