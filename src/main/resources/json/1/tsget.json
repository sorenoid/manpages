{"name":"tsget","description":"tsget - Time Stamping HTTP/HTTPS client","body":"\n\n<h1 align=\"center\">TSGET</h1>\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">tsget - Time\nStamping HTTP/HTTPS client</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>tsget -h</b>\n<i>server_url</i> [<b>-e</b> <i>extension</i>] [<b>-o</b>\n<i>output</i>] [<b>-v</b>] [<b>-d</b>] [<b>-k</b>\n<i>private_key.pem</i>] [<b>-p</b> <i>key_password</i>]\n[<b>-c</b> <i>client_cert.pem</i>] [<b>-C</b>\n<i>CA_certs.pem</i>] [<b>-P</b> <i>CA_path</i>] [<b>-r</b>\n<i>files</i>] [<b>-g</b> <i>EGD_socket</i>] [<i>request</i>\n...]</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This command\ncan be used for sending a timestamp request, as specified in\n<small>RFC 3161,</small> to a timestamp server over\n<small>HTTP</small> or <small>HTTPS</small> and storing the\ntimestamp response in a file. It cannot be used for creating\nthe requests and verifying responses, you have to use\n<a href=\"https://man.page/1/openssl-ts\">openssl-ts(1)</a> to do that. This command can send\nseveral requests to the server without closing the\n<small>TCP</small> connection if more than one requests are\nspecified on the command line.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This command\nsends the following <small>HTTP</small> request for each\ntimestamp request:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">POST url\nHTTP/1.1 <br>\nUser-Agent: OpenTSA tsget.pl/&lt;version&gt; <br>\nHost: &lt;host&gt;:&lt;port&gt; <br>\nPragma: no-cache <br>\nContent-Type: application/timestamp-query <br>\nAccept: application/timestamp-reply <br>\nContent-Length: length of body <br>\n...binary request specified by the user...</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">It expects a\nresponse of type application/timestamp-reply, which is\nwritten to a file without any interpretation.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-h</b>\n<i>server_url</i></p>\n\n<p style=\"margin-left:17%;\">The <small>URL</small> of the\n<small>HTTP/HTTPS</small> server listening for timestamp\nrequests.</p>\n\n<p style=\"margin-left:11%;\"><b>-e</b> <i>extension</i></p>\n\n<p style=\"margin-left:17%;\">If the <b>-o</b> option is not\ngiven this argument specifies the extension of the output\nfiles. The base name of the output file will be the same as\nthose of the input files. Default extension is <i>.tsr</i>.\n(Optional)</p>\n\n<p style=\"margin-left:11%;\"><b>-o</b> <i>output</i></p>\n\n<p style=\"margin-left:17%;\">This option can be specified\nonly when just one request is sent to the server. The\ntimestamp response will be written to the given output file.\n&rsquo;-&rsquo; means standard output. In case of multiple\ntimestamp requests or the absence of this argument the names\nof the output files will be derived from the names of the\ninput files and the default or specified extension argument.\n(Optional)</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-v</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"83%\">\n\n\n<p>The name of the currently processed request is printed\non standard error. (Optional)</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-d</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"83%\">\n\n\n<p>Switches on verbose mode for the underlying perl module\nWWW::Curl::Easy. You can see detailed debug messages for the\nconnection. (Optional)</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>-k</b>\n<i>private_key.pem</i></p>\n\n<p style=\"margin-left:17%;\">( <small>HTTPS</small> ) In\ncase of certificate-based client authentication over\n<small>HTTPS</small> <i>private_key.pem</i> must contain the\nprivate key of the user. The private key file can optionally\nbe protected by a passphrase. The <b>-c</b> option must also\nbe specified. (Optional)</p>\n\n<p style=\"margin-left:11%;\"><b>-p</b>\n<i>key_password</i></p>\n\n<p style=\"margin-left:17%;\">( <small>HTTPS</small> )\nSpecifies the passphrase for the private key specified by\nthe <b>-k</b> argument. If this option is omitted and the\nkey is passphrase protected, it will be prompted for.\n(Optional)</p>\n\n<p style=\"margin-left:11%;\"><b>-c</b>\n<i>client_cert.pem</i></p>\n\n<p style=\"margin-left:17%;\">( <small>HTTPS</small> ) In\ncase of certificate-based client authentication over\n<small>HTTPS</small> <i>client_cert.pem</i> must contain the\nX.509 certificate of the user. The <b>-k</b> option must\nalso be specified. If this option is not specified no\ncertificate-based client authentication will take place.\n(Optional)</p>\n\n<p style=\"margin-left:11%;\"><b>-C</b>\n<i>CA_certs.pem</i></p>\n\n<p style=\"margin-left:17%;\">( <small>HTTPS</small> ) The\ntrusted <small>CA</small> certificate store. The certificate\nchain of the peer&rsquo;s certificate must include one of\nthe <small>CA</small> certificates specified in this file.\nEither option <b>-C</b> or option <b>-P</b> must be given in\ncase of <small>HTTPS.</small> (Optional)</p>\n\n<p style=\"margin-left:11%;\"><b>-P</b> <i>CA_path</i></p>\n\n<p style=\"margin-left:17%;\">( <small>HTTPS</small> ) The\npath containing the trusted <small>CA</small> certificates\nto verify the peer&rsquo;s certificate. The directory must\nbe prepared with <a href=\"https://man.page/1/openssl-rehash\">openssl-rehash(1)</a>. Either option\n<b>-C</b> or option <b>-P</b> must be given in case of\n<small>HTTPS.</small> (Optional)</p>\n\n<p style=\"margin-left:11%;\"><b>-r</b> <i>files</i></p>\n\n<p style=\"margin-left:17%;\">See &quot;Random State\nOptions&quot; in <a href=\"https://man.page/1/openssl\">openssl(1)</a> for more information.</p>\n\n<p style=\"margin-left:11%;\"><b>-g</b> <i>EGD_socket</i></p>\n\n<p style=\"margin-left:17%;\">The name of an\n<small>EGD</small> socket to get random data from.\n(Optional)</p>\n\n<p style=\"margin-left:11%;\"><i>request</i> ...</p>\n\n<p style=\"margin-left:17%;\">List of files containing\n<small>RFC 3161</small> DER-encoded timestamp requests. If\nno requests are specified only one request will be sent to\nthe server and it will be read from the standard input.\n(Optional)</p>\n\n<h2>ENVIRONMENT VARIABLES\n<a name=\"ENVIRONMENT VARIABLES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b><small>TSGET</small></b> environment variable can\noptionally contain default arguments. The content of this\nvariable is added to the list of command line arguments.</p>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The examples\nbelow presume that <i>file1.tsq</i> and <i>file2.tsq</i>\ncontain valid timestamp requests, tsa.opentsa.org listens at\nport 8080 for <small>HTTP</small> requests and at port 8443\nfor <small>HTTPS</small> requests, the <small>TSA</small>\nservice is available at the /tsa absolute path.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Get a timestamp\nresponse for <i>file1.tsq</i> over <small>HTTP,</small>\noutput is written to <i>file1.tsr</i>:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">tsget -h\nhttp://tsa.opentsa.org:8080/tsa file1.tsq</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Get a timestamp\nresponse for <i>file1.tsq</i> and <i>file2.tsq</i> over\n<small>HTTP</small> showing progress, output is written to\n<i>file1.reply</i> and <i>file2.reply</i> respectively:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">tsget -h\nhttp://tsa.opentsa.org:8080/tsa -v -e .reply \\ <br>\nfile1.tsq file2.tsq</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Create a\ntimestamp request, write it to <i>file3.tsq</i>, send it to\nthe server and write the response to <i>file3.tsr</i>:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">openssl ts\n-query -data file3.txt -cert | tee file3.tsq \\ <br>\n| tsget -h http://tsa.opentsa.org:8080/tsa \\ <br>\n-o file3.tsr</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Get a timestamp\nresponse for <i>file1.tsq</i> over <small>HTTPS</small>\nwithout client authentication:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">tsget -h\nhttps://tsa.opentsa.org:8443/tsa \\ <br>\n-C cacerts.pem file1.tsq</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Get a timestamp\nresponse for <i>file1.tsq</i> over <small>HTTPS</small> with\ncertificate-based client authentication (it will ask for the\npassphrase if <i>client_key.pem</i> is protected):</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">tsget -h\nhttps://tsa.opentsa.org:8443/tsa -C cacerts.pem \\ <br>\n-k client_key.pem -c client_cert.pem file1.tsq</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">You can shorten\nthe previous command line if you make use of the\n<b><small>TSGET</small></b> environment variable. The\nfollowing commands do the same as the previous example:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">TSGET='-h\nhttps://tsa.opentsa.org:8443/tsa -C cacerts.pem \\ <br>\n-k client_key.pem -c client_cert.pem' <br>\nexport TSGET <br>\ntsget file1.tsq</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/openssl\">openssl(1)</a>,\n<a href=\"https://man.page/1/openssl-ts\">openssl-ts(1)</a>, WWW::Curl::Easy,\n&lt;https://www.rfc-editor.org/rfc/rfc3161.html&gt;</p>\n\n<h2>COPYRIGHT\n<a name=\"COPYRIGHT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Copyright\n2006-2020 The OpenSSL Project Authors. All Rights\nReserved.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Licensed under\nthe Apache License 2.0 (the &quot;License&quot;). You may\nnot use this file except in compliance with the License. You\ncan obtain a copy in the file <small>LICENSE</small> in the\nsource distribution or at\n&lt;https://www.openssl.org/source/license.html&gt;.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#ENVIRONMENT VARIABLES\">ENVIRONMENT VARIABLES</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#COPYRIGHT\">COPYRIGHT</a>"]}