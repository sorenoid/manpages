{"name":"linux-update-symlinks","body":"\n\n<h1 align=\"center\">LINUX-UPDATE-SYMLINKS</h1>\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">linux-update-symlinks\n- maintain symlinks to default kernel and initramfs</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"89%\">\n\n\n\n<p style=\"margin-top: 1em\"><b>linux-update-symlinks&nbsp;</b>{<b>install</b>|<b>upgrade</b>|<b>remove</b>}\n<i>VERSION IMAGE-PATH</i></p></td></tr>\n</table>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i><b>linux-update-symlinks</b></i>\nis intended to be called from the postinst and postrm\nmaintainer scripts of Linux kernel packages. The postinst\nscript must pass the first argument <b>install</b> or\n<b>upgrade</b> depending on whether a fresh installation or\nan upgrade has taken place.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>VERSION</i> argument must be the kernel version string as\nshown by <b>uname -r</b> and used in filenames.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<i>IMAGE-PATH</i> argument must be the absolute filename of\nthe kernel image.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">By default,\nthis command maintains symlinks in the root directory. This\nbehaviour can be modified by settings in\n<i>/etc/kernel-img.conf</i>: <b><br>\nimage_dest</b></p>\n\n<p style=\"margin-left:22%;\">Specifies the directory in\nwhich to maintain symlinks</p>\n\n<p style=\"margin-left:11%;\"><b>link_in_boot</b></p>\n\n<p style=\"margin-left:22%;\">If set to a true value,\nspecifies that the directory is <i>/boot</i></p>\n\n<p style=\"margin-left:11%;\"><b>no_symlinks</b></p>\n\n<p style=\"margin-left:22%;\">If set to a false value,\ndisables maintenance of symlinks</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The symlinks\nfor the primary default kernel version are named\n<i>vmlinuz</i> or <i>vmlinux</i> (depending on whether the\narchitecture normally uses compressed kernel images) and\n<i>initrd.img</i> (if it uses an initramfs). The symlinks\nfor the secondary default have the same names with the\nsuffix <i>.old</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If symlink\nmaintenance is disabled, <b>linux-update-symlinks</b> does\nnothing, successfully. Otherwise it makes a list of kernel\nversions in decreasing order of priority:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>The given <i>VERSION</i>, if the first argument is\n<b>install</b></p> </td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>The current primary default version, if it exists and is\nnot already listed</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>The current secondary default version, if it exists and\nis not already listed</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p>&bull;</p></td>\n<td width=\"2%\"></td>\n<td width=\"86%\">\n\n\n<p>All other versions whose files are installed, excluding\nthe specified <i>VERSION</i> if the first argument is\n<b>remove</b>, in decreasing version order</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The top two\nentries on the list are the new primary and secondary\ndefault versions, and it updates the symlinks accordingly.\nIn case there is only one entry, this is both the primary\nand secondary default version. If there are no entries,\nthere are no default versions and it removes the default\nsymlinks.</p>\n\n<h2>ENVIRONMENT VARIABLES\n<a name=\"ENVIRONMENT VARIABLES\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p style=\"margin-top: 1em\"><i>INITRD</i></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p style=\"margin-top: 1em\">When the first argument is\n<b>install</b> or <b>upgrade</b>,\n<b>linux-update-symlinks</b> assumes that the given\n<i>VERSION</i> will use an initramfs unless this variable is\nset to <b>No</b>.</p></td></tr>\n</table>\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>/boot/initrd.img-</i>*</p>\n\n<p style=\"margin-left:22%;\">Installed initramfs images</p>\n\n\n<p style=\"margin-left:11%;\"><i>/boot/vmlinuz-</i>*&nbsp;|&nbsp;<i>/boot/vmlinux-</i>*</p>\n\n<p style=\"margin-left:22%;\">Installed kernel images</p>\n\n\n<p style=\"margin-left:11%;\"><i>/etc/kernel-img.conf</i></p>\n\n<p style=\"margin-left:22%;\">Configuration file specifying\nwhether and where to create symlinks</p>\n\n<p style=\"margin-left:11%;\"><i>/initrd.img</i></p>\n\n<p style=\"margin-left:22%;\">Symlink to the initramfs image\nfor the primary default version</p>\n\n<p style=\"margin-left:11%;\"><i>/initrd.img.old</i></p>\n\n<p style=\"margin-left:22%;\">Symlink to the initramfs image\nfor the secondary default version</p>\n\n\n<p style=\"margin-left:11%;\"><i>/vmlinuz&nbsp;</i>|&nbsp;<i>/vmlinux</i></p>\n\n<p style=\"margin-left:22%;\">Symlink to the kernel image for\nthe primary default version</p>\n\n\n<p style=\"margin-left:11%;\"><i>/vmlinuz.old&nbsp;</i>|&nbsp;<i>/vmlinux.old</i></p>\n\n<p style=\"margin-left:22%;\">Symlink to the kernel image for\nthe secondary default version</p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>linux-update-symlinks</b>\nand this manual page were written by Ben Hutchings as part\nof the Debian <b>linux-base</b> package.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>kernel-img.conf</i>(5),\n<i>linux-version</i>(1).</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#ENVIRONMENT VARIABLES\">ENVIRONMENT VARIABLES</a>","<a href=\"#FILES\">FILES</a>","<a href=\"#AUTHOR\">AUTHOR</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"]}