{"name":"nm-online","body":"\n\n<h1 align=\"center\">NM-ONLINE</h1>\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">nm-online - ask\nNetworkManager whether the network is connected</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"34%\">\n\n\n<p style=\"margin-top: 1em\"><b>nm-online</b>\n[<i>OPTIONS</i>...]</p> </td>\n<td width=\"55%\">\n</td></tr>\n</table>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>nm-online</b>\nis a utility to find out whether we are online. It is done\nby asking NetworkManager about its status. When run,\n<b>nm-online</b> waits until NetworkManager reports an\nactive connection, or specified timeout expires. On exit,\nthe returned status code should be checked (see the return\ncodes below).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This tool is\nnot very useful to call directly. It is however used by\nNetworkManager-wait-online.service with --wait-for-startup\nargument. This is used to delay the service and indirectly\nnetwork-online.target, until networking is up. Don't order\nyour own systemd services after\nNetworkManager-wait-online.service directly. Instead if\nnecessary, order your services after network-online.target.\nEven better is to have your services react to network\nchanges dynamically and don't order them with respect to\nnetwork-online.target at all.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">By default,\nconnections have the ipv4.may-fail and ipv6.may-fail\nproperties set to yes; this means that NetworkManager waits\nfor one of the two address families to complete\nconfiguration before considering the connection activated.\nIf you need a specific address family configured before\nnetwork-online.target is reached, set the corresponding\nmay-fail property to no.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-h</b> |\n<b>--help</b></p>\n\n<p style=\"margin-left:17%;\">Print help information.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-q</b> |\n<b>--quiet</b></p>\n\n<p style=\"margin-left:17%;\">Don't print anything.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-s</b> |\n<b>--wait-for-startup</b></p>\n\n<p style=\"margin-left:17%;\">Wait for NetworkManager startup\nto complete, rather than waiting for network connectivity\nspecifically. Startup is considered complete once\nNetworkManager has activated (or attempted to activate)\nevery auto-activate connection which is available given the\ncurrent network state. This corresponds to the moment when\nNetworkManager logs &quot;startup complete&quot;. This mode\nis generally only useful at boot time. After startup has\ncompleted, <b>nm-online -s</b> will just return immediately,\nregardless of the current network state.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">There are\nvarious ways to affect when startup complete is reached. For\nexample, by setting a connection profile to autoconnect,\nsuch a profile possibly will activate during startup and\nthus delay startup complete being reached. Also, a profile\nis considered ready when it fully reached the logical\nconnected state in NetworkManager. That means, properties\nlike ipv4.may-fail and ipv6.may-fail affect whether a\ncertain address family is required. Also, the connection\nproperty connection.wait-device-timeout affects whether to\nwait for the driver to detect a certain device. Generally, a\nfailure of NetworkManager-wait-online.service indicates a\nconfiguration error, where NetworkManager won't be able to\nreach the desired connectivity state during startup. An\nexample for that are bridge or bond master profiles, that\nget autoconnected but without activating any slaves. Such\nmaster devices hang in activating state indefinitely, and\ncause NetworkManager-wait-online.service to fail.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-t</b> |\n<b>--timeout</b> <i>seconds</i></p>\n\n<p style=\"margin-left:17%;\">Time to wait for a connection,\nin seconds. If the option is not provided, the environment\nvariable NM_ONLINE_TIMEOUT is honored. The default timeout\nis 30 seconds.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-x</b> |\n<b>--exit</b></p>\n\n<p style=\"margin-left:17%;\">Exit immediately if\nNetworkManager is not running or connecting.</p>\n\n<h2>EXIT STATUS\n<a name=\"EXIT STATUS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>nm-online</b>\nexits with status 0 if it succeeds, a value greater than 0\nis returned if an error occurs.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>0</b></p>\n\n<p style=\"margin-left:17%;\">Success &ndash; already online\nor connection established within given timeout.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>1</b></p>\n\n<p style=\"margin-left:17%;\">Offline or not online within\ngiven timeout.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>2</b></p>\n\n<p style=\"margin-left:17%;\">Unknown or unspecified\nerror.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/nmcli\">nmcli(1)</a>,\n<b>NetworkManager</b>(8).</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#EXIT STATUS\">EXIT STATUS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"]}