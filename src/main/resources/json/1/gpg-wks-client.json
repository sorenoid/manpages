{"name":"gpg-wks-client","description":"<b>gpg-wks-client</b> - Client for the Web Key Service","body":"\n\n<h1 align=\"center\">GPG-WKS-CLIENT</h1>\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>gpg-wks-client</b>\n- Client for the Web Key Service</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>gpg-wks-client</b>\n[<i>options</i>] <b>--supported</b> <i>user-id</i> <b><br>\ngpg-wks-client</b> [<i>options</i>] <b>--check</b>\n<i>user-id</i> <b><br>\ngpg-wks-client</b> [<i>options</i>] <b>--create</b>\n<i>fingerprint user-id</i> <b><br>\ngpg-wks-client</b> [<i>options</i>] <b>--receive <br>\ngpg-wks-client</b> [<i>options</i>] <b>--read</b></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>gpg-wks-client</b> is used to send requests to a Web Key\nService provider. This is usuallay done to upload a key into\na Web Key Directory.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">With the\n<b>--supported</b> command the caller can test whether a\nsite supports the Web Key Service. The argument is an\narbitrary address in the to be tested domain. For example\n&rsquo;<i>foo@example.net</i>&rsquo;. The command returns\nsuccess if the Web Key Service is supported. The operation\nis silent; to get diagnostic output use the option\n<b>--verbose</b>. See option <b>--with-colons</b> for a\nvariant of this command.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">With the\n<b>--check</b> command the caller can test whether a key\nexists for a supplied mail address. The command returns\nsuccess if a key is available.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>--create</b> command is used to send a request for\npublication in the Web Key Directory. The arguments are the\nfingerprint of the key and the user id to publish. The\noutput from the command is a properly formatted mail with\nall standard headers. This mail can be fed to\n<b>sendmail(8)</b> or any other tool to actually send that\nmail. If <b>sendmail(8)</b> is installed the option\n<b>--send</b> can be used to directly send the created\nrequest. If the provider request a\n&rsquo;mailbox-only&rsquo; user id and no such user id is\nfound, <b>gpg-wks-client</b> will try an additional user\nid.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>--receive</b> and <b>--read</b> commands are used to\nprocess confirmation mails as send from the service\nprovider. The former expects an encrypted MIME messages, the\nlatter an already decrypted MIME message. The result of\nthese commands are another mail which can be send in the\nsame way as the mail created with <b>--create</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The command\n<b>--install-key</b> manually installs a key into a local\ndirectory (see option <b>-C</b>) reflecting the structure of\na WKD. The arguments are a file with the keyblock and the\nuser-id to install. If the first argument resembles a\nfingerprint the key is taken from the current keyring; to\nforce the use of a file, prefix the first argument with\n&quot;./&quot;. If no arguments are given the parameters are\nread from stdin; the expected format are lines with the\nfingerprint and the mailbox separated by a space. The\ncommand <b>--remove-key</b> removes a key from that\ndirectory, its only argument is a user-id.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The command\n<b>--print-wkd-hash</b> prints the WKD user-id identifiers\nand the corresponding mailboxes from the user-ids given on\nthe command line or via stdin (one user-id per line).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The command\n<b>--print-wkd-url</b> prints the URLs used to fetch the key\nfor the given user-ids from WKD. The meanwhile preferred\nformat with sub-domains is used here.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>gpg-wks-client</b>\nis not commonly invoked directly and thus it is not\ninstalled in the bin directory. Here is an example how it\ncan be invoked manually to check for a Web Key Directory\nentry for &rsquo;<i>foo@example.org</i>&rsquo;:</p>\n\n<p style=\"margin-left:14%; margin-top: 1em\">$(gpgconf\n--list-dirs libexecdir)/gpg-wks-client --check\nfoo@example.net</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>gpg-wks-client</b>\nunderstands these options:</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>--send</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"78%\">\n\n\n<p>Directly send created mails using the <b>sendmail</b>\ncommand. Requires installation of that command.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>--with-colons</b></p>\n\n<p style=\"margin-left:22%;\">This option has currently only\nan effect on the <b>--supported</b> command. If it is used\nall arguments on the command line are taken as domain names\nand tested for WKD support. The output format is one line\nper domain with colon delimited fields. The currently\nspecified fields are (future versions may specify additional\nfields): <b><br>\n1 - domain</b></p>\n\n<p style=\"margin-left:32%;\">This is the domain name.\nAlthough quoting is not required for valid domain names this\nfield is specified to be quoted in standard C manner.</p>\n\n<p style=\"margin-left:22%;\"><b>2 - WKD</b></p>\n\n<p style=\"margin-left:32%;\">If the value is true the domain\nsupports the Web Key Directory.</p>\n\n<p style=\"margin-left:22%;\"><b>3 - WKS</b></p>\n\n<p style=\"margin-left:32%;\">If the value is true the domain\nsupports the Web Key Service protocol to upload keys to the\ndirectory.</p>\n\n<p style=\"margin-left:22%;\"><b>4 - error-code</b></p>\n\n<p style=\"margin-left:32%;\">This may contain an gpg-error\ncode to describe certain failures. Use &rsquo;gpg-error\nCODE&rsquo; to explain the code.</p>\n\n<p style=\"margin-left:22%;\"><b>5 - protocol-version</b></p>\n\n<p style=\"margin-left:32%;\">The minimum protocol version\nsupported by the server.</p>\n\n<p style=\"margin-left:22%;\"><b>6 - auth-submit</b></p>\n\n<p style=\"margin-left:32%;\">The auth-submit flag from the\npolicy file of the server.</p>\n\n<p style=\"margin-left:22%;\"><b>7 - mailbox-only</b></p>\n\n<p style=\"margin-left:32%;\">The mailbox-only flag from the\npolicy file of the server.</p>\n\n<p style=\"margin-left:11%;\"><b>--output</b> <i>file</i></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>-o</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"78%\">\n\n\n<p>Write the created mail to <i>file</i> instead of stdout.\nNote that the value <b>-</b> for <i>file</i> is the same as\nwriting to stdout.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>--status-fd</b> <i>n</i></p>\n\n<p style=\"margin-left:22%;\">Write special status strings to\nthe file descriptor <i>n</i>. This program returns only the\nstatus messages SUCCESS or FAILURE which are helpful when\nthe caller uses a double fork approach and can&rsquo;t\neasily get the return code of the process.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>-C</b> <i>dir</i></p></td>\n<td width=\"80%\">\n</td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>--directory</b>\n<i>dir</i></p>\n\n<p style=\"margin-left:22%;\">Use <i>dir</i> as top level\ndirectory for the commands <b>--install-key</b> and\n<b>--remove-key</b>. The default is\n&rsquo;<i>openpgpkey</i>&rsquo;.</p>\n\n<p style=\"margin-left:11%;\"><b>--verbose</b></p>\n\n<p style=\"margin-left:22%;\">Enable extra informational\noutput.</p>\n\n<p style=\"margin-left:11%;\"><b>--quiet</b></p>\n\n<p style=\"margin-left:22%;\">Disable almost all\ninformational output.</p>\n\n<p style=\"margin-left:11%;\"><b>--version</b></p>\n\n<p style=\"margin-left:22%;\">Print version of the program\nand exit.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"9%\">\n\n\n<p><b>--help</b></p></td>\n<td width=\"2%\"></td>\n<td width=\"53%\">\n\n\n<p>Display a brief help page and exit.</p></td>\n<td width=\"25%\">\n</td></tr>\n</table>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/gpg-wks-server\">gpg-wks-server(1)</a></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"]}