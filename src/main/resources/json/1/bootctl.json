{"name":"bootctl","description":"bootctl - Control EFI firmware boot settings and manage boot loader","body":"\n\n<h1 align=\"center\">BOOTCTL</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">bootctl -\nControl EFI firmware boot settings and manage boot\nloader</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"46%\">\n\n\n<p style=\"margin-top: 1em\"><b>bootctl</b> [OPTIONS...]\n{COMMAND}</p> </td>\n<td width=\"43%\">\n</td></tr>\n</table>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>bootctl</b>\ncan check the EFI firmware and boot loader status, list and\nmanage available boot loaders and boot loader entries, and\ninstall, update, or remove the <a href=\"https://man.page/7/systemd-boot\">systemd-boot(7)</a> boot\nloader on the current system.</p>\n\n<h2>GENERIC EFI FIRMWARE/BOOT LOADER COMMANDS\n<a name=\"GENERIC EFI FIRMWARE/BOOT LOADER COMMANDS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">These commands\nare available on any EFI system, regardless of the boot\nloader used.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>status</b></p>\n\n<p style=\"margin-left:17%;\">Shows brief information about\nthe system firmware, the boot loader that was used to boot\nthe system, the boot loaders currently available in the ESP,\nthe boot loaders listed in the firmware's list of boot\nloaders and the current default boot loader entry. If no\ncommand is specified, this is the implied default.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>reboot-to-firmware</b>\n[<i>BOOL</i>]</p>\n\n<p style=\"margin-left:17%;\">Query or set the\n&quot;Reboot-Into-Firmware-Setup&quot; flag of the EFI\nfirmware. Takes a boolean argument which controls whether to\nshow the firmware setup on next system reboot. If the\nargument is omitted shows the current status of the flag, or\nwhether the flag is supported. This controls the same flag\nas <b>systemctl reboot --firmware-setup</b>, but is more\nlow-level and allows setting the flag independently from\nactually requesting a reboot.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>systemd-efi-options</b>\n[<i>STRING</i>]</p>\n\n<p style=\"margin-left:17%;\">When called without the\noptional argument, prints the current value of the\n&quot;SystemdOptions&quot; EFI variable. When called with an\nargument, sets the variable to that value. See\n<a href=\"https://man.page/1/systemd\">systemd(1)</a> for the meaning of that variable.</p>\n\n<h2>BOOT LOADER SPECIFICATION COMMANDS\n<a name=\"BOOT LOADER SPECIFICATION COMMANDS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">These commands\nare available for all boot loaders that implement the\n<b><font color=\"#0000FF\">Boot Loader\nSpecification</font></b>\n<small><font color=\"#000000\">[1]</font></small>\n<font color=\"#000000\">and/or the</font>\n<b><font color=\"#0000FF\">Boot Loader Interface</font></b>\n<small><font color=\"#000000\">[2]</font></small>\n<font color=\"#000000\">, such as\n<b>systemd-boot</b>.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>list</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Shows all\navailable boot loader entries implementing the</font>\n<b><font color=\"#0000FF\">Boot Loader\nSpecification</font></b>\n<small><font color=\"#000000\">[1]</font></small>\n<font color=\"#000000\">, as well as any other entries\ndiscovered or automatically generated by a boot loader\nimplementing the</font> <b><font color=\"#0000FF\">Boot Loader\nInterface</font></b>\n<small><font color=\"#000000\">[2]</font></small>\n<font color=\"#000000\">.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>set-default</b>\n<i>ID</i>, <b>set-oneshot</b> <i>ID</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Sets the\ndefault boot loader entry. Takes a single boot loader entry\nID string as argument. The <b>set-oneshot</b> command will\nset the default entry only for the next boot, the\n<b>set-default</b> will set it persistently for all future\nboots. Optionally, the boot loader entry ID may be specified\nas one of: <b>@default</b>, <b>@oneshot</b> or\n<b>@current</b>, which correspond to the current default\nboot loader entry for all future boots, the current default\nboot loader entry for the next boot, and the currently\nbooted boot loader entry. These special IDs are resolved to\nthe current values of the EFI variables\n<i>LoaderEntryDefault</i>, <i>LoaderEntryOneShot</i> and\n<i>LoaderEntrySelected</i>, see</font>\n<b><font color=\"#0000FF\">Boot Loader\nSpecification</font></b>\n<small><font color=\"#000000\">[1]</font></small>\n<font color=\"#000000\">for details. These special IDs are\nprimarily useful as a quick way to persistently make the\ncurrently booted boot loader entry the default choice, or to\nupgrade the default boot loader entry for the next boot to\nthe default boot loader entry for all future boots, but may\nbe used for other operations too. When an empty string\n(&quot;&quot;) is specified as an ID, then the corresponding\nEFI variable will be unset.</font></p>\n\n<h2>SYSTEMD-BOOT COMMANDS\n<a name=\"SYSTEMD-BOOT COMMANDS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">These\ncommands manage the <b>systemd-boot</b> EFI boot loader, and\ndo not work in conjunction with other boot\nloaders.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>install</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Installs\n<b>systemd-boot</b> into the EFI system partition. A copy of\n<b>systemd-boot</b> will be stored as the EFI\ndefault/fallback loader at <i>ESP</i>/EFI/BOOT/BOOT*.EFI.\nThe boot loader is then added to the top of the firmware's\nboot loader list.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>update</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Updates\nall installed versions of <a href=\"https://man.page/7/systemd-boot\">systemd-boot(7)</a>, if the\navailable version is newer than the version installed in the\nEFI system partition. This also includes the EFI\ndefault/fallback loader at <i>ESP</i>/EFI/BOOT/BOOT*.EFI.\nThe boot loader is then added to end of the firmware's boot\nloader list if missing.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>remove</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Removes\nall installed versions of <b>systemd-boot</b> from the EFI\nsystem partition and the firmware's boot loader\nlist.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>is-installed</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Checks\nwhether <b>systemd-boot</b> is installed in the ESP. Note\nthat a single ESP might host multiple boot loaders; this\nhence checks whether <b>systemd-boot</b> is one (of possibly\nmany) installed boot loaders &mdash; and neither whether it\nis the default nor whether it is registered in any EFI\nvariables.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>random-seed</b></font></p>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Generates\na random seed and stores it in the EFI System Partition, for\nuse by the <b>systemd-boot</b> boot loader. Also, generates\na random 'system token' and stores it persistently as an EFI\nvariable, if one has not been set before. If the boot loader\nfinds the random seed in the ESP and the system token in the\nEFI variable it will derive a random seed to pass to the OS\nand a new seed to store in the ESP from the combination of\nboth. The random seed passed to the OS is credited to the\nkernel's entropy pool by the system manager during early\nboot, and permits userspace to boot up with an entropy pool\nfully initialized very early on. Also see\n<b>systemd-boot-system-token.service</b>(8).</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">See</font>\n<b><font color=\"#0000FF\">Random Seeds</font></b>\n<small><font color=\"#000000\">[3]</font></small>\n<font color=\"#000000\">for further information.</font></p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">The\nfollowing options are understood:</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--esp-path=</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Path to\nthe EFI System Partition (ESP). If not specified, /efi/,\n/boot/, and /boot/efi/ are checked in turn. It is\nrecommended to mount the ESP to /efi/, if\npossible.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--boot-path=</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Path to\nthe Extended Boot Loader partition, as defined in the</font>\n<b><font color=\"#0000FF\">Boot Loader\nSpecification</font></b>\n<small><font color=\"#000000\">[1]</font></small>\n<font color=\"#000000\">. If not specified, /boot/ is checked.\nIt is recommended to mount the Extended Boot Loader\npartition to /boot/, if possible.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>-p</b>,\n<b>--print-esp-path</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">This\noption modifies the behaviour of <b>status</b>. Only prints\nthe path to the EFI System Partition (ESP) to standard\noutput and exits.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>-x</b>,\n<b>--print-boot-path</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">This\noption modifies the behaviour of <b>status</b>. Only prints\nthe path to the Extended Boot Loader partition if it exists,\nand the path to the ESP otherwise to standard output and\nexit. This command is useful to determine where to place\nboot loader entries, as they are preferably placed in the\nExtended Boot Loader partition if it exists and in the ESP\notherwise.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Boot\nLoader Specification Type #1 entries should generally be\nplaced in the directory &quot;$(bootctl\n-x)/loader/entries/&quot;. Existence of that directory may\nalso be used as indication that boot loader entry support is\navailable on the system. Similarly, Boot Loader\nSpecification Type #2 entries should be placed in the\ndirectory &quot;$(bootctl -x)/EFI/Linux/&quot;.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Note\nthat this option (similar to the <b>--print-booth-path</b>\noption mentioned above), is available independently from the\nboot loader used, i.e. also without <b>systemd-boot</b>\nbeing installed.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--no-variables</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Do not\ntouch the firmware's boot loader list stored in EFI\nvariables.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--graceful</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Ignore\nfailure when the EFI System Partition cannot be found, or\nwhen EFI variables cannot be written. Currently only applies\nto random seed operations.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--make-machine-id-directory=yes|no|auto</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Control\ncreation and deletion of the top-level machine ID directory\non the file system containing boot loader entries (i.e.\nbeneath the file system returned by the\n<b>--print-boot-path</b> option, see above) during\n<b>install</b> and <b>remove</b>, respectively.\n&quot;auto&quot; is equivalent to &quot;yes&quot; if\n/etc/machine-id resides on a filesystem other than tmpfs and\n&quot;no&quot; otherwise (in the latter case the machine ID\nis likely transient and hence should not be used\npersistently in the ESP). Defaults to &quot;auto&quot;. See\n<a href=\"https://man.page/5/machine-id\">machine-id(5)</a> for details about the machine ID\nconcept and file.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Overriding\nthis may be desirable to hide the machine ID from the\n(unencrypted) ESP, configure a <b>kernel-install</b>(8)\nscript, or, conversely, commit a transient machine\nID.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">The\ntop-level machine ID directory is useful to allow smooth\nmulti-boot installations: each installed OS instance will\nhave a different machine ID and thus a separate directory to\nplace its boot-time resources in. If this feature is turned\noff with this option, care needs to be taken that multiple\nOS instances do not place conflicting files on the shared\nESP and Extended Boot Loader Partitions, or that multiple OS\ninstances are not possible.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--no-pager</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Do not\npipe output into a pager.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>-h</b>,\n<b>--help</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Print a\nshort help text and exit.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--version</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Print a\nshort version string and exit.</font></p>\n\n<h2>EXIT STATUS\n<a name=\"EXIT STATUS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">On\nsuccess, 0 is returned, a non-zero failure code\notherwise.</font></p>\n\n<h2>ENVIRONMENT\n<a name=\"ENVIRONMENT\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">If\n<i>$SYSTEMD_RELAX_ESP_CHECKS=1</i> is set the validation\nchecks for the ESP are relaxed, and the path specified with\n<b>--esp-path=</b> may refer to any kind of file system on\nany kind of partition.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Similarly,\n<i>$SYSTEMD_RELAX_XBOOTLDR_CHECKS=1</i> turns off some\nvalidation checks for the Extended Boot Loader\npartition.</font></p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><a href=\"https://man.page/7/systemd-boot\">systemd-boot(7)</a>,</font>\n<b><font color=\"#0000FF\">Boot Loader\nSpecification</font></b>\n<small><font color=\"#000000\">[1]</font></small>\n<font color=\"#000000\">,</font> <b><font color=\"#0000FF\">Boot\nLoader Interface</font></b>\n<small><font color=\"#000000\">[2]</font></small>\n<font color=\"#000000\">,\n<b>systemd-boot-system-token.service</b>(8)</font></p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">1.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"38%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">Boot\nLoader Specification</font></p></td>\n<td width=\"45%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://systemd.io/BOOT_LOADER_SPECIFICATION</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">2.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"32%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">Boot\nLoader Interface</font></p></td>\n<td width=\"51%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://systemd.io/BOOT_LOADER_INTERFACE</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">3.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"18%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">Random\nSeeds</font></p> </td>\n<td width=\"65%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://systemd.io/RANDOM_SEEDS</font></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#GENERIC EFI FIRMWARE/BOOT LOADER COMMANDS\">GENERIC EFI FIRMWARE/BOOT LOADER COMMANDS</a>","<a href=\"#BOOT LOADER SPECIFICATION COMMANDS\">BOOT LOADER SPECIFICATION COMMANDS</a>","<a href=\"#SYSTEMD-BOOT COMMANDS\">SYSTEMD-BOOT COMMANDS</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#EXIT STATUS\">EXIT STATUS</a>","<a href=\"#ENVIRONMENT\">ENVIRONMENT</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#NOTES\">NOTES</a>"]}