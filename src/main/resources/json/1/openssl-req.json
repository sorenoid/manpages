{"name":"openssl-req","description":"openssl-req - PKCS#10 certificate request and certificate generating command","body":"\n\n<h1 align=\"center\">OPENSSL-REQ</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">openssl-req -\nPKCS#10 certificate request and certificate generating\ncommand</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>openssl\nreq</b> [<b>-help</b>] [<b>-inform <small>DER</small></b> |\n<b><small>PEM</small></b> ] [<b>-outform\n<small>DER</small></b> | <b><small>PEM</small></b> ]\n[<b>-in</b> <i>filename</i>] [<b>-passin</b> <i>arg</i>]\n[<b>-out</b> <i>filename</i>] [<b>-passout</b> <i>arg</i>]\n[<b>-text</b>] [<b>-pubkey</b>] [<b>-noout</b>]\n[<b>-verify</b>] [<b>-modulus</b>] [<b>-new</b>]\n[<b>-newkey</b> <i>arg</i>] [<b>-pkeyopt</b>\n<i>opt</i>:<i>value</i>] [<b>-noenc</b>] [<b>-nodes</b>]\n[<b>-key</b> <i>filename</i>|<i>uri</i>] [<b>-keyform\n<small>DER</small></b> | <b><small>PEM</small></b>\n|<b>P12</b>| <b><small>ENGINE</small></b> ] [<b>-keyout</b>\n<i>filename</i>] [<b>-keygen_engine</b> <i>id</i>]\n[<b>-</b><b><i>digest</i></b>] [<b>-config</b>\n<i>filename</i>] [<b>-section</b> <i>name</i>]\n[<b>-x509</b>] [<b>-CA</b> <i>filename</i>|<i>uri</i>]\n[<b>-CAkey</b> <i>filename</i>|<i>uri</i>] [<b>-days</b>\n<i>n</i>] [<b>-set_serial</b> <i>n</i>] [<b>-newhdr</b>]\n[<b>-copy_extensions</b> <i>arg</i>] [<b>-addext</b>\n<i>ext</i>] [<b>-extensions</b> <i>section</i>]\n[<b>-reqexts</b> <i>section</i>] [<b>-precert</b>]\n[<b>-utf8</b>] [<b>-reqopt</b>] [<b>-subject</b>]\n[<b>-subj</b> <i>arg</i>] [<b>-multivalue-rdn</b>]\n[<b>-sigopt</b> <i>nm</i>:<i>v</i>] [<b>-vfyopt</b>\n<i>nm</i>:<i>v</i>] [<b>-batch</b>] [<b>-verbose</b>]\n[<b>-nameopt</b> <i>option</i>] [<b>-rand</b> <i>files</i>]\n[<b>-writerand</b> <i>file</i>] [<b>-engine</b> <i>id</i>]\n[<b>-provider</b> <i>name</i>] [<b>-provider-path</b>\n<i>path</i>] [<b>-propquery</b> <i>propq</i>]</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This command\nprimarily creates and processes certificate requests (CSRs)\nin PKCS#10 format. It can additionally create self-signed\ncertificates for use as root CAs for example.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-help</b></p>\n\n<p style=\"margin-left:17%;\">Print out a usage message.</p>\n\n<p style=\"margin-left:11%;\"><b>-inform\n<small>DER</small></b> | <b><small>PEM</small></b> ,\n<b>-outform <small>DER</small></b> |\n<b><small>PEM</small></b></p>\n\n<p style=\"margin-left:17%;\">The input and output formats;\nunspecified by default. See <a href=\"https://man.page/1/openssl-format-options\">openssl-format-options(1)</a>\nfor details.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The data is a\nPKCS#10 object.</p>\n\n<p style=\"margin-left:11%;\"><b>-in</b> <i>filename</i></p>\n\n<p style=\"margin-left:17%;\">This specifies the input\nfilename to read a request from. This defaults to standard\ninput unless <b>-x509</b> or <b>-CA</b> is specified. A\nrequest is only read if the creation options (<b>-new</b> or\n<b>-newkey</b> or <b>-precert</b>) are not specified.</p>\n\n<p style=\"margin-left:11%;\"><b>-sigopt</b>\n<i>nm</i>:<i>v</i></p>\n\n<p style=\"margin-left:17%;\">Pass options to the signature\nalgorithm during sign operations. Names and values of these\noptions are algorithm-specific.</p>\n\n<p style=\"margin-left:11%;\"><b>-vfyopt</b>\n<i>nm</i>:<i>v</i></p>\n\n<p style=\"margin-left:17%;\">Pass options to the signature\nalgorithm during verify operations. Names and values of\nthese options are algorithm-specific.</p>\n\n<p style=\"margin-left:11%;\"><b>-passin</b> <i>arg</i></p>\n\n<p style=\"margin-left:17%;\">The password source for private\nkey and certificate input. For more information about the\nformat of <b>arg</b> see\n<a href=\"https://man.page/1/openssl-passphrase-options\">openssl-passphrase-options(1)</a>.</p>\n\n<p style=\"margin-left:11%;\"><b>-passout</b> <i>arg</i></p>\n\n<p style=\"margin-left:17%;\">The password source for the\noutput file. For more information about the format of\n<b>arg</b> see <a href=\"https://man.page/1/openssl-passphrase-options\">openssl-passphrase-options(1)</a>.</p>\n\n<p style=\"margin-left:11%;\"><b>-out</b> <i>filename</i></p>\n\n<p style=\"margin-left:17%;\">This specifies the output\nfilename to write to or standard output by default.</p>\n\n<p style=\"margin-left:11%;\"><b>-text</b></p>\n\n<p style=\"margin-left:17%;\">Prints out the certificate\nrequest in text form.</p>\n\n<p style=\"margin-left:11%;\"><b>-subject</b></p>\n\n<p style=\"margin-left:17%;\">Prints out the certificate\nrequest subject (or certificate subject if <b>-x509</b> is\nin use).</p>\n\n<p style=\"margin-left:11%;\"><b>-pubkey</b></p>\n\n<p style=\"margin-left:17%;\">Prints out the public key.</p>\n\n<p style=\"margin-left:11%;\"><b>-noout</b></p>\n\n<p style=\"margin-left:17%;\">This option prevents output of\nthe encoded version of the certificate request.</p>\n\n<p style=\"margin-left:11%;\"><b>-modulus</b></p>\n\n<p style=\"margin-left:17%;\">Prints out the value of the\nmodulus of the public key contained in the request.</p>\n\n<p style=\"margin-left:11%;\"><b>-verify</b></p>\n\n<p style=\"margin-left:17%;\">Verifies the self-signature on\nthe request.</p>\n\n<p style=\"margin-left:11%;\"><b>-new</b></p>\n\n<p style=\"margin-left:17%;\">This option generates a new\ncertificate request. It will prompt the user for the\nrelevant field values. The actual fields prompted for and\ntheir maximum and minimum sizes are specified in the\nconfiguration file and any requested extensions.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If the\n<b>-key</b> option is not given it will generate a new\nprivate key using information specified in the configuration\nfile or given with the <b>-newkey</b> and <b>-pkeyopt</b>\noptions, else by default an <small>RSA</small> key with 2048\nbits length.</p>\n\n<p style=\"margin-left:11%;\"><b>-newkey</b> <i>arg</i></p>\n\n<p style=\"margin-left:17%;\">This option is used to generate\na new private key unless <b>-key</b> is given. It is\nsubsequently used as if it was given using the <b>-key</b>\noption.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">This option\nimplies the <b>-new</b> flag to create a new certificate\nrequest or a new certificate in case <b>-x509</b> is\ngiven.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The argument\ntakes one of several forms.</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\">[<b>rsa:</b>]<i>nbits</i>\ngenerates an <small>RSA</small> key <i>nbits</i> in size. If\n<i>nbits</i> is omitted, i.e., <b>-newkey rsa</b> is\nspecified, the default key size specified in the\nconfiguration file with the <b>default_bits</b> option is\nused if present, else 2048.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">All other\nalgorithms support the <b>-newkey</b>\n<i>algname</i>:<i>file</i> form, where <i>file</i> is an\nalgorithm parameter file, created with &quot;openssl genpkey\n-genparam&quot; or an X.509 certificate for a key with\nappropriate algorithm.</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>param:</b><i>file</i>\ngenerates a key using the parameter file or certificate\n<i>file</i>, the algorithm is determined by the\nparameters.</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><i>algname</i>[:<i>file</i>]\ngenerates a key using the given algorithm <i>algname</i>. If\na parameter file <i>file</i> is given then the parameters\nspecified there are used, where the algorithm parameters\nmust match <i>algname</i>. If algorithm parameters are not\ngiven, any necessary parameters should be specified via the\n<b>-pkeyopt</b> option.</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>dsa:</b><i>filename</i>\ngenerates a <small>DSA</small> key using the parameters in\nthe file <i>filename</i>. <b>ec:</b><i>filename</i>\ngenerates <small>EC</small> key (usable both with\n<small>ECDSA</small> or <small>ECDH</small> algorithms),\n<b>gost2001:</b><i>filename</i> generates <small>GOST R\n34.10-2001</small> key (requires <b>gost</b> engine\nconfigured in the configuration file). If just\n<b>gost2001</b> is specified a parameter set should be\nspecified by <b>-pkeyopt</b> <i>paramset:X</i></p>\n\n<p style=\"margin-left:11%;\"><b>-pkeyopt</b>\n<i>opt</i>:<i>value</i></p>\n\n<p style=\"margin-left:17%;\">Set the public key algorithm\noption <i>opt</i> to <i>value</i>. The precise set of\noptions supported depends on the public key algorithm used\nand its implementation. See &quot; <small>KEY GENERATION\nOPTIONS&quot;</small> in <a href=\"https://man.page/1/openssl-genpkey\">openssl-genpkey(1)</a> for more\ndetails.</p>\n\n<p style=\"margin-left:11%;\"><b>-key</b>\n<i>filename</i>|<i>uri</i></p>\n\n<p style=\"margin-left:17%;\">This option provides the\nprivate key for signing a new certificate or certificate\nrequest. Unless <b>-in</b> is given, the corresponding\npublic key is placed in the new certificate or certificate\nrequest, resulting in a self-signature.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">For certificate\nsigning this option is overridden by the <b>-CA</b>\noption.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">This option\nalso accepts PKCS#8 format private keys for\n<small>PEM</small> format files.</p>\n\n<p style=\"margin-left:11%;\"><b>-keyform\n<small>DER</small></b> | <b><small>PEM</small></b>\n|<b>P12</b>| <b><small>ENGINE</small></b></p>\n\n<p style=\"margin-left:17%;\">The format of the private key;\nunspecified by default. See <a href=\"https://man.page/1/openssl-format-options\">openssl-format-options(1)</a>\nfor details.</p>\n\n<p style=\"margin-left:11%;\"><b>-keyout</b>\n<i>filename</i></p>\n\n<p style=\"margin-left:17%;\">This gives the filename to\nwrite any private key to that has been newly created or read\nfrom <b>-key</b>. If neither the <b>-keyout</b> option nor\nthe <b>-key</b> option are given then the filename specified\nin the configuration file with the <b>default_keyfile</b>\noption is used, if present. Thus, if you want to write the\nprivate key and the <b>-key</b> option is provided, you\nshould provide the <b>-keyout</b> option explicitly. If a\nnew key is generated and no filename is specified the key is\nwritten to standard output.</p>\n\n<p style=\"margin-left:11%;\"><b>-noenc</b></p>\n\n<p style=\"margin-left:17%;\">If this option is specified\nthen if a private key is created it will not be\nencrypted.</p>\n\n<p style=\"margin-left:11%;\"><b>-nodes</b></p>\n\n<p style=\"margin-left:17%;\">This option is deprecated since\nOpenSSL 3.0; use <b>-noenc</b> instead.</p>\n\n\n<p style=\"margin-left:11%;\"><b>-</b><b><i>digest</i></b></p>\n\n<p style=\"margin-left:17%;\">This specifies the message\ndigest to sign the request. Any digest supported by the\nOpenSSL <b>dgst</b> command can be used. This overrides the\ndigest algorithm specified in the configuration file.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Some public key\nalgorithms may override this choice. For instance,\n<small>DSA</small> signatures always use <small>SHA1, GOST R\n34.10</small> signatures always use <small>GOST R\n34.11-94</small> (<b>-md_gost94</b>), Ed25519 and Ed448\nnever use any digest.</p>\n\n<p style=\"margin-left:11%;\"><b>-config</b>\n<i>filename</i></p>\n\n<p style=\"margin-left:17%;\">This allows an alternative\nconfiguration file to be specified. Optional; for a\ndescription of the default value, see &quot; <small>COMMAND\nSUMMARY&quot;</small> in <a href=\"https://man.page/1/openssl\">openssl(1)</a>.</p>\n\n<p style=\"margin-left:11%;\"><b>-section</b> <i>name</i></p>\n\n<p style=\"margin-left:17%;\">Specifies the name of the\nsection to use; the default is <b>req</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>-subj</b> <i>arg</i></p>\n\n<p style=\"margin-left:17%;\">Sets subject name for new\nrequest or supersedes the subject name when processing a\ncertificate request.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The arg must be\nformatted as\n&quot;/type0=value0/type1=value1/type2=...&quot;. Special\ncharacters may be escaped by &quot;\\&quot; (backslash),\nwhitespace is retained. Empty values are permitted, but the\ncorresponding type will not be included in the request.\nGiving a single &quot;/&quot; will lead to an empty sequence\nof RDNs (a NULL-DN). Multi-valued RDNs can be formed by\nplacing a &quot;+&quot; character instead of a &quot;/&quot;\nbetween the AttributeValueAssertions (AVAs) that specify the\nmembers of the set. Example:</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\">&quot;/DC=org/DC=OpenSSL/DC=users/UID=123456+CN=John\nDoe&quot;</p>\n\n<p style=\"margin-left:11%;\"><b>-multivalue-rdn</b></p>\n\n<p style=\"margin-left:17%;\">This option has been deprecated\nand has no effect.</p>\n\n<p style=\"margin-left:11%;\"><b>-x509</b></p>\n\n<p style=\"margin-left:17%;\">This option outputs a\ncertificate instead of a certificate request. This is\ntypically used to generate test certificates. It is implied\nby the <b>-CA</b> option.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">This option\nimplies the <b>-new</b> flag if <b>-in</b> is not given.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If an existing\nrequest is specified with the <b>-in</b> option, it is\nconverted to the a certificate; otherwise a request is\ncreated from scratch.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Unless\nspecified using the <b>-set_serial</b> option, a large\nrandom number will be used for the serial number.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Unless the\n<b>-copy_extensions</b> option is used, X.509 extensions are\nnot copied from any provided request input file.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">X.509\nextensions to be added can be specified in the configuration\nfile or using the <b>-addext</b> option.</p>\n\n<p style=\"margin-left:11%;\"><b>-CA</b>\n<i>filename</i>|<i>uri</i></p>\n\n<p style=\"margin-left:17%;\">Specifies the &quot;\n<small>CA&quot;</small> certificate to be used for signing a\nnew certificate and implies use of <b>-x509</b>. When\npresent, this behaves like a &quot;micro\n<small>CA&quot;</small> as follows: The subject name of the\n&quot; <small>CA&quot;</small> certificate is placed as\nissuer name in the new certificate, which is then signed\nusing the &quot; <small>CA&quot;</small> key given as\nspecified below.</p>\n\n<p style=\"margin-left:11%;\"><b>-CAkey</b>\n<i>filename</i>|<i>uri</i></p>\n\n<p style=\"margin-left:17%;\">Sets the &quot;\n<small>CA&quot;</small> private key to sign a certificate\nwith. The private key must match the public key of the\ncertificate given with <b>-CA</b>. If this option is not\nprovided then the key must be present in the <b>-CA</b>\ninput.</p>\n\n<p style=\"margin-left:11%;\"><b>-days</b> <i>n</i></p>\n\n<p style=\"margin-left:17%;\">When <b>-x509</b> is in use\nthis specifies the number of days to certify the certificate\nfor, otherwise it is ignored. <i>n</i> should be a positive\ninteger. The default is 30 days.</p>\n\n<p style=\"margin-left:11%;\"><b>-set_serial</b> <i>n</i></p>\n\n<p style=\"margin-left:17%;\">Serial number to use when\noutputting a self-signed certificate. This may be specified\nas a decimal value or a hex value if preceded by\n&quot;0x&quot;. If not given, a large random number will be\nused.</p>\n\n<p style=\"margin-left:11%;\"><b>-copy_extensions</b>\n<i>arg</i></p>\n\n<p style=\"margin-left:17%;\">Determines how X.509 extensions\nin certificate requests should be handled when <b>-x509</b>\nis in use. If <i>arg</i> is <b>none</b> or this option is\nnot present then extensions are ignored. If <i>arg</i> is\n<b>copy</b> or <b>copyall</b> then all extensions in the\nrequest are copied to the certificate.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The main use of\nthis option is to allow a certificate request to supply\nvalues for certain extensions such as subjectAltName.</p>\n\n<p style=\"margin-left:11%;\"><b>-addext</b> <i>ext</i></p>\n\n<p style=\"margin-left:17%;\">Add a specific extension to the\ncertificate (if <b>-x509</b> is in use) or certificate\nrequest. The argument must have the form of a key=value pair\nas it would appear in a config file.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">This option can\nbe given multiple times.</p>\n\n<p style=\"margin-left:11%;\"><b>-extensions</b>\n<i>section</i> <b><br>\n-reqexts</b> <i>section</i></p>\n\n<p style=\"margin-left:17%;\">These options specify\nalternative sections to include certificate extensions (if\n<b>-x509</b> is in use) or certificate request extensions.\nThis allows several different sections to be used in the\nsame configuration file to specify requests for a variety of\npurposes.</p>\n\n<p style=\"margin-left:11%;\"><b>-precert</b></p>\n\n<p style=\"margin-left:17%;\">A poison extension will be\nadded to the certificate, making it a\n&quot;pre-certificate&quot; (see <small>RFC6962</small> ).\nThis can be submitted to Certificate Transparency logs in\norder to obtain signed certificate timestamps (SCTs). These\nSCTs can then be embedded into the pre-certificate as an\nextension, before removing the poison and signing the\ncertificate.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">This implies\nthe <b>-new</b> flag.</p>\n\n<p style=\"margin-left:11%;\"><b>-utf8</b></p>\n\n<p style=\"margin-left:17%;\">This option causes field values\nto be interpreted as <small>UTF8</small> strings, by default\nthey are interpreted as <small>ASCII.</small> This means\nthat the field values, whether prompted from a terminal or\nobtained from a configuration file, must be valid\n<small>UTF8</small> strings.</p>\n\n<p style=\"margin-left:11%;\"><b>-reqopt</b>\n<i>option</i></p>\n\n<p style=\"margin-left:17%;\">Customise the printing format\nused with <b>-text</b>. The <i>option</i> argument can be a\nsingle option or multiple options separated by commas.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">See discussion\nof the <b>-certopt</b> parameter in the\n<a href=\"https://man.page/1/openssl-x509\">openssl-x509(1)</a> command.</p>\n\n<p style=\"margin-left:11%;\"><b>-newhdr</b></p>\n\n<p style=\"margin-left:17%;\">Adds the word\n<b><small>NEW</small></b> to the <small>PEM</small> file\nheader and footer lines on the outputted request. Some\nsoftware (Netscape certificate server) and some CAs need\nthis.</p>\n\n<p style=\"margin-left:11%;\"><b>-batch</b></p>\n\n<p style=\"margin-left:17%;\">Non-interactive mode.</p>\n\n<p style=\"margin-left:11%;\"><b>-verbose</b></p>\n\n<p style=\"margin-left:17%;\">Print extra details about the\noperations being performed.</p>\n\n<p style=\"margin-left:11%;\"><b>-keygen_engine</b>\n<i>id</i></p>\n\n<p style=\"margin-left:17%;\">Specifies an engine (by its\nunique <i>id</i> string) which would be used for key\ngeneration operations.</p>\n\n<p style=\"margin-left:11%;\"><b>-nameopt</b>\n<i>option</i></p>\n\n<p style=\"margin-left:17%;\">This specifies how the subject\nor issuer names are displayed. See\n<a href=\"https://man.page/1/openssl-namedisplay-options\">openssl-namedisplay-options(1)</a> for details.</p>\n\n<p style=\"margin-left:11%;\"><b>-rand</b> <i>files</i>,\n<b>-writerand</b> <i>file</i></p>\n\n<p style=\"margin-left:17%;\">See &quot;Random State\nOptions&quot; in <a href=\"https://man.page/1/openssl\">openssl(1)</a> for details.</p>\n\n<p style=\"margin-left:11%;\"><b>-engine</b> <i>id</i></p>\n\n<p style=\"margin-left:17%;\">See &quot;Engine Options&quot;\nin <a href=\"https://man.page/1/openssl\">openssl(1)</a>. This option is deprecated.</p>\n\n<p style=\"margin-left:11%;\"><b>-provider</b> <i>name</i>\n<b><br>\n-provider-path</b> <i>path</i> <b><br>\n-propquery</b> <i>propq</i></p>\n\n<p style=\"margin-left:17%;\">See &quot;Provider\nOptions&quot; in <a href=\"https://man.page/1/openssl\">openssl(1)</a>, <a href=\"https://man.page/7/provider\">provider(7)</a>, and\n<a href=\"https://man.page/7/property\">property(7)</a>.</p>\n\n<h2>CONFIGURATION FILE FORMAT\n<a name=\"CONFIGURATION FILE FORMAT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\nconfiguration options are specified in the <b>req</b>\nsection of the configuration file. An alternate name be\nspecified by using the <b>-section</b> option. As with all\nconfiguration files, if no value is specified in the\nspecific section then the initial unnamed or <b>default</b>\nsection is searched too.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The options\navailable are described in detail below. <b><br>\ninput_password</b>, <b>output_password</b></p>\n\n<p style=\"margin-left:17%;\">The passwords for the input\nprivate key file (if present) and the output private key\nfile (if one will be created). The command line options\n<b>passin</b> and <b>passout</b> override the configuration\nfile values.</p>\n\n<p style=\"margin-left:11%;\"><b>default_bits</b></p>\n\n<p style=\"margin-left:17%;\">Specifies the default key size\nin bits.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">This option is\nused in conjunction with the <b>-new</b> option to generate\na new key. It can be overridden by specifying an explicit\nkey size in the <b>-newkey</b> option. The smallest accepted\nkey size is 512 bits. If no key size is specified then 2048\nbits is used.</p>\n\n<p style=\"margin-left:11%;\"><b>default_keyfile</b></p>\n\n<p style=\"margin-left:17%;\">This is the default filename to\nwrite a private key to. If not specified the key is written\nto standard output. This can be overridden by the\n<b>-keyout</b> option.</p>\n\n<p style=\"margin-left:11%;\"><b>oid_file</b></p>\n\n<p style=\"margin-left:17%;\">This specifies a file\ncontaining additional <b><small>OBJECT\nIDENTIFIERS</small></b> . Each line of the file should\nconsist of the numerical form of the object identifier\nfollowed by whitespace then the short name followed by\nwhitespace and finally the long name.</p>\n\n<p style=\"margin-left:11%;\"><b>oid_section</b></p>\n\n<p style=\"margin-left:17%;\">This specifies a section in the\nconfiguration file containing extra object identifiers. Each\nline should consist of the short name of the object\nidentifier followed by <b>=</b> and the numerical form. The\nshort and long names are the same when this option is\nused.</p>\n\n\n<p style=\"margin-left:11%;\"><b><small>RANDFILE</small></b></p>\n\n<p style=\"margin-left:17%;\">At startup the specified file\nis loaded into the random number generator, and at exit 256\nbytes will be written to it. It is used for private key\ngeneration.</p>\n\n<p style=\"margin-left:11%;\"><b>encrypt_key</b></p>\n\n<p style=\"margin-left:17%;\">If this is set to <b>no</b>\nthen if a private key is generated it is <b>not</b>\nencrypted. This is equivalent to the <b>-noenc</b> command\nline option. For compatibility <b>encrypt_rsa_key</b> is an\nequivalent option.</p>\n\n<p style=\"margin-left:11%;\"><b>default_md</b></p>\n\n<p style=\"margin-left:17%;\">This option specifies the\ndigest algorithm to use. Any digest supported by the OpenSSL\n<b>dgst</b> command can be used. This option can be\noverridden on the command line. Certain signing algorithms\n(i.e. Ed25519 and Ed448) will ignore any digest that has\nbeen set.</p>\n\n<p style=\"margin-left:11%;\"><b>string_mask</b></p>\n\n<p style=\"margin-left:17%;\">This option masks out the use\nof certain string types in certain fields. Most users will\nnot need to change this option.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">It can be set\nto several values <b>default</b> which is also the default\noption uses PrintableStrings, T61Strings and BMPStrings if\nthe <b>pkix</b> value is used then only PrintableStrings and\nBMPStrings will be used. This follows the\n<small>PKIX</small> recommendation in\n<small>RFC2459.</small> If the <b>utf8only</b> option is\nused then only UTF8Strings will be used: this is the\n<small>PKIX</small> recommendation in <small>RFC2459</small>\nafter 2003. Finally the <b>nombstr</b> option just uses\nPrintableStrings and T61Strings: certain software has\nproblems with BMPStrings and UTF8Strings: in particular\nNetscape.</p>\n\n<p style=\"margin-left:11%;\"><b>req_extensions</b></p>\n\n<p style=\"margin-left:17%;\">This specifies the\nconfiguration file section containing a list of extensions\nto add to the certificate request. It can be overridden by\nthe <b>-reqexts</b> command line switch. See the\n<a href=\"https://man.page/5/x509v3_config\">x509v3_config(5)</a> manual page for details of the\nextension section format.</p>\n\n<p style=\"margin-left:11%;\"><b>x509_extensions</b></p>\n\n<p style=\"margin-left:17%;\">This specifies the\nconfiguration file section containing a list of extensions\nto add to certificate generated when <b>-x509</b> is in use.\nIt can be overridden by the <b>-extensions</b> command line\nswitch.</p>\n\n<p style=\"margin-left:11%;\"><b>prompt</b></p>\n\n<p style=\"margin-left:17%;\">If set to the value <b>no</b>\nthis disables prompting of certificate fields and just takes\nvalues from the config file directly. It also changes the\nexpected format of the <b>distinguished_name</b> and\n<b>attributes</b> sections.</p>\n\n<p style=\"margin-left:11%;\"><b>utf8</b></p>\n\n<p style=\"margin-left:17%;\">If set to the value <b>yes</b>\nthen field values to be interpreted as <small>UTF8</small>\nstrings, by default they are interpreted as\n<small>ASCII.</small> This means that the field values,\nwhether prompted from a terminal or obtained from a\nconfiguration file, must be valid <small>UTF8</small>\nstrings.</p>\n\n<p style=\"margin-left:11%;\"><b>attributes</b></p>\n\n<p style=\"margin-left:17%;\">This specifies the section\ncontaining any request attributes: its format is the same as\n<b>distinguished_name</b>. Typically these may contain the\nchallengePassword or unstructuredName types. They are\ncurrently ignored by OpenSSL&rsquo;s request signing\nutilities but some CAs might want them.</p>\n\n<p style=\"margin-left:11%;\"><b>distinguished_name</b></p>\n\n<p style=\"margin-left:17%;\">This specifies the section\ncontaining the distinguished name fields to prompt for when\ngenerating a certificate or certificate request. The format\nis described in the next section.</p>\n\n<h2>DISTINGUISHED NAME AND ATTRIBUTE SECTION FORMAT\n<a name=\"DISTINGUISHED NAME AND ATTRIBUTE SECTION FORMAT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">There are two\nseparate formats for the distinguished name and attribute\nsections. If the <b>prompt</b> option is set to <b>no</b>\nthen these sections just consist of field names and values:\nfor example,</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">CN=My Name <br>\nOU=My Organization <br>\nemailAddress=someone@somewhere.org</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This allows\nexternal programs (e.g. <small>GUI</small> based) to\ngenerate a template file with all the field names and values\nand just pass it to this command. An example of this kind of\nconfiguration file is contained in the\n<b><small>EXAMPLES</small></b> section.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Alternatively\nif the <b>prompt</b> option is absent or not set to\n<b>no</b> then the file contains field prompting\ninformation. It consists of lines of the form:</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">fieldName=&quot;prompt&quot;\n<br>\nfieldName_default=&quot;default field value&quot; <br>\nfieldName_min= 2 <br>\nfieldName_max= 4</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">&quot;fieldName&quot;\nis the field name being used, for example commonName (or\n<small>CN</small> ). The &quot;prompt&quot; string is used\nto ask the user to enter the relevant details. If the user\nenters nothing then the default value is used if no default\nvalue is present then the field is omitted. A field can\nstill be omitted if a default value is present if the user\njust enters the &rsquo;.&rsquo; character.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The number of\ncharacters entered must be between the fieldName_min and\nfieldName_max limits: there may be additional restrictions\nbased on the field being used (for example countryName can\nonly ever be two characters long and must fit in a\nPrintableString).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Some fields\n(such as organizationName) can be used more than once in a\n<small>DN.</small> This presents a problem because\nconfiguration files will not recognize the same name\noccurring twice. To avoid this problem if the fieldName\ncontains some characters followed by a full stop they will\nbe ignored. So for example a second organizationName can be\ninput by calling it &quot;1.organizationName&quot;.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The actual\npermitted field names are any object identifier short or\nlong names. These are compiled into OpenSSL and include the\nusual values such as commonName, countryName, localityName,\norganizationName, organizationalUnitName,\nstateOrProvinceName. Additionally emailAddress is included\nas well as name, surname, givenName, initials, and\ndnQualifier.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Additional\nobject identifiers can be defined with the <b>oid_file</b>\nor <b>oid_section</b> options in the configuration file. Any\nadditional fields will be treated as though they were a\nDirectoryString.</p>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Examine and\nverify certificate request:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">openssl req -in\nreq.pem -text -verify -noout</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Create a\nprivate key and then generate a certificate request from\nit:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">openssl genrsa\n-out key.pem 2048 <br>\nopenssl req -new -key key.pem -out req.pem</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The same but\njust using req:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">openssl req\n-newkey rsa:2048 -keyout key.pem -out req.pem</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Generate a\nself-signed root certificate:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">openssl req\n-x509 -newkey rsa:2048 -keyout key.pem -out req.pem</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Create an\n<small>SM2</small> private key and then generate a\ncertificate request from it:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">openssl ecparam\n-genkey -name SM2 -out sm2.key <br>\nopenssl req -new -key sm2.key -out sm2.csr -sm3 -sigopt\n&quot;distid:1234567812345678&quot;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Examine and\nverify an <small>SM2</small> certificate request:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">openssl req\n-verify -in sm2.csr -sm3 -vfyopt\n&quot;distid:1234567812345678&quot;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Example of a\nfile pointed to by the <b>oid_file</b> option:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">1.2.3.4\nshortName A longer Name <br>\n1.2.3.6 otherName Other longer Name</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Example of a\nsection pointed to by <b>oid_section</b> making use of\nvariable expansion:</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">testoid1=1.2.3.5\n<br>\ntestoid2=${testoid1}.6</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Sample\nconfiguration file prompting for field values:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">[ req ] <br>\ndefault_bits = 2048 <br>\ndefault_keyfile = privkey.pem <br>\ndistinguished_name = req_distinguished_name <br>\nattributes = req_attributes <br>\nreq_extensions = v3_ca <br>\ndirstring_type = nobmp <br>\n[ req_distinguished_name ] <br>\ncountryName = Country Name (2 letter code) <br>\ncountryName_default = AU <br>\ncountryName_min = 2 <br>\ncountryName_max = 2 <br>\nlocalityName = Locality Name (eg, city) <br>\norganizationalUnitName = Organizational Unit Name (eg,\nsection) <br>\ncommonName = Common Name (eg, YOUR name) <br>\ncommonName_max = 64 <br>\nemailAddress = Email Address <br>\nemailAddress_max = 40 <br>\n[ req_attributes ] <br>\nchallengePassword = A challenge password <br>\nchallengePassword_min = 4 <br>\nchallengePassword_max = 20 <br>\n[ v3_ca ] <br>\nsubjectKeyIdentifier=hash <br>\nauthorityKeyIdentifier=keyid:always,issuer:always <br>\nbasicConstraints = critical, CA:true</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Sample\nconfiguration containing all field values:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">[ req ] <br>\ndefault_bits = 2048 <br>\ndefault_keyfile = keyfile.pem <br>\ndistinguished_name = req_distinguished_name <br>\nattributes = req_attributes <br>\nprompt = no <br>\noutput_password = mypass <br>\n[ req_distinguished_name ] <br>\nC = GB <br>\nST = Test State or Province <br>\nL = Test Locality <br>\nO = Organization Name <br>\nOU = Organizational Unit Name <br>\nCN = Common Name <br>\nemailAddress = test@email.address <br>\n[ req_attributes ] <br>\nchallengePassword = A challenge password</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Example of\ngiving the most common attributes (subject and extensions)\non the command line:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">openssl req\n-new -subj &quot;/C=GB/CN=foo&quot; \\ <br>\n-addext &quot;subjectAltName = DNS:foo.co.uk&quot; \\ <br>\n-addext &quot;certificatePolicies = 1.2.3.4&quot; \\ <br>\n-newkey rsa:2048 -keyout key.pem -out req.pem</p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The certificate\nrequests generated by <b>Xenroll</b> with\n<small>MSIE</small> have extensions added. It includes the\n<b>keyUsage</b> extension which determines the type of key\n(signature only or general purpose) and any additional OIDs\nentered by the script in an <b>extendedKeyUsage</b>\nextension.</p>\n\n<h2>DIAGNOSTICS\n<a name=\"DIAGNOSTICS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\nmessages are frequently asked about:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Using\nconfiguration from /some/path/openssl.cnf <br>\nUnable to load config info</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This is\nfollowed some time later by:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">unable to find\n'distinguished_name' in config <br>\nproblems making Certificate Request</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The first error\nmessage is the clue: it can&rsquo;t find the configuration\nfile! Certain operations (like examining a certificate\nrequest) don&rsquo;t need a configuration file so its use\nisn&rsquo;t enforced. Generation of certificates or requests\nhowever does need a configuration file. This could be\nregarded as a bug.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Another\npuzzling message is this:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Attributes:\n<br>\na0:00</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">this is\ndisplayed when no attributes are present and the request\nincludes the correct empty <b><small>SET OF</small></b>\nstructure (the <small>DER</small> encoding of which is 0xa0\n0x00). If you just see:</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Attributes:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">then the\n<b><small>SET OF</small></b> is missing and the encoding is\ntechnically invalid (but it is tolerated). See the\ndescription of the command line option <b>-asn1-kludge</b>\nfor more information.</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">OpenSSL&rsquo;s\nhandling of T61Strings (aka TeletexStrings) is broken: it\neffectively treats them as <small>ISO-8859-1</small> (Latin\n1), Netscape and <small>MSIE</small> have similar behaviour.\nThis can cause problems if you need characters that\naren&rsquo;t available in PrintableStrings and you\ndon&rsquo;t want to or can&rsquo;t use BMPStrings.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">As a\nconsequence of the T61String handling the only correct way\nto represent accented characters in OpenSSL is to use a\nBMPString: unfortunately Netscape currently chokes on these.\nIf you have to use accented characters with Netscape and\n<small>MSIE</small> then you currently need to use the\ninvalid T61String form.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The current\nprompting is not very friendly. It doesn&rsquo;t allow you\nto confirm what you&rsquo;ve just entered. Other things like\nextensions in certificate requests are statically defined in\nthe configuration file. Some of these: like an email address\nin subjectAltName should be input by the user.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/openssl\">openssl(1)</a>,\n<a href=\"https://man.page/1/openssl-x509\">openssl-x509(1)</a>, <a href=\"https://man.page/1/openssl-ca\">openssl-ca(1)</a>,\n<a href=\"https://man.page/1/openssl-genrsa\">openssl-genrsa(1)</a>, <a href=\"https://man.page/1/openssl-gendsa\">openssl-gendsa(1)</a>,\n<a href=\"https://man.page/5/config\">config(5)</a>, <a href=\"https://man.page/5/x509v3_config\">x509v3_config(5)</a></p>\n\n<h2>HISTORY\n<a name=\"HISTORY\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>-section</b> option was added in OpenSSL 3.0.0.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>-multivalue-rdn</b> option has become obsolete in OpenSSL\n3.0.0 and has no effect.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>-engine</b> option was deprecated in OpenSSL 3.0. The\n&lt;-nodes&gt; option was deprecated in OpenSSL 3.0, too;\nuse <b>-noenc</b> instead.</p>\n\n<h2>COPYRIGHT\n<a name=\"COPYRIGHT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Copyright\n2000-2021 The OpenSSL Project Authors. All Rights\nReserved.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Licensed under\nthe Apache License 2.0 (the &quot;License&quot;). You may\nnot use this file except in compliance with the License. You\ncan obtain a copy in the file <small>LICENSE</small> in the\nsource distribution or at\n&lt;https://www.openssl.org/source/license.html&gt;.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#CONFIGURATION FILE FORMAT\">CONFIGURATION FILE FORMAT</a>","<a href=\"#DISTINGUISHED NAME AND ATTRIBUTE SECTION FORMAT\">DISTINGUISHED NAME AND ATTRIBUTE SECTION FORMAT</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>","<a href=\"#NOTES\">NOTES</a>","<a href=\"#DIAGNOSTICS\">DIAGNOSTICS</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#HISTORY\">HISTORY</a>","<a href=\"#COPYRIGHT\">COPYRIGHT</a>"]}