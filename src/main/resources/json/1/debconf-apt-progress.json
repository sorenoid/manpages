{"name":"debconf-apt-progress","description":"debconf-apt-progress\n- install packages using debconf to display a progress\nbar","body":"\n\n<h1 align=\"center\">DEBCONF-APT-PROGRESS</h1>\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">debconf-apt-progress\n- install packages using debconf to display a progress\nbar</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">debconf-apt-progress\n[--] command [args ...] <br>\ndebconf-apt-progress --config <br>\ndebconf-apt-progress --start <br>\ndebconf-apt-progress --from waypoint --to waypoint [--]\ncommand [args ...] <br>\ndebconf-apt-progress --stop</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>debconf-apt-progress</b>\ninstalls packages using debconf to display a progress bar.\nThe given <i>command</i> should be any command-line apt\nfrontend; specifically, it must send progress information to\nthe file descriptor selected by the\n&quot;APT::Status-Fd&quot; configuration option, and must\nkeep the file descriptors nominated by the\n&quot;APT::Keep-Fds&quot; configuration option open when\ninvoking debconf (directly or indirectly), as those file\ndescriptors will be used for the debconf passthrough\nprotocol.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The arguments\nto the command you supply should generally include <b>-y</b>\n(for <b>apt-get</b> or <b>aptitude</b>) or similar to avoid\nthe apt frontend prompting for input.\n<b>debconf-apt-progress</b> cannot do this itself because\nthe appropriate argument may differ between apt\nfrontends.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>--start</b>, <b>--stop</b>, <b>--from</b>, and\n<b>--to</b> options may be used to create a progress bar\nwith multiple segments for different stages of installation,\nprovided that the caller is a debconf confmodule. The caller\nmay also interact with the progress bar itself using the\ndebconf protocol if it so desires.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">debconf locks\nits config database when it starts up, which makes it\nunfortunately inconvenient to have one instance of debconf\ndisplaying the progress bar and another passing through\nquestions from packages being installed. If you&rsquo;re\nusing a multiple-segment progress bar, you&rsquo;ll need to\neval the output of the <b>--config</b> option before\nstarting the debconf frontend to work around this. See\n&quot; <small>EXAMPLES&quot;</small> in the\n<small>EXAMPLES</small> section below.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--config</b></p>\n\n<p style=\"margin-left:17%;\">Print environment variables\nnecessary to start up a progress bar frontend.</p>\n\n<p style=\"margin-left:11%;\"><b>--start</b></p>\n\n<p style=\"margin-left:17%;\">Start up a progress bar,\nrunning from 0 to 100 by default. Use <b>--from</b> and\n<b>--to</b> to use other endpoints.</p>\n\n<p style=\"margin-left:11%;\"><b>--from</b>\n<i>waypoint</i></p>\n\n<p style=\"margin-left:17%;\">If used with <b>--start</b>,\nmake the progress bar begin at <i>waypoint</i> rather than\n0.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Otherwise,\ninstall packages with their progress bar beginning at this\n&quot;waypoint&quot;. Must be used with <b>--to</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>--to</b> <i>waypoint</i></p>\n\n<p style=\"margin-left:17%;\">If used with <b>--start</b>,\nmake the progress bar end at <i>waypoint</i> rather than\n100.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Otherwise,\ninstall packages with their progress bar ending at this\n&quot;waypoint&quot;. Must be used with <b>--from</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>--stop</b></p>\n\n<p style=\"margin-left:17%;\">Stop a running progress\nbar.</p>\n\n<p style=\"margin-left:11%;\"><b>--no-progress</b></p>\n\n<p style=\"margin-left:17%;\">Avoid starting, stopping, or\nstepping the progress bar. Progress messages from apt, media\nchange events, and debconf questions will still be passed\nthrough to debconf.</p>\n\n<p style=\"margin-left:11%;\"><b>--dlwaypoint</b>\n<i>percentage</i></p>\n\n<p style=\"margin-left:17%;\">Specify what percent of the\nprogress bar to use for downloading packages. The remainder\nwill be used for installing packages. The default is to use\n15% for downloading and the remaining 85% for\ninstalling.</p>\n\n<p style=\"margin-left:11%;\"><b>--logfile</b>\n<i>file</i></p>\n\n<p style=\"margin-left:17%;\">Send the normal output from apt\nto the given file.</p>\n\n<p style=\"margin-left:11%;\"><b>--logstderr</b></p>\n\n<p style=\"margin-left:17%;\">Send the normal output from apt\nto stderr. If you supply neither <b>--logfile</b> nor\n<b>--logstderr</b>, the normal output from apt will be\ndiscarded.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"3%\">\n\n\n<p><b>--</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"83%\">\n\n\n<p>Terminate options. Since you will normally need to give\nat least the <b>-y</b> argument to the command being run,\nyou will usually need to use <b>--</b> to prevent that being\ninterpreted as an option to <b>debconf-apt-progress</b>\nitself.</p> </td></tr>\n</table>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Install the\n<small>GNOME</small> desktop and an X window system\ndevelopment environment within a progress bar:</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">debconf-apt-progress\n-- aptitude -y install gnome x-window-system-dev</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Install the\n<small>GNOME, KDE,</small> and <small>XFCE</small> desktops\nwithin a single progress bar, allocating 45% of the progress\nbar for each of <small>GNOME</small> and <small>KDE</small>\nand the remaining 10% for <small>XFCE:</small></p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">#! /bin/sh <br>\nset -e <br>\ncase $1 in <br>\n'') <br>\neval &quot;$(debconf-apt-progress --config)&quot; <br>\n&quot;$0&quot; debconf <br>\n;; <br>\ndebconf) <br>\n. /usr/share/debconf/confmodule <br>\ndebconf-apt-progress --start <br>\ndebconf-apt-progress --from 0 --to 45 -- apt-get -y install\ngnome <br>\ndebconf-apt-progress --from 45 --to 90 -- apt-get -y install\nkde <br>\ndebconf-apt-progress --from 90 --to 100 -- apt-get -y\ninstall xfce4 <br>\ndebconf-apt-progress --stop <br>\n;; <br>\nesac</p>\n\n<h2>RETURN CODE\n<a name=\"RETURN CODE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The exit code\nof the specified command is returned, unless the user hit\nthe cancel button on the progress bar. If the cancel button\nwas hit, a value of 30 is returned. To avoid ambiguity, if\nthe command returned 30, a value of 3 will be returned.</p>\n\n<h2>AUTHORS\n<a name=\"AUTHORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Colin Watson\n&lt;cjwatson@debian.org&gt;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Joey Hess\n&lt;joeyh@debian.org&gt;</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>","<a href=\"#RETURN CODE\">RETURN CODE</a>","<a href=\"#AUTHORS\">AUTHORS</a>"]}