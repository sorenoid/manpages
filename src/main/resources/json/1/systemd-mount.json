{"name":"systemd-mount","description":"systemd-mount,\nsystemd-umount - Establish and destroy transient mount or\nauto-mount points","body":"\n\n<h1 align=\"center\">SYSTEMD-MOUNT</h1>\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">systemd-mount,\nsystemd-umount - Establish and destroy transient mount or\nauto-mount points</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"75%\">\n\n\n<p style=\"margin-top: 1em\"><b>systemd-mount</b>\n[<i>OPTIONS</i>...] <i>WHAT</i> [<i>WHERE</i>]</p></td>\n<td width=\"14%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"75%\">\n\n\n<p style=\"margin-top: 1em\"><b>systemd-mount</b>\n[<i>OPTIONS</i>...] <b>--list</b></p></td>\n<td width=\"14%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"75%\">\n\n\n<p style=\"margin-top: 1em\"><b>systemd-mount</b>\n[<i>OPTIONS</i>...] <b>--umount</b> <i>WHAT|WHERE</i>...</p></td>\n<td width=\"14%\">\n</td></tr>\n</table>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>systemd-mount</b>\nmay be used to create and start a transient .mount or\n.automount unit of the file system <i>WHAT</i> on the mount\npoint <i>WHERE</i>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In many ways,\n<b>systemd-mount</b> is similar to the lower-level\n<b>mount</b>(8) command, however instead of executing the\nmount operation directly and immediately,\n<b>systemd-mount</b> schedules it through the service\nmanager job queue, so that it may pull in further\ndependencies (such as parent mounts, or a file system\nchecker to execute a priori), and may make use of the\nauto-mounting logic.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The command\ntakes either one or two arguments. If only one argument is\nspecified it should refer to a block device or regular file\ncontaining a file system (e.g. &quot;/dev/sdb1&quot; or\n&quot;/path/to/disk.img&quot;). The block device or image\nfile is then probed for a file system label and other\nmetadata, and is mounted to a directory below\n/run/media/system/ whose name is generated from the file\nsystem label. In this mode the block device or image file\nmust exist at the time of invocation of the command, so that\nit may be probed. If the device is found to be a removable\nblock device (e.g. a USB stick), an automount point is\ncreated instead of a regular mount point (i.e. the\n<b>--automount=</b> option is implied, see below).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If two\narguments are specified, the first indicates the mount\nsource (the <i>WHAT</i>) and the second indicates the path\nto mount it on (the <i>WHERE</i>). In this mode no probing\nof the source is attempted, and a backing device node\ndoesn't have to exist. However, if this mode is combined\nwith <b>--discover</b>, device node probing for additional\nmetadata is enabled, and &ndash; much like in the\nsingle-argument case discussed above &ndash; the specified\ndevice has to exist at the time of invocation of the\ncommand.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Use the\n<b>--list</b> command to show a terse table of all local,\nknown block devices with file systems that may be mounted\nwith this command.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>systemd-umount</b>\ncan be used to unmount a mount or automount point. It is the\nsame as <b>systemd-mount --umount</b>.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The following\noptions are understood:</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--no-block</b></p>\n\n<p style=\"margin-left:17%;\">Do not synchronously wait for\nthe requested operation to finish. If this is not specified,\nthe job will be verified, enqueued and <b>systemd-mount</b>\nwill wait until the mount or automount unit's start-up is\ncompleted. By passing this argument, it is only verified and\nenqueued.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-l</b>,\n<b>--full</b></p>\n\n<p style=\"margin-left:17%;\">Do not ellipsize the output\nwhen <b>--list</b> is specified.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--no-pager</b></p>\n\n<p style=\"margin-left:17%;\">Do not pipe output into a\npager.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--no-legend</b></p>\n\n<p style=\"margin-left:17%;\">Do not print the legend, i.e.\ncolumn headers and the footer with hints.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--no-ask-password</b></p>\n\n<p style=\"margin-left:17%;\">Do not query the user for\nauthentication for privileged operations.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--quiet</b>,\n<b>-q</b></p>\n\n<p style=\"margin-left:17%;\">Suppresses additional\ninformational output while running.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--discover</b></p>\n\n<p style=\"margin-left:17%;\">Enable probing of the mount\nsource. This switch is implied if a single argument is\nspecified on the command line. If passed, additional\nmetadata is read from the device to enhance the unit to\ncreate. For example, a descriptive string for the transient\nunits is generated from the file system label and device\nmodel. Moreover if a removable block device (e.g. USB stick)\nis detected an automount unit instead of a regular mount\nunit is created, with a short idle timeout, in order to\nensure the file-system is placed in a clean state quickly\nafter each access.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--type=</b>,\n<b>-t</b></p>\n\n<p style=\"margin-left:17%;\">Specifies the file system type\nto mount (e.g. &quot;vfat&quot; or &quot;ext4&quot;). If\nomitted or set to &quot;auto&quot;, the file system type is\ndetermined automatically.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--options=</b>,\n<b>-o</b></p>\n\n<p style=\"margin-left:17%;\">Additional mount options for\nthe mount point.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--owner=</b><i>USER</i></p>\n\n<p style=\"margin-left:17%;\">Let the specified user\n<i>USER</i> own the mounted file system. This is done by\nappending <b>uid=</b> and <b>gid=</b> options to the list of\nmount options. Only certain file systems support this\noption.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--fsck=</b></p>\n\n<p style=\"margin-left:17%;\">Takes a boolean argument,\ndefaults to on. Controls whether to run a file system check\nimmediately before the mount operation. In the automount\ncase (see <b>--automount=</b> below) the check will be run\nthe moment the first access to the device is made, which\nmight slightly delay the access.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--description=</b></p>\n\n<p style=\"margin-left:17%;\">Provide a description for the\nmount or automount unit. See <i>Description=</i> in\n<b>systemd.unit</b>(5).</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--property=</b>,\n<b>-p</b></p>\n\n<p style=\"margin-left:17%;\">Sets a unit property for the\nmount unit that is created. This takes an assignment in the\nsame format as <a href=\"https://man.page/1/systemctl\">systemctl(1)</a>'s <b>set-property</b>\ncommand.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--automount=</b></p>\n\n<p style=\"margin-left:17%;\">Takes a boolean argument.\nControls whether to create an automount point or a regular\nmount point. If true an automount point is created that is\nbacked by the actual file system at the time of first\naccess. If false a plain mount point is created that is\nbacked by the actual file system immediately. Automount\npoints have the benefit that the file system stays unmounted\nand hence in clean state until it is first accessed. In\nautomount mode the <b>--timeout-idle-sec=</b> switch (see\nbelow) may be used to ensure the mount point is unmounted\nautomatically after the last access and an idle period\npassed.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If this switch\nis not specified it defaults to false. If not specified and\n<b>--discover</b> is used (or only a single argument passed,\nwhich implies <b>--discover</b>, see above), and the file\nsystem block device is detected to be removable, it is set\nto true, in order to increase the chance that the file\nsystem is in a fully clean state if the device is unplugged\nabruptly.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-A</b></p>\n\n<p style=\"margin-left:17%;\">Equivalent to\n<b>--automount=yes</b>.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--timeout-idle-sec=</b></p>\n\n<p style=\"margin-left:17%;\">Takes a time value that\ncontrols the idle timeout in automount mode. If set to\n&quot;infinity&quot; (the default) no automatic unmounts are\ndone. Otherwise the file system backing the automount point\nis detached after the last access and the idle timeout\npassed. See <b>systemd.time</b>(7) for details on the time\nsyntax supported. This option has no effect if only a\nregular mount is established, and automounting is not\nused.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Note that if\n<b>--discover</b> is used (or only a single argument passed,\nwhich implies <b>--discover</b>, see above), and the file\nsystem block device is detected to be removable,\n<b>--timeout-idle-sec=1s</b> is implied.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--automount-property=</b></p>\n\n<p style=\"margin-left:17%;\">Similar to <b>--property=</b>,\nbut applies additional properties to the automount unit\ncreated, instead of the mount unit.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--bind-device</b></p>\n\n<p style=\"margin-left:17%;\">This option only has an effect\nin automount mode, and controls whether the automount unit\nshall be bound to the backing device's lifetime. If set, the\nautomount point will be removed automatically when the\nbacking device vanishes. By default the automount point\nstays around, and subsequent accesses will block until\nbacking device is replugged. This option has no effect in\ncase of non-device mounts, such as network or virtual file\nsystem mounts.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Note that if\n<b>--discover</b> is used (or only a single argument passed,\nwhich implies <b>--discover</b>, see above), and the file\nsystem block device is detected to be removable, this option\nis implied.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--list</b></p>\n\n<p style=\"margin-left:17%;\">Instead of establishing a mount\nor automount point, print a terse list of block devices\ncontaining file systems that may be mounted with\n&quot;systemd-mount&quot;, along with useful metadata such\nas labels, etc.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-u</b>,\n<b>--umount</b></p>\n\n<p style=\"margin-left:17%;\">Stop the mount and automount\nunits corresponding to the specified mount points\n<i>WHERE</i> or the devices <i>WHAT</i>.\n<b>systemd-mount</b> with this option or\n<b>systemd-umount</b> can take multiple arguments which can\nbe mount points, devices, /etc/fstab style node names, or\nbacking files corresponding to loop devices, like\n<b>systemd-mount --umount /path/to/umount /dev/sda1\nUUID=xxxxxx-xxxx LABEL=xxxxx /path/to/disk.img</b>. Note\nthat when <b>-H</b> or <b>-M</b> is specified, only absolute\npaths to mount points are supported.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-G</b>,\n<b>--collect</b></p>\n\n<p style=\"margin-left:17%;\">Unload the transient unit after\nit completed, even if it failed. Normally, without this\noption, all mount units that mount and failed are kept in\nmemory until the user explicitly resets their failure state\nwith <b>systemctl reset-failed</b> or an equivalent command.\nOn the other hand, units that stopped successfully are\nunloaded immediately. If this option is turned on the\n&quot;garbage collection&quot; of units is more aggressive,\nand unloads units regardless if they exited successfully or\nfailed. This option is a shortcut for\n<b>--property=CollectMode=inactive-or-failed</b>, see the\nexplanation for <i>CollectMode=</i> in\n<b>systemd.unit</b>(5) for further information.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--user</b></p>\n\n<p style=\"margin-left:17%;\">Talk to the service manager of\nthe calling user, rather than the service manager of the\nsystem.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--system</b></p>\n\n<p style=\"margin-left:17%;\">Talk to the service manager of\nthe system. This is the implied default.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-H</b>,\n<b>--host=</b></p>\n\n<p style=\"margin-left:17%;\">Execute the operation remotely.\nSpecify a hostname, or a username and hostname separated by\n&quot;@&quot;, to connect to. The hostname may optionally be\nsuffixed by a port ssh is listening on, separated by\n&quot;:&quot;, and then a container name, separated by\n&quot;/&quot;, which connects directly to a specific\ncontainer on the specified host. This will use SSH to talk\nto the remote machine manager instance. Container names may\nbe enumerated with <b>machinectl -H</b> <i>HOST</i>. Put\nIPv6 addresses in brackets.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-M</b>,\n<b>--machine=</b></p>\n\n<p style=\"margin-left:17%;\">Execute operation on a local\ncontainer. Specify a container name to connect to,\noptionally prefixed by a user name to connect as and a\nseparating &quot;@&quot; character. If the special string\n&quot;.host&quot; is used in place of the container name, a\nconnection to the local system is made (which is useful to\nconnect to a specific user's user bus: &quot;--user\n--machine=lennart@.host&quot;). If the &quot;@&quot; syntax\nis not used, the connection is made as root user. If the\n&quot;@&quot; syntax is used either the left hand side or\nthe right hand side may be omitted (but not both) in which\ncase the local user name and &quot;.host&quot; are\nimplied.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-h</b>,\n<b>--help</b></p>\n\n<p style=\"margin-left:17%;\">Print a short help text and\nexit.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--version</b></p>\n\n<p style=\"margin-left:17%;\">Print a short version string\nand exit.</p>\n\n<h2>EXIT STATUS\n<a name=\"EXIT STATUS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">On success, 0\nis returned, a non-zero failure code otherwise.</p>\n\n<h2>THE UDEV DATABASE\n<a name=\"THE UDEV DATABASE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">If\n<b>--discover</b> is used, <b>systemd-mount</b> honors a\ncouple of additional udev properties of block devices:</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>SYSTEMD_MOUNT_OPTIONS=</i></p>\n\n<p style=\"margin-left:17%;\">The mount options to use, if\n<b>--options=</b> is not used.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>SYSTEMD_MOUNT_WHERE=</i></p>\n\n<p style=\"margin-left:17%;\">The file system path to place\nthe mount point at, instead of the automatically generated\none.</p>\n\n<h2>EXAMPLE\n<a name=\"EXAMPLE\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Use a udev rule\nlike the following to automatically mount all USB storage\nplugged in:</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\">ACTION==&quot;add&quot;,\nSUBSYSTEMS==&quot;usb&quot;, SUBSYSTEM==&quot;block&quot;,\nENV{ID_FS_USAGE}==&quot;filesystem&quot;, \\ <br>\nRUN{program}+=&quot;/usr/bin/systemd-mount --no-block\n--automount=yes --collect $devnode&quot;</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/systemd\">systemd(1)</a>,\n<b>mount</b>(8), <a href=\"https://man.page/1/systemctl\">systemctl(1)</a>,\n<b>systemd.unit</b>(5), <b>systemd.mount</b>(5),\n<b>systemd.automount</b>(5), <a href=\"https://man.page/1/systemd-run\">systemd-run(1)</a></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#EXIT STATUS\">EXIT STATUS</a>","<a href=\"#THE UDEV DATABASE\">THE UDEV DATABASE</a>","<a href=\"#EXAMPLE\">EXAMPLE</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"]}