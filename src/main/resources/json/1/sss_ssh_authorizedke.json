{"name":"sss_ssh_authorizedke","description":"sss_ssh_authorizedkeys\n- get OpenSSH authorized keys","body":"\n\n<h1 align=\"center\">SSS_SSH_AUTHORIZEDKE</h1>\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">sss_ssh_authorizedkeys\n- get OpenSSH authorized keys</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"57%\">\n\n\n<p style=\"margin-top: 1em\"><b>sss_ssh_authorizedkeys</b>\n[<i>options</i>] <i>USER</i></p></td>\n<td width=\"32%\">\n</td></tr>\n</table>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i><b>sss_ssh_authorizedkeys</b></i>\nacquires SSH public keys for user <i>USER</i> and outputs\nthem in OpenSSH authorized_keys format (see the\n&ldquo;AUTHORIZED_KEYS FILE FORMAT&rdquo; section of\n<b>sshd</b>(8) for more information).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sshd</b>(8)\ncan be configured to use <b>sss_ssh_authorizedkeys</b> for\npublic key user authentication if it is compiled with\nsupport for &ldquo;AuthorizedKeysCommand&rdquo; option.\nPlease refer to the <a href=\"https://man.page/5/sshd_config\">sshd_config(5)</a> man page for more\ndetails about this option.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If\n&ldquo;AuthorizedKeysCommand&rdquo; is supported,\n<b>sshd</b>(8) can be configured to use it by putting the\nfollowing directives in <a href=\"https://man.page/5/sshd_config\">sshd_config(5)</a>:</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\">AuthorizedKeysCommand\n/usr/bin/sss_ssh_authorizedkeys <br>\nAuthorizedKeysCommandUser nobody</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>KEYS FROM\nCERTIFICATES</b> <br>\nIn addition to the public SSH keys for user <i>USER</i>\n<b>sss_ssh_authorizedkeys</b> can return public SSH keys\nderived from the public key of a X.509 certificate as\nwell.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">To enable this\nthe &ldquo;ssh_use_certificate_keys&rdquo; option must be\nset to true (default) in the [ssh] section of sssd.conf. If\nthe user entry contains certificates (see\n&ldquo;ldap_user_certificate&rdquo; in <a href=\"https://man.page/5/sssd-ldap\">sssd-ldap(5)</a>\nfor details) or there is a certificate in an override entry\nfor the user (see <b>sss_override</b>(8) or\n<a href=\"https://man.page/5/sssd-ipa\">sssd-ipa(5)</a> for details) and the certificate is valid\nSSSD will extract the public key from the certificate and\nconvert it into the format expected by sshd.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Besides\n&ldquo;ssh_use_certificate_keys&rdquo; the options</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">&bull;\nca_db</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">&bull;\np11_child_timeout</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">&bull;\ncertificate_verification</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">can be used to\ncontrol how the certificates are validated (see\n<b>sssd.conf</b>(5) for details).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The validation\nis the benefit of using X.509 certificates instead of SSH\nkeys directly because e.g. it gives a better control of the\nlifetime of the keys. When the ssh client is configured to\nuse the private keys from a Smartcard with the help of a\nPKCS#11 shared library (see <a href=\"https://man.page/1/ssh\">ssh(1)</a> for details) it\nmight be irritating that authentication is still working\neven if the related X.509 certificate on the Smartcard is\nalready expired because neither <b>ssh</b> nor <b>sshd</b>\nwill look at the certificate at all.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">It has to be\nnoted that the derived public SSH key can still be added to\nthe authorized_keys file of the user to bypass the\ncertificate validation if the <b>sshd</b> configuration\npermits this.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-d</b>,<b>--domain</b>\n<i>DOMAIN</i></p>\n\n<p style=\"margin-left:17%;\">Search for user public keys in\nSSSD domain <i>DOMAIN</i>.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-?</b>,<b>--help</b></p>\n\n<p style=\"margin-left:17%;\">Display help message and\nexit.</p>\n\n<h2>EXIT STATUS\n<a name=\"EXIT STATUS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">In case of\nsuccess, an exit value of 0 is returned. Otherwise, 1 is\nreturned.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>sssd</b>(8),\n<b>sssd.conf</b>(5), <a href=\"https://man.page/5/sssd-ldap\">sssd-ldap(5)</a>,\n<a href=\"https://man.page/5/sssd-krb5\">sssd-krb5(5)</a>, <a href=\"https://man.page/5/sssd-simple\">sssd-simple(5)</a>,\n<a href=\"https://man.page/5/sssd-ipa\">sssd-ipa(5)</a>, <a href=\"https://man.page/5/sssd-ad\">sssd-ad(5)</a>, <a href=\"https://man.page/5/sssd-files\">sssd-files(5)</a>,\n<a href=\"https://man.page/5/sssd-sudo\">sssd-sudo(5)</a>, <a href=\"https://man.page/5/sssd-session-recording\">sssd-session-recording(5)</a>,\n<b>sss_cache</b>(8), <b>sss_debuglevel</b>(8),\n<b>sss_obfuscate</b>(8), <b>sss_seed</b>(8),\n<b>sssd_krb5_locator_plugin</b>(8),\n<b>sss_ssh_authorizedkeys</b>(8),\n<b>sss_ssh_knownhostsproxy</b>(8), <a href=\"https://man.page/5/sssd-ifp\">sssd-ifp(5)</a>,\n<b>pam_sss</b>(8). <a href=\"https://man.page/5/sss_rpcidmapd\">sss_rpcidmapd(5)</a>\n<a href=\"https://man.page/5/sssd-systemtap\">sssd-systemtap(5)</a></p>\n\n<h2>AUTHORS\n<a name=\"AUTHORS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>The SSSD\nupstream - https://github.com/SSSD/sssd/</b></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#EXIT STATUS\">EXIT STATUS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHORS\">AUTHORS</a>"]}