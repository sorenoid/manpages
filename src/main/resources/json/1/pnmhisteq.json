{"name":"pnmhisteq","description":"pnmhisteq - histogram equalise a portable anymap","body":"\n\n<h1 align=\"center\">pnmhisteq</h1>\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">pnmhisteq -\nhistogram equalise a portable anymap</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>pnmhisteq</b>\n[<b>-gray</b>] [<b>-rmap</b> <i>pgmfile</i>] [<b>-wmap</b>\n<i>pgmfile</i>] [<b>-verbose</b>] [<i>pnmfile</i>]</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>pnmhisteq</b>\nincreases the contrast of a portable graymap or pixmap\nthrough the technique of <i>histogram equalisation</i>[1]. A\nhistogram of the luminance of pixels in the map is computed,\nfrom which a transfer function is calculated which spreads\nout intensity levels around histogram peaks and compresses\nthem at troughs. This has the effect of using the available\nlevels of intensity more efficiently and thereby increases\nthe detail visible in the image.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Mathematically,\nif <i>N[i]</i> is the number of pixels of luminosity\n<i>i</i> in the image and <i>T</i> is the total number of\npixels, luminosity <i>j</i> is replaced by:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">j <br>\n--- <br>\n\\ <br>\n&gt; N[i] / T <br>\n--- <br>\ni=0</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If you&rsquo;re\nprocessing a related set of images, for example frames of an\nanimation, it&rsquo;s generally best to apply the same\nintensity map to every frame, since otherwise you&rsquo;ll\nget distracting frame-to-frame changes in the brightness of\nobjects. <b>pnmhisteq</b>&rsquo;s <b>-wmap</b> option allows\nyou to save, as a portable graymap, the luminosity map\ncomputed from an image (usually a composite of the images\nyou intend to process created with <b>pnmcat</b>). Then, you\ncan subsequently process each of the individual images using\nthe luminosity map saved in the file, supplied with the\n<b>-rmap</b> option.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"7%\">\n\n\n<p style=\"margin-top: 1em\"><b>-gray</b></p></td>\n<td width=\"8%\"></td>\n<td width=\"74%\">\n\n\n<p style=\"margin-top: 1em\">When processing a pixmap, only\ngray pixels (those with identical red, green, and blue\nvalues) are included in the histogram and modified in the\noutput image. This is a special purpose option intended for\nimages where the actual data are gray scale, with colour\nannotations you don&rsquo;t want modified. Weather satellite\nimages that show continent outlines in colour are best\nprocessed using this option. The option has no effect when\nthe input is a graymap.</p></td></tr>\n</table>\n\n<p style=\"margin-left:11%;\"><b>-rmap</b> <i>mapfile</i></p>\n\n<p style=\"margin-left:26%;\">Process the image using the\nluminosity map specified by the portable graymap\n<i>mapfile.</i> The graymap, usually created by an earlier\nrun of <b>pnmhisteq</b> with the <b>-wmap</b> option,\ncontains a single row with number of columns equal to the\n<i>maxval</i> (greatest intensity) of the image. Each pixel\nin the image is transformed by looking up its luminosity in\nthe corresponding column in the map file and changing it to\nthe value given by that column.</p>\n\n<p style=\"margin-left:11%;\"><b>-wmap</b> <i>mapfile</i></p>\n\n<p style=\"margin-left:26%;\">Creates a portable graymap,\n<i>mapfile,</i> containing the luminosity map computed from\nthe histogram of the input image. This map file can be read\non subsequent runs of <b>pnmhisteq</b> with the <b>-rmap</b>\noption, allowing a group of images to be processed with an\nidentical map.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"12%\">\n\n\n<p><b>-verbose</b></p></td>\n<td width=\"3%\"></td>\n<td width=\"74%\">\n\n\n<p>Prints the histogram and luminosity map on standard\nerror.</p> </td></tr>\n</table>\n\n<p style=\"margin-left:11%; margin-top: 1em\">All flags can\nbe abbreviated to their shortest unique prefix.</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Histogram\nequalisation is effective for increasing the visible detail\nin scientific imagery and in some continuous-tone pictures.\nIt is often too drastic, however, for scanned halftone\nimages, where it does an excellent job of making halftone\nartifacts apparent. You might want to experiment with\n<b>pgnnorm</b>, <b>ppmnorm</b>, and <b>pnmgamma</b> for more\nsubtle contrast enhancement.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The luminosity\nmap file supplied by the <b>-rmap</b> option must have the\nsame <i>maxval</i> as the input image. This is always the\ncase when the map file was created by the <b>-wmap</b>\noption of <b>pnmhisteq</b>. If this restriction causes a\nproblem, simply adjust the <i>maxval</i> of the map with\n<b>pnmdepth</b> to agree with the input image.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If the input is\na PBM file (on which histogram equalisation is an identity\noperation), the only effect of passing the file through\n<b>pnmhisteq</b> will be the passage of time.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/pgmnorm\">pgmnorm(1)</a>,\n<a href=\"https://man.page/5/pnm\">pnm(5)</a>, <a href=\"https://man.page/1/pnmcat\">pnmcat(1)</a>, <a href=\"https://man.page/1/pnmdepth\">pnmdepth(1)</a>,\n<a href=\"https://man.page/1/pnmgamma\">pnmgamma(1)</a>, <a href=\"https://man.page/1/pnmnorm\">pnmnorm(1)</a></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"4%\">\n\n\n<p style=\"margin-top: 1em\">[1]</p></td>\n<td width=\"3%\"></td>\n<td width=\"82%\">\n\n\n<p style=\"margin-top: 1em\">Russ, John C. The Image\nProcessing Handbook. Boca Raton: CRC Press, 1992. Pages\n105-110.</p> </td></tr>\n</table>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p align=\"center\" style=\"margin-top: 1em\">Copyright (C)\n1995 by John Walker (kelvin@fourmilab.ch). WWW home page:\nhttp://www.fourmilab.ch/</p>\n\n<p style=\"margin-top: 1em\">Permission to use, copy, modify,\nand distribute this software and its documentation for any\npurpose and without fee is hereby granted, without any\nconditions or restrictions. This software is provided\n&rsquo;&rsquo;as is&rsquo;&rsquo; without express or implied\nwarranty.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#AUTHOR\">AUTHOR</a>"]}