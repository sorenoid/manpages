{"name":"trust","description":"trust - Tool for operating on the trust policy store","body":"\n\n<h1 align=\"center\">TRUST</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">trust - Tool\nfor operating on the trust policy store</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"15%\">\n\n\n<p style=\"margin-top: 1em\"><b>trust list</b></p></td>\n<td width=\"74%\">\n</td></tr>\n</table>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"89%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"89%\">\n\n\n<p style=\"margin-top: 1em\"><b>trust extract</b>\n--filter=&lt;what&gt; --format=&lt;type&gt;\n/path/to/destination</p> </td></tr>\n</table>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"57%\">\n</td>\n<td width=\"32%\">\n</td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"57%\">\n\n\n<p style=\"margin-top: 1em\"><b>trust anchor</b>\n/path/to/certificate.crt</p> </td>\n<td width=\"32%\">\n</td></tr>\n</table>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"15%\">\n\n\n<p style=\"margin-top: 1em\"><b>trust dump</b></p></td>\n<td width=\"74%\">\n</td></tr>\n</table>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>trust</b> is\na command line tool to examine and modify the shared trust\npolicy store.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">See the various\nsub commands below. The following global options can be\nused:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-v,\n--verbose</b></p>\n\n<p style=\"margin-left:17%;\">Run in verbose mode with debug\noutput.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-q,\n--quiet</b></p>\n\n<p style=\"margin-left:17%;\">Run in quiet mode without\nwarning or failure messages.</p>\n\n<h2>LIST\n<a name=\"LIST\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">List trust\npolicy store items.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">$ trust\nlist</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">List\ninformation about the various items in the trust policy\nstore. Each item is listed with it's PKCS#11 URI and some\ndescriptive information.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">You can specify\nthe following options to control what to list.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--filter=&lt;what&gt;</b></p>\n\n<p style=\"margin-left:17%;\">Specifies what certificates to\nextract. You can specify the following values:</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>ca-anchors</b></p>\n\n<p style=\"margin-left:23%;\">Certificate anchors</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>trust-policy</b></p>\n\n<p style=\"margin-left:23%;\">Anchors and blocklist\n(default)</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>blocklist</b></p>\n\n<p style=\"margin-left:23%;\">Distrusted certificates</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>certificates</b></p>\n\n<p style=\"margin-left:23%;\">All certificates</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>pkcs11:object=xx</b></p>\n\n<p style=\"margin-left:23%;\">A PKCS#11 URI to filter\nwith</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If an output\nformat is chosen that cannot support type what has been\nspecified by the filter, a message will be printed.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">None of the\navailable formats support storage of blocklist entries that\ndo not contain a full certificate. Thus any certificates\ndistrusted by their issuer and serial number alone, are not\nincluded in the extracted blocklist.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--purpose=&lt;usage&gt;</b></p>\n\n<p style=\"margin-left:17%;\">Limit to certificates usable\nfor the given purpose You can specify one of the following\nvalues:</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>server-auth</b></p>\n\n<p style=\"margin-left:23%;\">For authenticating servers</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>client-auth</b></p>\n\n<p style=\"margin-left:23%;\">For authenticating clients</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>email</b></p>\n\n<p style=\"margin-left:23%;\">For email protection</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>code-signing</b></p>\n\n<p style=\"margin-left:23%;\">For authenticated signed\ncode</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>1.2.3.4.5...</b></p>\n\n<p style=\"margin-left:23%;\">An arbitrary purpose OID</p>\n\n<h2>ANCHOR\n<a name=\"ANCHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Store or remove\ntrust anchors.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">$ trust anchor\n/path/to/certificate.crt <br>\n$ trust anchor --remove /path/to/certificate.crt <br>\n$ trust anchor --remove\n&quot;pkcs11:id=%AA%BB%CC%DD%EE;type=cert&quot;</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Store or remove\ntrust anchors in the trust policy store. These are usually\nroot certificate authorities.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Specify either\nthe <b>--store</b> or <b>--remove</b> operations. If no\noperation is specified then <b>--store</b> is assumed.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">When storing,\none or more certificate files are expected on the command\nline. These are stored as anchors, unless they are already\npresent.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">When removing\nan anchor, either specify certificate files or PKCS#11 URI's\non the command line. Matching anchors will be removed.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">It may be that\nthis command needs to be run as root in order to modify the\nsystem trust policy store, if no user specific store is\navailable.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">You can specify\nthe following options.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--remove</b></p>\n\n<p style=\"margin-left:17%;\">Remove one or more anchors from\nthe trust policy store. Specify certificate files or PKCS#11\nURI's on the command line.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--store</b></p>\n\n<p style=\"margin-left:17%;\">Store one or more anchors to\nthe trust policy store. Specify certificate files on the\ncommand line.</p>\n\n<h2>EXTRACT\n<a name=\"EXTRACT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Extract trust\npolicy from the shared trust policy store.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">$ trust extract\n--format=x509-directory --filter=ca-anchors\n/path/to/directory</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">You can specify\nthe following options to control what to extract. The\n<b>--filter</b> and <b>--format</b> arguments should be\nspecified. By default this command will not overwrite the\ndestination file or directory.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--comment</b></p>\n\n<p style=\"margin-left:17%;\">Add identifying comments to PEM\nbundle output files before each certificate.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--filter=&lt;what&gt;</b></p>\n\n<p style=\"margin-left:17%;\">Specifies what certificates to\nextract. You can specify the following values:</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>ca-anchors</b></p>\n\n<p style=\"margin-left:23%;\">Certificate anchors\n(default)</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>trust-policy</b></p>\n\n<p style=\"margin-left:23%;\">Anchors and blocklist</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>blocklist</b></p>\n\n<p style=\"margin-left:23%;\">Distrusted certificates</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>certificates</b></p>\n\n<p style=\"margin-left:23%;\">All certificates</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>pkcs11:object=xx</b></p>\n\n<p style=\"margin-left:23%;\">A PKCS#11 URI</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If an output\nformat is chosen that cannot support type what has been\nspecified by the filter, a message will be printed.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">None of the\navailable formats support storage of blocklist entries that\ndo not contain a full certificate. Thus any certificates\ndistrusted by their issuer and serial number alone, are not\nincluded in the extracted blocklist.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--format=&lt;type&gt;</b></p>\n\n<p style=\"margin-left:17%;\">The format of the destination\nfile or directory. You can specify one of the following\nvalues:</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>x509-file</b></p>\n\n<p style=\"margin-left:23%;\">DER X.509 certificate file</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>x509-directory</b></p>\n\n<p style=\"margin-left:23%;\">directory of X.509\ncertificates</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>pem-bundle</b></p>\n\n<p style=\"margin-left:23%;\">File containing one or more\ncertificate PEM blocks</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>pem-directory</b></p>\n\n<p style=\"margin-left:23%;\">Directory of PEM files each\ncontaining one certificate</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>pem-directory-hash</b></p>\n\n<p style=\"margin-left:23%;\">Directory of PEM files each\ncontaining one certificate, with hash symlinks</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>openssl-bundle</b></p>\n\n<p style=\"margin-left:23%;\">OpenSSL specific PEM bundle of\ncertificates</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>openssl-directory</b></p>\n\n<p style=\"margin-left:23%;\">Directory of OpenSSL specific\nPEM files</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>java-cacerts</b></p>\n\n<p style=\"margin-left:23%;\">Java keystore 'cacerts'\ncertificate bundle</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--overwrite</b></p>\n\n<p style=\"margin-left:17%;\">Overwrite output file or\ndirectory.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--purpose=&lt;usage&gt;</b></p>\n\n<p style=\"margin-left:17%;\">Limit to certificates usable\nfor the given purpose You can specify one of the following\nvalues:</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>server-auth</b></p>\n\n<p style=\"margin-left:23%;\">For authenticating servers</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>client-auth</b></p>\n\n<p style=\"margin-left:23%;\">For authenticating clients</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>email</b></p>\n\n<p style=\"margin-left:23%;\">For email protection</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>code-signing</b></p>\n\n<p style=\"margin-left:23%;\">For authenticated signed\ncode</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>1.2.3.4.5...</b></p>\n\n<p style=\"margin-left:23%;\">An arbitrary purpose OID</p>\n\n<h2>EXTRACT COMPAT\n<a name=\"EXTRACT COMPAT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Extract\ncompatibility trust certificate bundles.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">$ trust\nextract-compat</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">OpenSSL, Java\nand some versions of GnuTLS cannot currently read trust\ninformation directly from the trust policy store. This\ncommand extracts trust information such as certificate\nanchors for use by these libraries.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">What this\ncommand does, and where it extracts the files is\ndistribution or site specific. Packagers or administrators\nare expected customize this command.</p>\n\n<h2>DUMP\n<a name=\"DUMP\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Dump PKCS#11\nitems in the various tokens.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">$ trust\ndump</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Dump\ninformation about the various PKCS#11 items in the tokens.\nEach item is dumped with it's PKCS#11 URI and information in\nthe .p11-kit persistence format.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">You can specify\nthe following options to control what to dump.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--filter=&lt;what&gt;</b></p>\n\n<p style=\"margin-left:17%;\">Specifies what certificates to\nextract. You can specify the following values:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>all</b></p>\n\n<p style=\"margin-left:23%;\">All objects. This is the\ndefault</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>pkcs11:object=xx</b></p>\n\n<p style=\"margin-left:23%;\">A PKCS#11 URI to filter\nwith</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Please send bug\nreports to either the distribution bug tracker or the\nupstream bug tracker at\n<b><font color=\"#0000FF\">https://github.com/p11-glue/p11-kit/issues/</font></b><font color=\"#000000\">.</font></p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>p11-kit</b>(8)</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">An\nexplanatory document about storing trust policy:</font>\n<b><font color=\"#0000FF\">https://p11-glue.github.io/p11-glue/doc/storing-trust-policy/</font></b></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Further\ndetails available in the p11-kit online documentation\nat</font>\n<b><font color=\"#0000FF\">https://p11-glue.github.io/p11-glue/p11-kit/manual/</font></b><font color=\"#000000\">.</font></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#LIST\">LIST</a>","<a href=\"#ANCHOR\">ANCHOR</a>","<a href=\"#EXTRACT\">EXTRACT</a>","<a href=\"#EXTRACT COMPAT\">EXTRACT COMPAT</a>","<a href=\"#DUMP\">DUMP</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"]}