{"name":"resolvectl","body":"\n\n<h1 align=\"center\">RESOLVECTL</h1>\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">resolvectl,\nresolvconf - Resolve domain names, IPV4 and IPv6 addresses,\nDNS resource records, and services; introspect and\nreconfigure the DNS resolver</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"66%\">\n\n\n<p style=\"margin-top: 1em\"><b>resolvectl</b> [OPTIONS...]\n{COMMAND} [NAME...]</p></td>\n<td width=\"23%\">\n</td></tr>\n</table>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>resolvectl</b>\nmay be used to resolve domain names, IPv4 and IPv6\naddresses, DNS resource records and services with the\n<b>systemd-resolved.service</b>(8) resolver service. By\ndefault, the specified list of parameters will be resolved\nas hostnames, retrieving their IPv4 and IPv6 addresses. If\nthe parameters specified are formatted as IPv4 or IPv6\noperation the reverse operation is done, and a hostname is\nretrieved for the specified addresses.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The program's\noutput contains information about the protocol used for the\nlook-up and on which network interface the data was\ndiscovered. It also contains information on whether the\ninformation could be authenticated. All data for which local\nDNSSEC validation succeeds is considered authenticated.\nMoreover all data originating from local, trusted sources is\nalso reported authenticated, including resolution of the\nlocal host name, the &quot;localhost&quot; hostname or all\ndata from /etc/hosts.</p>\n\n<h2>COMMANDS\n<a name=\"COMMANDS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>query</b>\n<i>HOSTNAME|ADDRESS</i>...</p>\n\n<p style=\"margin-left:17%;\">Resolve domain names, as well\nas IPv4 and IPv6 addresses. When used in conjunction with\n<b>--type=</b> or <b>--class=</b> (see below), resolves\nlow-level DNS resource records.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If a\nsingle-label domain name is specified it is searched for\naccording to the configured search domains &mdash; unless\n<b>--search=no</b> or <b>--type=</b>/<b>--class=</b> are\nspecified, both of which turn this logic off.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If an\ninternational domain name is specified, it is automatically\ntranslated according to IDNA rules when resolved via classic\nDNS &mdash; but not for look-ups via MulticastDNS or LLMNR.\nIf <b>--type=</b>/<b>--class=</b> is used IDNA translation\nis turned off and domain names are processed as\nspecified.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>service</b>\n[[<i>NAME</i>] <i>TYPE</i>] <i>DOMAIN</i></p>\n\n<p style=\"margin-left:17%;\">Resolve\n<b><font color=\"#0000FF\">DNS-SD</font></b>\n<small><font color=\"#000000\">[1]</font></small>\n<font color=\"#000000\">and</font>\n<b><font color=\"#0000FF\">SRV</font></b>\n<small><font color=\"#000000\">[2]</font></small>\n<font color=\"#000000\">services, depending on the specified\nlist of parameters. If three parameters are passed the first\nis assumed to be the DNS-SD service name, the second the\n<b>SRV</b> service type, and the third the domain to search\nin. In this case a full DNS-SD style <b>SRV</b> and\n<b>TXT</b> lookup is executed. If only two parameters are\nspecified, the first is assumed to be the <b>SRV</b> service\ntype, and the second the domain to look in. In this case no\n<b>TXT</b> resource record is requested. Finally, if only\none parameter is specified, it is assumed to be a domain\nname, that is already prefixed with an <b>SRV</b> type, and\nan <b>SRV</b> lookup is done (no <b>TXT</b>).</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>openpgp</b>\n<i>EMAIL@DOMAIN</i>...</font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Query PGP\nkeys stored as <b>OPENPGPKEY</b> resource records,\nsee</font> <b><font color=\"#0000FF\">RFC 7929</font></b>\n<small><font color=\"#000000\">[3]</font></small>\n<font color=\"#000000\">. Specified e-mail addresses are\nconverted to the corresponding DNS domain name, and any\n<b>OPENPGPKEY</b> keys are printed.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>tlsa</b>\n[<i>FAMILY</i>] <i>DOMAIN</i>[:<i>PORT</i>]...</font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Query TLS\npublic keys stored as <b>TLSA</b> resource records,\nsee</font> <b><font color=\"#0000FF\">RFC 6698</font></b>\n<small><font color=\"#000000\">[4]</font></small>\n<font color=\"#000000\">. A query will be performed for each\nof the specified names prefixed with the port and family\n(&quot;_<i>port</i>._<i>family</i>.<i>domain</i>&quot;). The\nport number may be specified after a colon (&quot;:&quot;),\notherwise <b>443</b> will be used by default. The family may\nbe specified as the first argument, otherwise <b>tcp</b>\nwill be used.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>status</b>\n[<i>LINK</i>...]</font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Shows the\nglobal and per-link DNS settings currently in effect. If no\ncommand is specified, this is the implied\ndefault.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>statistics</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Shows\ngeneral resolver statistics, including information whether\nDNSSEC is enabled and available, as well as resolution and\nvalidation statistics.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>reset-statistics</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Resets\nthe statistics counters shown in <b>statistics</b> to zero.\nThis operation requires root privileges.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>flush-caches</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Flushes\nall DNS resource record caches the service maintains\nlocally. This is mostly equivalent to sending the\n<b>SIGUSR2</b> to the <b>systemd-resolved</b>\nservice.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>reset-server-features</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Flushes\nall feature level information the resolver learnt about\nspecific servers, and ensures that the server feature\nprobing logic is started from the beginning with the next\nlook-up request. This is mostly equivalent to sending the\n<b>SIGRTMIN+1</b> to the <b>systemd-resolved</b>\nservice.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>dns</b>\n[<i>LINK</i> [<i>SERVER</i>...]], <b>domain</b> [<i>LINK</i>\n[<i>DOMAIN</i>...]], <b>default-route</b> [<i>LINK</i>\n[<i>BOOL</i>...]], <b>llmnr</b> [<i>LINK</i> [<i>MODE</i>]],\n<b>mdns</b> [<i>LINK</i> [<i>MODE</i>]], <b>dnssec</b>\n[<i>LINK</i> [<i>MODE</i>]], <b>dnsovertls</b> [<i>LINK</i>\n[<i>MODE</i>]], <b>nta</b> [<i>LINK</i>\n[<i>DOMAIN</i>...]]</font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Get/set\nper-interface DNS configuration. These commands may be used\nto configure various DNS settings for network interfaces.\nThese commands may be used to inform <b>systemd-resolved</b>\nor <b>systemd-networkd</b> about per-interface DNS\nconfiguration determined through external means. The\n<b>dns</b> command expects IPv4 or IPv6 address\nspecifications of DNS servers to use. Each address can\noptionally take a port number separated with &quot;:&quot;,\na network interface name or index separated with\n&quot;%&quot;, and a Server Name Indication (SNI) separated\nwith &quot;#&quot;. When IPv6 address is specified with a\nport number, then the address must be in the square\nbrackets. That is, the acceptable full formats are\n&quot;111.222.333.444:9953%ifname#example.com&quot; for IPv4\nand &quot;[1111:2222::3333]:9953%ifname#example.com&quot;\nfor IPv6. The <b>domain</b> command expects valid DNS\ndomains, possibly prefixed with &quot;~&quot;, and\nconfigures a per-interface search or route-only domain. The\n<b>default-route</b> command expects a boolean parameter,\nand configures whether the link may be used as default route\nfor DNS lookups, i.e. if it is suitable for lookups on\ndomains no other link explicitly is configured for. The\n<b>llmnr</b>, <b>mdns</b>, <b>dnssec</b> and\n<b>dnsovertls</b> commands may be used to configure the\nper-interface LLMNR, MulticastDNS, DNSSEC and DNSOverTLS\nsettings. Finally, <b>nta</b> command may be used to\nconfigure additional per-interface DNSSEC NTA\ndomains.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Commands\n<b>dns</b>, <b>domain</b> and <b>nta</b> can take a single\nempty string argument to clear their respective value\nlists.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">For\ndetails about these settings, their possible values and\ntheir effect, see the corresponding settings in\n<b>systemd.network</b>(5).</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>revert</b>\n<i>LINK</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Revert\nthe per-interface DNS configuration. If the DNS\nconfiguration is reverted all per-interface DNS setting are\nreset to their defaults, undoing all effects of <b>dns</b>,\n<b>domain</b>, <b>default-route</b>, <b>llmnr</b>,\n<b>mdns</b>, <b>dnssec</b>, <b>dnsovertls</b>, <b>nta</b>.\nNote that when a network interface disappears all\nconfiguration is lost automatically, an explicit reverting\nis not necessary in that case.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>log-level</b>\n[<i>LEVEL</i>]</font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">If no\nargument is given, print the current log level of the\nmanager. If an optional argument <i>LEVEL</i> is provided,\nthen the command changes the current log level of the\nmanager to <i>LEVEL</i> (accepts the same values as\n<b>--log-level=</b> described in\n<a href=\"https://man.page/1/systemd\">systemd(1)</a>).</font></p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>-4</b>,\n<b>-6</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">By\ndefault, when resolving a hostname, both IPv4 and IPv6\naddresses are acquired. By specifying <b>-4</b> only IPv4\naddresses are requested, by specifying <b>-6</b> only IPv6\naddresses are requested.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>-i</b>\n<i>INTERFACE</i>,\n<b>--interface=</b><i>INTERFACE</i></font></p>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Specifies\nthe network interface to execute the query on. This may\neither be specified as numeric interface index or as network\ninterface string (e.g. &quot;en0&quot;). Note that this\noption has no effect if system-wide DNS configuration (as\nconfigured in /etc/resolv.conf or\n/etc/systemd/resolved.conf) in place of per-link\nconfiguration is used.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>-p</b>\n<i>PROTOCOL</i>,\n<b>--protocol=</b><i>PROTOCOL</i></font></p>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Specifies\nthe network protocol for the query. May be one of\n&quot;dns&quot; (i.e. classic unicast DNS),\n&quot;llmnr&quot;\n(</font><b><font color=\"#0000FF\">Link-Local Multicast Name\nResolution</font></b>\n<small><font color=\"#000000\">[5]</font></small>\n<font color=\"#000000\">), &quot;llmnr-ipv4&quot;,\n&quot;llmnr-ipv6&quot; (LLMNR via the indicated underlying\nIP protocols), &quot;mdns&quot;\n(</font><b><font color=\"#0000FF\">Multicast DNS</font></b>\n<small><font color=\"#000000\">[6]</font></small>\n<font color=\"#000000\">), &quot;mdns-ipv4&quot;,\n&quot;mdns-ipv6&quot; (MDNS via the indicated underlying IP\nprotocols). By default the lookup is done via all protocols\nsuitable for the lookup. If used, limits the set of\nprotocols that may be used. Use this option multiple times\nto enable resolving via multiple protocols at the same time.\nThe setting &quot;llmnr&quot; is identical to specifying\nthis switch once with &quot;llmnr-ipv4&quot; and once via\n&quot;llmnr-ipv6&quot;. Note that this option does not force\nthe service to resolve the operation with the specified\nprotocol, as that might require a suitable network interface\nand configuration. The special value &quot;help&quot; may be\nused to list known values.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>-t</b>\n<i>TYPE</i>, <b>--type=</b><i>TYPE</i>, <b>-c</b>\n<i>CLASS</i>, <b>--class=</b><i>CLASS</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">When used\nin conjunction with the <b>query</b> command, specifies the\nDNS resource record type (e.g. <b>A</b>, <b>AAAA</b>,\n<b>MX</b>, ...) and class (e.g. <b>IN</b>, <b>ANY</b>, ...)\nto look up. If these options are used a DNS resource record\nset matching the specified class and type is requested. The\nclass defaults to <b>IN</b> if only a type is specified. The\nspecial value &quot;help&quot; may be used to list known\nvalues.</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">Without\nthese options <b>resolvectl query</b> provides high-level\ndomain name to address and address to domain name\nresolution. With these options it provides low-level DNS\nresource record resolution. The search domain logic is\nautomatically turned off when these options are used, i.e.\nspecified domain names need to be fully qualified domain\nnames. Moreover, IDNA internal domain name translation is\nturned off as well, i.e. international domain names should\nbe specified in &quot;xn--...&quot; notation, unless look-up\nin MulticastDNS/LLMNR is desired, in which case UTF-8\ncharacters should be used.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--service-address=</b><i>BOOL</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nboolean parameter. If true (the default), when doing a\nservice lookup with <b>--service</b> the hostnames contained\nin the <b>SRV</b> resource records are resolved as\nwell.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--service-txt=</b><i>BOOL</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nboolean parameter. If true (the default), when doing a\nDNS-SD service lookup with <b>--service</b> the <b>TXT</b>\nservice metadata record is resolved as well.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--cname=</b><i>BOOL</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nboolean parameter. If true (the default), DNS <b>CNAME</b>\nor <b>DNAME</b> redirections are followed. Otherwise, if a\nCNAME or DNAME record is encountered while resolving, an\nerror is returned.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--validate=</b><i>BOOL</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nboolean parameter; used in conjunction with <b>query</b>. If\ntrue (the default), DNSSEC validation is applied as usual\n&mdash; under the condition that it is enabled for the\nnetwork and for systemd-resolved.service as a whole. If\nfalse, DNSSEC validation is disabled for the specific query,\nregardless of whether it is enabled for the network or in\nthe service. Note that setting this option to true does not\nforce DNSSEC validation on systems/networks where DNSSEC is\nturned off. This option is only suitable to turn off such\nvalidation where otherwise enabled, not enable validation\nwhere otherwise disabled.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--synthesize=</b><i>BOOL</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nboolean parameter; used in conjunction with <b>query</b>. If\ntrue (the default), select domains are resolved on the local\nsystem, among them &quot;localhost&quot;,\n&quot;_gateway&quot; and &quot;_outbound&quot;, or entries\nfrom /etc/hosts. If false these domains are not resolved\nlocally, and either fail (in case of &quot;localhost&quot;,\n&quot;_gateway&quot; or &quot;_outbound&quot; and suchlike)\nor go to the network via regular DNS/mDNS/LLMNR lookups (in\ncase of /etc/hosts entries).</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--cache=</b><i>BOOL</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nboolean parameter; used in conjunction with <b>query</b>. If\ntrue (the default), lookups use the local DNS resource\nrecord cache. If false, lookups are routed to the network\ninstead, regardless if already available in the local\ncache.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--zone=</b><i>BOOL</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nboolean parameter; used in conjunction with <b>query</b>. If\ntrue (the default), lookups are answered from locally\nregistered LLMNR or mDNS resource records, if defined. If\nfalse, locally registered LLMNR/mDNS records are not\nconsidered for the lookup request.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--trust-anchor=</b><i>BOOL</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nboolean parameter; used in conjunction with <b>query</b>. If\ntrue (the default), lookups for DS and DNSKEY are answered\nfrom the local DNSSEC trust anchors if possible. If false,\nthe local trust store is not considered for the lookup\nrequest.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--network=</b><i>BOOL</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nboolean parameter; used in conjunction with <b>query</b>. If\ntrue (the default), lookups are answered via DNS, LLMNR or\nmDNS network requests if they cannot be synthesized locally,\nor be answered from the local cache, zone or trust anchors\n(see above). If false, the request is not answered from the\nnetwork and will thus fail if none of the indicated sources\ncan answer them.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--search=</b><i>BOOL</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nboolean parameter. If true (the default), any specified\nsingle-label hostnames will be searched in the domains\nconfigured in the search domain list, if it is non-empty.\nOtherwise, the search domain logic is disabled. Note that\nthis option has no effect if <b>--type=</b> is used (see\nabove), in which case the search domain logic is\nunconditionally turned off.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--raw</b>[=payload|packet]</font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Dump the\nanswer as binary data. If there is no argument or if the\nargument is &quot;payload&quot;, the payload of the packet\nis exported. If the argument is &quot;packet&quot;, the\nwhole packet is dumped in wire format, prefixed by length\nspecified as a little-endian 64-bit number. This format\nallows multiple packets to be dumped and unambiguously\nparsed.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--legend=</b><i>BOOL</i></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Takes a\nboolean parameter. If true (the default), column headers and\nmeta information about the query response are shown.\nOtherwise, this output is suppressed.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>-h</b>,\n<b>--help</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Print a\nshort help text and exit.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--version</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Print a\nshort version string and exit.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>--no-pager</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Do not\npipe output into a pager.</font></p>\n\n<h2>COMPATIBILITY WITH RESOLVCONF(8)\n<a name=\"COMPATIBILITY WITH RESOLVCONF(8)\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>resolvectl</b>\nis a multi-call binary. When invoked as\n&quot;resolvconf&quot; (generally achieved by means of a\nsymbolic link of this name to the <b>resolvectl</b> binary)\nit is run in a limited <b>resolvconf</b>(8) compatibility\nmode. It accepts mostly the same arguments and pushes all\ndata into <b>systemd-resolved.service</b>(8), similar to how\n<b>dns</b> and <b>domain</b> commands operate. Note that\n<b>systemd-resolved.service</b> is the only supported\nbackend, which is different from other implementations of\nthis command.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">/etc/resolv.conf\nwill only be updated with servers added with this command\nwhen /etc/resolv.conf is a symlink to\n/run/systemd/resolve/resolv.conf, and not a static file. See\nthe discussion of /etc/resolv.conf handling in\n<b>systemd-resolved.service</b>(8).</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">Not\nall operations supported by other implementations are\nsupported natively. Specifically:</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>-a</b></font></p>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Registers\nper-interface DNS configuration data with\n<b>systemd-resolved</b>. Expects a network interface name as\nonly command line argument. Reads\n<b>resolv.conf</b>(5)-compatible DNS configuration data from\nits standard input. Relevant fields are\n&quot;nameserver&quot; and\n&quot;domain&quot;/&quot;search&quot;. This command is\nmostly identical to invoking <b>resolvectl</b> with a\ncombination of <b>dns</b> and <b>domain</b>\ncommands.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>-d</b></font></p>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">Unregisters\nper-interface DNS configuration data with\n<b>systemd-resolved</b>. This command is mostly identical to\ninvoking <b>resolvectl revert</b>.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>-f</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">When\nspecified <b>-a</b> and <b>-d</b> will not complain about\nmissing network interfaces and will silently execute no\noperation in that case.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>-x</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">This\nswitch for &quot;exclusive&quot; operation is supported only\npartially. It is mapped to an additional configured search\ndomain of &quot;~.&quot; &mdash; i.e. ensures that DNS\ntraffic is preferably routed to the DNS servers on this\ninterface, unless there are other, more specific domains\nconfigured on other interfaces.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>-m</b>,\n<b>-p</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">These\nswitches are not supported and are silently\nignored.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>-u</b>,\n<b>-I</b>, <b>-i</b>, <b>-l</b>, <b>-R</b>, <b>-r</b>,\n<b>-v</b>, <b>-V</b>, <b>--enable-updates</b>,\n<b>--disable-updates</b>,\n<b>--are-updates-enabled</b></font></p>\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">These\nswitches are not supported and the command will fail if\nused.</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">See\n<b>resolvconf</b>(8) for details on those command line\noptions.</font></p>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Example&nbsp;1.&nbsp;Retrieve\nthe addresses of the &quot;www.0pointer.net&quot; domain (A\nand AAAA resource records)</b></font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">$\nresolvectl query www.0pointer.net <br>\nwww.0pointer.net: 2a01:238:43ed:c300:10c3:bcf3:3266:da74\n<br>\n85.214.157.71</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">--\nInformation acquired via protocol DNS in 611.6ms. <br>\n-- Data is authenticated: no</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Example&nbsp;2.&nbsp;Retrieve\nthe domain of the &quot;85.214.157.71&quot; IP address (PTR\nresource record)</b></font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">$\nresolvectl query 85.214.157.71 <br>\n85.214.157.71: gardel.0pointer.net</font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">--\nInformation acquired via protocol DNS in 1.2997s. <br>\n-- Data is authenticated: no</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Example&nbsp;3.&nbsp;Retrieve\nthe MX record of the &quot;yahoo.com&quot;\ndomain</b></font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">$\nresolvectl --legend=no -t MX query yahoo.com <br>\nyahoo.com. IN MX 1 mta7.am0.yahoodns.net <br>\nyahoo.com. IN MX 1 mta6.am0.yahoodns.net <br>\nyahoo.com. IN MX 1 mta5.am0.yahoodns.net</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Example&nbsp;4.&nbsp;Resolve\nan SRV service</b></font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">$\nresolvectl service _xmpp-server._tcp gmail.com <br>\n_xmpp-server._tcp/gmail.com:\nalt1.xmpp-server.l.google.com:5269 [priority=20, weight=0]\n<br>\n173.194.210.125 <br>\nalt4.xmpp-server.l.google.com:5269 [priority=20, weight=0]\n<br>\n173.194.65.125 <br>\n...</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Example&nbsp;5.&nbsp;Retrieve\na PGP key (OPENPGP resource record)</b></font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">$\nresolvectl openpgp zbyszek@fedoraproject.org <br>\n\nd08ee310438ca124a6149ea5cc21b6313b390dce485576eff96f8722._openpgpkey.fedoraproject.org.\nIN OPENPGPKEY <br>\n\nmQINBFBHPMsBEACeInGYJCb+7TurKfb6wGyTottCDtiSJB310i37/6ZYoeIay/5soJjlMyf\n<br>\n\nMFQ9T2XNT/0LM6gTa0MpC1st9LnzYTMsT6tzRly1D1UbVI6xw0g0vE5y2Cjk3xUwAynCsSs\n<br>\n...</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><b>Example&nbsp;6.&nbsp;Retrieve\na TLS key (TLSA resource record)</b></font></p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><font color=\"#000000\">$\nresolvectl tlsa tcp fedoraproject.org:443 <br>\n_443._tcp.fedoraproject.org IN TLSA 0 0 1\n19400be5b7a31fb733917700789d2f0a2471c0c9d506c0e504c06c16d7cb17c0\n<br>\n-- Cert. usage: CA constraint <br>\n-- Selector: Full Certificate <br>\n-- Matching type: SHA-256</font></p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\">&quot;tcp&quot;\nand &quot;:443&quot; are optional and could be\nskipped.</font></p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><font color=\"#000000\"><a href=\"https://man.page/1/systemd\">systemd(1)</a>,\n<b>systemd-resolved.service</b>(8), <b>systemd.dnssd</b>(5),\n<b>systemd-networkd.service</b>(8),\n<b>resolvconf</b>(8)</font></p>\n\n<h2>NOTES\n<a name=\"NOTES\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">1.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"9%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">DNS-SD</font></p> </td>\n<td width=\"74%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://tools.ietf.org/html/rfc6763</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">2.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"5%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">SRV</font></p> </td>\n<td width=\"78%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://tools.ietf.org/html/rfc2782</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">3.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"12%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">RFC\n7929</font></p> </td>\n<td width=\"71%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://tools.ietf.org/html/rfc7929</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">4.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"12%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">RFC\n6698</font></p> </td>\n<td width=\"71%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://tools.ietf.org/html/rfc6698</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">5.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"55%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">Link-Local\nMulticast Name Resolution</font></p></td>\n<td width=\"28%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://tools.ietf.org/html/rfc4795</font></p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"12%\"></td>\n<td width=\"3%\">\n\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">6.</font></p> </td>\n<td width=\"2%\"></td>\n<td width=\"20%\">\n\n\n<p style=\"margin-top: 1em\"><font color=\"#000000\">Multicast\nDNS</font></p> </td>\n<td width=\"63%\">\n</td></tr>\n</table>\n\n\n<p style=\"margin-left:17%;\"><font color=\"#000000\">https://www.ietf.org/rfc/rfc6762.txt</font></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#COMMANDS\">COMMANDS</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#COMPATIBILITY WITH RESOLVCONF(8)\">COMPATIBILITY WITH RESOLVCONF(8)</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#NOTES\">NOTES</a>"]}