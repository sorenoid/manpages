{"name":"pnmnlfilt","description":"pnmnlfilt -\nnon-linear filters: smooth, alpha trim mean, optimal\nestimation smoothing, edge enhancement.","body":"\n\n<h1 align=\"center\">pnmnlfilt</h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">pnmnlfilt -\nnon-linear filters: smooth, alpha trim mean, optimal\nestimation smoothing, edge enhancement.</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>pnmnlfilt</b>\n<i>alpha radius</i> [<i>pnmfile</i>]</p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>pnmnlfilt</b>\nproduces an output image where the pixels are a summary of\nmultiple pixels near the corresponding location in an input\nimage.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This program\nworks on multi-image streams.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">This is\nsomething of a swiss army knife filter. It has 3 distinct\noperating modes. In all of the modes each pixel in the image\nis examined and processed according to it and its\nsurrounding pixels values. Rather than using the 9 pixels in\na 3x3 block, 7 hexagonal area samples are taken, the size of\nthe hexagons being controlled by the radius parameter. A\nradius value of 0.3333 means that the 7 hexagons exactly fit\ninto the center pixel (ie. there will be no filtering\neffect). A radius value of 1.0 means that the 7 hexagons\nexactly fit a 3x3 pixel array.</p>\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"8%\">\n\n\n<h2>Alpha trimmed mean filter. (0.0 &lt;= alpha &lt;= 0.5)\n<a name=\"Alpha trimmed mean filter. (0.0 &lt;= alpha &lt;= 0.5)\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%;\">The value of the center pixel\nwill be replaced by the mean of the 7 hexagon values, but\nthe 7 values are sorted by size and the top and bottom alpha\nportion of the 7 are excluded from the mean. This implies\nthat an alpha value of 0.0 gives the same sort of output as\na normal convolution (ie. averaging or smoothing filter),\nwhere radius will determine the &quot;strength&quot; of the\nfilter. A good value to start from for subtle filtering is\nalpha = 0.0, radius = 0.55 For a more blatant effect, try\nalpha 0.0 and radius 1.0</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">An alpha value\nof 0.5 will cause the median value of the 7 hexagons to be\nused to replace the center pixel value. This sort of filter\nis good for eliminating &quot;pop&quot; or single pixel\nnoise from an image without spreading the noise out or\nsmudging features on the image. Judicious use of the radius\nparameter will fine tune the filtering. Intermediate values\nof alpha give effects somewhere between smoothing and\n&quot;pop&quot; noise reduction. For subtle filtering try\nstarting with values of alpha = 0.4, radius = 0.6 For a more\nblatant effect try alpha = 0.5, radius = 1.0</p>\n\n<h2>Optimal estimation smoothing. (1.0 &lt;= alpha &lt;= 2.0)\n<a name=\"Optimal estimation smoothing. (1.0 &lt;= alpha &lt;= 2.0)\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This type of\nfilter applies a smoothing filter adaptively over the image.\nFor each pixel the variance of the surrounding hexagon\nvalues is calculated, and the amount of smoothing is made\ninversely proportional to it. The idea is that if the\nvariance is small then it is due to noise in the image,\nwhile if the variance is large, it is because of\n&quot;wanted&quot; image features. As usual the radius\nparameter controls the effective radius, but it probably\nadvisable to leave the radius between 0.8 and 1.0 for the\nvariance calculation to be meaningful. The alpha parameter\nsets the noise threshold, over which less smoothing will be\ndone. This means that small values of alpha will give the\nmost subtle filtering effect, while large values will tend\nto smooth all parts of the image. You could start with\nvalues like alpha = 1.2, radius = 1.0 and try increasing or\ndecreasing the alpha parameter to get the desired effect.\nThis type of filter is best for filtering out dithering\nnoise in both bitmap and color images.</p>\n\n<h2>Edge enhancement. (-0.1 &gt;= alpha &gt;= -0.9)\n<a name=\"Edge enhancement. (-0.1 &gt;= alpha &gt;= -0.9)\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">This is the\nopposite type of filter to the smoothing filter. It enhances\nedges. The alpha parameter controls the amount of edge\nenhancement, from subtle (-0.1) to blatant (-0.9). The\nradius parameter controls the effective radius as usual, but\nuseful values are between 0.5 and 0.9. Try starting with\nvalues of alpha = 0.3, radius = 0.8</p>\n\n<h2>Combination use.\n<a name=\"Combination use.\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The various\nmodes of <b>pnmnlfilt</b> can be used one after the other to\nget the desired result. For instance to turn a monochrome\ndithered image into a grayscale image you could try one or\ntwo passes of the smoothing filter, followed by a pass of\nthe optimal estimation filter, then some subtle edge\nenhancement. Note that using edge enhancement is only likely\nto be useful after one of the non-linear filters (alpha\ntrimmed mean or optimal estimation filter), as edge\nenhancement is the direct opposite of smoothing.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">For reducing\ncolor quantization noise in images (ie. turning .gif files\nback into 24 bit files) you could try a pass of the optimal\nestimation filter (alpha 1.2, radius 1.0), a pass of the\nmedian filter (alpha 0.5, radius 0.55), and possibly a pass\nof the edge enhancement filter. Several passes of the\noptimal estimation filter with declining alpha values are\nmore effective than a single pass with a large alpha value.\nAs usual, there is a tradeoff between filtering\neffectiveness and loosing detail. Experimentation is\nencouraged.</p>\n\n<h2>References:\n<a name=\"References:\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\nalpha-trimmed mean filter is based on the description in\nIEEE CG&amp;A May 1990 Page 23 by Mark E. Lee and Richard A.\nRedner, and has been enhanced to allow continuous alpha\nadjustment.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The optimal\nestimation filter is taken from an article &quot;Converting\nDithered Images Back to Gray Scale&quot; by Allen Stenger,\nDr Dobb&rsquo;s Journal, November 1992, and this article\nreferences &quot;Digital Image Enhancement and Noise\nFiltering by Use of Local Statistics&quot;, Jong-Sen Lee,\nIEEE Transactions on Pattern Analysis and Machine\nIntelligence, March 1980.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The edge\nenhancement details are from pgmenhance(1), which is taken\nfrom Philip R. Thompson&rsquo;s &quot;xim&quot; program,\nwhich in turn took it from section 6 of &quot;Digital\nHalftones by Dot Diffusion&quot;, D. E. Knuth, ACM\nTransaction on Graphics Vol. 6, No. 4, October 1987, which\nin turn got it from two 1976 papers by J. F. Jarvis et.\nal.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">pgmenhance(1),\npnmconvol(1), pnm(5)</p>\n\n<h2>BUGS\n<a name=\"BUGS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Integers and\ntables may overflow if PPM_MAXMAXVAL is greater than\n255.</p>\n\n<h2>AUTHOR\n<a name=\"AUTHOR\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Graeme W. Gill\ngraeme@labtam.oz.au</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#Alpha trimmed mean filter. (0.0 &lt;= alpha &lt;= 0.5)\">Alpha trimmed mean filter. (0.0 &lt;= alpha &lt;= 0.5)</a>","<a href=\"#Optimal estimation smoothing. (1.0 &lt;= alpha &lt;= 2.0)\">Optimal estimation smoothing. (1.0 &lt;= alpha &lt;= 2.0)</a>","<a href=\"#Edge enhancement. (-0.1 &gt;= alpha &gt;= -0.9)\">Edge enhancement. (-0.1 &gt;= alpha &gt;= -0.9)</a>","<a href=\"#Combination use.\">Combination use.</a>","<a href=\"#References:\">References:</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>","<a href=\"#BUGS\">BUGS</a>","<a href=\"#AUTHOR\">AUTHOR</a>"]}