{"name":"xdg-dbus-proxy","body":"\n\n<h1 align=\"center\">XDG-DBUS-PROXY</h1>\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">xdg-dbus-proxy\n- D-Bus proxy</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"86%\">\n\n\n<p style=\"margin-top: 1em\"><b>xdg-dbus-proxy</b>\n[<i>OPTION</i>...]\n[<i>ADDRESS&nbsp;PATH&nbsp;</i>[<i>OPTION</i>...]...]</p> </td>\n<td width=\"3%\">\n</td></tr>\n</table>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>xdg-dbus-proxy</b>\nis a filtering proxy for D-Bus connections. Its arguments\nare one or more <i>ADDRESS</i>-<i>PATH</i> pairs specifying\nthe buses to proxy, with options that specify what filtering\nto apply.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Basic\nOperation</b> <br>\nThe proxy listens to the unix domain socket at <i>PATH</i>,\nand for each client that connects to the socket, it opens up\na new connection to the specified D-Bus <i>ADDRESS</i>\n(typically the session bus) and forwards data between the\ntwo. During the authentication phase all data is forwarded\nas received, and additionally for the first 1 byte zero we\nalso send the proxy credentials to the bus.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Once the\nconnection is authenticated there are two modes, filtered\nand unfiltered. In the unfiltered mode all messages are sent\non as they are received. In the filtering mode policy is\napplied to determine which messages to allow, and which to\ndrop.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Filtering is\napplied only to outgoing signals and method calls and\nincoming broadcast signals. All replies (errors or method\nreturns) are allowed once for an outstanding method call,\nand never otherwise.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">If a client\never receives a message from another peer on the bus, the\nsenders unique name is made visible, so the client can track\ncaller lifetimes via NameOwnerChanged signals. If a client\ncalls a method on or receives a broadcast signal from a name\n(even if filtered to some subset of paths or interfaces),\nthat names basic policy is considered to be (at least) TALK,\nfrom then on.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Policy</b>\n<br>\nThe policy for the filtering consists of a mapping from\nwell-known names to a policy that is either SEE, TALK or\nOWN. The default initial policy is that the the user is only\nallowed to TALK to the bus itself (org.freedesktop.DBus, or\nno destination specified), and TALK to its own unique ID.\nAll other clients are invisible.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Here is a\ndescription of the policy levels (each level implies the\nones before it):</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">SEE</p>\n\n<p style=\"margin-left:17%;\">The name/ID is visible in the\nListNames reply</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The name/ID is\nvisible in the ListActivatableNames reply</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">You can call\nGetNameOwner on the name</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">You can call\nNameHasOwner on the name</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">You see\nNameOwnerChanged signals on the name</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">You see\nNameOwnerChanged signals on the ID when the client\ndisconnects</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">You can call\nthe GetXXX methods on the name/ID to get e.g. the peer\npid</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">You get\nAccessDenied rather than NameHasNoOwner when sending\nmessages to the name/ID</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">TALK</p>\n\n<p style=\"margin-left:17%;\">You can send any method calls\nand signals to the name/ID</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">You will\nreceive broadcast signals from the name/ID (if you have a\nmatch rule for them)</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">You can call\nStartServiceByName on the name</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">OWN</p>\n\n<p style=\"margin-left:17%;\">You are allowed to call\nRequestName/ReleaseName/ListQueuedOwners on the name</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Policy is\nspecified with the <b>--see</b>, <b>--talk</b> and\n<b>--own</b> options. The well-known names in these options\ncan have a '.*' suffix. A name of &quot;org.foo.*&quot;\nmatches &quot;org.foo&quot;, org.foo.bar&quot;, and\n&quot;org.foo.bar.gazonk&quot;, but not\n&quot;org.foobar&quot;.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Polices are\nspecified for well-known names, but they also affect the\nowner of that name, so that the policy for a unique ID is\nthe union of the polices for all the names it owns. For\ntechnical reasons, the policy for a unique name is\n&quot;sticky&quot;, in that the highest policy granted by a\nonce-owned name is kept, even when the client releases that\nname. This is impossible to avoid in a race-free way in a\nproxy. But it is rarely a problem in practice, as few\nclients release names and stay on the bus.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">In addition to\nthe basic SEE/TALK/OWN policy, it is possible to specify\nmore complicated rules about what method calls can be made\non and what broadcast signals can be received from\nwell-known names. A rule can restrict the allowed\ncalls/signals to a specific object path or a subtree of\nobject paths, and it can restrict the allowed interface down\nto an individual method or signal name.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Rules are\nspecified with the <b>--call</b> and <b>--broadcast</b>\noptions. The <i>RULE</i> in these options determines what\ninterfaces, methods and object paths are allowed. It must be\nof the form [<i>METHOD</i>][@<i>PATH</i>], where\n<i>METHOD</i> can be either '*' or a D-Bus interface,\npossible with a '.*' suffix, or a fully-qualified method\nname, and <i>PATH</i> is a D-Bus object path, possible with\na '/*' suffix.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">When options\nare used multiple times, the last option wins, unless\notherwise specified.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">General\noptions:</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--help</b></p>\n\n<p style=\"margin-left:17%;\">Print help and exit</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--version</b></p>\n\n<p style=\"margin-left:17%;\">Print version</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--fd=FD</b></p>\n\n<p style=\"margin-left:17%;\">Write to FD when the proxies\nare ready, and stop when it is closed.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--args=FD</b></p>\n\n<p style=\"margin-left:17%;\">Parse nul-separated arguments\nfrom the given file descriptor. This option can be used\nmultiple times to parse options from multiple sources.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Proxy\nOptions:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">These options\ncan only be used after an ADDRESS and apply to the proxy for\nthat address.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--filter</b></p>\n\n<p style=\"margin-left:17%;\">Enable filtering</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--log</b></p>\n\n<p style=\"margin-left:17%;\">Turn on logging</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--sloppy-names</b></p>\n\n<p style=\"margin-left:17%;\">Make all unique names\nvisible.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--see=</b><i>NAME</i></p>\n\n<p style=\"margin-left:17%;\">Set the SEE policy for the\ngiven name.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--talk=</b><i>NAME</i></p>\n\n<p style=\"margin-left:17%;\">Set the TALK policy for the\ngiven name.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--own=</b><i>NAME</i></p>\n\n<p style=\"margin-left:17%;\">Set the OWN policy for the\ngiven name.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--call=</b><i>NAME</i><b>=</b><i>RULE</i></p>\n\n<p style=\"margin-left:17%;\">Set a rule for calls on the\ngiven name.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--broadcast=</b><i>NAME</i><b>=</b><i>RULE</i></p>\n\n<p style=\"margin-left:17%;\">Set a rule for broadcast\nsignals from the given name.</p>\n\n<h2>EXAMPLES\n<a name=\"EXAMPLES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>$\nxdg-dbus-proxy --fd=26 unix:path=/run/usr/1000/bus\n/run/usr/1000/.dbus-proxy/session-bus-proxy --filter\n--own=org.gnome.ghex.* --talk=ca.desrt.dconf\n--call=org.freedesktop.portal.*=*\n--broadcast=org.freedesktop.portal.*=@/org/freedesktop/portal/*</b></p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#EXAMPLES\">EXAMPLES</a>"]}