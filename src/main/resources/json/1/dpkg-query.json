{"name":"dpkg-query","description":"dpkg-query - a tool to query the dpkg database","body":"\n\n<h1 align=\"center\">dpkg-query</h1>\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">dpkg-query - a\ntool to query the dpkg database</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>dpkg-query</b>\n[<i>option</i>...] <i>command</i></p>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i><b>dpkg-query</b></i>\nis a tool to show information about packages listed in the\n<b>dpkg</b> database.</p>\n\n<h2>COMMANDS\n<a name=\"COMMANDS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-l</b>,\n<b>--list</b> [<i>package-name-pattern</i>...]</p>\n\n<p style=\"margin-left:17%;\">List all known packages\nmatching one or more patterns, regardless of their status,\nwhich includes any real or virtual package referenced in any\ndependency relationship field (such as <b>Breaks</b>,\n<b>Enhances</b>, etc.). If no <i>package-name-pattern</i> is\ngiven, list all packages in <i>/var/lib/dpkg/status</i>,\nexcluding the ones marked as not-installed (i.e. those which\nhave been previously purged). Normal shell wildcard\ncharacters are allowed in <i>package-name-pattern</i>.\nPlease note you will probably have to quote\n<i>package-name-pattern</i> to prevent the shell from\nperforming filename expansion. For example this will list\nall package names starting with &ldquo;libc6&rdquo;:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">dpkg-query -l\n'libc6*'</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The first three\ncolumns of the output show the desired action, the package\nstatus, and errors, in that order.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Desired action:\n<br>\nu = Unknown <br>\ni = Install <br>\nh = Hold <br>\nr = Remove <br>\np = Purge</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Package status:\n<br>\nn = Not-installed <br>\nc = Config-files <br>\nH = Half-installed <br>\nU = Unpacked <br>\nF = Half-configured <br>\nW = Triggers-awaiting <br>\nt = Triggers-pending <br>\ni = Installed</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Error flags:\n<br>\n&lt;empty&gt; = (none) <br>\nR = Reinst-required</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">An uppercase\nstatus or error letter indicates the package is likely to\ncause severe problems. Please refer to <a href=\"https://man.page/1/dpkg\">dpkg(1)</a> for\ninformation about the above states and flags.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The output\nformat of this option is not configurable, but varies\nautomatically to fit the terminal width. It is intended for\nhuman readers, and is not easily machine-readable. See\n<b>-W</b> (<b>--show</b>) and <b>--showformat</b> for a way\nto configure the output format.</p>\n\n<p style=\"margin-left:11%;\"><b>-W</b>, <b>--show</b>\n[<i>package-name-pattern</i>...]</p>\n\n<p style=\"margin-left:17%;\">Just like the <b>--list</b>\noption this will list all packages matching the given\npatterns. However the output can be customized using the\n<b>--showformat</b> option. The default output format gives\none line per matching package, each line having the name\n(extended with the architecture qualifier for <b>Multi-Arch\nsame</b> packages) and installed version of the package,\nseparated by a tab.</p>\n\n<p style=\"margin-left:11%;\"><b>-s</b>, <b>--status</b>\n[<i>package-name</i>...]</p>\n\n<p style=\"margin-left:17%;\">Report status of specified\npackages. This just displays the entry in the installed\npackage status database. If no <i>package-name</i> is\nspecified it will display all package entries in the status\ndatabase (since dpkg 1.19.1). When multiple\n<i>package-name</i> entries are listed, the requested status\nentries are separated by an empty line, with the same order\nas specified on the argument list.</p>\n\n<p style=\"margin-left:11%;\"><b>-L</b>, <b>--listfiles</b>\n<i>package-name</i>...</p>\n\n<p style=\"margin-left:17%;\">List files installed to your\nsystem from <i>package-name</i>. When multiple\n<i>package-name</i>s are listed, the requested lists of\nfiles are separated by an empty line, with the same order as\nspecified on the argument list.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Each file\ndiversion is printed on its own line after its diverted\nfile, prefixed with one of the following localized\nstrings:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">locally\ndiverted to: <i>diverted-to</i> <br>\npackage diverts others to: <i>diverted-to</i> <br>\ndiverted by <i>pkg</i> to: <i>diverted-to</i></p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Hint: When\nmachine parsing the output, it is customary to set the\nlocale to <b>C.UTF-8</b> to get reproducible results.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">This command\nwill not list extra files created by maintainer scripts, nor\nwill it list alternatives.</p>\n\n<p style=\"margin-left:11%;\"><b>--control-list</b>\n<i>package-name</i></p>\n\n<p style=\"margin-left:17%;\">List control files installed to\nyour system from <i>package-name</i> (since dpkg 1.16.5).\nThese can be used as input arguments to\n<b>--control-show</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>--control-show</b>\n<i>package-name control-file</i></p>\n\n<p style=\"margin-left:17%;\">Print the <i>control-file</i>\ninstalled to your system from <i>package-name</i> to the\nstandard output (since dpkg 1.16.5).</p>\n\n<p style=\"margin-left:11%;\"><b>-c</b>,\n<b>--control-path</b> <i>package-name</i>\n[<i>control-file</i>]</p>\n\n<p style=\"margin-left:17%;\">List paths for control files\ninstalled to your system from <i>package-name</i> (since\ndpkg 1.15.4). If <i>control-file</i> is specified then only\nlist the path for that control file if it is present.</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\"><b>Warning</b>:\nthis command is deprecated as it gives direct access to the\ninternal dpkg database, please switch to use\n<b>--control-list</b> and <b>--control-show</b> instead for\nall cases where those commands might give the same end\nresult. Although, as long as there is still at least one\ncase where this command is needed (i.e. when having to\nremove a damaging postrm maintainer script), and while there\nis no good solution for that, this command will not get\nremoved.</p>\n\n<p style=\"margin-left:11%;\"><b>-S</b>, <b>--search</b>\n<i>filename-search-pattern</i>...</p>\n\n<p style=\"margin-left:17%;\">Search for packages that own\nfiles corresponding to the given patterns. Standard shell\nwildcard characters can be used in the pattern, where\nasterisk (<b>*</b>) and question mark (<b>?</b>) will match\na slash, and backslash (<b>\\</b>) will be used as an escape\ncharacter.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">If the first\ncharacter in the <i>filename-search-pattern</i> is none of\n&rsquo;<b>*[?/</b>&rsquo; then it will be considered a\nsubstring match and will be implicitly surrounded by\n&rsquo;<b>*</b>&rsquo; (as in\n<b>*</b><i>filename-search-pattern</i><b>*</b>). If the\nsubsequent string contains any of &rsquo;<b>*[?\\</b>&rsquo;,\nthen it will handled like a glob pattern, otherwise any\ntrailing &rsquo;<b>/</b>&rsquo; or &rsquo;<b>/.</b>&rsquo;\nwill be removed and a literal path lookup will be\nperformed.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">This command\nwill not list extra files created by maintainer scripts, nor\nwill it list alternatives.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The output\nformat consists of one line per matching pattern, with a\nlist of packages owning the pathname separated by a comma\n(U+002C &rsquo;<b>,</b>&rsquo;) and a space (U+0020 &rsquo;\n&rsquo;), followed by a colon (U+003A\n&rsquo;<b>:</b>&rsquo;) and a space, followed by the\npathname. As in:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">pkgname1,\npkgname2: pathname1 <br>\npkgname3: pathname2</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">File diversions\nare printed with the following localized strings:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">diversion by\n<i>pkgname</i> from: <i>diverted-from</i> <br>\ndiversion by <i>pkgname</i> to: <i>diverted-to</i></p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">or for local\ndiversions:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">local diversion\nfrom: <i>diverted-from</i> <br>\nlocal diversion to: <i>diverted-to</i></p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Hint: When\nmachine parsing the output, it is customary to set the\nlocale to <b>C.UTF-8</b> to get reproducible results.</p>\n\n<p style=\"margin-left:11%;\"><b>-p</b>, <b>--print-avail</b>\n[<i>package-name</i>...]</p>\n\n<p style=\"margin-left:17%;\">Display details about packages,\nas found in <i>/var/lib/dpkg/available</i>. If no\n<i>package-name</i> is specified, it will display all\npackage entries in the <i>available</i> database (since dpkg\n1.19.1). When multiple <i>package-name</i> are listed, the\nrequested <i>available</i> entries are separated by an empty\nline, with the same order as specified on the argument\nlist.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Users of\nAPT-based frontends should use <b>apt show</b>\n<i>package-name</i> instead as the <i>available</i> file is\nonly kept up-to-date when using <b>dselect</b>.</p>\n\n<p style=\"margin-left:11%;\"><b>-?</b>, <b>--help</b></p>\n\n<p style=\"margin-left:17%;\">Show the usage message and\nexit.</p>\n\n<p style=\"margin-left:11%;\"><b>--version</b></p>\n\n<p style=\"margin-left:17%;\">Show the version and exit.</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>--admindir=</b><i>dir</i></p>\n\n<p style=\"margin-left:17%;\">Change the location of the\n<b>dpkg</b> database. The default location is\n<i>/var/lib/dpkg</i>.</p>\n\n\n<p style=\"margin-left:11%;\"><b>--root=</b><i>directory</i></p>\n\n<p style=\"margin-left:17%;\">Set the root directory to\n<i>directory</i>, which sets the administrative directory to\n&laquo;<i>directory</i>/var/lib/dpkg&raquo; (since dpkg\n1.21.0).</p>\n\n<p style=\"margin-left:11%;\"><b>--load-avail</b></p>\n\n<p style=\"margin-left:17%;\">Also load the available file\nwhen using the <b>--show</b> and <b>--list</b> commands,\nwhich now default to only querying the status file (since\ndpkg 1.16.2).</p>\n\n<p style=\"margin-left:11%;\"><b>--no-pager</b></p>\n\n<p style=\"margin-left:17%;\">Disables the use of any pager\nwhen showing information (since dpkg 1.19.2).</p>\n\n<p style=\"margin-left:11%;\"><b>-f</b>,\n<b>--showformat=</b><i>format</i></p>\n\n<p style=\"margin-left:17%;\">This option is used to specify\nthe format of the output <b>--show</b> will produce (short\noption since dpkg 1.13.1). The format is a string that will\nbe output for each package listed.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">In the format\nstring, &ldquo;<b>\\</b>&rdquo; introduces escapes: <b><br>\n\\n</b> newline <b><br>\n\\r</b> carriage return <b><br>\n\\t</b> tab</p>\n\n\n<p style=\"margin-left:17%; margin-top: 1em\">&ldquo;<b>\\</b>&rdquo;\nbefore any other character suppresses any special meaning of\nthe following character, which is useful for\n&ldquo;<b>\\</b>&rdquo; and &ldquo;<b>$</b>&rdquo;.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Package\ninformation can be included by inserting variable references\nto package fields using the syntax\n&ldquo;<b>${</b><i>field</i>[<b>;</b><i>width</i>]<b>}</b>&rdquo;.\nFields are printed right-aligned unless the width is\nnegative in which case left alignment will be used. The\nfollowing <i>field</i>s are recognized but they are not\nnecessarily available in the status file (only internal\nfields or fields stored in the binary package end up in it):\n<b><br>\nArchitecture <br>\nBugs <br>\nConffiles</b> (internal) <b><br>\nConfig-Version</b> (internal) <b><br>\nConflicts <br>\nBreaks <br>\nDepends <br>\nDescription <br>\nEnhances <br>\nProtected <br>\nEssential <br>\nFilename</b> (internal, front-end related) <b><br>\nHomepage <br>\nInstalled-Size <br>\nMD5sum</b> (internal, front-end related) <b><br>\nMSDOS-Filename</b> (internal, front-end related) <b><br>\nMaintainer <br>\nOrigin <br>\nPackage <br>\nPre-Depends <br>\nPriority <br>\nProvides <br>\nRecommends <br>\nReplaces <br>\nRevision</b> (obsolete) <b><br>\nSection <br>\nSize</b> (internal, front-end related) <b><br>\nSource <br>\nStatus</b> (internal) <b><br>\nSuggests <br>\nTag</b> (usually not in .deb but in repository Packages\nfiles) <b><br>\nTriggers-Awaited</b> (internal) <b><br>\nTriggers-Pending</b> (internal) <b><br>\nVersion</b></p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The following\nare virtual fields, generated by <b>dpkg-query</b> from\nvalues from other fields (note that these do not use valid\nnames for fields in control files): <b><br>\nbinary:Package</b></p>\n\n<p style=\"margin-left:23%;\">It contains the binary package\nname with a possible architecture qualifier like\n&ldquo;libc6:amd64&rdquo; (since dpkg 1.16.2). An\narchitecture qualifier will be present to make the package\nname unambiguous, for example if the package has a\n<b>Multi-Arch</b> field with a value of <b>same</b> or the\npackage is of a foreign architecture.</p>\n\n<p style=\"margin-left:17%;\"><b>binary:Synopsis</b></p>\n\n<p style=\"margin-left:23%;\">It contains the package short\ndescription (since dpkg 1.19.1).</p>\n\n<p style=\"margin-left:17%;\"><b>binary:Summary</b></p>\n\n<p style=\"margin-left:23%;\">This is an alias for\n<b>binary:Synopsis</b> (since dpkg 1.16.2).</p>\n\n<p style=\"margin-left:17%;\"><b>db:Status-Abbrev</b></p>\n\n<p style=\"margin-left:23%;\">It contains the abbreviated\npackage status (as three characters), such as &ldquo;ii\n&rdquo; or &ldquo;iHR&rdquo; (since dpkg 1.16.2). See the\n<b>--list</b> command description for more details.</p>\n\n<p style=\"margin-left:17%;\"><b>db:Status-Want</b></p>\n\n<p style=\"margin-left:23%;\">It contains the package wanted\nstatus, part of the Status field (since dpkg 1.17.11).</p>\n\n<p style=\"margin-left:17%;\"><b>db:Status-Status</b></p>\n\n<p style=\"margin-left:23%;\">It contains the package status\nword, part of the Status field (since dpkg 1.17.11).</p>\n\n<p style=\"margin-left:17%;\"><b>db:Status-Eflag</b></p>\n\n<p style=\"margin-left:23%;\">It contains the package status\nerror flag, part of the Status field (since dpkg\n1.17.11).</p>\n\n<p style=\"margin-left:17%;\"><b>db-fsys:Files</b></p>\n\n<p style=\"margin-left:23%;\">It contains the list of the\npackage filesystem entries separated by newlines (since dpkg\n1.19.3).</p>\n\n\n<p style=\"margin-left:17%;\"><b>db-fsys:Last-Modified</b></p>\n\n<p style=\"margin-left:23%;\">It contains the timestamp in\nseconds of the last time the package filesystem entries were\nmodified (since dpkg 1.19.3).</p>\n\n<p style=\"margin-left:17%;\"><b>source:Package</b></p>\n\n<p style=\"margin-left:23%;\">It contains the source package\nname for this binary package (since dpkg 1.16.2).</p>\n\n<p style=\"margin-left:17%;\"><b>source:Version</b></p>\n\n<p style=\"margin-left:23%;\">It contains the source package\nversion for this binary package (since dpkg 1.16.2)</p>\n\n\n<p style=\"margin-left:17%;\"><b>source:Upstream-Version</b></p>\n\n<p style=\"margin-left:23%;\">It contains the source package\nupstream version for this binary package (since dpkg\n1.18.16)</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">The default\nformat string is\n&ldquo;<b>${binary:Package}\\t${Version}\\n</b>&rdquo;.\nActually, all other fields found in the status file (i.e.\nuser defined fields) can be requested, too. They will be\nprinted as-is, though, no conversion nor error checking is\ndone on them. To get the name of the <b>dpkg</b> maintainer\nand the installed version, you could run:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">dpkg-query\n-f='${binary:Package} ${Version}\\t${Maintainer}\\n' \\ <br>\n-W dpkg</p>\n\n<h2>EXIT STATUS\n<a name=\"EXIT STATUS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p style=\"margin-top: 1em\"><b>0</b></p></td>\n<td width=\"5%\"></td>\n<td width=\"83%\">\n\n\n<p style=\"margin-top: 1em\">The requested query was\nsuccessfully performed.</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p><b>1</b></p></td>\n<td width=\"5%\"></td>\n<td width=\"83%\">\n\n\n<p>The requested query failed either fully or partially,\ndue to no file or package being found (except for\n<b>--control-path</b>, <b>--control-list</b> and\n<b>--control-show</b> were such errors are fatal).</p></td></tr>\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"1%\">\n\n\n<p><b>2</b></p></td>\n<td width=\"5%\"></td>\n<td width=\"83%\">\n\n\n<p>Fatal or unrecoverable error due to invalid command-line\nusage, or interactions with the system, such as accesses to\nthe database, memory allocations, etc.</p></td></tr>\n</table>\n\n<h2>ENVIRONMENT\n<a name=\"ENVIRONMENT\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>External\nenvironment <small><br>\nSHELL</small></b></p>\n\n<p style=\"margin-left:17%;\">Sets the program to execute\nwhen spawning a command via a shell (since dpkg 1.19.2).</p>\n\n<p style=\"margin-left:11%;\"><b><small>PAGER <br>\nDPKG_PAGER</small></b></p>\n\n<p style=\"margin-left:17%;\">Sets the pager command to use\n(since dpkg 1.19.1), which will be executed with\n&laquo;<b>$SHELL -c</b>&raquo;. If\n<b><small>SHELL</small></b> is not set,\n&laquo;<b>sh</b>&raquo; will be used instead. The\n<b><small>DPKG_PAGER</small></b> overrides the\n<b><small>PAGER</small></b> environment variable (since dpkg\n1.19.2).</p>\n\n\n<p style=\"margin-left:11%;\"><b><small>DPKG_ROOT</small></b></p>\n\n<p style=\"margin-left:17%;\">If set and the <b>--root</b>\noption has not been specified, it will be used as the\nfilesystem root directory (since dpkg 1.21.0).</p>\n\n\n<p style=\"margin-left:11%;\"><b><small>DPKG_ADMINDIR</small></b></p>\n\n<p style=\"margin-left:17%;\">If set and the\n<b>--admindir</b> option has not been specified, it will be\nused as the <b>dpkg</b> data directory.</p>\n\n\n<p style=\"margin-left:11%;\"><b><small>DPKG_COLORS</small></b></p>\n\n<p style=\"margin-left:17%;\">Sets the color mode (since dpkg\n1.18.5). The currently accepted values are: <b>auto</b>\n(default), <b>always</b> and <b>never</b>.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Internal\nenvironment <small><br>\nLESS</small></b></p>\n\n<p style=\"margin-left:17%;\">Defined by <b>dpkg-query</b> to\n&ldquo;<b>-FRSXMQ</b>&rdquo;, if not already set, when\nspawning a pager (since dpkg 1.19.2). To change the default\nbehavior, this variable can be preset to some other value\nincluding an empty string, or the\n<b><small>PAGER</small></b> or\n<b><small>DPKG_PAGER</small></b> variables can be set to\ndisable specific options with &laquo;<b>-+</b>&raquo;, for\nexample <b>DPKG_PAGER=&quot;less -+F&quot;</b>.</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><a href=\"https://man.page/1/dpkg\">dpkg(1)</a>.</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#COMMANDS\">COMMANDS</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#EXIT STATUS\">EXIT STATUS</a>","<a href=\"#ENVIRONMENT\">ENVIRONMENT</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"]}