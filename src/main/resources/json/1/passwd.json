{"name":"passwd","description":"passwd - change user password","body":"\n\n<h1 align=\"center\">PASSWD</h1>\n\n\n\n\n\n\n\n\n\n\n<hr>\n\n\n<h2>NAME\n<a name=\"NAME\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">passwd - change\nuser password</p>\n\n<h2>SYNOPSIS\n<a name=\"SYNOPSIS\"></a>\n</h2>\n\n\n<table width=\"100%\" border=\"0\" rules=\"none\" frame=\"void\"\n       cellspacing=\"0\" cellpadding=\"0\">\n<tr valign=\"top\" align=\"left\">\n<td width=\"11%\"></td>\n<td width=\"37%\">\n\n\n<p style=\"margin-top: 1em\"><b>passwd</b> [<i>options</i>]\n[<i>LOGIN</i>]</p> </td>\n<td width=\"52%\">\n</td></tr>\n</table>\n\n<h2>DESCRIPTION\n<a name=\"DESCRIPTION\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>passwd</b> command changes passwords for user accounts. A\nnormal user may only change the password for their own\naccount, while the superuser may change the password for any\naccount. <b>passwd</b> also changes the account or\nassociated password validity period.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Password\nChanges</b> <br>\nThe user is first prompted for their old password, if one is\npresent. This password is then encrypted and compared\nagainst the stored password. The user has only one chance to\nenter the correct password. The superuser is permitted to\nbypass this step so that forgotten passwords may be\nchanged.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">After the\npassword has been entered, password aging information is\nchecked to see if the user is permitted to change the\npassword at this time. If not, <b>passwd</b> refuses to\nchange the password and exits.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">The user is\nthen prompted twice for a replacement password. The second\nentry is compared against the first and both are required to\nmatch in order for the password to be changed.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Then, the\npassword is tested for complexity. As a general guideline,\npasswords should consist of 6 to 8 characters including one\nor more characters from each of the following sets:</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">&bull; lower\ncase alphabetics</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">&bull; digits 0\nthru 9</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">&bull;\npunctuation marks</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Care must be\ntaken not to include the system default erase or kill\ncharacters. <b>passwd</b> will reject any password which is\nnot suitably complex.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>Hints for\nuser passwords</b> <br>\nThe security of a password depends upon the strength of the\nencryption algorithm and the size of the key space. The\nlegacy <i>UNIX</i> System encryption method is based on the\nNBS DES algorithm. More recent methods are now recommended\n(see <b>ENCRYPT_METHOD</b>). The size of the key space\ndepends upon the randomness of the password which is\nselected.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Compromises in\npassword security normally result from careless password\nselection or handling. For this reason, you should not\nselect a password which appears in a dictionary or which\nmust be written down. The password should also not be a\nproper name, your license number, birth date, or street\naddress. Any of these may be used as guesses to violate\nsystem security.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">You can find\nadvice on how to choose a strong password on\nhttp://en.wikipedia.org/wiki/Password_strength</p>\n\n<h2>OPTIONS\n<a name=\"OPTIONS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The options\nwhich apply to the <b>passwd</b> command are:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-a</b>,\n<b>--all</b></p>\n\n<p style=\"margin-left:17%;\">This option can be used only\nwith <b>-S</b> and causes show status for all users.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-d</b>,\n<b>--delete</b></p>\n\n<p style=\"margin-left:17%;\">Delete a user's password (make\nit empty). This is a quick way to disable a password for an\naccount. It will set the named account passwordless.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-e</b>,\n<b>--expire</b></p>\n\n<p style=\"margin-left:17%;\">Immediately expire an account's\npassword. This in effect can force a user to change their\npassword at the user's next login.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-h</b>,\n<b>--help</b></p>\n\n<p style=\"margin-left:17%;\">Display help message and\nexit.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-i</b>,\n<b>--inactive&nbsp;</b><i>INACTIVE</i></p>\n\n<p style=\"margin-left:17%;\">This option is used to disable\nan account after the password has been expired for a number\nof days. After a user account has had an expired password\nfor <i>INACTIVE</i> days, the user may no longer sign on to\nthe account.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-k</b>,\n<b>--keep-tokens</b></p>\n\n<p style=\"margin-left:17%;\">Indicate password change should\nbe performed only for expired authentication tokens\n(passwords). The user wishes to keep their non-expired\ntokens as before.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-l</b>,\n<b>--lock</b></p>\n\n<p style=\"margin-left:17%;\">Lock the password of the named\naccount. This option disables a password by changing it to a\nvalue which matches no possible encrypted value (it adds a\n&acute;!&acute; at the beginning of the password).</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Note that this\ndoes not disable the account. The user may still be able to\nlogin using another authentication token (e.g. an SSH key).\nTo disable the account, administrators should use <b>usermod\n--expiredate 1</b> (this set the account's expire date to\nJan 2, 1970).</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Users with a\nlocked password are not allowed to change their\npassword.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-n</b>,\n<b>--mindays&nbsp;</b><i>MIN_DAYS</i></p>\n\n<p style=\"margin-left:17%;\">Set the minimum number of days\nbetween password changes to <i>MIN_DAYS</i>. A value of zero\nfor this field indicates that the user may change their\npassword at any time.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-q</b>,\n<b>--quiet</b></p>\n\n<p style=\"margin-left:17%;\">Quiet mode.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-r</b>,\n<b>--repository&nbsp;</b><i>REPOSITORY</i></p>\n\n<p style=\"margin-left:17%;\">change password in\n<i>REPOSITORY</i> repository</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-R</b>,\n<b>--root&nbsp;</b><i>CHROOT_DIR</i></p>\n\n<p style=\"margin-left:17%;\">Apply changes in the\n<i>CHROOT_DIR</i> directory and use the configuration files\nfrom the <i>CHROOT_DIR</i> directory.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-S</b>,\n<b>--status</b></p>\n\n<p style=\"margin-left:17%;\">Display account status\ninformation. The status information consists of 7 fields.\nThe first field is the user's login name. The second field\nindicates if the user account has a locked password (L), has\nno password (NP), or has a usable password (P). The third\nfield gives the date of the last password change. The next\nfour fields are the minimum age, maximum age, warning\nperiod, and inactivity period for the password. These ages\nare expressed in days.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-u</b>,\n<b>--unlock</b></p>\n\n<p style=\"margin-left:17%;\">Unlock the password of the\nnamed account. This option re-enables a password by changing\nthe password back to its previous value (to the value before\nusing the <b>-l</b> option).</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-w</b>,\n<b>--warndays&nbsp;</b><i>WARN_DAYS</i></p>\n\n<p style=\"margin-left:17%;\">Set the number of days of\nwarning before a password change is required. The\n<i>WARN_DAYS</i> option is the number of days prior to the\npassword expiring that a user will be warned that their\npassword is about to expire.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>-x</b>,\n<b>--maxdays&nbsp;</b><i>MAX_DAYS</i></p>\n\n<p style=\"margin-left:17%;\">Set the maximum number of days\na password remains valid. After <i>MAX_DAYS</i>, the\npassword is required to be changed.</p>\n\n<p style=\"margin-left:17%; margin-top: 1em\">Passing the\nnumber <i>-1</i> as <i>MAX_DAYS</i> will remove checking a\npassword's validity.</p>\n\n<h2>CAVEATS\n<a name=\"CAVEATS\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">Password\ncomplexity checking may vary from site to site. The user is\nurged to select a password as complex as he or she feels\ncomfortable with.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\">Users may not\nbe able to change their password on a system if NIS is\nenabled and they are not logged into the NIS server.</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>passwd</b>\nuses PAM to authenticate users and to change their\npasswords.</p>\n\n<h2>FILES\n<a name=\"FILES\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/etc/passwd</p>\n\n<p style=\"margin-left:17%;\">User account information.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/etc/shadow</p>\n\n<p style=\"margin-left:17%;\">Secure user account\ninformation.</p>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">/etc/pam.d/passwd</p>\n\n<p style=\"margin-left:17%;\">PAM configuration for\n<b>passwd</b>.</p>\n\n<h2>EXIT VALUES\n<a name=\"EXIT VALUES\"></a>\n</h2>\n\n\n<p style=\"margin-left:11%; margin-top: 1em\">The\n<b>passwd</b> command exits with the following values:</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>0</i></p>\n\n<p style=\"margin-left:17%;\">success</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>1</i></p>\n\n<p style=\"margin-left:17%;\">permission denied</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>2</i></p>\n\n<p style=\"margin-left:17%;\">invalid combination of\noptions</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>3</i></p>\n\n<p style=\"margin-left:17%;\">unexpected failure, nothing\ndone</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>4</i></p>\n\n<p style=\"margin-left:17%;\">unexpected failure, passwd file\nmissing</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>5</i></p>\n\n<p style=\"margin-left:17%;\">passwd file busy, try again</p>\n\n<p style=\"margin-left:11%; margin-top: 1em\"><i>6</i></p>\n\n<p style=\"margin-left:17%;\">invalid argument to option</p>\n\n<h2>SEE ALSO\n<a name=\"SEE ALSO\"></a>\n</h2>\n\n\n\n<p style=\"margin-left:11%; margin-top: 1em\"><b>chpasswd</b>(8),\n<a href=\"https://man.page/5/passwd\">passwd(5)</a>, <a href=\"https://man.page/5/shadow\">shadow(5)</a>, <b>usermod</b>(8).</p>\n<hr>\n","headings":["<a href=\"#NAME\">NAME</a>","<a href=\"#SYNOPSIS\">SYNOPSIS</a>","<a href=\"#DESCRIPTION\">DESCRIPTION</a>","<a href=\"#OPTIONS\">OPTIONS</a>","<a href=\"#CAVEATS\">CAVEATS</a>","<a href=\"#FILES\">FILES</a>","<a href=\"#EXIT VALUES\">EXIT VALUES</a>","<a href=\"#SEE ALSO\">SEE ALSO</a>"]}