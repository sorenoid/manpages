<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Sat Nov 26 20:39:04 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>NSSWITCH.CONF</title>

</head>
<body>

<h1 align="center">NSSWITCH.CONF</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#FILES">FILES</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COLOPHON">COLOPHON</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">nsswitch.conf -
Name Service Switch configuration file</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The Name
Service Switch (NSS) configuration file,
<i>/etc/nsswitch.conf</i>, is used by the GNU C Library and
certain other applications to determine the sources from
which to obtain name-service information in a range of
categories, and in what order. Each category of information
is identified by a database name.</p>

<p style="margin-left:11%; margin-top: 1em">The file is
plain ASCII text, with columns separated by spaces or tab
characters. The first column specifies the database name.
The remaining columns describe the order of sources to query
and a limited set of actions that can be performed by lookup
result.</p>

<p style="margin-left:11%; margin-top: 1em">The following
databases are understood by the GNU C Library:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p><b>aliases</b></p></td>
<td width="3%"></td>
<td width="71%">


<p>Mail aliases, used by <a href="https://man.page/3/getaliasent">getaliasent(3)</a> and related
functions.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p><b>ethers</b></p></td>
<td width="3%"></td>
<td width="71%">


<p>Ethernet numbers.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p><b>group</b></p></td>
<td width="3%"></td>
<td width="71%">


<p>Groups of users, used by <a href="https://man.page/3/getgrent">getgrent(3)</a> and related
functions.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p><b>hosts</b></p></td>
<td width="3%"></td>
<td width="71%">


<p>Host names and numbers, used by <a href="https://man.page/3/gethostbyname">gethostbyname(3)</a>
and related functions.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p><b>initgroups</b></p></td>
<td width="3%"></td>
<td width="71%">


<p>Supplementary group access list, used by
<a href="https://man.page/3/getgrouplist">getgrouplist(3)</a> function.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p><b>netgroup</b></p></td>
<td width="3%"></td>
<td width="71%">


<p>Network-wide list of hosts and users, used for access
rules. C libraries before glibc 2.1 supported netgroups only
over NIS.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p><b>networks</b></p></td>
<td width="3%"></td>
<td width="71%">


<p>Network names and numbers, used by <a href="https://man.page/3/getnetent">getnetent(3)</a>
and related functions.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p><b>passwd</b></p></td>
<td width="3%"></td>
<td width="71%">


<p>User passwords, used by <a href="https://man.page/3/getpwent">getpwent(3)</a> and related
functions.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p><b>protocols</b></p></td>
<td width="3%"></td>
<td width="71%">


<p>Network protocols, used by <a href="https://man.page/3/getprotoent">getprotoent(3)</a> and
related functions.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p><b>publickey</b></p></td>
<td width="3%"></td>
<td width="71%">


<p>Public and secret keys for Secure_RPC used by NFS and
NIS+.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p><b>rpc</b></p></td>
<td width="3%"></td>
<td width="71%">


<p>Remote procedure call names and numbers, used by
<a href="https://man.page/3/getrpcbyname">getrpcbyname(3)</a> and related functions.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p><b>services</b></p></td>
<td width="3%"></td>
<td width="71%">


<p>Network services, used by <a href="https://man.page/3/getservent">getservent(3)</a> and
related functions.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p><b>shadow</b></p></td>
<td width="3%"></td>
<td width="71%">


<p>Shadow user passwords, used by <a href="https://man.page/3/getspnam">getspnam(3)</a> and
related functions.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The GNU C
Library ignores databases with unknown names. Some
applications use this to implement special handling for
their own databases. For example, <b>sudo</b>(8) consults
the <b>sudoers</b> database.</p>

<p style="margin-left:11%; margin-top: 1em">Here is an
example <i>/etc/nsswitch.conf</i> file:</p>

<p style="margin-left:17%; margin-top: 1em">passwd: compat
<br>
group: compat <br>
shadow: compat</p>

<p style="margin-left:17%; margin-top: 1em">hosts: dns
[!UNAVAIL=return] files <br>
networks: nis [NOTFOUND=return] files <br>
ethers: nis [NOTFOUND=return] files <br>
protocols: nis [NOTFOUND=return] files <br>
rpc: nis [NOTFOUND=return] files <br>
services: nis [NOTFOUND=return] files</p>

<p style="margin-left:11%; margin-top: 1em">The first
column is the database name. The remaining columns
specify:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">*</p></td>
<td width="3%"></td>
<td width="85%">


<p style="margin-top: 1em">One or more service
specifications, for example, &quot;files&quot;,
&quot;db&quot;, or &quot;nis&quot;. The order of the
services on the line determines the order in which those
services will be queried, in turn, until a result is
found.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>*</p></td>
<td width="3%"></td>
<td width="85%">


<p>Optional actions to perform if a particular result is
obtained from the preceding service, for example,
&quot;[NOTFOUND=return]&quot;.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The service
specifications supported on your system depend on the
presence of shared libraries, and are therefore extensible.
Libraries called <i>/lib/libnss_SERVICE.so.</i><b>X</b> will
provide the named <i>SERVICE</i>. On a standard
installation, you can use &quot;files&quot;, &quot;db&quot;,
&quot;nis&quot;, and &quot;nisplus&quot;. For the
<b>hosts</b> database, you can additionally specify
&quot;dns&quot;. For the <b>passwd</b>, <b>group</b>, and
<b>shadow</b> databases, you can additionally specify
&quot;compat&quot; (see <b>Compatibility mode</b> below).
The version number <b>X</b> may be 1 for glibc 2.0, or 2 for
glibc 2.1 and later. On systems with additional libraries
installed, you may have access to further services such as
&quot;hesiod&quot;, &quot;ldap&quot;, &quot;winbind&quot;
and &quot;wins&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">An action may
also be specified following a service specification. The
action modifies the behavior following a result obtained
from the preceding data source. Action items take the
general form:</p>


<p style="margin-left:17%; margin-top: 1em">[<i>STATUS</i>=<i>ACTION</i>]
<br>
[!<i>STATUS</i>=<i>ACTION</i>]</p>

<p style="margin-left:11%; margin-top: 1em">where</p>

<p style="margin-left:17%; margin-top: 1em"><i>STATUS</i>
=&gt; <b>success</b> | <b>notfound</b> | <b>unavail</b> |
<b>tryagain</b> <i><br>
ACTION</i> =&gt; <b>return</b> | <b>continue</b> |
<b>merge</b></p>

<p style="margin-left:11%; margin-top: 1em">The ! negates
the test, matching all possible results except the one
specified. The case of the keywords is not significant.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>STATUS</i> value is matched against the result of the
lookup function called by the preceding service
specification, and can be one of:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="12%">


<p style="margin-top: 1em"><b>success</b></p></td>
<td width="6%"></td>
<td width="65%">


<p style="margin-top: 1em">No error occurred and the
requested entry is returned. The default action for this
condition is &quot;return&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="12%">


<p><b>notfound</b></p></td>
<td width="6%"></td>
<td width="65%">


<p>The lookup succeeded, but the requested entry was not
found. The default action for this condition is
&quot;continue&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="12%">


<p><b>unavail</b></p></td>
<td width="6%"></td>
<td width="65%">


<p>The service is permanently unavailable. This can mean
either that the required file cannot be read, or, for
network services, that the server is not available or does
not allow queries. The default action for this condition is
&quot;continue&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="12%">


<p><b>tryagain</b></p></td>
<td width="6%"></td>
<td width="65%">


<p>The service is temporarily unavailable. This could mean
a file is locked or a server currently cannot accept more
connections. The default action for this condition is
&quot;continue&quot;.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The
<i>ACTION</i> value can be one of:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="12%">


<p style="margin-top: 1em"><b>return</b></p></td>
<td width="6%"></td>
<td width="65%">


<p style="margin-top: 1em">Return a result now. Do not call
any further lookup functions. However, for compatibility
reasons, if this is the selected action for the <b>group</b>
database and the <b>notfound</b> status, and the
configuration file does not contain the <b>initgroups</b>
line, the next lookup function is always called, without
affecting the search result.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="12%">


<p><b>continue</b></p></td>
<td width="6%"></td>
<td width="65%">


<p>Call the next lookup function.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="12%">


<p><b>merge</b></p></td>
<td width="6%"></td>
<td width="65%">


<p><i>[SUCCESS=merge]</i> is used between two database
entries. When a group is located in the first of the two
group entries, processing will continue on to the next one.
If the group is also found in the next entry (and the group
name and GID are an exact match), the member list of the
second entry will be added to the group object to be
returned. Available since glibc 2.24. Note that merging will
not be done for <a href="https://man.page/3/getgrent">getgrent(3)</a> nor will duplicate
members be pruned when they occur in both entries being
merged.</p> </td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>Compatibility
mode (compat)</b> <br>
The NSS &quot;compat&quot; service is similar to
&quot;files&quot; except that it additionally permits
special entries in corresponding files for granting users or
members of netgroups access to the system. The following
entries are valid in this mode:</p>

<p style="margin-left:17%; margin-top: 1em">For
<b>passwd</b> and <b>shadow</b> databases:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="17%">


<p style="margin-top: 1em"><b>+</b><i>user</i></p></td>
<td width="2%"></td>
<td width="58%">


<p style="margin-top: 1em">Include the specified
<i>user</i> from the NIS passwd/shadow map.</p></td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="17%">


<p><b>+</b><i>user::::::</i></p></td>
<td width="2%"></td>
<td width="58%">


<p>Include the specified <i>user</i> from the NIS passwd
map, but override with non-empty passwd fields.</p></td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="17%">


<p><b>+@</b><i>netgroup</i></p></td>
<td width="2%"></td>
<td width="58%">


<p>Include all users in the given <i>netgroup</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="17%">


<p><b>-</b><i>user</i></p></td>
<td width="2%"></td>
<td width="58%">


<p>Exclude the specified <i>user</i> from the NIS
passwd/shadow map.</p></td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="17%">


<p><b>-@</b><i>netgroup</i></p></td>
<td width="2%"></td>
<td width="58%">


<p>Exclude all users in the given <i>netgroup</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="17%">


<p><b>+</b></p></td>
<td width="2%"></td>
<td width="58%">


<p>Include every user, except previously excluded ones,
from the NIS passwd/shadow map.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">For
<b>group</b> database:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>+</b><i>group</i></p></td>
<td width="10%"></td>
<td width="58%">


<p style="margin-top: 1em">Include the specified
<i>group</i> from the NIS group map.</p></td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="9%">


<p><b>-</b><i>group</i></p></td>
<td width="10%"></td>
<td width="58%">


<p>Exclude the specified <i>group</i> from the NIS group
map.</p> </td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="9%">


<p><b>+</b></p></td>
<td width="10%"></td>
<td width="58%">


<p>Include every group, except previously excluded ones,
from the NIS group map.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">By default, the
source is &quot;nis&quot;, but this may be overridden by
specifying any NSS service except &quot;compat&quot; itself
as the source for the pseudo-databases <b>passwd_compat</b>,
<b>group_compat</b>, and <b>shadow_compat</b>.</p>

<h2>FILES
<a name="FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A service named
<i>SERVICE</i> is implemented by a shared object library
named <i>libnss_SERVICE.so.</i><b>X</b> that resides in
<i>/lib</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p style="margin-top: 1em"><i>/etc/nsswitch.conf</i></p></td>
<td width="1%"></td>
<td width="43%">


<p style="margin-top: 1em">NSS configuration file.</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p><i>/lib/libnss_compat.so.</i><b>X</b></p></td>
<td width="1%"></td>
<td width="43%">


<p>implements &quot;compat&quot; source.</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p><i>/lib/libnss_db.so.</i><b>X</b></p></td>
<td width="1%"></td>
<td width="43%">


<p>implements &quot;db&quot; source.</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p><i>/lib/libnss_dns.so.</i><b>X</b></p></td>
<td width="1%"></td>
<td width="43%">


<p>implements &quot;dns&quot; source.</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p><i>/lib/libnss_files.so.</i><b>X</b></p></td>
<td width="1%"></td>
<td width="43%">


<p>implements &quot;files&quot; source.</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p><i>/lib/libnss_hesiod.so.</i><b>X</b></p></td>
<td width="1%"></td>
<td width="43%">


<p>implements &quot;hesiod&quot; source.</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p><i>/lib/libnss_nis.so.</i><b>X</b></p></td>
<td width="1%"></td>
<td width="43%">


<p>implements &quot;nis&quot; source.</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="37%">


<p><i>/lib/libnss_nisplus.so.</i><b>X</b></p></td>
<td width="1%"></td>
<td width="43%">


<p>implements &quot;nisplus&quot; source.</p></td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The following
files are read when &quot;files&quot; source is specified
for respective databases:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="15%">


<p style="margin-top: 1em"><b>aliases</b></p></td>
<td width="3%"></td>
<td width="22%">


<p style="margin-top: 1em"><i>/etc/aliases</i></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="15%">


<p><b>ethers</b></p></td>
<td width="3%"></td>
<td width="22%">


<p><i>/etc/ethers</i></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="15%">


<p><b>group</b></p></td>
<td width="3%"></td>
<td width="22%">


<p><i>/etc/group</i></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="15%">


<p><b>hosts</b></p></td>
<td width="3%"></td>
<td width="22%">


<p><i>/etc/hosts</i></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="15%">


<p><b>initgroups</b></p></td>
<td width="3%"></td>
<td width="22%">


<p><i>/etc/group</i></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="15%">


<p><b>netgroup</b></p></td>
<td width="3%"></td>
<td width="22%">


<p><i>/etc/netgroup</i></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="15%">


<p><b>networks</b></p></td>
<td width="3%"></td>
<td width="22%">


<p><i>/etc/networks</i></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="15%">


<p><b>passwd</b></p></td>
<td width="3%"></td>
<td width="22%">


<p><i>/etc/passwd</i></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="15%">


<p><b>protocols</b></p></td>
<td width="3%"></td>
<td width="22%">


<p><i>/etc/protocols</i></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="15%">


<p><b>publickey</b></p></td>
<td width="3%"></td>
<td width="22%">


<p><i>/etc/publickey</i></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="15%">


<p><b>rpc</b></p></td>
<td width="3%"></td>
<td width="22%">


<p><i>/etc/rpc</i></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="15%">


<p><b>services</b></p></td>
<td width="3%"></td>
<td width="22%">


<p><i>/etc/services</i></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="15%">


<p><b>shadow</b></p></td>
<td width="3%"></td>
<td width="22%">


<p><i>/etc/shadow</i></p></td>
<td width="43%">
</td></tr>
</table>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Within each
process that uses <b>nsswitch.conf</b>, the entire file is
read only once. If the file is later changed, the process
will continue using the old configuration.</p>

<p style="margin-left:11%; margin-top: 1em">Traditionally,
there was only a single source for service information,
often in the form of a single configuration file (e.g.,
<i>/etc/passwd</i>). However, as other name services, such
as the Network Information Service (NIS) and the Domain Name
Service (DNS), became popular, a method was needed that
would be more flexible than fixed search orders coded into
the C library. The Name Service Switch mechanism, which was
based on the mechanism used by Sun Microsystems in the
Solaris 2 C library, introduced a cleaner solution to the
problem.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><a href="https://man.page/1/getent">getent(1)</a>,
<a href="https://man.page/5/nss">nss(5)</a></p>

<h2>COLOPHON
<a name="COLOPHON"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This page is
part of release 5.10 of the Linux <i>man-pages</i> project.
A description of the project, information about reporting
bugs, and the latest version of this page, can be found at
https://www.kernel.org/doc/man-pages/.</p>
<hr>
</body>
</html>
