<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon Nov  7 04:40:25 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>DIRMNGR-CLIENT</title>

</head>
<body>

<h1 align="center">DIRMNGR-CLIENT</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>dirmngr-client</b>
- Tool to access the Dirmngr services</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>dirmngr-client</b>
[<i>options</i>] [<i>certfile</i>|<i>pattern</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>dirmngr-client</b> is a simple tool to contact a running
dirmngr and test whether a certificate has been revoked ---
either by being listed in the corresponding CRL or by
running the OCSP protocol. If no dirmngr is running, a new
instances will be started but this is in general not a good
idea due to the huge performance overhead.</p>

<p style="margin-left:11%; margin-top: 1em">The usual way
to run this tool is either:</p>

<p style="margin-left:14%; margin-top: 1em">dirmngr-client
<i>acert</i></p>

<p style="margin-left:11%; margin-top: 1em">or</p>

<p style="margin-left:14%; margin-top: 1em">dirmngr-client
&lt;<i>acert</i></p>

<p style="margin-left:11%; margin-top: 1em">Where
<i>acert</i> is one DER encoded (binary) X.509 certificates
to be tested.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>dirmngr-client</b>
returns these values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>The certificate under question is valid; i.e. there is a
valid CRL available and it is not listed there or the OCSP
request returned that that certificate is valid.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>The certificate has been revoked</p></td></tr>
</table>

<p style="margin-left:11%;"><b>2 (and other values)</b></p>

<p style="margin-left:22%;">There was a problem checking
the revocation state of the certificate. A message to stderr
has given more detailed information. Most likely this is due
to a missing or expired CRL or due to a network problem.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>dirmngr-client</b>
may be called with the following options: <b><br>
--version</b></p>

<p style="margin-left:22%;">Print the program version and
licensing information. Note that you cannot abbreviate this
command.</p>

<p style="margin-left:11%;"><b>--help, -h</b></p>

<p style="margin-left:22%;">Print a usage message
summarizing the most useful command-line options. Note that
you cannot abbreviate this command.</p>

<p style="margin-left:11%;"><b>--quiet, -q</b></p>

<p style="margin-left:22%;">Make the output extra brief by
suppressing any informational messages.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="86%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>--verbose</b></p>

<p style="margin-left:22%;">Outputs additional information
while running. You can increase the verbosity by giving
several verbose commands to <b>dirmngr</b>, such as
&rsquo;-vv&rsquo;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--pem</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Assume that the given certificate is in PEM (armored)
format.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--ocsp</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Do the check using the OCSP protocol and ignore any
CRLs.</p> </td></tr>
</table>


<p style="margin-left:11%;"><b>--force-default-responder</b></p>

<p style="margin-left:22%;">When checking using the OCSP
protocol, force the use of the default OCSP responder. That
is not to use the Reponder as given by the certificate.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--ping</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Check whether the dirmngr daemon is up and running.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>--cache-cert</b></p>

<p style="margin-left:22%;">Put the given certificate into
the cache of a running dirmngr. This is mainly useful for
debugging.</p>

<p style="margin-left:11%;"><b>--validate</b></p>

<p style="margin-left:22%;">Validate the given certificate
using dirmngr&rsquo;s internal validation code. This is
mainly useful for debugging.</p>

<p style="margin-left:11%;"><b>--load-crl</b></p>

<p style="margin-left:22%;">This command expects a list of
filenames with DER encoded CRL files. With the option
<b>--url</b> URLs are expected in place of filenames and
they are loaded directly from the given location. All CRLs
will be validated and then loaded into dirmngr&rsquo;s
cache.</p>

<p style="margin-left:11%;"><b>--lookup</b></p>

<p style="margin-left:22%;">Take the remaining arguments
and run a lookup command on each of them. The results are
Base-64 encoded outputs (without header lines). This may be
used to retrieve certificates from a server. However the
output format is not very well suited if more than one
certificate is returned.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>--url</b></p></td>
<td width="4%"></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>-u</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Modify the <b>lookup</b> and <b>load-crl</b> commands to
take an URL.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>--local</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-l</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Let the <b>lookup</b> command only search the local
cache.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>--squid-mode</b></p>

<p style="margin-left:22%;">Run <b>dirmngr-client</b> in a
mode suitable as a helper program for Squid&rsquo;s
<b>external_acl_type</b> option.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>dirmngr</b>(8),
<a href="https://man.page/1/gpgsm">gpgsm(1)</a></p>

<p style="margin-left:11%; margin-top: 1em">The full
documentation for this tool is maintained as a Texinfo
manual. If GnuPG and the info program are properly installed
at your site, the command</p>

<p style="margin-left:14%; margin-top: 1em">info gnupg</p>

<p style="margin-left:11%; margin-top: 1em">should give you
access to the complete manual including a menu structure and
an index.</p>
<hr>
</body>
</html>
