<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon Nov  7 04:40:01 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>GIT-APPLY</title>

</head>
<body>

<h1 align="center">GIT-APPLY</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#CONFIGURATION">CONFIGURATION</a><br>
<a href="#SUBMODULES">SUBMODULES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#GIT">GIT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">git-apply -
Apply a patch to files and/or to the index</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>git
apply</i> [--stat] [--numstat] [--summary] [--check]
[--index | --intent-to-add] [--3way] <br>
[--apply] [--no-add] [--build-fake-ancestor=&lt;file&gt;]
[-R | --reverse] <br>
[--allow-binary-replacement | --binary] [--reject] [-z] <br>
[-p&lt;n&gt;] [-C&lt;n&gt;] [--inaccurate-eof] [--recount]
[--cached] <br>
[--ignore-space-change | --ignore-whitespace] <br>
[--whitespace=(nowarn|warn|fix|error|error-all)] <br>
[--exclude=&lt;path&gt;] [--include=&lt;path&gt;]
[--directory=&lt;root&gt;] <br>
[--verbose] [--unsafe-paths] [&lt;patch&gt;...]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Reads the
supplied diff output (i.e. &quot;a patch&quot;) and applies
it to files. When running from a subdirectory in a
repository, patched paths outside the directory are ignored.
With the <b>--index</b> option the patch is also applied to
the index, and with the <b>--cached</b> option the patch is
only applied to the index. Without these options, the
command applies the patch only to files, and does not
require them to be in a Git repository.</p>

<p style="margin-left:11%; margin-top: 1em">This command
applies the patch but does not create a commit. Use
<b>git-am</b>(1) to create commits from patches generated by
<b>git-format-patch</b>(1) and/or received by email.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">&lt;patch&gt;...</p>

<p style="margin-left:17%;">The files to read the patch
from. <i>-</i> can be used to read from the standard
input.</p>

<p style="margin-left:11%; margin-top: 1em">--stat</p>

<p style="margin-left:17%;">Instead of applying the patch,
output diffstat for the input. Turns off
&quot;apply&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">--numstat</p>

<p style="margin-left:17%;">Similar to <b>--stat</b>, but
shows the number of added and deleted lines in decimal
notation and the pathname without abbreviation, to make it
more machine friendly. For binary files, outputs two
<b>-</b> instead of saying <b>0 0</b>. Turns off
&quot;apply&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">--summary</p>

<p style="margin-left:17%;">Instead of applying the patch,
output a condensed summary of information obtained from git
diff extended headers, such as creations, renames and mode
changes. Turns off &quot;apply&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">--check</p>

<p style="margin-left:17%;">Instead of applying the patch,
see if the patch is applicable to the current working tree
and/or the index file and detects errors. Turns off
&quot;apply&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">--index</p>

<p style="margin-left:17%;">Apply the patch to both the
index and the working tree (or merely check that it would
apply cleanly to both if <b>--check</b> is in effect). Note
that <b>--index</b> expects index entries and working tree
copies for relevant paths to be identical (their contents
and metadata such as file mode must match), and will raise
an error if they are not, even if the patch would apply
cleanly to both the index and the working tree in
isolation.</p>

<p style="margin-left:11%; margin-top: 1em">--cached</p>

<p style="margin-left:17%;">Apply the patch to just the
index, without touching the working tree. If <b>--check</b>
is in effect, merely check that it would apply cleanly to
the index entry.</p>


<p style="margin-left:11%; margin-top: 1em">--intent-to-add</p>

<p style="margin-left:17%;">When applying the patch only to
the working tree, mark new files to be added to the index
later (see <b>--intent-to-add</b> option in
<b>git-add</b>(1)). This option is ignored unless running in
a Git repository and <b>--index</b> is not specified. Note
that <b>--index</b> could be implied by other options such
as <b>--cached</b> or <b>--3way</b>.</p>

<p style="margin-left:11%; margin-top: 1em">-3, --3way</p>

<p style="margin-left:17%;">Attempt 3-way merge if the
patch records the identity of blobs it is supposed to apply
to and we have those blobs available locally, possibly
leaving the conflict markers in the files in the working
tree for the user to resolve. This option implies the
<b>--index</b> option unless the <b>--cached</b> option is
used, and is incompatible with the <b>--reject</b> option.
When used with the <b>--cached</b> option, any conflicts are
left at higher stages in the cache.</p>


<p style="margin-left:11%; margin-top: 1em">--build-fake-ancestor=&lt;file&gt;</p>

<p style="margin-left:17%;">Newer <i>git diff</i> output
has embedded <i>index information</i> for each blob to help
identify the original version that the patch applies to.
When this flag is given, and if the original versions of the
blobs are available locally, builds a temporary index
containing those blobs.</p>

<p style="margin-left:17%; margin-top: 1em">When a pure
mode change is encountered (which has no index information),
the information is read from the current index instead.</p>

<p style="margin-left:11%; margin-top: 1em">-R,
--reverse</p>

<p style="margin-left:17%;">Apply the patch in reverse.</p>

<p style="margin-left:11%; margin-top: 1em">--reject</p>

<p style="margin-left:17%;">For atomicity, <i>git apply</i>
by default fails the whole patch and does not touch the
working tree when some of the hunks do not apply. This
option makes it apply the parts of the patch that are
applicable, and leave the rejected hunks in corresponding
*.rej files.</p>

<p style="margin-left:11%; margin-top: 1em">-z</p>

<p style="margin-left:17%;">When <b>--numstat</b> has been
given, do not munge pathnames, but use a NUL-terminated
machine-readable format.</p>

<p style="margin-left:17%; margin-top: 1em">Without this
option, pathnames with &quot;unusual&quot; characters are
quoted as explained for the configuration variable
<b>core.quotePath</b> (see <b>git-config</b>(1)).</p>


<p style="margin-left:11%; margin-top: 1em">-p&lt;n&gt;</p>

<p style="margin-left:17%;">Remove &lt;n&gt; leading path
components (separated by slashes) from traditional diff
paths. E.g., with <b>-p2</b>, a patch against
<b>a/dir/file</b> will be applied directly to <b>file</b>.
The default is 1.</p>


<p style="margin-left:11%; margin-top: 1em">-C&lt;n&gt;</p>

<p style="margin-left:17%;">Ensure at least &lt;n&gt; lines
of surrounding context match before and after each change.
When fewer lines of surrounding context exist they all must
match. By default no context is ever ignored.</p>


<p style="margin-left:11%; margin-top: 1em">--unidiff-zero</p>

<p style="margin-left:17%;">By default, <i>git apply</i>
expects that the patch being applied is a unified diff with
at least one line of context. This provides good safety
measures, but breaks down when applying a diff generated
with <b>--unified=0</b>. To bypass these checks use
<b>--unidiff-zero</b>.</p>

<p style="margin-left:17%; margin-top: 1em">Note, for the
reasons stated above usage of context-free patches is
discouraged.</p>

<p style="margin-left:11%; margin-top: 1em">--apply</p>

<p style="margin-left:17%;">If you use any of the options
marked &quot;Turns off <i>apply</i>&quot; above, <i>git
apply</i> reads and outputs the requested information
without actually applying the patch. Give this flag after
those flags to also apply the patch.</p>

<p style="margin-left:11%; margin-top: 1em">--no-add</p>

<p style="margin-left:17%;">When applying a patch, ignore
additions made by the patch. This can be used to extract the
common part between two files by first running <i>diff</i>
on them and applying the result with this option, which
would apply the deletion part but not the addition part.</p>


<p style="margin-left:11%; margin-top: 1em">--allow-binary-replacement,
--binary</p>

<p style="margin-left:17%;">Historically we did not allow
binary patch applied without an explicit permission from the
user, and this flag was the way to do so. Currently we
always allow binary patch application, so this is a
no-op.</p>


<p style="margin-left:11%; margin-top: 1em">--exclude=&lt;path-pattern&gt;</p>

<p style="margin-left:17%;">Don&rsquo;t apply changes to
files matching the given path pattern. This can be useful
when importing patchsets, where you want to exclude certain
files or directories.</p>


<p style="margin-left:11%; margin-top: 1em">--include=&lt;path-pattern&gt;</p>

<p style="margin-left:17%;">Apply changes to files matching
the given path pattern. This can be useful when importing
patchsets, where you want to include certain files or
directories.</p>

<p style="margin-left:17%; margin-top: 1em">When
<b>--exclude</b> and <b>--include</b> patterns are used,
they are examined in the order they appear on the command
line, and the first match determines if a patch to each path
is used. A patch to a path that does not match any
include/exclude pattern is used by default if there is no
include pattern on the command line, and ignored if there is
any include pattern.</p>


<p style="margin-left:11%; margin-top: 1em">--ignore-space-change,
--ignore-whitespace</p>

<p style="margin-left:17%;">When applying a patch, ignore
changes in whitespace in context lines if necessary. Context
lines will preserve their whitespace, and they will not
undergo whitespace fixing regardless of the value of the
<b>--whitespace</b> option. New lines will still be fixed,
though.</p>


<p style="margin-left:11%; margin-top: 1em">--whitespace=&lt;action&gt;</p>

<p style="margin-left:17%;">When applying a patch, detect a
new or modified line that has whitespace errors. What are
considered whitespace errors is controlled by
<b>core.whitespace</b> configuration. By default, trailing
whitespaces (including lines that solely consist of
whitespaces) and a space character that is immediately
followed by a tab character inside the initial indent of the
line are considered whitespace errors.</p>

<p style="margin-left:17%; margin-top: 1em">By default, the
command outputs warning messages but applies the patch. When
<b>git-apply</b> is used for statistics and not applying a
patch, it defaults to <b>nowarn</b>.</p>

<p style="margin-left:17%; margin-top: 1em">You can use
different <b>&lt;action&gt;</b> values to control this
behavior:</p>

<p style="margin-left:23%; margin-top: 1em">&bull;
<b>nowarn</b> turns off the trailing whitespace warning.</p>

<p style="margin-left:23%; margin-top: 1em">&bull;
<b>warn</b> outputs warnings for a few such errors, but
applies the patch as-is (default).</p>

<p style="margin-left:23%; margin-top: 1em">&bull;
<b>fix</b> outputs warnings for a few such errors, and
applies the patch after fixing them (<b>strip</b> is a
synonym --- the tool used to consider only trailing
whitespace characters as errors, and the fix involved
<i>stripping</i> them, but modern Gits do more).</p>

<p style="margin-left:23%; margin-top: 1em">&bull;
<b>error</b> outputs warnings for a few such errors, and
refuses to apply the patch.</p>

<p style="margin-left:23%; margin-top: 1em">&bull;
<b>error-all</b> is similar to <b>error</b> but shows all
errors.</p>


<p style="margin-left:11%; margin-top: 1em">--inaccurate-eof</p>

<p style="margin-left:17%;">Under certain circumstances,
some versions of <i>diff</i> do not correctly detect a
missing new-line at the end of the file. As a result,
patches created by such <i>diff</i> programs do not record
incomplete lines correctly. This option adds support for
applying such patches by working around this bug.</p>

<p style="margin-left:11%; margin-top: 1em">-v,
--verbose</p>

<p style="margin-left:17%;">Report progress to stderr. By
default, only a message about the current patch being
applied will be printed. This option will cause additional
information to be reported.</p>

<p style="margin-left:11%; margin-top: 1em">--recount</p>

<p style="margin-left:17%;">Do not trust the line counts in
the hunk headers, but infer them by inspecting the patch
(e.g. after editing the patch without adjusting the hunk
headers appropriately).</p>


<p style="margin-left:11%; margin-top: 1em">--directory=&lt;root&gt;</p>

<p style="margin-left:17%;">Prepend &lt;root&gt; to all
filenames. If a &quot;-p&quot; argument was also passed, it
is applied before prepending the new root.</p>

<p style="margin-left:17%; margin-top: 1em">For example, a
patch that talks about updating <b>a/git-gui.sh</b> to
<b>b/git-gui.sh</b> can be applied to the file in the
working tree <b>modules/git-gui/git-gui.sh</b> by running
<b>git apply --directory=modules/git-gui</b>.</p>


<p style="margin-left:11%; margin-top: 1em">--unsafe-paths</p>

<p style="margin-left:17%;">By default, a patch that
affects outside the working area (either a Git controlled
working tree, or the current working directory when
&quot;git apply&quot; is used as a replacement of GNU patch)
is rejected as a mistake (or a mischief).</p>

<p style="margin-left:17%; margin-top: 1em">When <b>git
apply</b> is used as a &quot;better GNU patch&quot;, the
user can pass the <b>--unsafe-paths</b> option to override
this safety check. This option has no effect when
<b>--index</b> or <b>--cached</b> is in use.</p>

<h2>CONFIGURATION
<a name="CONFIGURATION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">apply.ignoreWhitespace</p>

<p style="margin-left:17%;">Set to <i>change</i> if you
want changes in whitespace to be ignored by default. Set to
one of: no, none, never, false if you want changes in
whitespace to be significant.</p>


<p style="margin-left:11%; margin-top: 1em">apply.whitespace</p>

<p style="margin-left:17%;">When no <b>--whitespace</b>
flag is given from the command line, this configuration item
is used as the default.</p>

<h2>SUBMODULES
<a name="SUBMODULES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If the patch
contains any changes to submodules then <i>git apply</i>
treats these changes as follows.</p>

<p style="margin-left:11%; margin-top: 1em">If
<b>--index</b> is specified (explicitly or implicitly), then
the submodule commits must match the index exactly for the
patch to apply. If any of the submodules are checked-out,
then these check-outs are completely ignored, i.e., they are
not required to be up to date or clean and they are not
updated.</p>

<p style="margin-left:11%; margin-top: 1em">If
<b>--index</b> is not specified, then the submodule commits
in the patch are ignored and only the absence or presence of
the corresponding subdirectory is checked and (if possible)
updated.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>git-am</b>(1).</p>

<h2>GIT
<a name="GIT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Part of the
<b>git</b>(1) suite</p>
<hr>
</body>
</html>
