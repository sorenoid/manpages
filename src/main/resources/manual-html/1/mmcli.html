<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon Nov  7 04:40:04 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>mmcli</title>

</head>
<body>

<h1 align="center">mmcli</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#HELP OPTIONS">HELP OPTIONS</a><br>
<a href="#MANAGER OPTIONS">MANAGER OPTIONS</a><br>
<a href="#COMMON OPTIONS">COMMON OPTIONS</a><br>
<a href="#MODEM OPTIONS">MODEM OPTIONS</a><br>
<a href="#3GPP OPTIONS">3GPP OPTIONS</a><br>
<a href="#CDMA OPTIONS">CDMA OPTIONS</a><br>
<a href="#SIMPLE OPTIONS">SIMPLE OPTIONS</a><br>
<a href="#LOCATION OPTIONS">LOCATION OPTIONS</a><br>
<a href="#MESSAGING OPTIONS">MESSAGING OPTIONS</a><br>
<a href="#TIME OPTIONS">TIME OPTIONS</a><br>
<a href="#VOICE OPTIONS">VOICE OPTIONS</a><br>
<a href="#FIRMWARE OPTIONS">FIRMWARE OPTIONS</a><br>
<a href="#SIGNAL OPTIONS">SIGNAL OPTIONS</a><br>
<a href="#OMA OPTIONS">OMA OPTIONS</a><br>
<a href="#SIM OPTIONS">SIM OPTIONS</a><br>
<a href="#BEARER OPTIONS">BEARER OPTIONS</a><br>
<a href="#SMS OPTIONS">SMS OPTIONS</a><br>
<a href="#CALL OPTIONS">CALL OPTIONS</a><br>
<a href="#APPLICATION OPTIONS">APPLICATION OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mmcli - Control
and monitor the ModemManager</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>mmcli</b>
[<i>OPTION</i>...]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ModemManager is
a DBus-powered Linux daemon which provides a unified high
level API for communicating with (mobile broadband) modems.
It acts as a standard RIL (Radio Interface Layer) and may be
used by different connection managers, like NetworkManager.
Thanks to the built-in plugin architecture, ModemManager
talks to very different kinds of modems with very different
kinds of ports. In addition to the standard AT serial ports,
Qualcomm-based QCDM and QMI ports are also supported.</p>

<h2>HELP OPTIONS
<a name="HELP OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>-h,
--help</b></p>

<p style="margin-left:22%;">Show summary of options by
group.</p>

<p style="margin-left:11%;"><b>--help-all</b></p>

<p style="margin-left:22%;">Show all groups and
options.</p>

<p style="margin-left:11%;"><b>--help-manager</b></p>

<p style="margin-left:22%;">Show manager specific
options.</p>

<p style="margin-left:11%;"><b>--help-common</b></p>

<p style="margin-left:22%;">Show common options. These are
used for defining the device an option operates on. For
example, modems, bearers, SIMs, SMS&rsquo;, etc.</p>

<p style="margin-left:11%;"><b>--help-modem</b></p>

<p style="margin-left:22%;">Show modem specific
options.</p>

<p style="margin-left:11%;"><b>--help-3gpp</b></p>

<p style="margin-left:22%;">Show 3GPP specific options.</p>

<p style="margin-left:11%;"><b>--help-cdma</b></p>

<p style="margin-left:22%;">Show CDMA specific options.</p>

<p style="margin-left:11%;"><b>--help-simple</b></p>

<p style="margin-left:22%;">Show simple options. These are
useful for getting connected or disconnected and
understanding the state of things as fast as possible
without worrying so much about the details.</p>

<p style="margin-left:11%;"><b>--help-location</b></p>

<p style="margin-left:22%;">Show location or positioning
specific options.</p>

<p style="margin-left:11%;"><b>--help-messaging</b></p>

<p style="margin-left:22%;">Show messaging specific
options. See also <b>--help-sms</b> which is related.</p>

<p style="margin-left:11%;"><b>--help-time</b></p>

<p style="margin-left:22%;">Show time specific options.</p>

<p style="margin-left:11%;"><b>--help-firmware</b></p>

<p style="margin-left:22%;">Show firmware specific
options.</p>

<p style="margin-left:11%;"><b>--help-oma</b></p>

<p style="margin-left:22%;">Show OMA specific options.</p>

<p style="margin-left:11%;"><b>--help-sim</b></p>

<p style="margin-left:22%;">Show SIM card specific
options.</p>

<p style="margin-left:11%;"><b>--help-bearer</b></p>

<p style="margin-left:22%;">Show bearer specific
options.</p>

<p style="margin-left:11%;"><b>--help-sms</b></p>

<p style="margin-left:22%;">Show SMS specific options. See
also <b>--help-messaging</b> which is related.</p>

<h2>MANAGER OPTIONS
<a name="MANAGER OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>-B,
--get-daemon-version</b></p>

<p style="margin-left:22%;">Retrieve the version of the
currently running ModemManager daemon.</p>

<p style="margin-left:11%;"><b>-G,
--set-logging=[ERR|WARN|INFO|DEBUG]</b></p>

<p style="margin-left:22%;">Set the logging level in
ModemManager daemon. For debugging information you can
supply <b>DEBUG</b>. Each value above <b>DEBUG</b> provides
less detail. In most cases <b>ERR</b> (for displaying
errors) are the important messages.</p>

<p style="margin-left:22%; margin-top: 1em">The default
mode is <b>ERR</b>.</p>

<p style="margin-left:11%;"><b>-L, --list-modems</b></p>

<p style="margin-left:22%;">List available modems.</p>

<p style="margin-left:11%;"><b>-M, --monitor-modems</b></p>

<p style="margin-left:22%;">List available modems and
monitor modems added or removed.</p>

<p style="margin-left:11%;"><b>-S, --scan-modems</b></p>

<p style="margin-left:22%;">Scan for any potential new
modems. This is only useful when expecting pure RS232
modems, as they are not notified automatically by the
kernel.</p>

<p style="margin-left:11%;"><b>-I,
--inhibit-device=[UID]</b></p>

<p style="margin-left:22%;">Inhibit the specific device
from being used by ModemManager. The <b>UID</b> that should
be given is the value of the <b>Device</b> property exposed
by a given modem (i.e. equal to the <b>ID_MM_PHYSDEV_UID</b>
if one set, or otherwise equal to the full device sysfs
path).</p>

<p style="margin-left:22%; margin-top: 1em">This command
will not exit right away, as that would implicitly remove
the inhibition. The user must make sure to stop the mmcli
process hitting Ctrl+C in order to un-inhibit the
device.</p>

<p style="margin-left:22%; margin-top: 1em">When a device
is inhibited via this method, ModemManager will disable the
modem (therefore stopping any ongoing connection) and will
no longer use it until it is uninhibited.</p>


<p style="margin-left:11%;"><b>--report-kernel-event=[&rsquo;KEY1=VALUE1,KEY2=VALUE2,...&rsquo;]</b></p>

<p style="margin-left:22%;">Manually report kernel events,
instead of relying on udev (e.g. if the daemon is running
with <b>--no-auto-scan</b> or if the system was built
without udev support).</p>

<p style="margin-left:22%; margin-top: 1em">The supported
<b>KEY</b>s are:</p>


<p style="margin-left:25%;"><b>&rsquo;action&rsquo;</b></p>

<p style="margin-left:35%;">Action to report, one of
&rsquo;add&rsquo; or &rsquo;remove&rsquo;. Required.</p>


<p style="margin-left:25%;"><b>&rsquo;subsystem&rsquo;</b></p>

<p style="margin-left:35%;">Subsystem of the specific port
being reported, e.g. &rsquo;tty&rsquo; (for serial
ports),</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="25%"></td>
<td width="9%">


<p><b>&rsquo;name&rsquo;</b></p></td>
<td width="1%"></td>
<td width="65%">


<p>Name of the port being reported, e.g.
&rsquo;ttyACM0&rsquo;, &rsquo;wwan0&rsquo; or
&rsquo;cdc-wdm0&rsquo;.</p> </td></tr>
<tr valign="top" align="left">
<td width="25%"></td>
<td width="9%">


<p><b>&rsquo;uid&rsquo;</b></p></td>
<td width="1%"></td>
<td width="65%">


<p>The specific UID of the device, equivalent to the
<b>ID_MM_PHYSDEV_UID</b> udev tag. All ports reported with
the same &rsquo;UID&rsquo; value will be considered part of
the same device, which may be useful for e.g. modems with
multiple platform TTYs.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>--report-kernel-event-auto-scan</b></p>

<p style="margin-left:22%;">When built with udev support
but the daemon is running with <b>--no-auto-scan</b>, this
method may be used to automatically report kernel events
based on udev.</p>

<p style="margin-left:22%; margin-top: 1em">This command
will not exit right away. The user must make sure to stop
the mmcli process hitting Ctrl+C in order to stopping
monitoring for new events.</p>

<h2>COMMON OPTIONS
<a name="COMMON OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All options
below take a <b>PATH</b> or <b>INDEX</b> argument. If no
action is provided, the default information about the modem,
bearer, etc. is shown instead.</p>

<p style="margin-left:11%; margin-top: 1em">The <b>PATH</b>
and <b>INDEX</b> are created automatically when the modem is
plugged in. They can be found using <b>mmcli -L</b>. This
produces something like (for modems only):</p>

<p style="margin-left:22%; margin-top: 1em">Found 1 modems:
<br>
/org/freedesktop/ModemManager1/Modem/<b>4</b></p>

<p style="margin-left:11%; margin-top: 1em">In this case,
the <b>INDEX</b> is <b>4</b> and the <b>PATH</b> is the
entire string above.</p>

<p style="margin-left:11%; margin-top: 1em">However, for
the bearers, SIMs and SMS cases, the <b>PATH</b> is slightly
different. The <i>Modem</i> is replaced with the object name
in use, like <i>Bearer</i>. For example:</p>


<p style="margin-left:22%; margin-top: 1em">/org/freedesktop/ModemManager1/<i>Bearer</i>/4</p>

<p style="margin-left:11%;"><b>-m,
--modem=[PATH|INDEX]</b></p>

<p style="margin-left:22%;">Specify a modem.</p>

<p style="margin-left:11%;"><b>-b,
--bearer=[PATH|INDEX]</b></p>

<p style="margin-left:22%;">Specify a bearer.</p>

<p style="margin-left:11%;"><b>-i,
--sim=[PATH|INDEX]</b></p>

<p style="margin-left:22%;">Specify a SIM card.</p>

<p style="margin-left:11%;"><b>-s,
--sms=[PATH|INDEX]</b></p>

<p style="margin-left:22%;">Specify an SMS.</p>

<h2>MODEM OPTIONS
<a name="MODEM OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All of the
modem options below make use of the <b>--modem</b> or
<b>-m</b> switch to specify the modem to act on.</p>

<p style="margin-left:11%; margin-top: 1em">Some operations
require a <b>MODE</b>. <b>MODE</b> can be any combination of
the modes actually supported by the modem. In the perfect
case, the following are possible:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&rsquo;2G&rsquo;</b>
- 2G technologies, e.g. EDGE, CDMA1x <b><br>
&rsquo;3G&rsquo;</b> - 3G technologies, e.g. HSPA, EV-DO
<b><br>
&rsquo;4G&rsquo;</b> - 4G technologies, e.g. LTE <b><br>
&rsquo;ANY&rsquo;</b> - for all supported modes. <b><br>
-w, --monitor-state</b></p>

<p style="margin-left:22%;">Monitor the state of a given
modem.</p>

<p style="margin-left:11%;"><b>-e, --enable</b></p>

<p style="margin-left:22%;">Enable a given modem.</p>

<p style="margin-left:22%; margin-top: 1em">This powers the
antenna, starts the automatic registration process and in
general prepares the modem to be connected.</p>

<p style="margin-left:11%;"><b>-d, --disable</b></p>

<p style="margin-left:22%;">Disable a given modem.</p>

<p style="margin-left:22%; margin-top: 1em">This
disconnects the existing connection(s) for the modem and
puts it into a low power mode.</p>

<p style="margin-left:11%;"><b>-r, --reset</b></p>

<p style="margin-left:22%;">Resets the modem to the
settings it had when it was power cycled.</p>


<p style="margin-left:11%;"><b>--factory-reset=CODE</b></p>

<p style="margin-left:22%;">Resets the modem to its
original factory default settings.</p>

<p style="margin-left:22%; margin-top: 1em">The <b>CODE</b>
provided is vendor specific. Without the correct vendor
code, it&rsquo;s unlikely this operation will succeed. This
is not a common user action.</p>

<p style="margin-left:11%;"><b>--command=COMMAND</b></p>

<p style="margin-left:22%;">Send an AT <b>COMMAND</b> to
the given modem. For example, <b>COMMAND</b> could be
&rsquo;AT+GMM&rsquo; to probe for phone model information.
This operation is only available when ModemManager is run in
debug mode.</p>


<p style="margin-left:11%;"><b>--create-bearer=[&rsquo;KEY1=VALUE1,KEY2=VALUE2,...&rsquo;]</b></p>

<p style="margin-left:22%;">Create a new packet data bearer
for a given modem. The <b>KEY</b>s and some <b>VALUE</b>s
are listed below:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="25%"></td>
<td width="7%">


<p><b>&rsquo;apn&rsquo;</b></p></td>
<td width="3%"></td>
<td width="56%">


<p>Access Point Name. Required in 3GPP.</p></td>
<td width="9%">
</td></tr>
</table>


<p style="margin-left:25%;"><b>&rsquo;ip-type&rsquo;</b></p>

<p style="margin-left:35%;">Addressing type. Given as a
MMBearerIpFamily value (e.g. &rsquo;ipv4&rsquo;,
&rsquo;ipv6&rsquo;, &rsquo;ipv4v6&rsquo;). Optional in 3GPP
and CDMA.</p>


<p style="margin-left:25%;"><b>&rsquo;allowed-auth&rsquo;</b></p>

<p style="margin-left:35%;">Authentication method to use.
Given as a MMBearerAllowedAuth value (e.g.
&rsquo;none|pap|chap|mschap|mschapv2|eap&rsquo;). Optional
in 3GPP.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="25%"></td>
<td width="9%">


<p><b>&rsquo;user&rsquo;</b></p></td>
<td width="1%"></td>
<td width="65%">


<p>User name (if any) required by the network. Optional in
3GPP.</p> </td></tr>
</table>


<p style="margin-left:25%;"><b>&rsquo;password&rsquo;</b></p>

<p style="margin-left:35%;">Password (if any) required by
the network. Optional in 3GPP.</p>


<p style="margin-left:25%;"><b>&rsquo;allow-roaming&rsquo;</b></p>

<p style="margin-left:35%;">Flag to tell whether connection
is allowed during roaming, given as a boolean value (i.e
&rsquo;yes&rsquo; or &rsquo;no&rsquo;). Optional in
3GPP.</p>


<p style="margin-left:25%;"><b>&rsquo;rm-protocol&rsquo;</b></p>

<p style="margin-left:35%;">Protocol of the Rm interface,
given as a MMModemCdmaRmProtocol value (e.g.
&rsquo;async&rsquo;, &rsquo;packet-relay&rsquo;,
&rsquo;packet-network-ppp&rsquo;,
&rsquo;packet-network-slip&rsquo;, &rsquo;stu-iii&rsquo;).
Optional in CDMA.</p>


<p style="margin-left:25%;"><b>&rsquo;number&rsquo;</b></p>

<p style="margin-left:35%;">Telephone number to dial.
Required in POTS.</p>


<p style="margin-left:11%;"><b>--delete-bearer=[PATH|INDEX]</b></p>

<p style="margin-left:22%;">Delete bearer from a given
modem.</p>


<p style="margin-left:11%;"><b>--set-allowed-modes=[MODE1|MODE2|...]</b></p>

<p style="margin-left:22%;">Set allowed modes for a given
modem. For possible modes, see the beginning of this
section.</p>


<p style="margin-left:11%;"><b>--set-preferred-mode=MODE</b></p>

<p style="margin-left:22%;">Set the preferred <b>MODE</b>
for the given modem. The <b>MODE</b> <i>MUST</i> be one of
the allowed modes as set with the <b>--set-allowed-modes</b>
option. Possible <b>MODE</b> arguments are detailed at the
beginning of this section.</p>


<p style="margin-left:11%;"><b>--set-current-bands=[BAND1|BAND2|...]</b></p>

<p style="margin-left:22%;">Set bands to be used for a
given modem. These are frequency ranges the modem should
use. There are quite a number of supported bands and listing
them all here would be quite extensive. For details, see the
MMModemBand documentation.</p>

<p style="margin-left:22%; margin-top: 1em">An example
would be: &rsquo;egsm|dcs|pcs|g850&rsquo; to select all the
GSM frequency bands.</p>


<p style="margin-left:11%;"><b>--set-primary-sim-slot=[SLOT]</b></p>

<p style="margin-left:22%;">Request to switch the primary
SIM slot.</p>

<p style="margin-left:22%; margin-top: 1em">The given
<b>SLOT</b> must be a valid slot number in the [1,N] range,
where N is the amount of SIM slots available in the
system.</p>

<p style="margin-left:11%;"><b>--inhibit</b></p>

<p style="margin-left:22%;">Inhibit the specific modem from
being used by ModemManager. This method is completely
equivalent to <b>--inhibit-device</b>, with the only
difference being that in this case, the modem must be
managed by the daemon at the time the inhibition is
requested.</p>

<p style="margin-left:22%; margin-top: 1em">This command
will not exit right away, as that would implicitly remove
the inhibition. The user must make sure to stop the mmcli
process hitting Ctrl+C in order to un-inhibit the
device.</p>

<p style="margin-left:22%; margin-top: 1em">When a device
is inhibited via this method, ModemManager will disable the
modem (therefore stopping any ongoing connection) and will
no longer use it until it is uninhibited.</p>

<h2>3GPP OPTIONS
<a name="3GPP OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The 3rd
Generation Partnership Project (3GPP) is a collaboration
between groups of telecommunications associations. These
options pertain to devices which support 3GPP.</p>

<p style="margin-left:11%; margin-top: 1em">Included are
options to control USSD (Unstructured Supplementary Service
Data) sessions.</p>

<p style="margin-left:11%; margin-top: 1em">All of the 3GPP
options below make use of the <b>--modem</b> or <b>-m</b>
switch to specify the modem to act on. <b><br>
--3gpp-scan</b></p>

<p style="margin-left:22%;">Scan for available 3GPP
networks.</p>


<p style="margin-left:11%;"><b>--3gpp-register-home</b></p>

<p style="margin-left:22%;">Request a given modem to
register in its home network.</p>

<p style="margin-left:22%; margin-top: 1em">This registers
with the default network(s) specified by the modem,</p>


<p style="margin-left:11%;"><b>--3gpp-register-in-operator=MCCMNC</b></p>

<p style="margin-left:22%;">Request a given modem to
register on the network of the given <b>MCCMNC</b> (Mobile
Country Code, Mobile Network Code) based operator. This code
is used for GSM/LTE, CDMA, iDEN, TETRA and UMTS public land
mobile networks and some satellite mobile networks. The
ITU-T Recommendation E.212 defines mobile country codes.</p>

<p style="margin-left:11%;"><b>--3gpp-ussd-status</b></p>

<p style="margin-left:22%;">Request the status of
<i>ANY</i> ongoing USSD session.</p>


<p style="margin-left:11%;"><b>--3gpp-ussd-initiate=COMMAND</b></p>

<p style="margin-left:22%;">Request the given modem to
initiate a USSD session with <b>COMMAND</b>.</p>

<p style="margin-left:22%; margin-top: 1em">For example,
<b>COMMAND</b> could be &rsquo;*101#&rsquo; to give your
current pre-pay balance.</p>


<p style="margin-left:11%;"><b>--3gpp-ussd-respond=RESPONSE</b></p>

<p style="margin-left:22%;">When initiating an USSD
session, a RESPONSE may be needed by a network-originated
request. This option allows for that.</p>

<p style="margin-left:11%;"><b>--3gpp-ussd-cancel</b></p>

<p style="margin-left:22%;">Cancel an ongoing USSD session
for a given modem.</p>


<p style="margin-left:11%;"><b>--3gpp-disable-facility-lock=FACILITY,CONTROL_KEY</b></p>

<p style="margin-left:22%;">Disable selected facility lock
using provided control key.</p>


<p style="margin-left:25%;"><b>&rsquo;FACILITY&rsquo;</b></p>

<p style="margin-left:35%;">One of the following types of
lock: <b><br>
&rsquo;net-pers&rsquo;</b> - network personalization <b><br>
&rsquo;net-sub-pers&rsquo;</b> - network subset
personalization <b><br>
&rsquo;provider-pers&rsquo;</b> - provider personalization
<b><br>
&rsquo;corp-pers&rsquo;</b> - corporate personalization</p>


<p style="margin-left:25%;"><b>&rsquo;CONTROL_KEY&rsquo;</b></p>

<p style="margin-left:35%;">Alphanumeric code to unlock
facility.</p>

<h2>CDMA OPTIONS
<a name="CDMA OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All CDMA (Code
Division Multiple Access) options require the <b>--modem</b>
or <b>-m</b> option. <b><br>
--cdma-activate=CARRIER</b></p>

<p style="margin-left:22%;">Activate the given modem using
OTA (Over the Air) settings. The <b>CARRIER</b> is a code
provided by the network for the default settings they
provide.</p>

<h2>SIMPLE OPTIONS
<a name="SIMPLE OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All simple
options must be used with <b>--modem</b> or <b>-m</b>.
<b><br>

--simple-connect=[&rsquo;KEY1=VALUE1,KEY2=VALUE2,...&rsquo;]</b></p>

<p style="margin-left:22%;">Run a full connection sequence
using <b>KEY</b> / <b>VALUE</b> pairs. You can use the
<b>--create-bearer</b> options, plus any of the following
ones:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="25%"></td>
<td width="7%">


<p><b>&rsquo;pin&rsquo;</b></p></td>
<td width="3%"></td>
<td width="31%">


<p>SIM-PIN unlock code.</p></td>
<td width="34%">
</td></tr>
</table>


<p style="margin-left:25%;"><b>&rsquo;operator-id&rsquo;</b></p>

<p style="margin-left:35%;">ETSI MCC-MNC of a network to
force registration.</p>

<p style="margin-left:11%;"><b>--simple-disconnect</b></p>

<p style="margin-left:22%;">Disconnect <i>ALL</i> connected
bearers for a given modem.</p>

<h2>LOCATION OPTIONS
<a name="LOCATION OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">These options
detail how to discover your location using Global
Positioning System (GPS) or directly from your mobile
network infrastructure (either 3GPP or 3GPP2).</p>

<p style="margin-left:11%; margin-top: 1em">All location
options must be used with <b>--modem</b> or <b>-m</b>.
<b><br>
--location-status</b></p>

<p style="margin-left:22%;">Show the current status for
discovering our location.</p>

<p style="margin-left:11%;"><b>--location-get</b></p>

<p style="margin-left:22%;">Show all location information
available.</p>


<p style="margin-left:11%;"><b>--location-enable-3gpp</b></p>

<p style="margin-left:22%;">Enable location discovery using
the 3GPP network.</p>


<p style="margin-left:11%;"><b>--location-disable-3gpp</b></p>

<p style="margin-left:22%;">Disable location discovery
using the 3GPP network.</p>


<p style="margin-left:11%;"><b>--location-enable-agps-msa</b></p>

<p style="margin-left:22%;">Enable A-GPS (MSA) support.
This command does not implicitly start the GPS engine, it
just specifies that A-GPS should be enabled when the engine
is started. Therefore, the user should request enabling
A-GPS before the raw or NMEA outputs are enabled with
<b>--location-enable-gps-raw</b> or
<b>--location-enable-gps-nmea</b>.</p>


<p style="margin-left:11%;"><b>--location-disable-agps-msa</b></p>

<p style="margin-left:22%;">Disable A-GPS (MSA)
support.</p>


<p style="margin-left:11%;"><b>--location-enable-agps-msb</b></p>

<p style="margin-left:22%;">Enable A-GPS (MSB) support.
This command does not implicitly start the GPS engine, it
just specifies that A-GPS should be enabled when the engine
is started. Therefore, the user should request enabling
A-GPS before the raw or NMEA outputs are enabled with
<b>--location-enable-gps-raw</b> or
<b>--location-enable-gps-nmea</b>.</p>


<p style="margin-left:11%;"><b>--location-disable-agps-msb</b></p>

<p style="margin-left:22%;">Disable A-GPS (MSB)
support.</p>


<p style="margin-left:11%;"><b>--location-enable-gps-nmea</b></p>

<p style="margin-left:22%;">Enable location discovery using
GPS and reported with NMEA traces.</p>

<p style="margin-left:22%; margin-top: 1em">This command
will start the GPS engine, if it isn&rsquo;t started
already.</p>


<p style="margin-left:11%;"><b>--location-disable-gps-nmea</b></p>

<p style="margin-left:22%;">Disable location discovery
using GPS and NMEA traces.</p>

<p style="margin-left:22%; margin-top: 1em">If the raw
output is not enabled at the same time, the GPS engine will
be stopped.</p>


<p style="margin-left:11%;"><b>--location-enable-gps-raw</b></p>

<p style="margin-left:22%;">Enable location discovery using
GPS and reported with raw (i.e. longitude/latitude)
values.</p>

<p style="margin-left:22%; margin-top: 1em">This command
will start the GPS engine, if it isn&rsquo;t started
already.</p>


<p style="margin-left:11%;"><b>--location-disable-gps-raw</b></p>

<p style="margin-left:22%;">Disable location discovery
using GPS and raw values.</p>

<p style="margin-left:22%; margin-top: 1em">If the NMEA
output is not enabled at the same time, the GPS engine will
be stopped.</p>


<p style="margin-left:11%;"><b>--location-enable-cdma-bs</b></p>

<p style="margin-left:22%;">Enable location discovery using
the 3GPP2 network.</p>


<p style="margin-left:11%;"><b>--location-disable-cdma-bs</b></p>

<p style="margin-left:22%;">Disable location discovery
using the 3GPP2 network.</p>


<p style="margin-left:11%;"><b>--location-enable-gps-unmanaged</b></p>

<p style="margin-left:22%;">Enable location discovery using
GPS but without taking control of the NMEA tty port. This
allows other programs, e.g. gpsd, to use the NMEA tty once
the GPS engine has been enabled.</p>


<p style="margin-left:11%;"><b>--location-disable-gps-unmanaged</b></p>

<p style="margin-left:22%;">Disable location discovery
using GPS and unmanaged port.</p>


<p style="margin-left:11%;"><b>--location-set-gps-refresh-rate=SEC</b></p>

<p style="margin-left:22%;">Set the location refresh rate
on the DBus interface to SEC seconds. If set to 0, the new
location is published on the DBus interface as soon as
ModemManager detects it.</p>


<p style="margin-left:11%;"><b>--location-set-supl-server=[IP:PORT]
or <br>
--location-set-supl-server=[FQDN:PORT]</b></p>

<p style="margin-left:22%;">Configure the location of the
A-GPS SUPL server, either specifying the IP address
(<b>IP:PORT</b>) or specifyng a fully qualified domain name
(<b>[FQDN:PORT]</b>).</p>


<p style="margin-left:11%;"><b>--location-inject-assistance-data=[PATH]</b></p>

<p style="margin-left:22%;">Inject assistance data into the
GNSS module, loaded from a local file at <b>PATH</b>. The
assistance data should be in a format expected by the
device, e.g. downloaded from the URLs exposed by the
&rsquo;AssistanceDataServers&rsquo; property.</p>


<p style="margin-left:11%;"><b>--location-set-enable-signal</b></p>

<p style="margin-left:22%;">Enable reporting location
updates via DBus property signals. This is required if
applications rely on listening to &rsquo;Location&rsquo;
property updates, instead of explicit queries with the
policy-protected &rsquo;GetLocation&rsquo; method.</p>

<p style="margin-left:22%; margin-top: 1em">This DBus
property signal updates are by default disabled.</p>


<p style="margin-left:11%;"><b>--location-set-disable-signal</b></p>

<p style="margin-left:22%;">Disable reporting location
updates via DBus property signals.</p>

<h2>MESSAGING OPTIONS
<a name="MESSAGING OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All messaging
options must be used with <b>--modem</b> or <b>-m</b>.
<b><br>
--messaging-status</b></p>

<p style="margin-left:22%;">Show the status of the
messaging support.</p>


<p style="margin-left:11%;"><b>--messaging-list-sms</b></p>

<p style="margin-left:22%;">List SMS messages available on
a given modem.</p>


<p style="margin-left:11%;"><b>--messaging-create-sms=[&rsquo;KEY1=VALUE1,...&rsquo;]</b></p>

<p style="margin-left:22%;">Create a new SMS on a given
modem. <b>KEY</b>s can be any of the following:</p>


<p style="margin-left:25%;"><b>&rsquo;number&rsquo;</b></p>

<p style="margin-left:35%;">Number to which the message is
addressed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="25%"></td>
<td width="9%">


<p><b>&rsquo;text&rsquo;</b></p></td>
<td width="1%"></td>
<td width="65%">


<p>Message text, in UTF-8. When sending, if the text is
larger than the limit of the technology or modem, the
message will be broken into multiple parts or messages. Note
that text and data are never given at the same time.</p></td></tr>
<tr valign="top" align="left">
<td width="25%"></td>
<td width="9%">


<p><b>&rsquo;smsc&rsquo;</b></p></td>
<td width="1%"></td>
<td width="65%">


<p>Indicates the SMS service center number.</p></td></tr>
</table>


<p style="margin-left:25%;"><b>&rsquo;validity&rsquo;</b></p>

<p style="margin-left:35%;">Specifies when the SMS expires
in the SMSC.</p>

<p style="margin-left:25%;"><b>&rsquo;class&rsquo;</b></p>

<p style="margin-left:35%;">3GPP message class (0..3).</p>


<p style="margin-left:25%;"><b>&rsquo;delivery-report-request&rsquo;</b></p>

<p style="margin-left:35%;">Specifies whether delivery
report is requested when sending the SMS (&rsquo;yes&rsquo;
or &rsquo;no&rsquo;)</p>


<p style="margin-left:25%;"><b>&rsquo;storage&rsquo;</b></p>

<p style="margin-left:35%;">Specifies the storage where
this message is kept. Storages may be &rsquo;sm&rsquo;,
&rsquo;me&rsquo;, &rsquo;mt&rsquo;, &rsquo;sr&rsquo;,
&rsquo;bm&rsquo;, &rsquo;ta&rsquo;.</p>


<p style="margin-left:11%;"><b>--messaging-create-sms-with-data=PATH</b></p>

<p style="margin-left:22%;">Use <b>PATH</b> to a filename
as the data to create a new SMS.</p>


<p style="margin-left:11%;"><b>--messaging-delete-sms=[PATH|INDEX]</b></p>

<p style="margin-left:22%;">Delete an SMS from a given
modem.</p>

<h2>TIME OPTIONS
<a name="TIME OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All time
operations require the <b>--modem</b> or <b>-m</b>
option.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--time</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Display the current network time from the operator. This
includes the timezone which is usually of importance.</p></td></tr>
</table>

<h2>VOICE OPTIONS
<a name="VOICE OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All voice
operations require the <b>--modem</b> or <b>-m</b> option.
<b><br>
--voice-list-calls</b></p>

<p style="margin-left:22%;">List calls managed (initiated,
received, ongoing) on a given modem.</p>


<p style="margin-left:11%;"><b>--voice-create-call=[&rsquo;KEY1=VALUE1,...&rsquo;]</b></p>

<p style="margin-left:22%;">Create a new outgoing call on a
given modem. <b>KEY</b>s can be any of the following:</p>


<p style="margin-left:25%;"><b>&rsquo;number&rsquo;</b></p>

<p style="margin-left:35%;">Number to call.</p>


<p style="margin-left:11%;"><b>--voice-delete-call=[PATH|INDEX]</b></p>

<p style="margin-left:22%;">Delete a call from a given
modem.</p>

<h2>FIRMWARE OPTIONS
<a name="FIRMWARE OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All firmware
options require the <b>--modem</b> or <b>-m</b> option.
<b><br>
--firmware-status</b></p>

<p style="margin-left:22%;">Show firmware update specific
details and properties.</p>

<p style="margin-left:11%;"><b>--firmware-list</b></p>

<p style="margin-left:22%;">List all the firmware images
installed on a given modem.</p>


<p style="margin-left:11%;"><b>--firmware-select=ID</b></p>

<p style="margin-left:22%;">Select a firmware image from
those installed on a given modem. A list of available
firmware images can be seen using the <b>--firmware-list</b>
option.</p>

<p style="margin-left:22%; margin-top: 1em">The <b>ID</b>
provided is a <i>UNIQUE</i> identifier for the firmware.</p>

<h2>SIGNAL OPTIONS
<a name="SIGNAL OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All signal
options require the <b>--modem</b> or <b>-m</b> option.
<b><br>
--signal-setup=[Rate]</b></p>

<p style="margin-left:22%;">Setup extended signal quality
information retrieval at the specified rate (in
seconds).</p>

<p style="margin-left:22%; margin-top: 1em">By default this
is disabled (rate set to 0).</p>

<p style="margin-left:11%;"><b>--signal-get</b></p>

<p style="margin-left:22%;">Retrieve the last extended
signal quality information loaded.</p>

<h2>OMA OPTIONS
<a name="OMA OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All OMA options
require the <b>--modem</b> or <b>-m</b> option. <b><br>
--oma-status</b></p>

<p style="margin-left:22%;">Show the status of the OMA
device management subsystem.</p>


<p style="margin-left:11%;"><b>--oma-start-client-initiated-session=[SESSION
TYPE]</b></p>

<p style="margin-left:22%;">Request to start a client
initiated session.</p>

<p style="margin-left:22%; margin-top: 1em">The given
session type must be one of: <br>
&rsquo;client-initiated-device-configure&rsquo; <br>
&rsquo;client-initiated-prl-update&rsquo; <br>
&rsquo;client-initiated-hands-free-activation&rsquo;</p>


<p style="margin-left:11%;"><b>--oma-accept-network-initiated-session=[SESSION
ID]</b></p>

<p style="margin-left:22%;">Request to accept a network
initiated session.</p>


<p style="margin-left:11%;"><b>--oma-reject-network-initiated-session=[SESSION
ID]</b></p>

<p style="margin-left:22%;">Request to reject a network
initiated session.</p>


<p style="margin-left:11%;"><b>--oma-cancel-session</b></p>

<p style="margin-left:22%;">Request to cancel current OMA
session, if any.</p>

<h2>SIM OPTIONS
<a name="SIM OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>--pin=PIN</b></p>

<p style="margin-left:22%;">Send <b>PIN</b> code to a given
SIM card.</p>

<p style="margin-left:11%;"><b>--puk=PUK</b></p>

<p style="margin-left:22%;">Send <b>PUK</b> code to a given
SIM card. This must be used <i>WITH</i> <b>--pin</b>.</p>

<p style="margin-left:11%;"><b>--enable-pin</b></p>

<p style="margin-left:22%;">Enable PIN request for a given
SIM card. This must be used <i>WITH</i> <b>--pin</b>.</p>

<p style="margin-left:11%;"><b>--disable-pin</b></p>

<p style="margin-left:22%;">Disable PIN request for a given
SIM card. This must be used <i>WITH</i> <b>--pin</b>.</p>

<p style="margin-left:11%;"><b>--change-pin=PIN</b></p>

<p style="margin-left:22%;">Change the PIN for a given SIM
card. It will be set to <b>PIN</b>. This must be used
<i>WITH</i> <b>--pin</b> to supply the old PIN number.</p>

<h2>BEARER OPTIONS
<a name="BEARER OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All bearer
options require the <b>--bearer</b> or <b>-b</b> option.
<b><br>
-c, --connect</b></p>

<p style="margin-left:22%;">Connect to a given bearer.</p>

<p style="margin-left:11%;"><b>-x, --disconnect</b></p>

<p style="margin-left:22%;">Disconnect from a given
bearer.</p>

<h2>SMS OPTIONS
<a name="SMS OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All SMS options
require the <b>--sms</b> or <b>-s</b> option.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--send</b></p></td>
<td width="2%"></td>
<td width="18%">


<p>Send an SMS.</p></td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>--store</b></p>

<p style="margin-left:22%;">This option will store the SMS
in the default storage defined by the modem, which may be
either modem-memory or SMS-memory. To know what the existing
default storage is, see the <b>--messaging-status</b>
option.</p>


<p style="margin-left:11%;"><b>--store-in-storage=STORAGE</b></p>

<p style="margin-left:22%;">This option states which
<b>STORAGE</b> to use for SMS messages. Possible values for
<b>STORAGE</b> include:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="25%"></td>
<td width="6%">


<p><b>&rsquo;sm&rsquo;</b></p></td>
<td width="4%"></td>
<td width="62%">


<p>SIM card storage area.</p></td>
<td width="3%">
</td></tr>
<tr valign="top" align="left">
<td width="25%"></td>
<td width="6%">


<p><b>&rsquo;me&rsquo;</b></p></td>
<td width="4%"></td>
<td width="62%">


<p>Mobile equipment storage area.</p></td>
<td width="3%">
</td></tr>
<tr valign="top" align="left">
<td width="25%"></td>
<td width="6%">


<p><b>&rsquo;mt&rsquo;</b></p></td>
<td width="4%"></td>
<td width="62%">


<p>Sum of SIM and Mobile equipment storages</p></td>
<td width="3%">
</td></tr>
<tr valign="top" align="left">
<td width="25%"></td>
<td width="6%">


<p><b>&rsquo;sr&rsquo;</b></p></td>
<td width="4%"></td>
<td width="62%">


<p>Status report message storage area.</p></td>
<td width="3%">
</td></tr>
<tr valign="top" align="left">
<td width="25%"></td>
<td width="6%">


<p><b>&rsquo;bm&rsquo;</b></p></td>
<td width="4%"></td>
<td width="62%">


<p>Broadcast message storage area.</p></td>
<td width="3%">
</td></tr>
<tr valign="top" align="left">
<td width="25%"></td>
<td width="6%">


<p><b>&rsquo;ta&rsquo;</b></p></td>
<td width="4%"></td>
<td width="62%">


<p>Terminal adaptor message storage area.</p></td>
<td width="3%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>--create-file-with-data=PATH</b></p>

<p style="margin-left:22%;">This option takes an SMS that
has <i>DATA</i> (not <i>TEXT</i>) and will create a local
file described by <b>PATH</b> and store the content of the
SMS there.</p>

<h2>CALL OPTIONS
<a name="CALL OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>--start</b></p>

<p style="margin-left:22%;">Initiate an outgoing call.</p>

<p style="margin-left:11%;"><b>--accept</b></p>

<p style="margin-left:22%;">Accept an incoming call.</p>

<p style="margin-left:11%;"><b>--hangup</b></p>

<p style="margin-left:22%;">Reject an incoming call or
hangup an ongoing one.</p>


<p style="margin-left:11%;"><b>--send-dtmf=[0-9A-D*#]</b></p>

<p style="margin-left:22%;">Send a DTMF sequence through an
ongoing call.</p>

<h2>APPLICATION OPTIONS
<a name="APPLICATION OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>-J,
--output-json</b></p>

<p style="margin-left:22%;">Run action with
machine-friendly JSON output, to be used e.g. by shell
scripts that rely on mmcli operations.</p>

<p style="margin-left:11%;"><b>-K,
--output-keyvalue</b></p>

<p style="margin-left:22%;">Run action with
machine-friendly key-value output, to be used e.g. by shell
scripts that rely on mmcli operations.</p>

<p style="margin-left:11%;"><b>-v, --verbose</b></p>

<p style="margin-left:22%;">Perform actions with more
details reported and/or logged.</p>

<p style="margin-left:11%;"><b>-V, --version</b></p>

<p style="margin-left:22%;">Returns the version of this
program.</p>

<p style="margin-left:11%;"><b>-a, --async</b></p>

<p style="margin-left:22%;">Use asynchronous methods. This
is purely a development tool and has no practical benefit to
most user operations.</p>

<p style="margin-left:11%;"><b>--timeout=SECONDS</b></p>

<p style="margin-left:22%;">Use <b>SECONDS</b> for the
timeout when performing operations with this command. This
option is useful when executing long running operations,
like <b>--3gpp-scan</b>.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Send the PIN
to the SIM card</b> <br>
You&rsquo;ll need first to know which the proper path/index
is for the SIM in your modem: <br>
$ mmcli -m 0 -K | grep &quot;modem.generic.sim&quot; | awk
-F &quot;: &quot; &rsquo;{ print $2 }&rsquo; <br>
/org/freedesktop/ModemManager1/SIM/0</p>

<p style="margin-left:11%; margin-top: 1em">And after that,
you can just use the SIM index: <br>
$ sudo mmcli -i 0 --pin=1234 <br>
successfully sent PIN code to the SIM</p>

<p style="margin-left:11%; margin-top: 1em"><b>Simple
connect and disconnect</b> <br>
You can launch the simple connection process like: <br>
$ sudo mmcli -m 0
--simple-connect=&quot;pin=1234,apn=internet&quot; <br>
successfully connected the modem</p>

<p style="margin-left:11%; margin-top: 1em">Then, you can
disconnect it like: <br>
$ sudo mmcli -m 0 --simple-disconnect <br>
successfully disconnected all bearers in the modem</p>

<p style="margin-left:11%; margin-top: 1em"><b>3GPP network
scan</b> <br>
Scanning for 3GPP networks may really take a long time, so a
specific timeout must be given: <br>
$ sudo mmcli -m 0 --3gpp-scan --timeout=300 <br>
--------------------- <br>
3GPP scan | networks: 21403 - Orange SP (gprs, unknown) <br>
| 21407 - Movistar (gprs, unknown) <br>
| 21404 - YOIGO (gprs, unknown) <br>
| 21401 - vodafone ES (gprs, unknown)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Creating a
new SMS message &amp; storing it</b> <br>
Using the &acirc;sm&acirc; (SIM), you can do this using:</p>

<p style="margin-left:11%; margin-top: 1em">$ sudo mmcli -m
0 --messaging-create-sms=&quot;text=&rsquo;Hello
world&rsquo;,number=&rsquo;+1234567890&rsquo;&quot; <br>
Successfully created new SMS: <br>
/org/freedesktop/ModemManager1/SMS/21 (unknown)</p>

<p style="margin-left:11%; margin-top: 1em">$ sudo mmcli -s
21 --store-in-storage=&quot;sm&quot; <br>
successfully stored the SMS</p>

<p style="margin-left:11%; margin-top: 1em">$ sudo mmcli -s
21 <br>
------------------------------- <br>
General | dbus path: /org/freedesktop/ModemManager1/SMS/21
<br>
------------------------------- <br>
Content | number: +1234567890 <br>
| text: Hello world <br>
------------------------------- <br>
Properties | PDU type: submit <br>
| state: stored <br>
| smsc: unknown <br>
| validity: 0 <br>
| class: 0 <br>
| storage: sm <br>
| delivery report: not requested <br>
| message reference: 0</p>

<p style="margin-left:11%; margin-top: 1em">$ sudo mmcli -m
0 --messaging-status <br>
---------------------------- <br>
Messaging | supported storages: sm, me <br>
| default storage: me</p>

<p style="margin-left:11%; margin-top: 1em"><b>Sending
binary SMS messages from files</b> <br>
As you can see below, the important part is the
<b>--messaging-create-sms-with-data</b> and the <b>PATH</b>
provided.</p>

<p style="margin-left:11%; margin-top: 1em">$ sudo mmcli -m
0 \ <br>

--messaging-create-sms=&quot;number=&rsquo;+1234567890&rsquo;&quot;
\ <br>
--messaging-create-sms-with-data=/path/to/your/file <br>
Successfully created new SMS: <br>
/org/freedesktop/ModemManager1/SMS/22 (unknown)</p>

<p style="margin-left:11%; margin-top: 1em">$ sudo mmcli -s
22 --send <br>
successfully sent the SMS</p>

<p style="margin-left:11%; margin-top: 1em"><b>Listing SMS
messages</b> <br>
When the receiver gets all the parts of the message, they
can now recover the sent file with another <b>mmcli</b>
command in their ModemManager setup:</p>

<p style="margin-left:11%; margin-top: 1em">$&gt; sudo
mmcli -m 0 --messaging-list-sms <br>
/org/freedesktop/ModemManager1/SMS/0 (received)</p>

<p style="margin-left:11%; margin-top: 1em">$&gt; sudo
mmcli -s 0
--create-file-with-data=/path/to/the/output/file</p>

<p style="margin-left:11%; margin-top: 1em"><b>GPS location
status</b> <br>
You first need to check whether the modem has GPS-specific
location capabilities. Note that we&acirc;ll assume the
modem is exposed as index 0; if you have more than one
modem, just use --list-modems to check the proper modem
index:</p>

<p style="margin-left:11%; margin-top: 1em">$ mmcli -m 0
--location-status <br>
---------------------------- <br>
Location | capabilities: 3gpp-lac-ci, gps-raw, gps-nmea <br>
| enabled: none <br>
| signals: no</p>

<p style="margin-left:11%; margin-top: 1em">The output says
that the modem supports 3GPP Location area code/Cell ID, GPS
raw and GPS-NMEA location sources. None is enabled yet, as
we didn&acirc;t enable the modem, which we can do
issuing:</p>

<p style="margin-left:11%; margin-top: 1em">$ sudo mmcli -m
0 --enable <br>
successfully enabled the modem</p>

<p style="margin-left:11%; margin-top: 1em">$ mmcli -m 0
--location-status <br>
---------------------------- <br>
Location | capabilities: 3gpp-lac-ci, gps-raw, gps-nmea <br>
| enabled: 3gpp-lac-ci <br>
| signals: no</p>

<p style="margin-left:11%; margin-top: 1em"><b>GPS location
technology enabling</b> <br>
We can start the GPS engine by enabling the RAW or NMEA GPS
location sources:</p>

<p style="margin-left:11%; margin-top: 1em">$ sudo mmcli -m
0 \ <br>
--location-enable-gps-raw \ <br>
--location-enable-gps-nmea <br>
successfully setup location gathering</p>

<p style="margin-left:11%; margin-top: 1em">If we do check
again the status, we&acirc;ll see the GPS-specific locations
are enabled:</p>

<p style="margin-left:11%; margin-top: 1em">$ mmcli -m 0
--location-status <br>
-------------------------------- <br>
Location | capabilities: 3gpp-lac-ci, gps-raw, gps-nmea <br>
| enabled: 3gpp-lac-ci, gps-raw, gps-nmea <br>
| signals: no</p>

<p style="margin-left:11%; margin-top: 1em"><b>GPS location
retrieval</b> <br>
You can query all location information at the same time with
a single command. If any of the specific outputs is not
available, the corresponding section will be omitted from
the output.</p>

<p style="margin-left:11%; margin-top: 1em">$ sudo mmcli -m
0 --location-get <br>
------------------------- <br>
3GPP location | Mobile country code: 214 <br>
| Mobile network code: 3 <br>
| Location area code: 21071 <br>
| Cell ID: 7033737 <br>
------------------------- <br>
GPS NMEA traces | $GPGGA,,,,,,0,,,,,,,,*66 <br>
| $GPRMC,,V,,,,,,,,,,N*53 <br>
| $GPGSA,A,1,,,,,,,,,,,,,,,*1E <br>
| $GPGSV,4,1,16,24,,,,29,,,,05,,,,18,,,*7A <br>
| $GPGSV,4,2,16,22,,,,14,,,,11,,,,17,,,*7B <br>
| $GPGSV,4,3,16,03,,,,12,,,,30,,,,13,,,*78 <br>
| $GPGSV,4,4,16,23,,,,15,,,,27,,,,07,,,*79 <br>
| $GPVTG,,T,,M,,N,,K,N*2C</p>

<p style="margin-left:11%; margin-top: 1em"><b>A-GPS
support</b> <br>
If A-GPS is enabled before starting the GPS engine, and if a
data connection is available in the modem, the configured
SUPL servers may be used to obtain a faster initial position
fix.</p>

<p style="margin-left:11%; margin-top: 1em">Note that the
GPS engine will not be started when just A-GPS capability is
enabled. An explicit output (RAW or NMEA) is required to be
enabled in order to start the GPS engine.</p>

<p style="margin-left:11%; margin-top: 1em">$ mmcli -m 0
--location-status <br>
-------------------------------- <br>
Location | capabilities: 3gpp-lac-ci, gps-raw, gps-nmea,
agps-msa, agps-msb <br>
| enabled: 3gpp-lac-ci <br>
| signals: no <br>
----------------------------- <br>
GPS | refresh rate: 30 seconds <br>
| a-gps supl server: supl.google.com:7276</p>

<p style="margin-left:11%; margin-top: 1em">$ sudo mmcli -m
0 --location-enable-agps-msa <br>
successfully setup location gathering</p>

<p style="margin-left:11%; margin-top: 1em">$ sudo mmcli -m
0 --location-enable-gps-nmea <br>
successfully setup location gathering</p>

<p style="margin-left:11%; margin-top: 1em">$ sudo mmcli -m
0 --location-enable-gps-raw <br>
successfully setup location gathering</p>

<p style="margin-left:11%; margin-top: 1em"><b>Injecting
assistance data</b> <br>
If the modem device does not have an ongoing connection
(e.g. no mobile network coverage) but the system has other
means to access the Internet (e.g. WiFi), the user may be
able to download location assistance data and inject it in
the module.</p>

<p style="margin-left:11%; margin-top: 1em">E.g. If the
device supports XTRA assistance data, the user may download
it from one of the servers listed by ModemManager and
manually inject it afterwards. The XTRA assistance data is
usually valid for several days.</p>

<p style="margin-left:11%; margin-top: 1em">$ mmcli -m 0
--location-status <br>
-------------------------------- <br>
Location | capabilities: 3gpp-lac-ci, gps-raw, gps-nmea,
agps-msa, agps-msb <br>
| enabled: 3gpp-lac-ci <br>
| signals: no <br>
-------------------------------- <br>
GPS | refresh rate: 30 seconds <br>
| a-gps supl server: supl.google.com:7276 <br>
| supported assistance: xtra <br>
| assistance servers:
https://xtrapath3.izatcloud.net/xtra3grcej.bin <br>
| https://xtrapath1.izatcloud.net/xtra3grcej.bin <br>
| https://xtrapath2.izatcloud.net/xtra3grcej.bin</p>

<p style="margin-left:11%; margin-top: 1em">$ wget -q
https://xtrapath3.izatcloud.net/xtra3grcej.bin</p>

<p style="margin-left:11%; margin-top: 1em">$ sudo mmcli -m
0 --location-inject-assistance-data=./xtra3grcej.bin <br>
successfully injected assistance data</p>

<p style="margin-left:11%; margin-top: 1em">$ sudo mmcli -m
0 --location-enable-gps-nmea <br>
successfully setup location gathering</p>

<p style="margin-left:11%; margin-top: 1em">$ sudo mmcli -m
0 --location-enable-gps-raw <br>
successfully setup location gathering</p>

<p style="margin-left:11%; margin-top: 1em"><b>Key-Value
output</b> <br>
Writing shell scripts that use mmcli to perform operations
with the modem is easy when using the
<b>--output-keyvalue</b> option. For example, you could
gather all the main status information of the modem with a
single call and then parse it to read single fields:</p>

<p style="margin-left:11%; margin-top: 1em">$
STATUS=$(mmcli -m 0 --output-keyvalue) <br>
$ echo &quot;${STATUS}&quot; | grep
&quot;modem.generic.state &quot; | awk -F &quot;: &quot;
&rsquo;{ print $2 }&rsquo; <br>
failed <br>
$ echo &quot;${STATUS}&quot; | grep
&quot;modem.generic.state-failed-reason &quot; | awk -F
&quot;: &quot; &rsquo;{ print $2 }&rsquo; <br>
sim-missing</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Written by
Martyn Russell &lt;martyn@lanedo.com&gt; and Aleksander
Morgado &lt;aleksander@aleksander.es&gt;</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ModemManager</b>(8),
<b>NetworkManager</b>(8)</p>

<p style="margin-left:11%; margin-top: 1em">AT
(http://en.wikipedia.org/wiki/AT_commands).</p>

<p style="margin-left:11%; margin-top: 1em">3GPP
(http://en.wikipedia.org/wiki/3GPP).</p>

<p style="margin-left:11%; margin-top: 1em">MCCMNC
(http://en.wikipedia.org/wiki/Mobile_Network_Code).</p>

<p style="margin-left:11%; margin-top: 1em">USSD
(http://en.wikipedia.org/wiki/Unstructured_Supplementary_Service_Data).</p>

<p style="margin-left:11%; margin-top: 1em">CDMA
(http://en.wikipedia.org/wiki/Code_division_multiple_access).</p>

<p style="margin-left:11%; margin-top: 1em">OTA
(http://en.wikipedia.org/wiki/Over-the-air_programming).</p>

<p style="margin-left:11%; margin-top: 1em">GPS
(http://en.wikipedia.org/wiki/Global_Positioning_System)</p>

<p style="margin-left:11%; margin-top: 1em">NMEA
(http://en.wikipedia.org/wiki/NMEA_0183)</p>
<hr>
</body>
</html>
