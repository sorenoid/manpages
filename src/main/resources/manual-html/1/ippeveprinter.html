<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon Nov  7 04:40:47 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ippeveprinter</title>

</head>
<body>

<h1 align="center">ippeveprinter</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#CONFORMING TO">CONFORMING TO</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#COMMAND OUTPUT">COMMAND OUTPUT</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ippeveprinter -
an ipp everywhere printer application for cups</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ippeveprinter</b>
[ <b>--help</b> ] [ <b>--no-web-forms</b> ] [
<b>--pam-service</b> <i>service</i> ] [ <b>--version</b> ] [
<b>-2</b> ] [ <b>-A</b> ] [ <b>-D</b> <i>device-uri</i> ] [
<b>-F</b> <i>output-type/subtype</i> ] [ <b>-K</b>
<i>keypath</i> ] [ <b>-M</b> <i>manufacturer</i> ] [
<b>-P</b> <i>filename.ppd</i> ] [ <b>-V</b>
<i>ipp-version</i> ] [ <b>-a</b> <i>filename.conf</i> ] [
<b>-c</b> <i>command</i> ] [ <b>-d</b>
<i>spool-directory</i> ] [ <b>-f</b>
<i>type/subtype[,...]</i> ] [ <b>-i</b> <i>iconfile.png</i>
] [ <b>-k</b> ] [ <b>-l</b> <i>location</i> ] [ <b>-m</b>
<i>model</i> ] [ <b>-n</b> <i>hostname</i> ] [ <b>-p</b>
<i>port</i> ] [ <b>-r</b> <i>subtype[,subtype]</i> ] [
<b>-s</b> <i>speed[,color-speed]</i> ] [ <b>-v[vvv]</b> ]
<i>service-name</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i><b>ippeveprinter</b></i>
is a simple Internet Printing Protocol (IPP) server
conforming to the IPP Everywhere (PWG 5100.14)
specification. It can be used to test client software or act
as a very basic print server that runs a command for every
job that is printed.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
options are recognized by <b>ippeveprinter: <br>
--help</b></p>

<p style="margin-left:18%;">Show program usage.</p>

<p style="margin-left:11%;"><b>--no-web-forms</b></p>

<p style="margin-left:18%;">Disable the web interface forms
used to update the media and supply levels.</p>

<p style="margin-left:11%;"><b>--pam-service</b>
<i>service</i></p>

<p style="margin-left:18%;">Set the PAM service name. The
default service is &quot;cups&quot;.</p>

<p style="margin-left:11%;"><b>--version</b></p>

<p style="margin-left:18%;">Show the CUPS version.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-2</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Report support for two-sided (duplex) printing.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-A</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Enable authentication for the created printer.
<b>ippeveprinter</b> uses PAM to authenticate HTTP Basic
credentials.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>-D</b> <i>device-uri</i></p>

<p style="margin-left:18%;">Set the device URI for print
output. The URI can be a filename, directory, or a network
socket URI of the form &quot;socket://ADDRESS[:PORT]&quot;
(where the default port number is 9100). When specifying a
directory, <b>ippeveprinter</b> will create an output file
using the job ID and name.</p>

<p style="margin-left:11%;"><b>-F</b>
<i>output-type/subtype[,...]</i></p>

<p style="margin-left:18%;">Specifies the output MIME media
type. The default is &quot;application/postscript&quot; when
the <b>-P</b> option is specified.</p>

<p style="margin-left:11%;"><b>-M</b>
<i>manufacturer</i></p>

<p style="margin-left:18%;">Set the manufacturer of the
printer. The default is &quot;Example&quot;.</p>

<p style="margin-left:11%;"><b>-P</b>
<i>filename.ppd</i></p>

<p style="margin-left:18%;">Load printer attributes from
the specified PPD file. This option is typically used in
conjunction with the <b>ippeveps</b>(7) printer command
(&quot;-c ippeveps&quot;).</p>

<p style="margin-left:11%;"><b>-V 1.1 <br>
-V 2.0</b></p>

<p style="margin-left:18%;">Specifies the maximum IPP
version to report. 2.0 is the default.</p>

<p style="margin-left:11%;"><b>-c</b> <i>command</i></p>

<p style="margin-left:18%;">Run the specified command for
each document that is printed. If &quot;command&quot; is not
an absolute path (&quot;/path/to/command&quot;),
<b>ippeveprinter</b> looks for the command in the
&quot;command&quot; subdirectory of the CUPS binary
directory, typically /usr/lib/cups/command or
/usr/libexec/cups/command. The <b>cups-config</b>(1) command
can be used to discover the correct binary directory
(&quot;cups-config --serverbin&quot;). In addition, the
CUPS_SERVERBIN environment variable can be used to override
the default location of this directory - see the
<b>cups</b>(1) man page for more details.</p>

<p style="margin-left:11%;"><b>-d</b>
<i>spool-directory</i></p>

<p style="margin-left:18%;">Specifies the directory that
will hold the print files. The default is a directory under
the user&rsquo;s current temporary directory.</p>

<p style="margin-left:11%;"><b>-f</b>
<i>type/subtype[,...]</i></p>

<p style="margin-left:18%;">Specifies a list of MIME media
types that the server will accept. The default depends on
the type of printer created.</p>

<p style="margin-left:11%;"><b>-i</b>
<i>iconfile.png</i></p>

<p style="margin-left:18%;">Specifies the printer icon file
for the server. The file must be a PNG format image. The
default is an internally-provided PNG image.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-k</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Keeps the print documents in the spool directory rather
than deleting them.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-l</b> <i>location</i></p>

<p style="margin-left:18%;">Specifies the human-readable
location string that is reported by the server. The default
is the empty string.</p>

<p style="margin-left:11%;"><b>-m</b> <i>model</i></p>

<p style="margin-left:18%;">Specifies the model name of the
printer. The default is &quot;Printer&quot;.</p>

<p style="margin-left:11%;"><b>-n</b> <i>hostname</i></p>

<p style="margin-left:18%;">Specifies the hostname that is
reported by the server. The default is the name returned by
the <b>hostname</b>(1) command.</p>

<p style="margin-left:11%;"><b>-p</b> <i>port</i></p>

<p style="margin-left:18%;">Specifies the port number to
listen on. The default is a user-specific number from 8000
to 8999.</p>

<p style="margin-left:11%;"><b>-r off</b></p>

<p style="margin-left:18%;">Turns off DNS-SD service
advertisements entirely.</p>

<p style="margin-left:11%;"><b>-r</b>
<i>subtype[,subtype]</i></p>

<p style="margin-left:18%;">Specifies the DNS-SD subtype(s)
to advertise. Separate multiple subtypes with a comma. The
default is &quot;_print&quot;.</p>

<p style="margin-left:11%;"><b>-s</b>
<i>speed[,color-speed]</i></p>

<p style="margin-left:18%;">Specifies the printer speed in
pages per minute. If two numbers are specified and the
second number is greater than zero, the server will report
support for color printing. The default is
&quot;10,0&quot;.</p>

<p style="margin-left:11%;"><b>-v[vvv]</b></p>

<p style="margin-left:18%;">Be (very) verbose when logging
activity to standard error.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>ippeveprinter</b> program returns 1 if it is unable to
process the command-line arguments or register the IPP
service. Otherwise <b>ippeveprinter</b> will run
continuously until terminated.</p>

<h2>CONFORMING TO
<a name="CONFORMING TO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>ippeveprinter</b> program is unique to CUPS and conforms
to the IPP Everywhere (PWG 5100.14) specification.</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ippeveprinter</b>
adds environment variables starting with &quot;IPP_&quot;
for all IPP Job attributes in the print request. For
example, when executing a command for an IPP Job containing
the &quot;media&quot; Job Template attribute, the
&quot;IPP_MEDIA&quot; environment variable will be set to
the value of that attribute.</p>

<p style="margin-left:11%; margin-top: 1em">In addition,
all IPP &quot;xxx-default&quot; and &quot;pwg-xxx&quot;
Printer Description attributes are added to the environment.
For example, the &quot;IPP_MEDIA_DEFAULT&quot; environment
variable will be set to the default value for the
&quot;media&quot; Job Template attribute.</p>

<p style="margin-left:11%; margin-top: 1em">Enumerated
values are converted to their keyword equivalents. For
example, a &quot;print-quality&quot; Job Template attribute
with a enum value of 3 will become the
&quot;IPP_PRINT_QUALITY&quot; environment variable with a
value of &quot;draft&quot;. This string conversion only
happens for standard Job Template attributes, currently
&quot;finishings&quot;, &quot;orientation-requested&quot;,
and &quot;print-quality&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Finally, the
&quot;CONTENT_TYPE&quot; environment variable contains the
MIME media type of the document being printed, the
&quot;DEVICE_URI&quot; environment variable contains the
device URI as specified with the &quot;-D&quot; option, the
&quot;OUTPUT_FORMAT&quot; environment variable contains the
output MIME media type, and the &quot;PPD&quot; environment
variable contains the PPD filename as specified with the
&quot;-P&quot; option.</p>

<h2>COMMAND OUTPUT
<a name="COMMAND OUTPUT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Unless they
communicate directly with a printer, print commands send
printer-ready data to the standard output.</p>

<p style="margin-left:11%; margin-top: 1em">Print commands
can send messages back to <b>ippeveprinter</b> on the
standard error with one of the following prefixes: <b><br>
ATTR:</b> <i>attribute=value[ attribute=value]</i></p>

<p style="margin-left:18%;">Sets the named attribute(s) to
the given values. Currently only the
&quot;job-impressions&quot; and
&quot;job-impressions-completed&quot; Job Status attributes
and the &quot;marker-xxx&quot;, &quot;printer-alert&quot;,
&quot;printer-alert-description&quot;,
&quot;printer-supply&quot;, and
&quot;printer-supply-description&quot; Printer Status
attributes can be set.</p>

<p style="margin-left:11%;"><b>DEBUG:</b> <i>Debugging
message</i></p>

<p style="margin-left:18%;">Logs a debugging message if at
least two -v&rsquo;s have been specified.</p>

<p style="margin-left:11%;"><b>ERROR:</b> <i>Error
message</i></p>

<p style="margin-left:18%;">Logs an error message and
copies the message to the &quot;job-state-message&quot;
attribute.</p>

<p style="margin-left:11%;"><b>INFO:</b> <i>Informational
message</i></p>

<p style="margin-left:18%;">Logs an informational/progress
message if -v has been specified and copies the message to
the &quot;job-state-message&quot; attribute unless an error
has been reported.</p>

<p style="margin-left:11%;"><b>STATE:</b>
<i>keyword[,keyword,...]</i></p>

<p style="margin-left:18%;">Sets the printer&rsquo;s
&quot;printer-state-reasons&quot; attribute to the listed
keywords.</p>

<p style="margin-left:11%;"><b>STATE:
-</b><i>keyword[,keyword,...]</i></p>

<p style="margin-left:18%;">Removes the listed keywords
from the printer&rsquo;s &quot;printer-state-reasons&quot;
attribute.</p>

<p style="margin-left:11%;"><b>STATE:
+</b><i>keyword[,keyword,...]</i></p>

<p style="margin-left:18%;">Adds the listed keywords to the
printer&rsquo;s &quot;printer-state-reasons&quot;
attribute.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Run
<b>ippeveprinter</b> with a service name of My Cool
Printer:</p>

<p style="margin-left:11%; margin-top: 1em">ippeveprinter
&quot;My Cool Printer&quot;</p>

<p style="margin-left:11%; margin-top: 1em">Run the
<b>file</b>(1) command whenever a job is sent to the
server:</p>

<p style="margin-left:11%; margin-top: 1em">ippeveprinter
-c /usr/bin/file &quot;My Cool Printer&quot;</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ippevepcl</b>(7),
<b>ippeveps</b>(7), PWG Internet Printing Protocol Workgroup
(http://www.pwg.org/ipp)</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2021-2022 by OpenPrinting.</p>
<hr>
</body>
</html>
