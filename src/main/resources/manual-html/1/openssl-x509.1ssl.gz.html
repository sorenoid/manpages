<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon Nov  7 04:39:13 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>OPENSSL-X509</title>

</head>
<body>

<h1 align="center">OPENSSL-X509</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#HISTORY">HISTORY</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">openssl-x509 -
Certificate display and signing command</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>openssl
x509</b> [<b>-help</b>] [<b>-in</b>
<i>filename</i>|<i>uri</i>] [<b>-passin</b> <i>arg</i>]
[<b>-new</b>] [<b>-x509toreq</b>] [<b>-req</b>]
[<b>-copy_extensions</b> <i>arg</i>] [<b>-inform
<small>DER</small></b> | <b><small>PEM</small></b> ]
[<b>-vfyopt</b> <i>nm</i>:<i>v</i>] [<b>-key</b>
<i>filename</i>|<i>uri</i>] [<b>-keyform
<small>DER</small></b> | <b><small>PEM</small></b>
|<b>P12</b>| <b><small>ENGINE</small></b> ] [<b>-signkey</b>
<i>filename</i>|<i>uri</i>] [<b>-out</b> <i>filename</i>]
[<b>-outform <small>DER</small></b> |
<b><small>PEM</small></b> ] [<b>-nocert</b>] [<b>-noout</b>]
[<b>-dateopt</b>] [<b>-text</b>] [<b>-certopt</b>
<i>option</i>] [<b>-fingerprint</b>] [<b>-alias</b>]
[<b>-serial</b>] [<b>-startdate</b>] [<b>-enddate</b>]
[<b>-dates</b>] [<b>-subject</b>] [<b>-issuer</b>]
[<b>-nameopt</b> <i>option</i>] [<b>-email</b>]
[<b>-hash</b>] [<b>-subject_hash</b>]
[<b>-subject_hash_old</b>] [<b>-issuer_hash</b>]
[<b>-issuer_hash_old</b>] [<b>-ext</b> <i>extensions</i>]
[<b>-ocspid</b>] [<b>-ocsp_uri</b>] [<b>-purpose</b>]
[<b>-pubkey</b>] [<b>-modulus</b>] [<b>-checkend</b>
<i>num</i>] [<b>-checkhost</b> <i>host</i>]
[<b>-checkemail</b> <i>host</i>] [<b>-checkip</b>
<i>ipaddr</i>] [<b>-set_serial</b> <i>n</i>]
[<b>-next_serial</b>] [<b>-days</b> <i>arg</i>]
[<b>-preserve_dates</b>] [<b>-subj</b> <i>arg</i>]
[<b>-force_pubkey</b> <i>filename</i>] [<b>-clrext</b>]
[<b>-extfile</b> <i>filename</i>] [<b>-extensions</b>
<i>section</i>] [<b>-sigopt</b> <i>nm</i>:<i>v</i>]
[<b>-badsig</b>] [<b>-</b><b><i>digest</i></b>] [<b>-CA</b>
<i>filename</i>|<i>uri</i>] [<b>-CAform
<small>DER</small></b> | <b><small>PEM</small></b>
|<b>P12</b>] [<b>-CAkey</b> <i>filename</i>|<i>uri</i>]
[<b>-CAkeyform <small>DER</small></b> |
<b><small>PEM</small></b> |<b>P12</b>|
<b><small>ENGINE</small></b> ] [<b>-CAserial</b>
<i>filename</i>] [<b>-CAcreateserial</b>] [<b>-trustout</b>]
[<b>-setalias</b> <i>arg</i>] [<b>-clrtrust</b>]
[<b>-addtrust</b> <i>arg</i>] [<b>-clrreject</b>]
[<b>-addreject</b> <i>arg</i>] [<b>-rand</b> <i>files</i>]
[<b>-writerand</b> <i>file</i>] [<b>-engine</b> <i>id</i>]
[<b>-provider</b> <i>name</i>] [<b>-provider-path</b>
<i>path</i>] [<b>-propquery</b> <i>propq</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This command is
a multi-purposes certificate handling command. It can be
used to print certificate information, convert certificates
to various forms, edit certificate trust settings, generate
certificates from scratch or from certificating requests and
then self-signing them or signing them like a &quot;micro
<small>CA&quot;.</small></p>

<p style="margin-left:11%; margin-top: 1em">Since there are
a large number of options they will split up into various
sections.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Input,
Output, and General Purpose Options <br>
-help</b></p>

<p style="margin-left:17%;">Print out a usage message.</p>

<p style="margin-left:11%;"><b>-in</b>
<i>filename</i>|<i>uri</i></p>

<p style="margin-left:17%;">This specifies the input to
read a certificate from or the input file for reading a
certificate request if the <b>-req</b> flag is used. In both
cases this defaults to standard input.</p>

<p style="margin-left:17%; margin-top: 1em">This option
cannot be combined with the <b>-new</b> flag.</p>

<p style="margin-left:11%;"><b>-passin</b> <i>arg</i></p>

<p style="margin-left:17%;">The key and certificate file
password source. For more information about the format of
<i>arg</i> see <a href="https://man.page/1/openssl-passphrase-options">openssl-passphrase-options(1)</a>.</p>

<p style="margin-left:11%;"><b>-new</b></p>

<p style="margin-left:17%;">Generate a certificate from
scratch, not using an input certificate or certificate
request. So the <b>-in</b> option must not be used in this
case. Instead, the <b>-subj</b> option needs to be given.
The public key to include can be given with the
<b>-force_pubkey</b> option and defaults to the key given
with the <b>-key</b> (or <b>-signkey</b>) option, which
implies self-signature.</p>

<p style="margin-left:11%;"><b>-x509toreq</b></p>

<p style="margin-left:17%;">Output a PKCS#10 certificate
request (rather than a certificate). The <b>-key</b> (or
<b>-signkey</b>) option must be used to provide the private
key for self-signing; the corresponding public key is placed
in the subjectPKInfo field.</p>

<p style="margin-left:17%; margin-top: 1em">X.509
extensions included in a certificate input are not copied by
default. X.509 extensions to be added can be specified using
the <b>-extfile</b> option.</p>

<p style="margin-left:11%;"><b>-req</b></p>

<p style="margin-left:17%;">By default a certificate is
expected on input. With this option a PKCS#10 certificate
request is expected instead, which must be correctly
self-signed.</p>

<p style="margin-left:17%; margin-top: 1em">X.509
extensions included in the request are not copied by
default. X.509 extensions to be added can be specified using
the <b>-extfile</b> option.</p>

<p style="margin-left:11%;"><b>-copy_extensions</b>
<i>arg</i></p>

<p style="margin-left:17%;">Determines how to handle X.509
extensions when converting from a certificate to a request
using the <b>-x509toreq</b> option or converting from a
request to a certificate using the <b>-req</b> option. If
<i>arg</i> is <b>none</b> or this option is not present then
extensions are ignored. If <i>arg</i> is <b>copy</b> or
<b>copyall</b> then all extensions are copied, except that
subject identifier and authority key identifier extensions
are not taken over when producing a certificate request.</p>

<p style="margin-left:17%; margin-top: 1em">The <b>-ext</b>
option can be used to further restrict which extensions to
copy.</p>

<p style="margin-left:11%;"><b>-inform
<small>DER</small></b> | <b><small>PEM</small></b></p>

<p style="margin-left:17%;">The input file format;
unspecified by default. See <a href="https://man.page/1/openssl-format-options">openssl-format-options(1)</a>
for details.</p>

<p style="margin-left:11%;"><b>-vfyopt</b>
<i>nm</i>:<i>v</i></p>

<p style="margin-left:17%;">Pass options to the signature
algorithm during verify operations. Names and values of
these options are algorithm-specific.</p>

<p style="margin-left:11%;"><b>-key</b>
<i>filename</i>|<i>uri</i></p>

<p style="margin-left:17%;">This option provides the
private key for signing a new certificate or certificate
request. Unless <b>-force_pubkey</b> is given, the
corresponding public key is placed in the new certificate or
certificate request, resulting in a self-signature.</p>

<p style="margin-left:17%; margin-top: 1em">This option
cannot be used in conjunction with the <b>-CA</b>
option.</p>

<p style="margin-left:17%; margin-top: 1em">It sets the
issuer name to the subject name (i.e., makes it self-issued)
and changes the public key to the supplied value (unless
overridden by <b>-force_pubkey</b>). Unless the
<b>-preserve_dates</b> option is supplied, it sets the
validity start date to the current time and the end date to
a value determined by the <b>-days</b> option.</p>

<p style="margin-left:11%;"><b>-signkey</b>
<i>filename</i>|<i>uri</i></p>

<p style="margin-left:17%;">This option is an alias of
<b>-key</b>.</p>

<p style="margin-left:11%;"><b>-keyform
<small>DER</small></b> | <b><small>PEM</small></b>
|<b>P12</b>| <b><small>ENGINE</small></b></p>

<p style="margin-left:17%;">The key input format;
unspecified by default. See <a href="https://man.page/1/openssl-format-options">openssl-format-options(1)</a>
for details.</p>

<p style="margin-left:11%;"><b>-out</b> <i>filename</i></p>

<p style="margin-left:17%;">This specifies the output
filename to write to or standard output by default.</p>

<p style="margin-left:11%;"><b>-outform
<small>DER</small></b> | <b><small>PEM</small></b></p>

<p style="margin-left:17%;">The output format; the default
is <b><small>PEM</small></b> . See
<a href="https://man.page/1/openssl-format-options">openssl-format-options(1)</a> for details.</p>

<p style="margin-left:11%;"><b>-nocert</b></p>

<p style="margin-left:17%;">Do not output a certificate
(except for printing as requested by below options).</p>

<p style="margin-left:11%;"><b>-noout</b></p>

<p style="margin-left:17%;">This option prevents output
except for printing as requested by below options.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Certificate
Printing Options</b> <br>
Note: the <b>-alias</b> and <b>-purpose</b> options are also
printing options but are described in the &quot;Trust
Settings&quot; section. <b><br>
-dateopt</b></p>

<p style="margin-left:17%;">Specify the date output format.
Values are: rfc_822 and iso_8601. Defaults to rfc_822.</p>

<p style="margin-left:11%;"><b>-text</b></p>

<p style="margin-left:17%;">Prints out the certificate in
text form. Full details are printed including the public
key, signature algorithms, issuer and subject names, serial
number any extensions present and any trust settings.</p>

<p style="margin-left:11%;"><b>-certopt</b>
<i>option</i></p>

<p style="margin-left:17%;">Customise the print format used
with <b>-text</b>. The <i>option</i> argument can be a
single option or multiple options separated by commas. The
<b>-certopt</b> switch may be also be used more than once to
set multiple options. See the &quot;Text Printing
Flags&quot; section for more information.</p>

<p style="margin-left:11%;"><b>-fingerprint</b></p>

<p style="margin-left:17%;">Calculates and prints the
digest of the <small>DER</small> encoded version of the
entire certificate (see digest options). This is commonly
called a &quot;fingerprint&quot;. Because of the nature of
message digests, the fingerprint of a certificate is unique
to that certificate and two certificates with the same
fingerprint can be considered to be the same.</p>

<p style="margin-left:11%;"><b>-alias</b></p>

<p style="margin-left:17%;">Prints the certificate
&quot;alias&quot; (nickname), if any.</p>

<p style="margin-left:11%;"><b>-serial</b></p>

<p style="margin-left:17%;">Prints the certificate serial
number.</p>

<p style="margin-left:11%;"><b>-startdate</b></p>

<p style="margin-left:17%;">Prints out the start date of
the certificate, that is the notBefore date.</p>

<p style="margin-left:11%;"><b>-enddate</b></p>

<p style="margin-left:17%;">Prints out the expiry date of
the certificate, that is the notAfter date.</p>

<p style="margin-left:11%;"><b>-dates</b></p>

<p style="margin-left:17%;">Prints out the start and expiry
dates of a certificate.</p>

<p style="margin-left:11%;"><b>-subject</b></p>

<p style="margin-left:17%;">Prints the subject name.</p>

<p style="margin-left:11%;"><b>-issuer</b></p>

<p style="margin-left:17%;">Prints the issuer name.</p>

<p style="margin-left:11%;"><b>-nameopt</b>
<i>option</i></p>

<p style="margin-left:17%;">This specifies how the subject
or issuer names are displayed. See
<a href="https://man.page/1/openssl-namedisplay-options">openssl-namedisplay-options(1)</a> for details.</p>

<p style="margin-left:11%;"><b>-email</b></p>

<p style="margin-left:17%;">Prints the email address(es) if
any.</p>

<p style="margin-left:11%;"><b>-hash</b></p>

<p style="margin-left:17%;">Synonym for
&quot;-subject_hash&quot; for backward compatibility
reasons.</p>

<p style="margin-left:11%;"><b>-subject_hash</b></p>

<p style="margin-left:17%;">Prints the &quot;hash&quot; of
the certificate subject name. This is used in OpenSSL to
form an index to allow certificates in a directory to be
looked up by subject name.</p>

<p style="margin-left:11%;"><b>-subject_hash_old</b></p>

<p style="margin-left:17%;">Prints the &quot;hash&quot; of
the certificate subject name using the older algorithm as
used by OpenSSL before version 1.0.0.</p>

<p style="margin-left:11%;"><b>-issuer_hash</b></p>

<p style="margin-left:17%;">Prints the &quot;hash&quot; of
the certificate issuer name.</p>

<p style="margin-left:11%;"><b>-issuer_hash_old</b></p>

<p style="margin-left:17%;">Prints the &quot;hash&quot; of
the certificate issuer name using the older algorithm as
used by OpenSSL before version 1.0.0.</p>

<p style="margin-left:11%;"><b>-ext</b>
<i>extensions</i></p>

<p style="margin-left:17%;">Prints out the certificate
extensions in text form. Can also be used to restrict which
extensions to copy. Extensions are specified with a comma
separated string, e.g.,
&quot;subjectAltName,subjectKeyIdentifier&quot;. See the
<a href="https://man.page/5/x509v3_config">x509v3_config(5)</a> manual page for the extension
names.</p>

<p style="margin-left:11%;"><b>-ocspid</b></p>

<p style="margin-left:17%;">Prints the <small>OCSP</small>
hash values for the subject name and public key.</p>

<p style="margin-left:11%;"><b>-ocsp_uri</b></p>

<p style="margin-left:17%;">Prints the <small>OCSP</small>
responder address(es) if any.</p>

<p style="margin-left:11%;"><b>-purpose</b></p>

<p style="margin-left:17%;">This option performs tests on
the certificate extensions and outputs the results. For a
more complete description see &quot;Certificate
Extensions&quot; in
<a href="https://man.page/1/openssl-verification-options">openssl-verification-options(1)</a>.</p>

<p style="margin-left:11%;"><b>-pubkey</b></p>

<p style="margin-left:17%;">Prints the certificate&rsquo;s
SubjectPublicKeyInfo block in <small>PEM</small> format.</p>

<p style="margin-left:11%;"><b>-modulus</b></p>

<p style="margin-left:17%;">This option prints out the
value of the modulus of the public key contained in the
certificate.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Certificate
Checking Options <br>
-checkend</b> <i>arg</i></p>

<p style="margin-left:17%;">Checks if the certificate
expires within the next <i>arg</i> seconds and exits nonzero
if yes it will expire or zero if not.</p>

<p style="margin-left:11%;"><b>-checkhost</b>
<i>host</i></p>

<p style="margin-left:17%;">Check that the certificate
matches the specified host.</p>

<p style="margin-left:11%;"><b>-checkemail</b>
<i>email</i></p>

<p style="margin-left:17%;">Check that the certificate
matches the specified email address.</p>

<p style="margin-left:11%;"><b>-checkip</b>
<i>ipaddr</i></p>

<p style="margin-left:17%;">Check that the certificate
matches the specified <small>IP</small> address.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Certificate
Output Options <br>
-set_serial</b> <i>n</i></p>

<p style="margin-left:17%;">Specifies the serial number to
use. This option can be used with the <b>-key</b>,
<b>-signkey</b>, or <b>-CA</b> options. If used in
conjunction with the <b>-CA</b> option the serial number
file (as specified by the <b>-CAserial</b> option) is not
used.</p>

<p style="margin-left:17%; margin-top: 1em">The serial
number can be decimal or hex (if preceded by
&quot;0x&quot;).</p>

<p style="margin-left:11%;"><b>-next_serial</b></p>

<p style="margin-left:17%;">Set the serial to be one more
than the number in the certificate.</p>

<p style="margin-left:11%;"><b>-days</b> <i>arg</i></p>

<p style="margin-left:17%;">Specifies the number of days
until a newly generated certificate expires. The default is
30. Cannot be used together with the <b>-preserve_dates</b>
option.</p>

<p style="margin-left:11%;"><b>-preserve_dates</b></p>

<p style="margin-left:17%;">When signing a certificate,
preserve &quot;notBefore&quot; and &quot;notAfter&quot;
dates of any input certificate instead of adjusting them to
current time and duration. Cannot be used together with the
<b>-days</b> option.</p>

<p style="margin-left:11%;"><b>-subj</b> <i>arg</i></p>

<p style="margin-left:17%;">When a certificate is created
set its subject name to the given value. When the
certificate is self-signed the issuer name is set to the
same value.</p>

<p style="margin-left:17%; margin-top: 1em">The arg must be
formatted as
&quot;/type0=value0/type1=value1/type2=...&quot;. Special
characters may be escaped by &quot;\&quot; (backslash),
whitespace is retained. Empty values are permitted, but the
corresponding type will not be included in the certificate.
Giving a single &quot;/&quot; will lead to an empty sequence
of RDNs (a NULL-DN). Multi-valued RDNs can be formed by
placing a &quot;+&quot; character instead of a &quot;/&quot;
between the AttributeValueAssertions (AVAs) that specify the
members of the set. Example:</p>


<p style="margin-left:17%; margin-top: 1em">&quot;/DC=org/DC=OpenSSL/DC=users/UID=123456+CN=John
Doe&quot;</p>

<p style="margin-left:17%; margin-top: 1em">This option can
be used in conjunction with the <b>-force_pubkey</b> option
to create a certificate even without providing an input
certificate or certificate request.</p>

<p style="margin-left:11%;"><b>-force_pubkey</b>
<i>filename</i></p>

<p style="margin-left:17%;">When a certificate is created
set its public key to the key in <i>filename</i> instead of
the key contained in the input or given with the <b>-key</b>
(or <b>-signkey</b>) option.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
useful for creating self-issued certificates that are not
self-signed, for instance when the key cannot be used for
signing, such as <small>DH.</small> It can also be used in
conjunction with b&lt;-new&gt; and <b>-subj</b> to directly
generate a certificate containing any desired public
key.</p>

<p style="margin-left:11%;"><b>-clrext</b></p>

<p style="margin-left:17%;">When transforming a certificate
to a new certificate by default all certificate extensions
are retained.</p>

<p style="margin-left:17%; margin-top: 1em">When
transforming a certificate or certificate request, the
<b>-clrext</b> option prevents taking over any extensions
from the source. In any case, when producing a certificate
request, neither subject identifier nor authority key
identifier extensions are included.</p>

<p style="margin-left:11%;"><b>-extfile</b>
<i>filename</i></p>

<p style="margin-left:17%;">Configuration file containing
certificate and request X.509 extensions to add.</p>

<p style="margin-left:11%;"><b>-extensions</b>
<i>section</i></p>

<p style="margin-left:17%;">The section in the extfile to
add X.509 extensions from. If this option is not specified
then the extensions should either be contained in the
unnamed (default) section or the default section should
contain a variable called &quot;extensions&quot; which
contains the section to use. See the <a href="https://man.page/5/x509v3_config">x509v3_config(5)</a>
manual page for details of the extension section format.</p>

<p style="margin-left:11%;"><b>-sigopt</b>
<i>nm</i>:<i>v</i></p>

<p style="margin-left:17%;">Pass options to the signature
algorithm during sign operations. This option may be given
multiple times. Names and values provided using this option
are algorithm-specific.</p>

<p style="margin-left:11%;"><b>-badsig</b></p>

<p style="margin-left:17%;">Corrupt the signature before
writing it; this can be useful for testing.</p>


<p style="margin-left:11%;"><b>-</b><b><i>digest</i></b></p>

<p style="margin-left:17%;">The digest to use. This affects
any signing or printing option that uses a message digest,
such as the <b>-fingerprint</b>, <b>-key</b>, and <b>-CA</b>
options. Any digest supported by the <a href="https://man.page/1/openssl-dgst">openssl-dgst(1)</a>
command can be used. If not specified then
<small>SHA1</small> is used with <b>-fingerprint</b> or the
default digest for the signing algorithm is used, typically
<small>SHA256.</small></p>

<p style="margin-left:11%; margin-top: 1em"><b>Micro-CA
Options <br>
-CA</b> <i>filename</i>|<i>uri</i></p>

<p style="margin-left:17%;">Specifies the &quot;
<small>CA&quot;</small> certificate to be used for signing.
When present, this behaves like a &quot;micro
<small>CA&quot;</small> as follows: The subject name of the
&quot; <small>CA&quot;</small> certificate is placed as
issuer name in the new certificate, which is then signed
using the &quot; <small>CA&quot;</small> key given as
detailed below.</p>

<p style="margin-left:17%; margin-top: 1em">This option
cannot be used in conjunction with <b>-key</b> (or
<b>-signkey</b>). This option is normally combined with the
<b>-req</b> option referencing a <small>CSR.</small> Without
the <b>-req</b> option the input must be an existing
certificate unless the <b>-new</b> option is given, which
generates a certificate from scratch.</p>

<p style="margin-left:11%;"><b>-CAform
<small>DER</small></b> | <b><small>PEM</small></b>
|<b>P12</b>,</p>

<p style="margin-left:17%;">The format for the
<small>CA</small> certificate; unspecifed by default. See
<a href="https://man.page/1/openssl-format-options">openssl-format-options(1)</a> for details.</p>

<p style="margin-left:11%;"><b>-CAkey</b>
<i>filename</i>|<i>uri</i></p>

<p style="margin-left:17%;">Sets the <small>CA</small>
private key to sign a certificate with. The private key must
match the public key of the certificate given with
<b>-CA</b>. If this option is not provided then the key must
be present in the <b>-CA</b> input.</p>

<p style="margin-left:11%;"><b>-CAkeyform
<small>DER</small></b> | <b><small>PEM</small></b>
|<b>P12</b>| <b><small>ENGINE</small></b></p>

<p style="margin-left:17%;">The format for the
<small>CA</small> key; unspecified by default. See
<a href="https://man.page/1/openssl-format-options">openssl-format-options(1)</a> for details.</p>

<p style="margin-left:11%;"><b>-CAserial</b>
<i>filename</i></p>

<p style="margin-left:17%;">Sets the <small>CA</small>
serial number file to use.</p>

<p style="margin-left:17%; margin-top: 1em">When the
<b>-CA</b> option is used to sign a certificate it uses a
serial number specified in a file. This file consists of one
line containing an even number of hex digits with the serial
number to use. After each use the serial number is
incremented and written out to the file again.</p>

<p style="margin-left:17%; margin-top: 1em">The default
filename consists of the <small>CA</small> certificate file
base name with <i>.srl</i> appended. For example if the
<small>CA</small> certificate file is called
<i>mycacert.pem</i> it expects to find a serial number file
called <i>mycacert.srl</i>.</p>

<p style="margin-left:11%;"><b>-CAcreateserial</b></p>

<p style="margin-left:17%;">With this option the
<small>CA</small> serial number file is created if it does
not exist: it will contain the serial number &quot;02&quot;
and the certificate being signed will have the 1 as its
serial number. If the <b>-CA</b> option is specified and the
serial number file does not exist a random number is
generated; this is the recommended practice.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Trust
Settings</b> <br>
A <b>trusted certificate</b> is an ordinary certificate
which has several additional pieces of information attached
to it such as the permitted and prohibited uses of the
certificate and possibly an &quot;alias&quot;
(nickname).</p>

<p style="margin-left:11%; margin-top: 1em">Normally when a
certificate is being verified at least one certificate must
be &quot;trusted&quot;. By default a trusted certificate
must be stored locally and must be a root <small>CA:</small>
any certificate chain ending in this <small>CA</small> is
then usable for any purpose.</p>

<p style="margin-left:11%; margin-top: 1em">Trust settings
currently are only used with a root <small>CA.</small> They
allow a finer control over the purposes the root
<small>CA</small> can be used for. For example, a
<small>CA</small> may be trusted for <small>SSL</small>
client but not <small>SSL</small> server use.</p>

<p style="margin-left:11%; margin-top: 1em">See
<a href="https://man.page/1/openssl-verification-options">openssl-verification-options(1)</a> for more information
on the meaning of trust settings.</p>

<p style="margin-left:11%; margin-top: 1em">Future versions
of OpenSSL will recognize trust settings on any certificate:
not just root CAs. <b><br>
-trustout</b></p>

<p style="margin-left:17%;">Mark any certificate
<small>PEM</small> output as &lt;trusted&gt; certificate
rather than ordinary. An ordinary or trusted certificate can
be input but by default an ordinary certificate is output
and any trust settings are discarded. With the
<b>-trustout</b> option a trusted certificate is output. A
trusted certificate is automatically output if any trust
settings are modified.</p>

<p style="margin-left:11%;"><b>-setalias</b> <i>arg</i></p>

<p style="margin-left:17%;">Sets the &quot;alias&quot; of
the certificate. This will allow the certificate to be
referred to using a nickname for example &quot;Steve&rsquo;s
Certificate&quot;.</p>

<p style="margin-left:11%;"><b>-clrtrust</b></p>

<p style="margin-left:17%;">Clears all the permitted or
trusted uses of the certificate.</p>

<p style="margin-left:11%;"><b>-addtrust</b> <i>arg</i></p>

<p style="margin-left:17%;">Adds a trusted certificate use.
Any object name can be used here but currently only
<b>clientAuth</b>, <b>serverAuth</b>,
<b>emailProtection</b>, and <b>anyExtendedKeyUsage</b> are
defined. As of OpenSSL 1.1.0, the last of these blocks all
purposes when rejected or enables all purposes when trusted.
Other OpenSSL applications may define additional uses.</p>

<p style="margin-left:11%;"><b>-clrreject</b></p>

<p style="margin-left:17%;">Clears all the prohibited or
rejected uses of the certificate.</p>

<p style="margin-left:11%;"><b>-addreject</b>
<i>arg</i></p>

<p style="margin-left:17%;">Adds a prohibited trust anchor
purpose. It accepts the same values as the <b>-addtrust</b>
option.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Generic
options <br>
-rand</b> <i>files</i>, <b>-writerand</b> <i>file</i></p>

<p style="margin-left:17%;">See &quot;Random State
Options&quot; in <a href="https://man.page/1/openssl">openssl(1)</a> for details.</p>

<p style="margin-left:11%;"><b>-engine</b> <i>id</i></p>

<p style="margin-left:17%;">See &quot;Engine Options&quot;
in <a href="https://man.page/1/openssl">openssl(1)</a>. This option is deprecated.</p>

<p style="margin-left:11%;"><b>-provider</b> <i>name</i>
<b><br>
-provider-path</b> <i>path</i> <b><br>
-propquery</b> <i>propq</i></p>

<p style="margin-left:17%;">See &quot;Provider
Options&quot; in <a href="https://man.page/1/openssl">openssl(1)</a>, <a href="https://man.page/7/provider">provider(7)</a>, and
<a href="https://man.page/7/property">property(7)</a>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Text
Printing Flags</b> <br>
As well as customising the name printing format, it is also
possible to customise the actual fields printed using the
<b>certopt</b> option when the <b>text</b> option is
present. The default behaviour is to print all fields.
<b><br>
compatible</b></p>

<p style="margin-left:17%;">Use the old format. This is
equivalent to specifying no printing options at all.</p>

<p style="margin-left:11%;"><b>no_header</b></p>

<p style="margin-left:17%;">Don&rsquo;t print header
information: that is the lines saying
&quot;Certificate&quot; and &quot;Data&quot;.</p>

<p style="margin-left:11%;"><b>no_version</b></p>

<p style="margin-left:17%;">Don&rsquo;t print out the
version number.</p>

<p style="margin-left:11%;"><b>no_serial</b></p>

<p style="margin-left:17%;">Don&rsquo;t print out the
serial number.</p>

<p style="margin-left:11%;"><b>no_signame</b></p>

<p style="margin-left:17%;">Don&rsquo;t print out the
signature algorithm used.</p>

<p style="margin-left:11%;"><b>no_validity</b></p>

<p style="margin-left:17%;">Don&rsquo;t print the validity,
that is the <b>notBefore</b> and <b>notAfter</b> fields.</p>

<p style="margin-left:11%;"><b>no_subject</b></p>

<p style="margin-left:17%;">Don&rsquo;t print out the
subject name.</p>

<p style="margin-left:11%;"><b>no_issuer</b></p>

<p style="margin-left:17%;">Don&rsquo;t print out the
issuer name.</p>

<p style="margin-left:11%;"><b>no_pubkey</b></p>

<p style="margin-left:17%;">Don&rsquo;t print out the
public key.</p>

<p style="margin-left:11%;"><b>no_sigdump</b></p>

<p style="margin-left:17%;">Don&rsquo;t give a hexadecimal
dump of the certificate signature.</p>

<p style="margin-left:11%;"><b>no_aux</b></p>

<p style="margin-left:17%;">Don&rsquo;t print out
certificate trust information.</p>

<p style="margin-left:11%;"><b>no_extensions</b></p>

<p style="margin-left:17%;">Don&rsquo;t print out any
X509V3 extensions.</p>

<p style="margin-left:11%;"><b>ext_default</b></p>

<p style="margin-left:17%;">Retain default extension
behaviour: attempt to print out unsupported certificate
extensions.</p>

<p style="margin-left:11%;"><b>ext_error</b></p>

<p style="margin-left:17%;">Print an error message for
unsupported certificate extensions.</p>

<p style="margin-left:11%;"><b>ext_parse</b></p>

<p style="margin-left:17%;"><small>ASN1</small> parse
unsupported extensions.</p>

<p style="margin-left:11%;"><b>ext_dump</b></p>

<p style="margin-left:17%;">Hex dump unsupported
extensions.</p>

<p style="margin-left:11%;"><b>ca_default</b></p>

<p style="margin-left:17%;">The value used by
<a href="https://man.page/1/openssl-ca">openssl-ca(1)</a>, equivalent to <b>no_issuer</b>,
<b>no_pubkey</b>, <b>no_header</b>, and
<b>no_version</b>.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Note: in these
examples the &rsquo;\&rsquo; means the example should be all
on one line.</p>

<p style="margin-left:11%; margin-top: 1em">Print the
contents of a certificate:</p>

<p style="margin-left:11%; margin-top: 1em">openssl x509
-in cert.pem -noout -text</p>

<p style="margin-left:11%; margin-top: 1em">Print the
&quot;Subject Alternative Name&quot; extension of a
certificate:</p>

<p style="margin-left:11%; margin-top: 1em">openssl x509
-in cert.pem -noout -ext subjectAltName</p>

<p style="margin-left:11%; margin-top: 1em">Print more
extensions of a certificate:</p>

<p style="margin-left:11%; margin-top: 1em">openssl x509
-in cert.pem -noout -ext subjectAltName,nsCertType</p>

<p style="margin-left:11%; margin-top: 1em">Print the
certificate serial number:</p>

<p style="margin-left:11%; margin-top: 1em">openssl x509
-in cert.pem -noout -serial</p>

<p style="margin-left:11%; margin-top: 1em">Print the
certificate subject name:</p>

<p style="margin-left:11%; margin-top: 1em">openssl x509
-in cert.pem -noout -subject</p>

<p style="margin-left:11%; margin-top: 1em">Print the
certificate subject name in <small>RFC2253</small> form:</p>

<p style="margin-left:11%; margin-top: 1em">openssl x509
-in cert.pem -noout -subject -nameopt RFC2253</p>

<p style="margin-left:11%; margin-top: 1em">Print the
certificate subject name in oneline form on a terminal
supporting <small>UTF8:</small></p>

<p style="margin-left:11%; margin-top: 1em">openssl x509
-in cert.pem -noout -subject -nameopt oneline,-esc_msb</p>

<p style="margin-left:11%; margin-top: 1em">Print the
certificate <small>SHA1</small> fingerprint:</p>

<p style="margin-left:11%; margin-top: 1em">openssl x509
-sha1 -in cert.pem -noout -fingerprint</p>

<p style="margin-left:11%; margin-top: 1em">Convert a
certificate from <small>PEM</small> to <small>DER</small>
format:</p>

<p style="margin-left:11%; margin-top: 1em">openssl x509
-in cert.pem -inform PEM -out cert.der -outform DER</p>

<p style="margin-left:11%; margin-top: 1em">Convert a
certificate to a certificate request:</p>

<p style="margin-left:11%; margin-top: 1em">openssl x509
-x509toreq -in cert.pem -out req.pem -key key.pem</p>

<p style="margin-left:11%; margin-top: 1em">Convert a
certificate request into a self-signed certificate using
extensions for a <small>CA:</small></p>

<p style="margin-left:11%; margin-top: 1em">openssl x509
-req -in careq.pem -extfile openssl.cnf -extensions v3_ca \
<br>
-key key.pem -out cacert.pem</p>

<p style="margin-left:11%; margin-top: 1em">Sign a
certificate request using the <small>CA</small> certificate
above and add user certificate extensions:</p>

<p style="margin-left:11%; margin-top: 1em">openssl x509
-req -in req.pem -extfile openssl.cnf -extensions v3_usr \
<br>
-CA cacert.pem -CAkey key.pem -CAcreateserial</p>

<p style="margin-left:11%; margin-top: 1em">Set a
certificate to be trusted for <small>SSL</small> client use
and change set its alias to &quot;Steve&rsquo;s Class 1
<small>CA&quot;</small></p>

<p style="margin-left:11%; margin-top: 1em">openssl x509
-in cert.pem -addtrust clientAuth \ <br>
-setalias &quot;Steve's Class 1 CA&quot; -out trust.pem</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The conversion
to <small>UTF8</small> format used with the name options
assumes that T61Strings use the <small>ISO8859-1</small>
character set. This is wrong but Netscape and
<small>MSIE</small> do this as do many certificates. So
although this is incorrect it is more likely to print the
majority of certificates correctly.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>-email</b> option searches the subject name and the
subject alternative name extension. Only unique email
addresses will be printed out: it will not print the same
address more than once.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">It is possible
to produce invalid certificates or requests by specifying
the wrong private key, using unsuitable X.509 extensions, or
using inconsistent options in some cases: these should be
checked.</p>

<p style="margin-left:11%; margin-top: 1em">There should be
options to explicitly set such things as start and end dates
rather than an offset from the current time.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><a href="https://man.page/1/openssl">openssl(1)</a>,
<a href="https://man.page/1/openssl-req">openssl-req(1)</a>, <a href="https://man.page/1/openssl-ca">openssl-ca(1)</a>,
<a href="https://man.page/1/openssl-genrsa">openssl-genrsa(1)</a>, <a href="https://man.page/1/openssl-gendsa">openssl-gendsa(1)</a>,
<a href="https://man.page/1/openssl-verify">openssl-verify(1)</a>, <a href="https://man.page/5/x509v3_config">x509v3_config(5)</a></p>

<h2>HISTORY
<a name="HISTORY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The hash
algorithm used in the <b>-subject_hash</b> and
<b>-issuer_hash</b> options before OpenSSL 1.0.0 was based
on the deprecated <small>MD5</small> algorithm and the
encoding of the distinguished name. In OpenSSL 1.0.0 and
later it is based on a canonical version of the
<small>DN</small> using <small>SHA1.</small> This means that
any directories using the old form must have their links
rebuilt using <a href="https://man.page/1/openssl-rehash">openssl-rehash(1)</a> or similar.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>-signkey</b> option has been renamed to <b>-key</b> in
OpenSSL 3.0, keeping the old name as an alias.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>-engine</b> option was deprecated in OpenSSL 3.0.</p>

<p style="margin-left:11%; margin-top: 1em">The <b>-C</b>
option was removed in OpenSSL 3.0.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
2000-2021 The OpenSSL Project Authors. All Rights
Reserved.</p>

<p style="margin-left:11%; margin-top: 1em">Licensed under
the Apache License 2.0 (the &quot;License&quot;). You may
not use this file except in compliance with the License. You
can obtain a copy in the file <small>LICENSE</small> in the
source distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
<hr>
</body>
</html>
