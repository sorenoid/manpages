<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon Nov  7 04:39:16 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>BOOTCTL</title>

</head>
<body>

<h1 align="center">BOOTCTL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#GENERIC EFI FIRMWARE/BOOT LOADER COMMANDS">GENERIC EFI FIRMWARE/BOOT LOADER COMMANDS</a><br>
<a href="#BOOT LOADER SPECIFICATION COMMANDS">BOOT LOADER SPECIFICATION COMMANDS</a><br>
<a href="#SYSTEMD-BOOT COMMANDS">SYSTEMD-BOOT COMMANDS</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#NOTES">NOTES</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">bootctl -
Control EFI firmware boot settings and manage boot
loader</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="46%">


<p style="margin-top: 1em"><b>bootctl</b> [OPTIONS...]
{COMMAND}</p> </td>
<td width="43%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>bootctl</b>
can check the EFI firmware and boot loader status, list and
manage available boot loaders and boot loader entries, and
install, update, or remove the <b>systemd-boot</b>(7) boot
loader on the current system.</p>

<h2>GENERIC EFI FIRMWARE/BOOT LOADER COMMANDS
<a name="GENERIC EFI FIRMWARE/BOOT LOADER COMMANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">These commands
are available on any EFI system, regardless of the boot
loader used.</p>


<p style="margin-left:11%; margin-top: 1em"><b>status</b></p>

<p style="margin-left:17%;">Shows brief information about
the system firmware, the boot loader that was used to boot
the system, the boot loaders currently available in the ESP,
the boot loaders listed in the firmware's list of boot
loaders and the current default boot loader entry. If no
command is specified, this is the implied default.</p>


<p style="margin-left:11%; margin-top: 1em"><b>reboot-to-firmware</b>
[<i>BOOL</i>]</p>

<p style="margin-left:17%;">Query or set the
&quot;Reboot-Into-Firmware-Setup&quot; flag of the EFI
firmware. Takes a boolean argument which controls whether to
show the firmware setup on next system reboot. If the
argument is omitted shows the current status of the flag, or
whether the flag is supported. This controls the same flag
as <b>systemctl reboot --firmware-setup</b>, but is more
low-level and allows setting the flag independently from
actually requesting a reboot.</p>


<p style="margin-left:11%; margin-top: 1em"><b>systemd-efi-options</b>
[<i>STRING</i>]</p>

<p style="margin-left:17%;">When called without the
optional argument, prints the current value of the
&quot;SystemdOptions&quot; EFI variable. When called with an
argument, sets the variable to that value. See
<b>systemd</b>(1) for the meaning of that variable.</p>

<h2>BOOT LOADER SPECIFICATION COMMANDS
<a name="BOOT LOADER SPECIFICATION COMMANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">These commands
are available for all boot loaders that implement the
<b><font color="#0000FF">Boot Loader
Specification</font></b>
<small><font color="#000000">[1]</font></small>
<font color="#000000">and/or the</font>
<b><font color="#0000FF">Boot Loader Interface</font></b>
<small><font color="#000000">[2]</font></small>
<font color="#000000">, such as
<b>systemd-boot</b>.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>list</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Shows all
available boot loader entries implementing the</font>
<b><font color="#0000FF">Boot Loader
Specification</font></b>
<small><font color="#000000">[1]</font></small>
<font color="#000000">, as well as any other entries
discovered or automatically generated by a boot loader
implementing the</font> <b><font color="#0000FF">Boot Loader
Interface</font></b>
<small><font color="#000000">[2]</font></small>
<font color="#000000">.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>set-default</b>
<i>ID</i>, <b>set-oneshot</b> <i>ID</i></font></p>

<p style="margin-left:17%;"><font color="#000000">Sets the
default boot loader entry. Takes a single boot loader entry
ID string as argument. The <b>set-oneshot</b> command will
set the default entry only for the next boot, the
<b>set-default</b> will set it persistently for all future
boots. Optionally, the boot loader entry ID may be specified
as one of: <b>@default</b>, <b>@oneshot</b> or
<b>@current</b>, which correspond to the current default
boot loader entry for all future boots, the current default
boot loader entry for the next boot, and the currently
booted boot loader entry. These special IDs are resolved to
the current values of the EFI variables
<i>LoaderEntryDefault</i>, <i>LoaderEntryOneShot</i> and
<i>LoaderEntrySelected</i>, see</font>
<b><font color="#0000FF">Boot Loader
Specification</font></b>
<small><font color="#000000">[1]</font></small>
<font color="#000000">for details. These special IDs are
primarily useful as a quick way to persistently make the
currently booted boot loader entry the default choice, or to
upgrade the default boot loader entry for the next boot to
the default boot loader entry for all future boots, but may
be used for other operations too. When an empty string
(&quot;&quot;) is specified as an ID, then the corresponding
EFI variable will be unset.</font></p>

<h2>SYSTEMD-BOOT COMMANDS
<a name="SYSTEMD-BOOT COMMANDS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">These
commands manage the <b>systemd-boot</b> EFI boot loader, and
do not work in conjunction with other boot
loaders.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>install</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Installs
<b>systemd-boot</b> into the EFI system partition. A copy of
<b>systemd-boot</b> will be stored as the EFI
default/fallback loader at <i>ESP</i>/EFI/BOOT/BOOT*.EFI.
The boot loader is then added to the top of the firmware's
boot loader list.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>update</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Updates
all installed versions of <b>systemd-boot</b>(7), if the
available version is newer than the version installed in the
EFI system partition. This also includes the EFI
default/fallback loader at <i>ESP</i>/EFI/BOOT/BOOT*.EFI.
The boot loader is then added to end of the firmware's boot
loader list if missing.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>remove</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Removes
all installed versions of <b>systemd-boot</b> from the EFI
system partition and the firmware's boot loader
list.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>is-installed</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Checks
whether <b>systemd-boot</b> is installed in the ESP. Note
that a single ESP might host multiple boot loaders; this
hence checks whether <b>systemd-boot</b> is one (of possibly
many) installed boot loaders &mdash; and neither whether it
is the default nor whether it is registered in any EFI
variables.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>random-seed</b></font></p>


<p style="margin-left:17%;"><font color="#000000">Generates
a random seed and stores it in the EFI System Partition, for
use by the <b>systemd-boot</b> boot loader. Also, generates
a random 'system token' and stores it persistently as an EFI
variable, if one has not been set before. If the boot loader
finds the random seed in the ESP and the system token in the
EFI variable it will derive a random seed to pass to the OS
and a new seed to store in the ESP from the combination of
both. The random seed passed to the OS is credited to the
kernel's entropy pool by the system manager during early
boot, and permits userspace to boot up with an entropy pool
fully initialized very early on. Also see
<b>systemd-boot-system-token.service</b>(8).</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">See</font>
<b><font color="#0000FF">Random Seeds</font></b>
<small><font color="#000000">[3]</font></small>
<font color="#000000">for further information.</font></p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
following options are understood:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>--esp-path=</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Path to
the EFI System Partition (ESP). If not specified, /efi/,
/boot/, and /boot/efi/ are checked in turn. It is
recommended to mount the ESP to /efi/, if
possible.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>--boot-path=</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Path to
the Extended Boot Loader partition, as defined in the</font>
<b><font color="#0000FF">Boot Loader
Specification</font></b>
<small><font color="#000000">[1]</font></small>
<font color="#000000">. If not specified, /boot/ is checked.
It is recommended to mount the Extended Boot Loader
partition to /boot/, if possible.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>-p</b>,
<b>--print-esp-path</b></font></p>

<p style="margin-left:17%;"><font color="#000000">This
option modifies the behaviour of <b>status</b>. Only prints
the path to the EFI System Partition (ESP) to standard
output and exits.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>-x</b>,
<b>--print-boot-path</b></font></p>

<p style="margin-left:17%;"><font color="#000000">This
option modifies the behaviour of <b>status</b>. Only prints
the path to the Extended Boot Loader partition if it exists,
and the path to the ESP otherwise to standard output and
exit. This command is useful to determine where to place
boot loader entries, as they are preferably placed in the
Extended Boot Loader partition if it exists and in the ESP
otherwise.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Boot
Loader Specification Type #1 entries should generally be
placed in the directory &quot;$(bootctl
-x)/loader/entries/&quot;. Existence of that directory may
also be used as indication that boot loader entry support is
available on the system. Similarly, Boot Loader
Specification Type #2 entries should be placed in the
directory &quot;$(bootctl -x)/EFI/Linux/&quot;.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Note
that this option (similar to the <b>--print-booth-path</b>
option mentioned above), is available independently from the
boot loader used, i.e. also without <b>systemd-boot</b>
being installed.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>--no-variables</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Do not
touch the firmware's boot loader list stored in EFI
variables.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>--graceful</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Ignore
failure when the EFI System Partition cannot be found, or
when EFI variables cannot be written. Currently only applies
to random seed operations.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>--make-machine-id-directory=yes|no|auto</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Control
creation and deletion of the top-level machine ID directory
on the file system containing boot loader entries (i.e.
beneath the file system returned by the
<b>--print-boot-path</b> option, see above) during
<b>install</b> and <b>remove</b>, respectively.
&quot;auto&quot; is equivalent to &quot;yes&quot; if
/etc/machine-id resides on a filesystem other than tmpfs and
&quot;no&quot; otherwise (in the latter case the machine ID
is likely transient and hence should not be used
persistently in the ESP). Defaults to &quot;auto&quot;. See
<b>machine-id</b>(5) for details about the machine ID
concept and file.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">Overriding
this may be desirable to hide the machine ID from the
(unencrypted) ESP, configure a <b>kernel-install</b>(8)
script, or, conversely, commit a transient machine
ID.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">The
top-level machine ID directory is useful to allow smooth
multi-boot installations: each installed OS instance will
have a different machine ID and thus a separate directory to
place its boot-time resources in. If this feature is turned
off with this option, care needs to be taken that multiple
OS instances do not place conflicting files on the shared
ESP and Extended Boot Loader Partitions, or that multiple OS
instances are not possible.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>--no-pager</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Do not
pipe output into a pager.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>-h</b>,
<b>--help</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Print a
short help text and exit.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>--version</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Print a
short version string and exit.</font></p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">On
success, 0 is returned, a non-zero failure code
otherwise.</font></p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">If
<i>$SYSTEMD_RELAX_ESP_CHECKS=1</i> is set the validation
checks for the ESP are relaxed, and the path specified with
<b>--esp-path=</b> may refer to any kind of file system on
any kind of partition.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Similarly,
<i>$SYSTEMD_RELAX_XBOOTLDR_CHECKS=1</i> turns off some
validation checks for the Extended Boot Loader
partition.</font></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>systemd-boot</b>(7),</font>
<b><font color="#0000FF">Boot Loader
Specification</font></b>
<small><font color="#000000">[1]</font></small>
<font color="#000000">,</font> <b><font color="#0000FF">Boot
Loader Interface</font></b>
<small><font color="#000000">[2]</font></small>
<font color="#000000">,
<b>systemd-boot-system-token.service</b>(8)</font></p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">1.</font></p> </td>
<td width="2%"></td>
<td width="38%">


<p style="margin-top: 1em"><font color="#000000">Boot
Loader Specification</font></p></td>
<td width="45%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">https://systemd.io/BOOT_LOADER_SPECIFICATION</font></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">2.</font></p> </td>
<td width="2%"></td>
<td width="32%">


<p style="margin-top: 1em"><font color="#000000">Boot
Loader Interface</font></p></td>
<td width="51%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">https://systemd.io/BOOT_LOADER_INTERFACE</font></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">3.</font></p> </td>
<td width="2%"></td>
<td width="18%">


<p style="margin-top: 1em"><font color="#000000">Random
Seeds</font></p> </td>
<td width="65%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">https://systemd.io/RANDOM_SEEDS</font></p>
<hr>
</body>
</html>
