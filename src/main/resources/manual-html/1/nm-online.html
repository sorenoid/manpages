<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon Nov  7 04:40:32 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>NM-ONLINE</title>

</head>
<body>

<h1 align="center">NM-ONLINE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">nm-online - ask
NetworkManager whether the network is connected</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="34%">


<p style="margin-top: 1em"><b>nm-online</b>
[<i>OPTIONS</i>...]</p> </td>
<td width="55%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>nm-online</b>
is a utility to find out whether we are online. It is done
by asking NetworkManager about its status. When run,
<b>nm-online</b> waits until NetworkManager reports an
active connection, or specified timeout expires. On exit,
the returned status code should be checked (see the return
codes below).</p>

<p style="margin-left:11%; margin-top: 1em">This tool is
not very useful to call directly. It is however used by
NetworkManager-wait-online.service with --wait-for-startup
argument. This is used to delay the service and indirectly
network-online.target, until networking is up. Don't order
your own systemd services after
NetworkManager-wait-online.service directly. Instead if
necessary, order your services after network-online.target.
Even better is to have your services react to network
changes dynamically and don't order them with respect to
network-online.target at all.</p>

<p style="margin-left:11%; margin-top: 1em">By default,
connections have the ipv4.may-fail and ipv6.may-fail
properties set to yes; this means that NetworkManager waits
for one of the two address families to complete
configuration before considering the connection activated.
If you need a specific address family configured before
network-online.target is reached, set the corresponding
may-fail property to no.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>-h</b> |
<b>--help</b></p>

<p style="margin-left:17%;">Print help information.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-q</b> |
<b>--quiet</b></p>

<p style="margin-left:17%;">Don't print anything.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-s</b> |
<b>--wait-for-startup</b></p>

<p style="margin-left:17%;">Wait for NetworkManager startup
to complete, rather than waiting for network connectivity
specifically. Startup is considered complete once
NetworkManager has activated (or attempted to activate)
every auto-activate connection which is available given the
current network state. This corresponds to the moment when
NetworkManager logs &quot;startup complete&quot;. This mode
is generally only useful at boot time. After startup has
completed, <b>nm-online -s</b> will just return immediately,
regardless of the current network state.</p>

<p style="margin-left:17%; margin-top: 1em">There are
various ways to affect when startup complete is reached. For
example, by setting a connection profile to autoconnect,
such a profile possibly will activate during startup and
thus delay startup complete being reached. Also, a profile
is considered ready when it fully reached the logical
connected state in NetworkManager. That means, properties
like ipv4.may-fail and ipv6.may-fail affect whether a
certain address family is required. Also, the connection
property connection.wait-device-timeout affects whether to
wait for the driver to detect a certain device. Generally, a
failure of NetworkManager-wait-online.service indicates a
configuration error, where NetworkManager won't be able to
reach the desired connectivity state during startup. An
example for that are bridge or bond master profiles, that
get autoconnected but without activating any slaves. Such
master devices hang in activating state indefinitely, and
cause NetworkManager-wait-online.service to fail.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-t</b> |
<b>--timeout</b> <i>seconds</i></p>

<p style="margin-left:17%;">Time to wait for a connection,
in seconds. If the option is not provided, the environment
variable NM_ONLINE_TIMEOUT is honored. The default timeout
is 30 seconds.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-x</b> |
<b>--exit</b></p>

<p style="margin-left:17%;">Exit immediately if
NetworkManager is not running or connecting.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>nm-online</b>
exits with status 0 if it succeeds, a value greater than 0
is returned if an error occurs.</p>

<p style="margin-left:11%; margin-top: 1em"><b>0</b></p>

<p style="margin-left:17%;">Success &ndash; already online
or connection established within given timeout.</p>

<p style="margin-left:11%; margin-top: 1em"><b>1</b></p>

<p style="margin-left:17%;">Offline or not online within
given timeout.</p>

<p style="margin-left:11%; margin-top: 1em"><b>2</b></p>

<p style="margin-left:17%;">Unknown or unspecified
error.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>nmcli</b>(1),
<b>NetworkManager</b>(8).</p>
<hr>
</body>
</html>
