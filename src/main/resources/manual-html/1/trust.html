<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon Nov  7 04:40:06 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>TRUST</title>

</head>
<body>

<h1 align="center">TRUST</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#LIST">LIST</a><br>
<a href="#ANCHOR">ANCHOR</a><br>
<a href="#EXTRACT">EXTRACT</a><br>
<a href="#EXTRACT COMPAT">EXTRACT COMPAT</a><br>
<a href="#DUMP">DUMP</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">trust - Tool
for operating on the trust policy store</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p style="margin-top: 1em"><b>trust list</b></p></td>
<td width="74%">
</td></tr>
</table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>trust extract</b>
--filter=&lt;what&gt; --format=&lt;type&gt;
/path/to/destination</p> </td></tr>
</table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="57%">
</td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="57%">


<p style="margin-top: 1em"><b>trust anchor</b>
/path/to/certificate.crt</p> </td>
<td width="32%">
</td></tr>
</table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p style="margin-top: 1em"><b>trust dump</b></p></td>
<td width="74%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>trust</b> is
a command line tool to examine and modify the shared trust
policy store.</p>

<p style="margin-left:11%; margin-top: 1em">See the various
sub commands below. The following global options can be
used:</p>

<p style="margin-left:11%; margin-top: 1em"><b>-v,
--verbose</b></p>

<p style="margin-left:17%;">Run in verbose mode with debug
output.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-q,
--quiet</b></p>

<p style="margin-left:17%;">Run in quiet mode without
warning or failure messages.</p>

<h2>LIST
<a name="LIST"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">List trust
policy store items.</p>

<p style="margin-left:17%; margin-top: 1em">$ trust
list</p>

<p style="margin-left:11%; margin-top: 1em">List
information about the various items in the trust policy
store. Each item is listed with it's PKCS#11 URI and some
descriptive information.</p>

<p style="margin-left:11%; margin-top: 1em">You can specify
the following options to control what to list.</p>


<p style="margin-left:11%; margin-top: 1em"><b>--filter=&lt;what&gt;</b></p>

<p style="margin-left:17%;">Specifies what certificates to
extract. You can specify the following values:</p>


<p style="margin-left:17%; margin-top: 1em"><b>ca-anchors</b></p>

<p style="margin-left:23%;">Certificate anchors</p>


<p style="margin-left:17%; margin-top: 1em"><b>trust-policy</b></p>

<p style="margin-left:23%;">Anchors and blocklist
(default)</p>


<p style="margin-left:17%; margin-top: 1em"><b>blocklist</b></p>

<p style="margin-left:23%;">Distrusted certificates</p>


<p style="margin-left:17%; margin-top: 1em"><b>certificates</b></p>

<p style="margin-left:23%;">All certificates</p>


<p style="margin-left:17%; margin-top: 1em"><b>pkcs11:object=xx</b></p>

<p style="margin-left:23%;">A PKCS#11 URI to filter
with</p>

<p style="margin-left:17%; margin-top: 1em">If an output
format is chosen that cannot support type what has been
specified by the filter, a message will be printed.</p>

<p style="margin-left:17%; margin-top: 1em">None of the
available formats support storage of blocklist entries that
do not contain a full certificate. Thus any certificates
distrusted by their issuer and serial number alone, are not
included in the extracted blocklist.</p>


<p style="margin-left:11%; margin-top: 1em"><b>--purpose=&lt;usage&gt;</b></p>

<p style="margin-left:17%;">Limit to certificates usable
for the given purpose You can specify one of the following
values:</p>


<p style="margin-left:17%; margin-top: 1em"><b>server-auth</b></p>

<p style="margin-left:23%;">For authenticating servers</p>


<p style="margin-left:17%; margin-top: 1em"><b>client-auth</b></p>

<p style="margin-left:23%;">For authenticating clients</p>


<p style="margin-left:17%; margin-top: 1em"><b>email</b></p>

<p style="margin-left:23%;">For email protection</p>


<p style="margin-left:17%; margin-top: 1em"><b>code-signing</b></p>

<p style="margin-left:23%;">For authenticated signed
code</p>


<p style="margin-left:17%; margin-top: 1em"><b>1.2.3.4.5...</b></p>

<p style="margin-left:23%;">An arbitrary purpose OID</p>

<h2>ANCHOR
<a name="ANCHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Store or remove
trust anchors.</p>

<p style="margin-left:17%; margin-top: 1em">$ trust anchor
/path/to/certificate.crt <br>
$ trust anchor --remove /path/to/certificate.crt <br>
$ trust anchor --remove
&quot;pkcs11:id=%AA%BB%CC%DD%EE;type=cert&quot;</p>

<p style="margin-left:11%; margin-top: 1em">Store or remove
trust anchors in the trust policy store. These are usually
root certificate authorities.</p>

<p style="margin-left:11%; margin-top: 1em">Specify either
the <b>--store</b> or <b>--remove</b> operations. If no
operation is specified then <b>--store</b> is assumed.</p>

<p style="margin-left:11%; margin-top: 1em">When storing,
one or more certificate files are expected on the command
line. These are stored as anchors, unless they are already
present.</p>

<p style="margin-left:11%; margin-top: 1em">When removing
an anchor, either specify certificate files or PKCS#11 URI's
on the command line. Matching anchors will be removed.</p>

<p style="margin-left:11%; margin-top: 1em">It may be that
this command needs to be run as root in order to modify the
system trust policy store, if no user specific store is
available.</p>

<p style="margin-left:11%; margin-top: 1em">You can specify
the following options.</p>


<p style="margin-left:11%; margin-top: 1em"><b>--remove</b></p>

<p style="margin-left:17%;">Remove one or more anchors from
the trust policy store. Specify certificate files or PKCS#11
URI's on the command line.</p>


<p style="margin-left:11%; margin-top: 1em"><b>--store</b></p>

<p style="margin-left:17%;">Store one or more anchors to
the trust policy store. Specify certificate files on the
command line.</p>

<h2>EXTRACT
<a name="EXTRACT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Extract trust
policy from the shared trust policy store.</p>

<p style="margin-left:17%; margin-top: 1em">$ trust extract
--format=x509-directory --filter=ca-anchors
/path/to/directory</p>

<p style="margin-left:11%; margin-top: 1em">You can specify
the following options to control what to extract. The
<b>--filter</b> and <b>--format</b> arguments should be
specified. By default this command will not overwrite the
destination file or directory.</p>


<p style="margin-left:11%; margin-top: 1em"><b>--comment</b></p>

<p style="margin-left:17%;">Add identifying comments to PEM
bundle output files before each certificate.</p>


<p style="margin-left:11%; margin-top: 1em"><b>--filter=&lt;what&gt;</b></p>

<p style="margin-left:17%;">Specifies what certificates to
extract. You can specify the following values:</p>


<p style="margin-left:17%; margin-top: 1em"><b>ca-anchors</b></p>

<p style="margin-left:23%;">Certificate anchors
(default)</p>


<p style="margin-left:17%; margin-top: 1em"><b>trust-policy</b></p>

<p style="margin-left:23%;">Anchors and blocklist</p>


<p style="margin-left:17%; margin-top: 1em"><b>blocklist</b></p>

<p style="margin-left:23%;">Distrusted certificates</p>


<p style="margin-left:17%; margin-top: 1em"><b>certificates</b></p>

<p style="margin-left:23%;">All certificates</p>


<p style="margin-left:17%; margin-top: 1em"><b>pkcs11:object=xx</b></p>

<p style="margin-left:23%;">A PKCS#11 URI</p>

<p style="margin-left:17%; margin-top: 1em">If an output
format is chosen that cannot support type what has been
specified by the filter, a message will be printed.</p>

<p style="margin-left:17%; margin-top: 1em">None of the
available formats support storage of blocklist entries that
do not contain a full certificate. Thus any certificates
distrusted by their issuer and serial number alone, are not
included in the extracted blocklist.</p>


<p style="margin-left:11%; margin-top: 1em"><b>--format=&lt;type&gt;</b></p>

<p style="margin-left:17%;">The format of the destination
file or directory. You can specify one of the following
values:</p>


<p style="margin-left:17%; margin-top: 1em"><b>x509-file</b></p>

<p style="margin-left:23%;">DER X.509 certificate file</p>


<p style="margin-left:17%; margin-top: 1em"><b>x509-directory</b></p>

<p style="margin-left:23%;">directory of X.509
certificates</p>


<p style="margin-left:17%; margin-top: 1em"><b>pem-bundle</b></p>

<p style="margin-left:23%;">File containing one or more
certificate PEM blocks</p>


<p style="margin-left:17%; margin-top: 1em"><b>pem-directory</b></p>

<p style="margin-left:23%;">Directory of PEM files each
containing one certificate</p>


<p style="margin-left:17%; margin-top: 1em"><b>pem-directory-hash</b></p>

<p style="margin-left:23%;">Directory of PEM files each
containing one certificate, with hash symlinks</p>


<p style="margin-left:17%; margin-top: 1em"><b>openssl-bundle</b></p>

<p style="margin-left:23%;">OpenSSL specific PEM bundle of
certificates</p>


<p style="margin-left:17%; margin-top: 1em"><b>openssl-directory</b></p>

<p style="margin-left:23%;">Directory of OpenSSL specific
PEM files</p>


<p style="margin-left:17%; margin-top: 1em"><b>java-cacerts</b></p>

<p style="margin-left:23%;">Java keystore 'cacerts'
certificate bundle</p>


<p style="margin-left:11%; margin-top: 1em"><b>--overwrite</b></p>

<p style="margin-left:17%;">Overwrite output file or
directory.</p>


<p style="margin-left:11%; margin-top: 1em"><b>--purpose=&lt;usage&gt;</b></p>

<p style="margin-left:17%;">Limit to certificates usable
for the given purpose You can specify one of the following
values:</p>


<p style="margin-left:17%; margin-top: 1em"><b>server-auth</b></p>

<p style="margin-left:23%;">For authenticating servers</p>


<p style="margin-left:17%; margin-top: 1em"><b>client-auth</b></p>

<p style="margin-left:23%;">For authenticating clients</p>


<p style="margin-left:17%; margin-top: 1em"><b>email</b></p>

<p style="margin-left:23%;">For email protection</p>


<p style="margin-left:17%; margin-top: 1em"><b>code-signing</b></p>

<p style="margin-left:23%;">For authenticated signed
code</p>


<p style="margin-left:17%; margin-top: 1em"><b>1.2.3.4.5...</b></p>

<p style="margin-left:23%;">An arbitrary purpose OID</p>

<h2>EXTRACT COMPAT
<a name="EXTRACT COMPAT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Extract
compatibility trust certificate bundles.</p>

<p style="margin-left:17%; margin-top: 1em">$ trust
extract-compat</p>

<p style="margin-left:11%; margin-top: 1em">OpenSSL, Java
and some versions of GnuTLS cannot currently read trust
information directly from the trust policy store. This
command extracts trust information such as certificate
anchors for use by these libraries.</p>

<p style="margin-left:11%; margin-top: 1em">What this
command does, and where it extracts the files is
distribution or site specific. Packagers or administrators
are expected customize this command.</p>

<h2>DUMP
<a name="DUMP"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Dump PKCS#11
items in the various tokens.</p>

<p style="margin-left:17%; margin-top: 1em">$ trust
dump</p>

<p style="margin-left:11%; margin-top: 1em">Dump
information about the various PKCS#11 items in the tokens.
Each item is dumped with it's PKCS#11 URI and information in
the .p11-kit persistence format.</p>

<p style="margin-left:11%; margin-top: 1em">You can specify
the following options to control what to dump.</p>


<p style="margin-left:11%; margin-top: 1em"><b>--filter=&lt;what&gt;</b></p>

<p style="margin-left:17%;">Specifies what certificates to
extract. You can specify the following values:</p>

<p style="margin-left:17%; margin-top: 1em"><b>all</b></p>

<p style="margin-left:23%;">All objects. This is the
default</p>


<p style="margin-left:17%; margin-top: 1em"><b>pkcs11:object=xx</b></p>

<p style="margin-left:23%;">A PKCS#11 URI to filter
with</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please send bug
reports to either the distribution bug tracker or the
upstream bug tracker at
<b><font color="#0000FF">https://github.com/p11-glue/p11-kit/issues/</font></b><font color="#000000">.</font></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>p11-kit</b>(8)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">An
explanatory document about storing trust policy:</font>
<b><font color="#0000FF">https://p11-glue.github.io/p11-glue/doc/storing-trust-policy/</font></b></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Further
details available in the p11-kit online documentation
at</font>
<b><font color="#0000FF">https://p11-glue.github.io/p11-glue/p11-kit/manual/</font></b><font color="#000000">.</font></p>
<hr>
</body>
</html>
