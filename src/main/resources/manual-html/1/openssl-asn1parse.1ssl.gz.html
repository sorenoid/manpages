<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon Nov  7 04:40:00 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>OPENSSL-ASN1PARSE</title>

</head>
<body>

<h1 align="center">OPENSSL-ASN1PARSE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">openssl-asn1parse
- ASN.1 parsing command</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>openssl
asn1parse</b> [<b>-help</b>] [<b>-inform
<small>DER</small></b> | <b><small>PEM</small></b> ]
[<b>-in</b> <i>filename</i>] [<b>-out</b> <i>filename</i>]
[<b>-noout</b>] [<b>-offset</b> <i>number</i>]
[<b>-length</b> <i>number</i>] [<b>-i</b>] [<b>-oid</b>
<i>filename</i>] [<b>-dump</b>] [<b>-dlimit</b> <i>num</i>]
[<b>-strparse</b> <i>offset</i>] [<b>-genstr</b>
<i>string</i>] [<b>-genconf</b> <i>file</i>]
[<b>-strictpem</b>] [<b>-item</b> <i>name</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This command is
a diagnostic utility that can parse <small>ASN.1</small>
structures. It can also be used to extract data from
<small>ASN.1</small> formatted data.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>-help</b></p>

<p style="margin-left:17%;">Print out a usage message.</p>

<p style="margin-left:11%;"><b>-inform
<small>DER</small></b> | <b><small>PEM</small></b></p>

<p style="margin-left:17%;">The input format; the default
is <b><small>PEM</small></b> . See
<a href="https://man.page/1/openssl-format-options">openssl-format-options(1)</a> for details.</p>

<p style="margin-left:11%;"><b>-in</b> <i>filename</i></p>

<p style="margin-left:17%;">The input file, default is
standard input.</p>

<p style="margin-left:11%;"><b>-out</b> <i>filename</i></p>

<p style="margin-left:17%;">Output file to place the
<small>DER</small> encoded data into. If this option is not
present then no data will be output. This is most useful
when combined with the <b>-strparse</b> option.</p>

<p style="margin-left:11%;"><b>-noout</b></p>

<p style="margin-left:17%;">Don&rsquo;t output the parsed
version of the input file.</p>

<p style="margin-left:11%;"><b>-offset</b>
<i>number</i></p>

<p style="margin-left:17%;">Starting offset to begin
parsing, default is start of file.</p>

<p style="margin-left:11%;"><b>-length</b>
<i>number</i></p>

<p style="margin-left:17%;">Number of bytes to parse,
default is until end of file.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-i</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Indents the output according to the &quot;depth&quot; of
the structures.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-oid</b> <i>filename</i></p>

<p style="margin-left:17%;">A file containing additional
<small>OBJECT</small> IDENTIFIERs (OIDs). The format of this
file is described in the <small>NOTES</small> section
below.</p>

<p style="margin-left:11%;"><b>-dump</b></p>

<p style="margin-left:17%;">Dump unknown data in hex
format.</p>

<p style="margin-left:11%;"><b>-dlimit</b> <i>num</i></p>

<p style="margin-left:17%;">Like <b>-dump</b>, but only the
first <b>num</b> bytes are output.</p>

<p style="margin-left:11%;"><b>-strparse</b>
<i>offset</i></p>

<p style="margin-left:17%;">Parse the contents octets of
the <small>ASN.1</small> object starting at <b>offset</b>.
This option can be used multiple times to &quot;drill
down&quot; into a nested structure.</p>

<p style="margin-left:11%;"><b>-genstr</b> <i>string</i>,
<b>-genconf</b> <i>file</i></p>

<p style="margin-left:17%;">Generate encoded data based on
<i>string</i>, <i>file</i> or both using
<a href="https://man.page/3/ASN1_generate_nconf">ASN1_generate_nconf(3)</a> format. If <i>file</i> only is
present then the string is obtained from the default section
using the name <b>asn1</b>. The encoded data is passed
through the <small>ASN1</small> parser and printed out as
though it came from a file, the contents can thus be
examined and written to a file using the <b>-out</b>
option.</p>

<p style="margin-left:11%;"><b>-strictpem</b></p>

<p style="margin-left:17%;">If this option is used then
<b>-inform</b> will be ignored. Without this option any data
in a <small>PEM</small> format input file will be treated as
being base64 encoded and processed whether it has the normal
<small>PEM BEGIN</small> and <small>END</small> markers or
not. This option will ignore any data prior to the start of
the <small>BEGIN</small> marker, or after an
<small>END</small> marker in a <small>PEM</small> file.</p>

<p style="margin-left:11%;"><b>-item</b> <i>name</i></p>

<p style="margin-left:17%;">Attempt to decode and print the
data as an <b><small>ASN1_ITEM</small></b> <i>name</i>. This
can be used to print out the fields of any supported
<small>ASN.1</small> structure if the type is known.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Output</b>
<br>
The output will typically contain lines like this:</p>

<p style="margin-left:11%; margin-top: 1em">0:d=0 hl=4 l=
681 cons: SEQUENCE</p>

<p style="margin-left:11%; margin-top: 1em">.....</p>

<p style="margin-left:11%; margin-top: 1em">229:d=3 hl=3 l=
141 prim: BIT STRING <br>
373:d=2 hl=3 l= 162 cons: cont [ 3 ] <br>
376:d=3 hl=3 l= 159 cons: SEQUENCE <br>
379:d=4 hl=2 l= 29 cons: SEQUENCE <br>
381:d=5 hl=2 l= 3 prim: OBJECT :X509v3 Subject Key
Identifier <br>
386:d=5 hl=2 l= 22 prim: OCTET STRING <br>
410:d=4 hl=2 l= 112 cons: SEQUENCE <br>
412:d=5 hl=2 l= 3 prim: OBJECT :X509v3 Authority Key
Identifier <br>
417:d=5 hl=2 l= 105 prim: OCTET STRING <br>
524:d=4 hl=2 l= 12 cons: SEQUENCE</p>

<p style="margin-left:11%; margin-top: 1em">.....</p>

<p style="margin-left:11%; margin-top: 1em">This example is
part of a self-signed certificate. Each line starts with the
offset in decimal. &quot;d=XX&quot; specifies the current
depth. The depth is increased within the scope of any
<small>SET</small> or <small>SEQUENCE.</small>
&quot;hl=XX&quot; gives the header length (tag and length
octets) of the current type. &quot;l=XX&quot; gives the
length of the contents octets.</p>

<p style="margin-left:11%; margin-top: 1em">The <b>-i</b>
option can be used to make the output more readable.</p>

<p style="margin-left:11%; margin-top: 1em">Some knowledge
of the <small>ASN.1</small> structure is needed to interpret
the output.</p>

<p style="margin-left:11%; margin-top: 1em">In this example
the <small>BIT STRING</small> at offset 229 is the
certificate public key. The contents octets of this will
contain the public key information. This can be examined
using the option &quot;-strparse 229&quot; to yield:</p>

<p style="margin-left:11%; margin-top: 1em">0:d=0 hl=3 l=
137 cons: SEQUENCE <br>
3:d=1 hl=3 l= 129 prim: INTEGER
:E5D21E1F5C8D208EA7A2166C7FAF9F6BDF2059669C60876DDB70840F1A5AAFA59699FE471F379F1DD6A487E7D5409AB6A88D4A9746E24B91D8CF55DB3521015460C8EDE44EE8A4189F7A7BE77D6CD3A9AF2696F486855CF58BF0EDF2B4068058C7A947F52548DDF7E15E96B385F86422BEA9064A3EE9E1158A56E4A6F47E5897
<br>
135:d=1 hl=2 l= 3 prim: INTEGER :010001</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If an
<small>OID</small> is not part of OpenSSL&rsquo;s internal
table it will be represented in numerical form (for example
1.2.3.4). The file passed to the <b>-oid</b> option allows
additional OIDs to be included. Each line consists of three
columns, the first column is the <small>OID</small> in
numerical format and should be followed by white space. The
second column is the &quot;short name&quot; which is a
single word followed by whitespace. The final column is the
rest of the line and is the &quot;long name&quot;.
Example:</p>

<p style="margin-left:11%; margin-top: 1em">&quot;1.2.3.4
shortName A long name&quot;</p>

<p style="margin-left:11%; margin-top: 1em">For any
<small>OID</small> with an associated short and long name,
this command will display the long name.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Parse a
file:</p>

<p style="margin-left:11%; margin-top: 1em">openssl
asn1parse -in file.pem</p>

<p style="margin-left:11%; margin-top: 1em">Parse a
<small>DER</small> file:</p>

<p style="margin-left:11%; margin-top: 1em">openssl
asn1parse -inform DER -in file.der</p>

<p style="margin-left:11%; margin-top: 1em">Generate a
simple UTF8String:</p>

<p style="margin-left:11%; margin-top: 1em">openssl
asn1parse -genstr 'UTF8:Hello World'</p>

<p style="margin-left:11%; margin-top: 1em">Generate and
write out a UTF8String, don&rsquo;t print parsed output:</p>

<p style="margin-left:11%; margin-top: 1em">openssl
asn1parse -genstr 'UTF8:Hello World' -noout -out
utf8.der</p>

<p style="margin-left:11%; margin-top: 1em">Generate using
a config file:</p>

<p style="margin-left:11%; margin-top: 1em">openssl
asn1parse -genconf asn1.cnf -noout -out asn1.der</p>

<p style="margin-left:11%; margin-top: 1em">Example config
file:</p>


<p style="margin-left:11%; margin-top: 1em">asn1=SEQUENCE:seq_sect
<br>
[seq_sect] <br>
field1=BOOL:TRUE <br>
field2=EXP:0, UTF8:some random string</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There should be
options to change the format of output lines. The output of
some <small>ASN.1</small> types is not well handled (if at
all).</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><a href="https://man.page/1/openssl">openssl(1)</a>,
<a href="https://man.page/3/ASN1_generate_nconf">ASN1_generate_nconf(3)</a></p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
2000-2020 The OpenSSL Project Authors. All Rights
Reserved.</p>

<p style="margin-left:11%; margin-top: 1em">Licensed under
the Apache License 2.0 (the &quot;License&quot;). You may
not use this file except in compliance with the License. You
can obtain a copy in the file <small>LICENSE</small> in the
source distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
<hr>
</body>
</html>
