<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Sat Nov 26 20:37:43 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>MALLOC_TRIM</title>

</head>
<body>

<h1 align="center">MALLOC_TRIM</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#ERRORS">ERRORS</a><br>
<a href="#ATTRIBUTES">ATTRIBUTES</a><br>
<a href="#CONFORMING TO">CONFORMING TO</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COLOPHON">COLOPHON</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">malloc_trim -
release free memory from the heap</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;malloc.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
malloc_trim(size_t</b> <i>pad</i><b>);</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>malloc_trim</b>() function attempts to release free
memory from the heap (by calling <b>sbrk</b>(2) or
<b>madvise</b>(2) with suitable arguments).</p>

<p style="margin-left:11%; margin-top: 1em">The <i>pad</i>
argument specifies the amount of free space to leave
untrimmed at the top of the heap. If this argument is 0,
only the minimum amount of memory is maintained at the top
of the heap (i.e., one page or less). A nonzero argument can
be used to maintain some trailing space at the top of the
heap in order to allow future allocations to be made without
having to extend the heap with <b>sbrk</b>(2).</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>malloc_trim</b>() function returns 1 if memory was
actually released back to the system, or 0 if it was not
possible to release any memory.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">No errors are
defined.</p>

<h2>ATTRIBUTES
<a name="ATTRIBUTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">For an
explanation of the terms used in this section, see
<b>attributes</b>(7).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%"></td>
<td width="7%"></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">
</td>
<td width="8%"></td>
<td width="7%"></td>
<td width="62%">
</td></tr>
</table>


<p align="center"><img src="grohtml-3337221.png" alt="Image grohtml-3337221.png"></p>

<h2>CONFORMING TO
<a name="CONFORMING TO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This function
is a GNU extension.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This function
is automatically called by <b>free</b>(3) in certain
circumstances; see the discussion of <b>M_TOP_PAD</b> and
<b>M_TRIM_THRESHOLD</b> in <b>mallopt</b>(3).</p>

<p style="margin-left:11%; margin-top: 1em">Only the main
heap (using <b>sbrk</b>(2)) honors the <i>pad</i> argument;
thread heaps do not.</p>

<p style="margin-left:11%; margin-top: 1em">Since glibc 2.8
this function frees memory in all arenas and in all chunks
with whole free pages.</p>

<p style="margin-left:11%; margin-top: 1em">Before glibc
2.8 this function only freed memory at the top of the heap
in the main arena.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>sbrk</b>(2),
<b>malloc</b>(3), <b>mallopt</b>(3)</p>

<h2>COLOPHON
<a name="COLOPHON"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This page is
part of release 5.10 of the Linux <i>man-pages</i> project.
A description of the project, information about reporting
bugs, and the latest version of this page, can be found at
https://www.kernel.org/doc/man-pages/.</p>
<hr>
</body>
</html>
