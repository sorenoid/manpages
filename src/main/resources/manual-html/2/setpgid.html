<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Sat Nov 26 20:37:02 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SETPGID</title>

</head>
<body>

<h1 align="center">SETPGID</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#ERRORS">ERRORS</a><br>
<a href="#CONFORMING TO">CONFORMING TO</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COLOPHON">COLOPHON</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">setpgid,
getpgid, setpgrp, getpgrp - set/get process group</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;sys/types.h&gt; <br>
#include &lt;unistd.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
setpgid(pid_t</b> <i>pid</i><b>, pid_t</b> <i>pgid</i><b>);
<br>
pid_t getpgid(pid_t</b> <i>pid</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>pid_t
getpgrp(void);</b> /* POSIX.1 version */ <b><br>
pid_t getpgrp(pid_t</b> <i>pid</i><b>);</b> /* BSD version
*/</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
setpgrp(void);</b> /* System V version */ <b><br>
int setpgrp(pid_t</b> <i>pid</i><b>, pid_t</b>
<i>pgid</i><b>);</b> /* BSD version */</p>

<p style="margin-left:5%; margin-top: 1em">Feature Test
Macro Requirements for glibc (see
<a href="https://man.page/7/feature_test_macros">feature_test_macros(7)</a>):</p>


<p style="margin-left:11%; margin-top: 1em"><b>getpgid</b>():</p>


<p style="margin-left:17%;">_XOPEN_SOURCE&nbsp;&gt;=&nbsp;500
<br>
|| /* Since glibc 2.12: */
_POSIX_C_SOURCE&nbsp;&gt;=&nbsp;200809L</p>


<p style="margin-left:11%; margin-top: 1em"><b>setpgrp</b>()
(POSIX.1): <br>
_XOPEN_SOURCE&nbsp;&gt;=&nbsp;500 <br>
|| /* Since glibc 2.19: */ _DEFAULT_SOURCE <br>
|| /* Glibc versions &lt;= 2.19: */ _SVID_SOURCE</p>


<p style="margin-left:11%; margin-top: 1em"><b>setpgrp</b>()&nbsp;(BSD),
<b>getpgrp</b>()&nbsp;(BSD): <br>
[These are available only before glibc 2.19] <br>
_BSD_SOURCE &amp;&amp; <br>
!&nbsp;(_POSIX_SOURCE || _POSIX_C_SOURCE || _XOPEN_SOURCE ||
<br>
_GNU_SOURCE || _SVID_SOURCE)</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All of these
interfaces are available on Linux, and are used for getting
and setting the process group ID (PGID) of a process. The
preferred, POSIX.1-specified ways of doing this are:
<b>getpgrp</b>(void), for retrieving the calling
process&rsquo;s PGID; and <b>setpgid</b>(), for setting a
process&rsquo;s PGID.</p>


<p style="margin-left:11%; margin-top: 1em"><b>setpgid</b>()
sets the PGID of the process specified by <i>pid</i> to
<i>pgid</i>. If <i>pid</i> is zero, then the process ID of
the calling process is used. If <i>pgid</i> is zero, then
the PGID of the process specified by <i>pid</i> is made the
same as its process ID. If <b>setpgid</b>() is used to move
a process from one process group to another (as is done by
some shells when creating pipelines), both process groups
must be part of the same session (see <a href="https://man.page/2/setsid">setsid(2)</a> and
<a href="https://man.page/7/credentials">credentials(7)</a>). In this case, the <i>pgid</i>
specifies an existing process group to be joined and the
session ID of that group must match the session ID of the
joining process.</p>

<p style="margin-left:11%; margin-top: 1em">The POSIX.1
version of <b>getpgrp</b>(), which takes no arguments,
returns the PGID of the calling process.</p>


<p style="margin-left:11%; margin-top: 1em"><b>getpgid</b>()
returns the PGID of the process specified by <i>pid</i>. If
<i>pid</i> is zero, the process ID of the calling process is
used. (Retrieving the PGID of a process other than the
caller is rarely necessary, and the POSIX.1 <b>getpgrp</b>()
is preferred for that task.)</p>

<p style="margin-left:11%; margin-top: 1em">The
System&nbsp;V-style <b>setpgrp</b>(), which takes no
arguments, is equivalent to <i>setpgid(0,&nbsp;0)</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The
BSD-specific <b>setpgrp</b>() call, which takes arguments
<i>pid</i> and <i>pgid</i>, is a wrapper function that
calls</p>

<p style="margin-left:11%; margin-top: 1em">setpgid(pid,
pgid)</p>

<p style="margin-left:11%; margin-top: 1em">Since glibc
2.19, the BSD-specific <b>setpgrp</b>() function is no
longer exposed by <i>&lt;unistd.h&gt;</i>; calls should be
replaced with the <b>setpgid</b>() call shown above.</p>

<p style="margin-left:11%; margin-top: 1em">The
BSD-specific <b>getpgrp</b>() call, which takes a single
<i>pid</i> argument, is a wrapper function that calls</p>


<p style="margin-left:11%; margin-top: 1em">getpgid(pid)</p>

<p style="margin-left:11%; margin-top: 1em">Since glibc
2.19, the BSD-specific <b>getpgrp</b>() function is no
longer exposed by <i>&lt;unistd.h&gt;</i>; calls should be
replaced with calls to the POSIX.1 <b>getpgrp</b>() which
takes no arguments (if the intent is to obtain the
caller&rsquo;s PGID), or with the <b>getpgid</b>() call
shown above.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On success,
<b>setpgid</b>() and <b>setpgrp</b>() return zero. On error,
-1 is returned, and <i>errno</i> is set appropriately.</p>

<p style="margin-left:11%; margin-top: 1em">The POSIX.1
<b>getpgrp</b>() always returns the PGID of the caller.</p>


<p style="margin-left:11%; margin-top: 1em"><b>getpgid</b>(),
and the BSD-specific <b>getpgrp</b>() return a process group
on success. On error, -1 is returned, and <i>errno</i> is
set appropriately.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>EACCES</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">An attempt was made to change
the process group ID of one of the children of the calling
process and the child had already performed an
<a href="https://man.page/2/execve">execve(2)</a> (<b>setpgid</b>(), <b>setpgrp</b>()).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>EINVAL</b></p></td>
<td width="2%"></td>
<td width="78%">


<p><i>pgid</i> is less than 0 (<b>setpgid</b>(),
<b>setpgrp</b>()).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>EPERM</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>An attempt was made to move a process into a process
group in a different session, or to change the process group
ID of one of the children of the calling process and the
child was in a different session, or to change the process
group ID of a session leader (<b>setpgid</b>(),
<b>setpgrp</b>()).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>ESRCH</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>For <b>getpgid</b>(): <i>pid</i> does not match any
process. For <b>setpgid</b>(): <i>pid</i> is not the calling
process and not a child of the calling process.</p></td></tr>
</table>

<h2>CONFORMING TO
<a name="CONFORMING TO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>setpgid</b>()
and the version of <b>getpgrp</b>() with no arguments
conform to POSIX.1-2001.</p>

<p style="margin-left:11%; margin-top: 1em">POSIX.1-2001
also specifies <b>getpgid</b>() and the version of
<b>setpgrp</b>() that takes no arguments. (POSIX.1-2008
marks this <b>setpgrp</b>() specification as obsolete.)</p>

<p style="margin-left:11%; margin-top: 1em">The version of
<b>getpgrp</b>() with one argument and the version of
<b>setpgrp</b>() that takes two arguments derive from
4.2BSD, and are not specified by POSIX.1.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A child created
via <a href="https://man.page/2/fork">fork(2)</a> inherits its parent&rsquo;s process group
ID. The PGID is preserved across an <a href="https://man.page/2/execve">execve(2)</a>.</p>

<p style="margin-left:11%; margin-top: 1em">Each process
group is a member of a session and each process is a member
of the session of which its process group is a member. (See
<a href="https://man.page/7/credentials">credentials(7)</a>.)</p>

<p style="margin-left:11%; margin-top: 1em">A session can
have a controlling terminal. At any time, one (and only one)
of the process groups in the session can be the foreground
process group for the terminal; the remaining process groups
are in the background. If a signal is generated from the
terminal (e.g., typing the interrupt key to generate
<b>SIGINT</b>), that signal is sent to the foreground
process group. (See <a href="https://man.page/3/termios">termios(3)</a> for a description of
the characters that generate signals.) Only the foreground
process group may <a href="https://man.page/2/read">read(2)</a> from the terminal; if a
background process group tries to <a href="https://man.page/2/read">read(2)</a> from the
terminal, then the group is sent a <b>SIGTTIN</b> signal,
which suspends it. The <a href="https://man.page/3/tcgetpgrp">tcgetpgrp(3)</a> and
<a href="https://man.page/3/tcsetpgrp">tcsetpgrp(3)</a> functions are used to get/set the
foreground process group of the controlling terminal.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>setpgid</b>() and <b>getpgrp</b>() calls are used by
programs such as <a href="https://man.page/1/bash">bash(1)</a> to create process groups in
order to implement shell job control.</p>

<p style="margin-left:11%; margin-top: 1em">If the
termination of a process causes a process group to become
orphaned, and if any member of the newly orphaned process
group is stopped, then a <b>SIGHUP</b> signal followed by a
<b>SIGCONT</b> signal will be sent to each process in the
newly orphaned process group. An orphaned process group is
one in which the parent of every member of process group is
either itself also a member of the process group or is a
member of a process group in a different session (see also
<a href="https://man.page/7/credentials">credentials(7)</a>).</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><a href="https://man.page/2/getuid">getuid(2)</a>,
<a href="https://man.page/2/setsid">setsid(2)</a>, <a href="https://man.page/3/tcgetpgrp">tcgetpgrp(3)</a>, <a href="https://man.page/3/tcsetpgrp">tcsetpgrp(3)</a>,
<a href="https://man.page/3/termios">termios(3)</a>, <a href="https://man.page/7/credentials">credentials(7)</a></p>

<h2>COLOPHON
<a name="COLOPHON"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This page is
part of release 5.10 of the Linux <i>man-pages</i> project.
A description of the project, information about reporting
bugs, and the latest version of this page, can be found at
https://www.kernel.org/doc/man-pages/.</p>
<hr>
</body>
</html>
