<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Sat Nov 26 20:39:37 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SESSION-KEYRING</title>

</head>
<body>

<h1 align="center">SESSION-KEYRING</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COLOPHON">COLOPHON</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">session-keyring
- session shared process keyring</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The session
keyring is a keyring used to anchor keys on behalf of a
process. It is typically created by <b>pam_keyinit</b>(8)
when a user logs in and a link will be added that refers to
the <a href="https://man.page/7/user-keyring">user-keyring(7)</a>. Optionally, PAM may revoke the
session keyring on logout. (In typical configurations, PAM
does do this revocation.) The session keyring has the name
(description) <i>_ses</i>.</p>

<p style="margin-left:11%; margin-top: 1em">A special
serial number value, <b>KEY_SPEC_SESSION_KEYRING</b>, is
defined that can be used in lieu of the actual serial number
of the calling process&rsquo;s session keyring.</p>

<p style="margin-left:11%; margin-top: 1em">From the
<a href="https://man.page/1/keyctl">keyctl(1)</a> utility, &rsquo;<b>@s</b>&rsquo; can be
used instead of a numeric key ID in much the same way.</p>

<p style="margin-left:11%; margin-top: 1em">A
process&rsquo;s session keyring is inherited across
<a href="https://man.page/2/clone">clone(2)</a>, <a href="https://man.page/2/fork">fork(2)</a>, and <a href="https://man.page/2/vfork">vfork(2)</a>. The
session keyring is preserved across <a href="https://man.page/2/execve">execve(2)</a>, even
when the executable is set-user-ID or set-group-ID or has
capabilities. The session keyring is destroyed when the last
process that refers to it exits.</p>

<p style="margin-left:11%; margin-top: 1em">If a process
doesn&rsquo;t have a session keyring when it is accessed,
then, under certain circumstances, the
<a href="https://man.page/7/user-session-keyring">user-session-keyring(7)</a> will be attached as the
session keyring and under others a new session keyring will
be created. (See <a href="https://man.page/7/user-session-keyring">user-session-keyring(7)</a> for further
details.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Special
operations</b> <br>
The <i>keyutils</i> library provides the following special
operations for manipulating session keyrings: <b><br>
keyctl_join_session_keyring</b>(3)</p>

<p style="margin-left:22%;">This operation allows the
caller to change the session keyring that it subscribes to.
The caller can join an existing keyring with a specified
name (description), create a new keyring with a given name,
or ask the kernel to create a new &quot;anonymous&quot;
session keyring with the name &quot;_ses&quot;. (This
function is an interface to the <a href="https://man.page/2/keyctl">keyctl(2)</a>
<b>KEYCTL_JOIN_SESSION_KEYRING</b> operation.)</p>


<p style="margin-left:11%;"><a href="https://man.page/3/keyctl_session_to_parent">keyctl_session_to_parent(3)</a></p>

<p style="margin-left:22%;">This operation allows the
caller to make the parent process&rsquo;s session keyring to
the same as its own. For this to succeed, the parent process
must have identical security attributes and must be single
threaded. (This function is an interface to the
<a href="https://man.page/2/keyctl">keyctl(2)</a> <b>KEYCTL_SESSION_TO_PARENT</b>
operation.)</p>

<p style="margin-left:11%; margin-top: 1em">These
operations are also exposed through the <a href="https://man.page/1/keyctl">keyctl(1)</a>
utility as:</p>

<p style="margin-left:17%; margin-top: 1em">keyctl session
<br>
keyctl session - [&lt;prog&gt; &lt;arg1&gt; &lt;arg2&gt;
...] <br>
keyctl session &lt;name&gt; [&lt;prog&gt; &lt;arg1&gt;
&lt;arg2&gt; ...]</p>

<p style="margin-left:11%; margin-top: 1em">and:</p>

<p style="margin-left:17%; margin-top: 1em">keyctl
new_session</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><a href="https://man.page/1/keyctl">keyctl(1)</a>,
<a href="https://man.page/3/keyctl">keyctl(3)</a>, <a href="https://man.page/3/keyctl_join_session_keyring">keyctl_join_session_keyring(3)</a>,
<a href="https://man.page/3/keyctl_session_to_parent">keyctl_session_to_parent(3)</a>, <a href="https://man.page/7/keyrings">keyrings(7)</a>,
<a href="https://man.page/7/persistent-keyring">persistent-keyring(7)</a>, <a href="https://man.page/7/process-keyring">process-keyring(7)</a>,
<a href="https://man.page/7/thread-keyring">thread-keyring(7)</a>, <a href="https://man.page/7/user-keyring">user-keyring(7)</a>,
<a href="https://man.page/7/user-session-keyring">user-session-keyring(7)</a>, <b>pam_keyinit</b>(8)</p>

<h2>COLOPHON
<a name="COLOPHON"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This page is
part of release 5.10 of the Linux <i>man-pages</i> project.
A description of the project, information about reporting
bugs, and the latest version of this page, can be found at
https://www.kernel.org/doc/man-pages/.</p>
<hr>
</body>
</html>
