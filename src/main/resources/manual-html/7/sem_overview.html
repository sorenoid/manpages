<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Sat Nov 26 20:39:35 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SEM_OVERVIEW</title>

</head>
<body>

<h1 align="center">SEM_OVERVIEW</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COLOPHON">COLOPHON</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">sem_overview -
overview of POSIX semaphores</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">POSIX
semaphores allow processes and threads to synchronize their
actions.</p>

<p style="margin-left:11%; margin-top: 1em">A semaphore is
an integer whose value is never allowed to fall below zero.
Two operations can be performed on semaphores: increment the
semaphore value by one (<a href="https://man.page/3/sem_post">sem_post(3)</a>); and decrement
the semaphore value by one (<a href="https://man.page/3/sem_wait">sem_wait(3)</a>). If the
value of a semaphore is currently zero, then a
<a href="https://man.page/3/sem_wait">sem_wait(3)</a> operation will block until the value
becomes greater than zero.</p>

<p style="margin-left:11%; margin-top: 1em">POSIX
semaphores come in two forms: named semaphores and unnamed
semaphores. <b><br>
Named semaphores</b></p>

<p style="margin-left:22%;">A named semaphore is identified
by a name of the form <i>/somename</i>; that is, a
null-terminated string of up to <b>NAME_MAX</b><i>-4</i>
(i.e., 251) characters consisting of an initial slash,
followed by one or more characters, none of which are
slashes. Two processes can operate on the same named
semaphore by passing the same name to
<a href="https://man.page/3/sem_open">sem_open(3)</a>.</p>

<p style="margin-left:22%; margin-top: 1em">The
<a href="https://man.page/3/sem_open">sem_open(3)</a> function creates a new named semaphore or
opens an existing named semaphore. After the semaphore has
been opened, it can be operated on using <a href="https://man.page/3/sem_post">sem_post(3)</a>
and <a href="https://man.page/3/sem_wait">sem_wait(3)</a>. When a process has finished using
the semaphore, it can use <a href="https://man.page/3/sem_close">sem_close(3)</a> to close the
semaphore. When all processes have finished using the
semaphore, it can be removed from the system using
<a href="https://man.page/3/sem_unlink">sem_unlink(3)</a>.</p>

<p style="margin-left:11%;"><b>Unnamed semaphores
(memory-based semaphores)</b></p>

<p style="margin-left:22%;">An unnamed semaphore does not
have a name. Instead the semaphore is placed in a region of
memory that is shared between multiple threads (a
<i>thread-shared semaphore</i>) or processes (a
<i>process-shared semaphore</i>). A thread-shared semaphore
is placed in an area of memory shared between the threads of
a process, for example, a global variable. A process-shared
semaphore must be placed in a shared memory region (e.g., a
System V shared memory segment created using
<a href="https://man.page/2/shmget">shmget(2)</a>, or a POSIX shared memory object built
created using <a href="https://man.page/3/shm_open">shm_open(3)</a>).</p>

<p style="margin-left:22%; margin-top: 1em">Before being
used, an unnamed semaphore must be initialized using
<a href="https://man.page/3/sem_init">sem_init(3)</a>. It can then be operated on using
<a href="https://man.page/3/sem_post">sem_post(3)</a> and <a href="https://man.page/3/sem_wait">sem_wait(3)</a>. When the
semaphore is no longer required, and before the memory in
which it is located is deallocated, the semaphore should be
destroyed using <a href="https://man.page/3/sem_destroy">sem_destroy(3)</a>.</p>

<p style="margin-left:11%; margin-top: 1em">The remainder
of this section describes some specific details of the Linux
implementation of POSIX semaphores.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Versions</b>
<br>
Prior to kernel 2.6, Linux supported only unnamed,
thread-shared semaphores. On a system with Linux 2.6 and a
glibc that provides the NPTL threading implementation, a
complete implementation of POSIX semaphores is provided.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Persistence</b>
<br>
POSIX named semaphores have kernel persistence: if not
removed by <a href="https://man.page/3/sem_unlink">sem_unlink(3)</a>, a semaphore will exist
until the system is shut down.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Linking</b>
<br>
Programs using the POSIX semaphores API must be compiled
with <i>cc -pthread</i> to link against the real-time
library, <i>librt</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Accessing
named semaphores via the filesystem</b> <br>
On Linux, named semaphores are created in a virtual
filesystem, normally mounted under <i>/dev/shm</i>, with
names of the form <b>sem.</b><i>somename</i>. (This is the
reason that semaphore names are limited to
<b>NAME_MAX</b><i>-4</i> rather than <b>NAME_MAX</b>
characters.)</p>

<p style="margin-left:11%; margin-top: 1em">Since Linux
2.6.19, ACLs can be placed on files under this directory, to
control object permissions on a per-user and per-group
basis.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">System V
semaphores (<a href="https://man.page/2/semget">semget(2)</a>, <a href="https://man.page/2/semop">semop(2)</a>, etc.) are an
older semaphore API. POSIX semaphores provide a simpler, and
better designed interface than System V semaphores; on the
other hand POSIX semaphores are less widely available
(especially on older systems) than System V semaphores.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">An example of
the use of various POSIX semaphore functions is shown in
<a href="https://man.page/3/sem_wait">sem_wait(3)</a>.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><a href="https://man.page/3/sem_close">sem_close(3)</a>,
<a href="https://man.page/3/sem_destroy">sem_destroy(3)</a>, <a href="https://man.page/3/sem_getvalue">sem_getvalue(3)</a>,
<a href="https://man.page/3/sem_init">sem_init(3)</a>, <a href="https://man.page/3/sem_open">sem_open(3)</a>, <a href="https://man.page/3/sem_post">sem_post(3)</a>,
<a href="https://man.page/3/sem_unlink">sem_unlink(3)</a>, <a href="https://man.page/3/sem_wait">sem_wait(3)</a>,
<a href="https://man.page/7/pthreads">pthreads(7)</a>, <a href="https://man.page/7/shm_overview">shm_overview(7)</a></p>

<h2>COLOPHON
<a name="COLOPHON"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This page is
part of release 5.10 of the Linux <i>man-pages</i> project.
A description of the project, information about reporting
bugs, and the latest version of this page, can be found at
https://www.kernel.org/doc/man-pages/.</p>
<hr>
</body>
</html>
