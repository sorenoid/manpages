<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Sat Nov 26 20:39:35 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>OSSL_PROVIDER-FIPS</title>

</head>
<body>

<h1 align="center">OSSL_PROVIDER-FIPS</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPERATIONS AND ALGORITHMS">OPERATIONS AND ALGORITHMS</a><br>
<a href="#SELF TESTING">SELF TESTING</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#HISTORY">HISTORY</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">OSSL_PROVIDER-FIPS
- OpenSSL FIPS provider</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The OpenSSL
<small>FIPS</small> provider is a special provider that
conforms to the Federal Information Processing Standards (
<small>FIPS</small> ) specified in <small>FIPS
140-2.</small> This &rsquo;module&rsquo; contains an
approved set of cryptographic algorithms that is validated
by an accredited testing laboratory.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Properties</b>
<br>
The implementations in this provider specifically have these
properties defined: <br>
&quot;provider=fips&quot; <br>
&quot;fips=yes&quot;</p>

<p style="margin-left:11%; margin-top: 1em">It may be used
in a property query string with fetching functions such as
<a href="https://man.page/3/EVP_MD_fetch">EVP_MD_fetch(3)</a> or <a href="https://man.page/3/EVP_CIPHER_fetch">EVP_CIPHER_fetch(3)</a>, as
well as with other functions that take a property query
string, such as <a href="https://man.page/3/EVP_PKEY_CTX_new_from_name">EVP_PKEY_CTX_new_from_name(3)</a>.</p>

<p style="margin-left:11%; margin-top: 1em">It isn&rsquo;t
mandatory to query for any of these properties, except to
make sure to get implementations of this provider and none
other.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;fips=yes&quot; property can be use to make sure only
<small>FIPS</small> approved implementations are used for
crypto operations. This may also include other non-crypto
support operations that are not in the fips provider, such
as asymmetric key encoders, see &quot;Asymmetric Key
Management&quot; in <a href="https://man.page/7/OSSL_PROVIDER-default">OSSL_PROVIDER-default(7)</a>.</p>

<h2>OPERATIONS AND ALGORITHMS
<a name="OPERATIONS AND ALGORITHMS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The OpenSSL
<small>FIPS</small> provider supports these operations and
algorithms:</p>

<p style="margin-left:11%; margin-top: 1em"><b>Hashing
Algorithms / Message Digests</b> <small><br>
SHA1,</small> see <b><small>EVP_MD-SHA1</small></b> (7)
<small><br>
SHA2,</small> see <b><small>EVP_MD-SHA2</small></b> (7)
<small><br>
SHA3,</small> see <b><small>EVP_MD-SHA3</small></b> (7) <br>
KECCAK-KMAC, see <b><small>EVP_MD-KECCAK-KMAC</small></b>
(7)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Symmetric
Ciphers</b> <small><br>
AES,</small> see <b><small>EVP_CIPHER-AES</small></b> (7)
<small><br>
DES-EDE3</small> (TripleDES), see
<b><small>EVP_CIPHER-DES</small></b> (7)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Message
Authentication Code ( <small>MAC</small> )</b> <small><br>
CMAC,</small> see <b><small>EVP_MAC-CMAC</small></b> (7)
<small><br>
GMAC,</small> see <b><small>EVP_MAC-GMAC</small></b> (7)
<small><br>
HMAC,</small> see <b><small>EVP_MAC-HMAC</small></b> (7)
<small><br>
KMAC,</small> see <b><small>EVP_MAC-KMAC</small></b> (7)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Key
Derivation Function ( <small>KDF</small> )</b> <small><br>
HKDF,</small> see <b><small>EVP_KDF-HKDF</small></b> (7)
<small><br>
TLS13-KDF,</small> see
<b><small>EVP_KDF-TLS13_KDF</small></b> (7) <small><br>
SSKDF,</small> see <b><small>EVP_KDF-SSKDF</small></b> (7)
<small><br>
PBKDF2,</small> see <b><small>EVP_KDF-PBKDF2</small></b> (7)
<small><br>
SSHKDF,</small> see <b><small>EVP_KDF-SSHKDF</small></b> (7)
<small><br>
TLS1-PRF,</small> see <b><small>EVP_KDF-TLS1_PRF</small></b>
(7) <small><br>
KBKDF,</small> see <b><small>EVP_KDF-KBKDF</small></b> (7)
<br>
X942KDF-ASN1, see <b><small>EVP_KDF-X942-ASN1</small></b>
(7) <br>
X942KDF-CONCAT, see
<b><small>EVP_KDF-X942-CONCAT</small></b> (7) <br>
X963KDF, see <b><small>EVP_KDF-X963</small></b> (7)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Key
Exchange</b> <small><br>
DH,</small> see <b><small>EVP_KEYEXCH-DH</small></b> (7)
<small><br>
ECDH,</small> see <b><small>EVP_KEYEXCH-ECDH</small></b> (7)
<br>
X25519, see <b><small>EVP_KEYEXCH-X25519</small></b> (7)
<br>
X448, see <b><small>EVP_KEYEXCH-X448</small></b> (7)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Asymmetric
Signature</b> <small><br>
DSA,</small> see <b><small>EVP_KEYEXCH-DSA</small></b> (7)
<small><br>
RSA,</small> see <b><small>EVP_SIGNATURE-RSA</small></b> (7)
<br>
X25519, see <b><small>EVP_SIGNATURE-ED25519</small></b> (7)
<br>
X448, see <b><small>EVP_SIGNATURE-ED448</small></b> (7)
<small><br>
HMAC,</small> see <b><small>EVP_SIGNATURE-HMAC</small></b>
(7) <small><br>
CMAC,</small> see <b><small>EVP_SIGNATURE-CMAC</small></b>
(7)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Asymmetric
Cipher</b> <small><br>
RSA,</small> see <b><small>EVP_KEYEXCH-RSA</small></b>
(7)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Asymmetric
Key Encapsulation</b> <small><br>
RSA,</small> see <b><small>EVP_KEM-RSA</small></b> (7)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Asymmetric
Key Management</b> <small><br>
DH,</small> see <b><small>EVP_KEYMGMT-DH</small></b> (7)
<small><br>
DSA,</small> see <b><small>EVP_KEYMGMT-DSA</small></b> (7)
<small><br>
RSA,</small> see <b><small>EVP_KEYMGMT-RSA</small></b>
(7)</p>

<h2>SELF TESTING
<a name="SELF TESTING"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">One of the
requirements for the <small>FIPS</small> module is self
testing. An optional callback mechanism is available to
return information to the user using
<a href="https://man.page/3/OSSL_SELF_TEST_set_callback">OSSL_SELF_TEST_set_callback(3)</a>.</p>

<p style="margin-left:11%; margin-top: 1em">The parameters
passed to the callback are described in
<a href="https://man.page/3/OSSL_SELF_TEST_new">OSSL_SELF_TEST_new(3)</a></p>

<p style="margin-left:11%; margin-top: 1em">The OpenSSL
<small>FIPS</small> module uses the following mechanism to
provide information about the self tests as they run. This
is useful for debugging if a self test is failing. The
callback also allows forcing any self test to fail, in order
to check that it operates correctly on failure. Note that
all self tests run even if a self test failure occurs.</p>

<p style="margin-left:11%; margin-top: 1em">The
<small>FIPS</small> module passes the following type(s) to
<b>OSSL_SELF_TEST_onbegin()</b>. <br>
&quot;Module_Integrity&quot; (
<b><small>OSSL_SELF_TEST_TYPE_MODULE_INTEGRITY</small></b>
)</p>

<p style="margin-left:17%;">Uses <small>HMAC SHA256</small>
on the module file to validate that the module has not been
modified. The integrity value is compared to a value written
to a configuration file during installation.</p>

<p style="margin-left:11%;">&quot;Install_Integrity&quot; (
<b><small>OSSL_SELF_TEST_TYPE_INSTALL_INTEGRITY</small></b>
)</p>

<p style="margin-left:17%;">Uses <small>HMAC SHA256</small>
on a fixed string to validate that the installation process
has already been performed and the self test
<small>KATS</small> have already been tested, The integrity
value is compared to a value written to a configuration file
after successfully running the self tests during
installation.</p>

<p style="margin-left:11%;">&quot;KAT_Cipher&quot; (
<b><small>OSSL_SELF_TEST_TYPE_KAT_CIPHER</small></b> )</p>

<p style="margin-left:17%;">Known answer test for a
symmetric cipher.</p>


<p style="margin-left:11%;">&quot;KAT_AsymmetricCipher&quot;
( <b><small>OSSL_SELF_TEST_TYPE_KAT_ASYM_CIPHER</small></b>
)</p>

<p style="margin-left:17%;">Known answer test for a
asymmetric cipher.</p>

<p style="margin-left:11%;">&quot;KAT_Digest&quot; (
<b><small>OSSL_SELF_TEST_TYPE_KAT_DIGEST</small></b> )</p>

<p style="margin-left:17%;">Known answer test for a
digest.</p>

<p style="margin-left:11%;">&quot;KAT_Signature&quot; (
<b><small>OSSL_SELF_TEST_TYPE_KAT_SIGNATURE</small></b>
)</p>

<p style="margin-left:17%;">Known answer test for a
signature.</p>

<p style="margin-left:11%;">&quot;PCT_Signature&quot; (
<b><small>OSSL_SELF_TEST_TYPE_PCT_SIGNATURE</small></b>
)</p>

<p style="margin-left:17%;">Pairwise Consistency check for
a signature.</p>

<p style="margin-left:11%;">&quot;
<small>KAT_KDF&quot;</small> (
<b><small>OSSL_SELF_TEST_TYPE_KAT_KDF</small></b> )</p>

<p style="margin-left:17%;">Known answer test for a key
derivation function.</p>

<p style="margin-left:11%;">&quot;
<small>KAT_KA&quot;</small> (
<b><small>OSSL_SELF_TEST_TYPE_KAT_KA</small></b> )</p>

<p style="margin-left:17%;">Known answer test for key
agreement.</p>

<p style="margin-left:11%;">&quot;
<small>DRBG&quot;</small> (
<b><small>OSSL_SELF_TEST_TYPE_DRBG</small></b> )</p>

<p style="margin-left:17%;">Known answer test for a
Deterministic Random Bit Generator.</p>

<p style="margin-left:11%;">&quot;Conditional_PCT&quot; (
<b><small>OSSL_SELF_TEST_TYPE_PCT</small></b> )</p>

<p style="margin-left:17%;">Conditional test that is run
during the generation of key pairs.</p>


<p style="margin-left:11%;">&quot;Continuous_RNG_Test&quot;
( <b><small>OSSL_SELF_TEST_TYPE_CRNG</small></b> )</p>

<p style="margin-left:17%;">Continuous random number
generator test.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;Module_Integrity&quot; self test is always run at
startup. The &quot;Install_Integrity&quot; self test is used
to check if the self tests have already been run at
installation time. If they have already run then the self
tests are not run on subsequent startups. All other self
test categories are run once at installation time, except
for the &quot;Pairwise_Consistency_Test&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">There is only
one instance of the &quot;Module_Integrity&quot; and
&quot;Install_Integrity&quot; self tests. All other self
tests may have multiple instances.</p>

<p style="margin-left:11%; margin-top: 1em">The
<small>FIPS</small> module passes the following
descriptions(s) to <b>OSSL_SELF_TEST_onbegin()</b>. <br>
&quot; <small>HMAC&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_INTEGRITY_HMAC</small></b>
)</p>

<p style="margin-left:17%;">&quot;Module_Integrity&quot;
and &quot;Install_Integrity&quot; use this.</p>

<p style="margin-left:11%;">&quot; <small>RSA&quot;</small>
( <b><small>OSSL_SELF_TEST_DESC_PCT_RSA_PKCS1</small></b> )
<br>
&quot; <small>ECDSA&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_PCT_ECDSA</small></b> ) <br>
&quot; <small>DSA&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_PCT_DSA</small></b> )</p>

<p style="margin-left:17%;">Key generation tests used with
the &quot;Pairwise_Consistency_Test&quot; type.</p>

<p style="margin-left:11%;">&quot;RSA_Encrypt&quot; (
<b><small>OSSL_SELF_TEST_DESC_ASYM_RSA_ENC</small></b> )
<br>
&quot;RSA_Decrypt&quot; (
<b><small>OSSL_SELF_TEST_DESC_ASYM_RSA_DEC</small></b> )</p>


<p style="margin-left:17%;">&quot;KAT_AsymmetricCipher&quot;
uses this to indicate an encrypt or decrypt
<small>KAT.</small></p>

<p style="margin-left:11%;">&quot;
<small>AES_GCM&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_CIPHER_AES_GCM</small></b> )
<br>
&quot;AES_ECB_Decrypt&quot; (
<b><small>OSSL_SELF_TEST_DESC_CIPHER_AES_ECB</small></b> )
<br>
&quot; <small>TDES&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_CIPHER_TDES</small></b> )</p>

<p style="margin-left:17%;">Symmetric cipher tests used
with the &quot;KAT_Cipher&quot; type.</p>

<p style="margin-left:11%;">&quot;
<small>SHA1&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_MD_SHA1</small></b> ) <br>
&quot; <small>SHA2&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_MD_SHA2</small></b> ) <br>
&quot; <small>SHA3&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_MD_SHA3</small></b> )</p>

<p style="margin-left:17%;">Digest tests used with the
&quot;KAT_Digest&quot; type.</p>

<p style="margin-left:11%;">&quot; <small>DSA&quot;</small>
( <b><small>OSSL_SELF_TEST_DESC_SIGN_DSA</small></b> ) <br>
&quot; <small>RSA&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_SIGN_RSA</small></b> ) <br>
&quot; <small>ECDSA&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_SIGN_ECDSA</small></b> )</p>

<p style="margin-left:17%;">Signature tests used with the
&quot;KAT_Signature&quot; type.</p>

<p style="margin-left:11%;">&quot;
<small>ECDH&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_KA_ECDH</small></b> ) <br>
&quot; <small>DH&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_KA_DH</small></b> )</p>

<p style="margin-left:17%;">Key agreement tests used with
the &quot; <small>KAT_KA&quot;</small> type.</p>

<p style="margin-left:11%;">&quot;
<small>HKDF&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_KDF_HKDF</small></b> ) <br>
&quot; <small>TLS13_KDF_EXTRACT&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_KDF_TLS13_EXTRACT</small></b>
) <br>
&quot; <small>TLS13_KDF_EXPAND&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_KDF_TLS13_EXPAND</small></b> )
<br>
&quot; <small>SSKDF&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_KDF_SSKDF</small></b> ) <br>
&quot;X963KDF&quot; (
<b><small>OSSL_SELF_TEST_DESC_KDF_X963KDF</small></b> ) <br>
&quot;X942KDF&quot; (
<b><small>OSSL_SELF_TEST_DESC_KDF_X942KDF</small></b> ) <br>
&quot; <small>PBKDF2&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_KDF_PBKDF2</small></b> ) <br>
&quot; <small>SSHKDF&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_KDF_SSHKDF</small></b> ) <br>
&quot; <small>TLS12_PRF&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_KDF_TLS12_PRF</small></b> )
<br>
&quot; <small>KBKDF&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_KDF_KBKDF</small></b> )</p>

<p style="margin-left:17%;">Key Derivation Function tests
used with the &quot; <small>KAT_KDF&quot;</small> type.</p>

<p style="margin-left:11%;">&quot; <small>CTR&quot;</small>
( <b><small>OSSL_SELF_TEST_DESC_DRBG_CTR</small></b> ) <br>
&quot; <small>HASH&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_DRBG_HASH</small></b> ) <br>
&quot; <small>HMAC&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_DRBG_HMAC</small></b> )</p>

<p style="margin-left:17%;"><small>DRBG</small> tests used
with the &quot; <small>DRBG&quot;</small> type.</p>

<p style="margin-left:17%; margin-top: 1em">= item &quot;
<small>RNG&quot;</small> (
<b><small>OSSL_SELF_TEST_DESC_RNG</small></b> )</p>


<p style="margin-left:17%; margin-top: 1em">&quot;Continuous_RNG_Test&quot;
uses this.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A simple self
test callback is shown below for illustrative purposes.</p>

<p style="margin-left:11%; margin-top: 1em">#include
&lt;openssl/self_test.h&gt; <br>
static OSSL_CALLBACK self_test_cb; <br>
static int self_test_cb(const OSSL_PARAM params[], void
*arg) <br>
{ <br>
int ret = 0; <br>
const OSSL_PARAM *p = NULL; <br>
const char *phase = NULL, *type = NULL, *desc = NULL; <br>
p = OSSL_PARAM_locate_const(params,
OSSL_PROV_PARAM_SELF_TEST_PHASE); <br>
if (p == NULL || p-&gt;data_type != OSSL_PARAM_UTF8_STRING)
<br>
goto err; <br>
phase = (const char *)p-&gt;data; <br>
p = OSSL_PARAM_locate_const(params,
OSSL_PROV_PARAM_SELF_TEST_DESC); <br>
if (p == NULL || p-&gt;data_type != OSSL_PARAM_UTF8_STRING)
<br>
goto err; <br>
desc = (const char *)p-&gt;data; <br>
p = OSSL_PARAM_locate_const(params,
OSSL_PROV_PARAM_SELF_TEST_TYPE); <br>
if (p == NULL || p-&gt;data_type != OSSL_PARAM_UTF8_STRING)
<br>
goto err; <br>
type = (const char *)p-&gt;data; <br>
/* Do some logging */ <br>
if (strcmp(phase, OSSL_SELF_TEST_PHASE_START) == 0) <br>
BIO_printf(bio_out, &quot;%s : (%s) : &quot;, desc, type);
<br>
if (strcmp(phase, OSSL_SELF_TEST_PHASE_PASS) == 0 <br>
|| strcmp(phase, OSSL_SELF_TEST_PHASE_FAIL) == 0) <br>
BIO_printf(bio_out, &quot;%s\n&quot;, phase); <br>
/* Corrupt the SHA1 self test during the 'corrupt' phase by
returning 0 */ <br>
if (strcmp(phase, OSSL_SELF_TEST_PHASE_CORRUPT) == 0 <br>
&amp;&amp; strcmp(desc, OSSL_SELF_TEST_DESC_MD_SHA1) == 0) {
<br>
BIO_printf(bio_out, &quot;%s %s&quot;, phase, desc); <br>
return 0; <br>
} <br>
ret = 1; <br>
err: <br>
return ret; <br>
}</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><a href="https://man.page/1/openssl-fipsinstall">openssl-fipsinstall(1)</a>,
<a href="https://man.page/5/fips_config">fips_config(5)</a>,
<a href="https://man.page/3/OSSL_SELF_TEST_set_callback">OSSL_SELF_TEST_set_callback(3)</a>,
<a href="https://man.page/3/OSSL_SELF_TEST_new">OSSL_SELF_TEST_new(3)</a>,
<b><small>OSSL_PARAM</small></b> (3),
<b>openssl-core.h</b>(7), <b>openssl-core_dispatch.h</b>(7),
<a href="https://man.page/7/provider">provider(7)</a></p>

<h2>HISTORY
<a name="HISTORY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The type and
functions described here were added in OpenSSL 3.0.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
2019-2021 The OpenSSL Project Authors. All Rights
Reserved.</p>

<p style="margin-left:11%; margin-top: 1em">Licensed under
the Apache License 2.0 (the &quot;License&quot;). You may
not use this file except in compliance with the License. You
can obtain a copy in the file <small>LICENSE</small> in the
source distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
<hr>
</body>
</html>
